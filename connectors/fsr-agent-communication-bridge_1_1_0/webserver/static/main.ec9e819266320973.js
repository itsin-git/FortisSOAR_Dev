var M7e=Object.defineProperty,N7e=(Li,br,fo)=>br in Li?M7e(Li,br,{enumerable:!0,configurable:!0,writable:!0,value:fo}):Li[br]=fo,E5=(Li,br,fo)=>(N7e(Li,"symbol"!=typeof br?br+"":br,fo),fo);(self.webpackChunkmanual_input=self.webpackChunkmanual_input||[]).push([[179],{575:(Li,br,fo)=>{"use strict";function kn(n){return"function"==typeof n}function me(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const k=me(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ue(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class we{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(kn(r))try{r()}catch(o){e=o instanceof k?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{fe(o)}catch(s){e=e??[],s instanceof k?e=[...e,...s.errors]:e.push(s)}}if(e)throw new k(e)}}add(e){var t;if(e&&e!==this)if(this.closed)fe(e);else{if(e instanceof we){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ue(t,e)}remove(e){const{_finalizers:t}=this;t&&ue(t,e),e instanceof we&&e._removeParent(this)}}we.EMPTY=(()=>{const n=new we;return n.closed=!0,n})();const V=we.EMPTY;function ne(n){return n instanceof we||n&&"closed"in n&&kn(n.remove)&&kn(n.add)&&kn(n.unsubscribe)}function fe(n){kn(n)?n():n.unsubscribe()}const he={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ye={setTimeout(n,e,...t){const{delegate:r}=ye;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ye;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function oe(n){ye.setTimeout(()=>{const{onUnhandledError:e}=he;if(!e)throw n;e(n)})}function J(){}const B=O("C",void 0,void 0);function O(n,e,t){return{kind:n,value:e,error:t}}let D=null;function _(n){if(he.useDeprecatedSynchronousErrorHandling){const e=!D;if(e&&(D={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=D;if(D=null,t)throw r}}else n()}class C extends we{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ne(e)&&e.add(this)):this.destination=v}static create(e,t,r){return new g(e,t,r)}next(e){this.isStopped?d(function Z(n){return O("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?d(function M(n){return O("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?d(B,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const f=Function.prototype.bind;function m(n,e){return f.call(n,e)}class p{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){y(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){y(r)}else y(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){y(t)}}}class g extends C{constructor(e,t,r){let i;if(super(),kn(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&he.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&m(e.next,o),error:e.error&&m(e.error,o),complete:e.complete&&m(e.complete,o)}):i=e}this.destination=new p(i)}}function y(n){he.useDeprecatedSynchronousErrorHandling?function I(n){he.useDeprecatedSynchronousErrorHandling&&D&&(D.errorThrown=!0,D.error=n)}(n):oe(n)}function d(n,e){const{onStoppedNotification:t}=he;t&&ye.setTimeout(()=>t(n,e))}const v={closed:!0,next:J,error:function h(n){throw n},complete:J},A="function"==typeof Symbol&&Symbol.observable||"@@observable";function E(n){return n}function F(n){return 0===n.length?E:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let $=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function Y(n){return n&&n instanceof C||function te(n){return n&&kn(n.next)&&kn(n.error)&&kn(n.complete)}(n)&&ne(n)}(t)?t:new g(t,r,i);return _(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=j(r))((i,o)=>{const s=new g({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[A](){return this}pipe(...t){return F(t)(this)}toPromise(t){return new(t=j(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function j(n){var e;return null!==(e=n??he.Promise)&&void 0!==e?e:Promise}const ae=me(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let S=(()=>{class n extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new R(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ae}next(t){_(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){_(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){_(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?V:(this.currentObservers=null,o.push(t),new we(()=>{this.currentObservers=null,ue(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new $;return t.source=this,t}}return n.create=(e,t)=>new R(e,t),n})();class R extends S{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:V}}function X(n){return kn(n?.lift)}function N(n){return e=>{if(X(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function K(n,e,t,r,i){return new ie(n,e,t,r,i)}class ie extends C{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Q(n,e){return N((t,r)=>{let i=0;t.subscribe(K(r,o=>{r.next(n.call(e,o,i++))}))})}function en(n){return this instanceof en?(this.v=n,this):new en(n)}function He(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(L){r[L]&&(i[L]=function(H){return new Promise(function(z,le){o.push([L,H,z,le])>1||a(L,H)})})}function a(L,H){try{!function l(L){L.value instanceof en?Promise.resolve(L.value.v).then(c,b):x(o[0][2],L)}(r[L](H))}catch(z){x(o[0][3],z)}}function c(L){a("next",L)}function b(L){a("throw",L)}function x(L,H){L(H),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Je(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function rt(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const We=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Xe(n){return kn(n?.then)}function vt(n){return kn(n[A])}function ft(n){return Symbol.asyncIterator&&kn(n?.[Symbol.asyncIterator])}function Zt(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const tr=function er(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function kr(n){return kn(n?.[tr])}function Gs(n){return He(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield en(t.read());if(i)return yield en(void 0);yield yield en(r)}}finally{t.releaseLock()}})}function Fa(n){return kn(n?.getReader)}function Ur(n){if(n instanceof $)return n;if(null!=n){if(vt(n))return function Ng(n){return new $(e=>{const t=n[A]();if(kn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(We(n))return function bf(n){return new $(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Xe(n))return function Re(n){return new $(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,oe)})}(n);if(ft(n))return Fe(n);if(kr(n))return function Ee(n){return new $(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Fa(n))return function Ze(n){return Fe(Gs(n))}(n)}throw Zt(n)}function Fe(n){return new $(e=>{(function Qe(n,e){var t,r,i,o;return function ce(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(b){try{c(r.next(b))}catch(x){s(x)}}function l(b){try{c(r.throw(b))}catch(x){s(x)}}function c(b){b.done?o(b.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(b.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Je(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function xt(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function tn(n,e,t=1/0){return kn(e)?tn((r,i)=>Q((o,s)=>e(r,o,i,s))(Ur(n(r,i))),t):("number"==typeof e&&(t=e),N((r,i)=>function vn(n,e,t,r,i,o,s,a){const l=[];let c=0,b=0,x=!1;const L=()=>{x&&!l.length&&!c&&e.complete()},H=le=>c<r?z(le):l.push(le),z=le=>{o&&e.next(le),c++;let de=!1;Ur(t(le,b++)).subscribe(K(e,Ce=>{i?.(Ce),o?H(Ce):e.next(Ce)},()=>{de=!0},void 0,()=>{if(de)try{for(c--;l.length&&c<r;){const Ce=l.shift();s?xt(e,s,()=>z(Ce)):z(Ce)}L()}catch(Ce){e.error(Ce)}}))};return n.subscribe(K(e,H,()=>{x=!0,L()})),()=>{a?.()}}(r,i,n,t)))}function Nn(n=1/0){return tn(E,n)}const Kn=new $(n=>n.complete());function xr(n){return n&&kn(n.schedule)}function fr(n){return n[n.length-1]}function An(n){return kn(fr(n))?n.pop():void 0}function cr(n){return xr(fr(n))?n.pop():void 0}function ua(n,e=0){return N((t,r)=>{t.subscribe(K(r,i=>xt(r,n,()=>r.next(i),e),()=>xt(r,n,()=>r.complete(),e),i=>xt(r,n,()=>r.error(i),e)))})}function Pi(n,e=0){return N((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function es(n,e){if(!n)throw new Error("Iterable cannot be null");return new $(t=>{xt(t,e,()=>{const r=n[Symbol.asyncIterator]();xt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Cr(n,e){return e?function xs(n,e){if(null!=n){if(vt(n))return function po(n,e){return Ur(n).pipe(Pi(e),ua(e))}(n,e);if(We(n))return function go(n,e){return new $(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Xe(n))return function rr(n,e){return Ur(n).pipe(Pi(e),ua(e))}(n,e);if(ft(n))return es(n,e);if(kr(n))return function Mo(n,e){return new $(t=>{let r;return xt(t,e,()=>{r=n[tr](),xt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>kn(r?.return)&&r.return()})}(n,e);if(Fa(n))return function Ba(n,e){return es(Gs(n),e)}(n,e)}throw Zt(n)}(n,e):Ur(n)}function Il(...n){const e=cr(n),t=function nr(n,e){return"number"==typeof fr(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Ur(r[0]):Nn(t)(Cr(r,e)):Kn}function da(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new g({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function $n(n){for(let e in n)if(n[e]===$n)return e;throw Error("Could not find renamed property on target object.")}function Yi(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Hn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Hn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function gc(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const ha=$n({__forward_ref__:$n});function yn(n){return n.__forward_ref__=yn,n.toString=function(){return Hn(this())},n}function rn(n){return Iu(n)?n():n}function Iu(n){return"function"==typeof n&&n.hasOwnProperty(ha)&&n.__forward_ref__===yn}class yt extends Error{constructor(e,t){super(function $a(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function Yt(n){return"string"==typeof n?n:null==n?"":String(n)}function Es(n,e){throw new yt(-201,!1)}function No(n,e){null==n&&function Yn(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function Ft(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Gn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Cf(n){return hb(n,Dd)||hb(n,Pg)}function hb(n,e){return n.hasOwnProperty(e)?n[e]:null}function Ti(n){return n&&(n.hasOwnProperty(yc)||n.hasOwnProperty(Fg))?n[yc]:null}const Dd=$n({\u0275prov:$n}),yc=$n({\u0275inj:$n}),Pg=$n({ngInjectableDef:$n}),Fg=$n({ngInjectorDef:$n});var Gt=(()=>((Gt=Gt||{})[Gt.Default=0]="Default",Gt[Gt.Host=1]="Host",Gt[Gt.Self=2]="Self",Gt[Gt.SkipSelf=4]="SkipSelf",Gt[Gt.Optional=8]="Optional",Gt))();let wf;function ts(n){const e=wf;return wf=n,e}function Bg(n,e,t){const r=Cf(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Gt.Optional?null:void 0!==e?e:void Es(Hn(n))}function Ha(n){return{toString:n}.toString()}var Hr=(()=>((Hr=Hr||{})[Hr.OnPush=0]="OnPush",Hr[Hr.Default=1]="Default",Hr))(),fa=(()=>{return(n=fa||(fa={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",fa;var n})();const wr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Sl={},Jt=[],js=$n({\u0275cmp:$n}),Md=$n({\u0275dir:$n}),Hg=$n({\u0275pipe:$n}),If=$n({\u0275mod:$n}),Va=$n({\u0275fac:$n}),Nd=$n({__NG_ELEMENT_ID__:$n});let e1=0;function yi(n){return Ha(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Hr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Jt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||fa.Emulated,id:"c"+e1++,styles:n.styles||Jt,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return i.inputs=Af(n.inputs,r),i.outputs=Af(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Cc).filter(gb):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(Bi).filter(gb):null,i})}function Cc(n){return ur(n)||Fi(n)}function gb(n){return null!==n}function Wn(n){return Ha(()=>({type:n.type,bootstrap:n.bootstrap||Jt,declarations:n.declarations||Jt,imports:n.imports||Jt,exports:n.exports||Jt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Af(n,e){if(null==n)return Sl;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const Dt=yi;function ur(n){return n[js]||null}function Fi(n){return n[Md]||null}function Bi(n){return n[Hg]||null}function Ro(n,e){const t=n[If]||null;if(!t&&!0===e)throw new Error(`Type ${Hn(n)} does not have '\u0275mod' property.`);return t}function Tt(n){return Array.isArray(n)&&"object"==typeof n[1]}function Xt(n){return Array.isArray(n)&&!0===n[1]}function Zn(n){return 0!=(8&n.flags)}function Zr(n){return 2==(2&n.flags)}function ir(n){return 1==(1&n.flags)}function ns(n){return null!==n.template}function r1(n){return 0!=(256&n[2])}function Ks(n,e){return n.hasOwnProperty(Va)?n[Va]:null}class Sc{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function ui(){return vb}function vb(n){return n.type.prototype.ngOnChanges&&(n.setInput=u1),c1}function c1(){const n=$d(this),e=n?.current;if(e){const t=n.previous;if(t===Sl)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function u1(n,e,t,r){const i=$d(n)||function Kg(n,e){return n[Bd]=e}(n,{previous:Sl,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[t],l=s[a];o[a]=new Sc(l&&l.currentValue,e,s===Sl),n[r]=e}ui.ngInherit=!0;const Bd="__ngSimpleChanges__";function $d(n){return n[Bd]||null}function ti(n){for(;Array.isArray(n);)n=n[0];return n}function Tl(n,e){return ti(e[n])}function vo(n,e){return ti(e[n.index])}function xc(n,e){return n.data[e]}function Xi(n,e){const t=e[n];return Tt(t)?t:t[0]}function Df(n){return 64==(64&n[2])}function El(n,e){return null==e?null:n[e]}function Cb(n){n[18]=0}function Xg(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const hn={lFrame:xb(null),bindingsEnabled:!0};function rs(){return hn.bindingsEnabled}function ct(){return hn.lFrame.lView}function jn(){return hn.lFrame.tView}function Vr(n){return hn.lFrame.contextLView=n,n[8]}function $i(n){return hn.lFrame.contextLView=null,n}function wi(){let n=wb();for(;null!==n&&64===n.type;)n=n.parent;return n}function wb(){return hn.lFrame.currentTNode}function ma(n,e){const t=hn.lFrame;t.currentTNode=n,t.isParent=e}function Ys(){return hn.lFrame.isParent}function qg(){hn.lFrame.isParent=!1}function Gr(){const n=hn.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Du(){return hn.lFrame.bindingIndex++}function Wa(n){const e=hn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function y1(n,e){const t=hn.lFrame;t.bindingIndex=t.bindingRootIndex=n,is(e)}function is(n){hn.lFrame.currentDirectiveIndex=n}function Ab(){return hn.lFrame.currentQueryIndex}function em(n){hn.lFrame.currentQueryIndex=n}function C1(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function Sb(n,e,t){if(t&Gt.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&Gt.Host||(i=C1(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=hn.lFrame=tm();return r.currentTNode=e,r.lView=n,!0}function Nf(n){const e=tm(),t=n[1];hn.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function tm(){const n=hn.lFrame,e=null===n?null:n.child;return null===e?xb(n):e}function xb(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Tb(){const n=hn.lFrame;return hn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Rf=Tb;function Tc(){const n=Tb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function qi(){return hn.lFrame.selectedIndex}function Dl(n){hn.lFrame.selectedIndex=n}function Jn(){const n=hn.lFrame;return xc(n.tView,n.selectedIndex)}function Ml(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:b}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=b&&(n.destroyHooks||(n.destroyHooks=[])).push(t,b)}}function Js(n,e,t){Gd(n,e,3,t)}function Vd(n,e,t,r){(3&n[2])===t&&Gd(n,e,t,r)}function rm(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function Gd(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(_1(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function _1(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class ni{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Mu(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];Nb(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Mb(n){return 3===n||4===n||6===n}function Nb(n){return 64===n.charCodeAt(0)}function Pf(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Ff(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Ff(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function Rb(n){return-1!==n}function va(n){return 32767&n}function Nu(n,e){let t=function Ob(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let om=!0;function Nl(n){const e=om;return om=n,e}let Pb=0;const ya={};function jd(n,e){const t=Ud(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,$f(r.data,n),$f(e,null),$f(r.blueprint,null));const i=Hf(n,e),o=n.injectorIndex;if(Rb(i)){const s=va(i),a=Nu(i,e),l=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function $f(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Ud(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Hf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Gb(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Ru(n,e,t){!function S1(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Nd)&&(r=t[Nd]),null==r&&(r=t[Nd]=Pb++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function sm(n,e,t){if(t&Gt.Optional||void 0!==n)return n;Es()}function am(n,e,t,r){if(t&Gt.Optional&&void 0===r&&(r=null),0==(t&(Gt.Self|Gt.Host))){const i=n[9],o=ts(void 0);try{return i?i.get(e,r,t&Gt.Optional):Bg(e,r,t&Gt.Optional)}finally{ts(o)}}return sm(r,0,t)}function zd(n,e,t,r=Gt.Default,i){if(null!==n){if(1024&e[2]){const s=function xn(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=Bb(o,s,t,r|Gt.Self,ya);if(a!==ya)return a;let l=o.parent;if(!l){const c=s[21];if(c){const b=c.get(t,ya,r);if(b!==ya)return b}l=Gb(s),s=s[15]}o=l}return i}(n,e,t,r,ya);if(s!==ya)return s}const o=Bb(n,e,t,r,ya);if(o!==ya)return o}return am(e,t,r,i)}function Bb(n,e,t,r,i){const o=function Hb(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Nd)?n[Nd]:void 0;return"number"==typeof e?e>=0?255&e:lm:e}(t);if("function"==typeof o){if(!Sb(e,n,r))return r&Gt.Host?sm(i,0,r):am(e,t,r,i);try{const s=o(r);if(null!=s||r&Gt.Optional)return s;Es()}finally{Rf()}}else if("number"==typeof o){let s=null,a=Ud(n,e),l=-1,c=r&Gt.Host?e[16][6]:null;for((-1===a||r&Gt.SkipSelf)&&(l=-1===a?Hf(n,e):e[a+8],-1!==l&&Vf(r,!1)?(s=e[1],a=va(l),e=Nu(l,e)):a=-1);-1!==a;){const b=e[1];if(Vb(o,a,b.data)){const x=$b(a,e,t,s,r,c);if(x!==ya)return x}l=e[a+8],-1!==l&&Vf(r,e[1].data[a+8]===c)&&Vb(o,a,e)?(s=b,a=va(l),e=Nu(l,e)):a=-1}}return i}function $b(n,e,t,r,i,o){const s=e[1],a=s.data[n+8],b=Zd(a,s,t,null==r?Zr(a)&&om:r!=s&&0!=(3&a.type),i&Gt.Host&&o===a);return null!==b?Kd(e,s,b,a):ya}function Zd(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,b=o>>20,L=i?a+b:n.directiveEnd;for(let H=r?a:a+b;H<L;H++){const z=s[H];if(H<l&&t===z||H>=l&&z.type===t)return H}if(i){const H=s[l];if(H&&ns(H)&&H.type===t)return l}return null}function Kd(n,e,t,r){let i=n[t];const o=e.data;if(function im(n){return n instanceof ni}(i)){const s=i;s.resolving&&function kd(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new yt(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Vn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Yt(n)}(o[t]));const a=Nl(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?ts(s.injectImpl):null;Sb(n,r,Gt.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function kb(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=vb(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==l&&ts(l),Nl(a),s.resolving=!1,Rf()}}return i}function Vb(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Vf(n,e){return!(n&Gt.Self||n&Gt.Host&&e)}class Dc{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return zd(this._tNode,this._lView,e,r,t)}}function lm(){return new Dc(wi(),ct())}function di(n){return Ha(()=>{const e=n.prototype.constructor,t=e[Va]||Yd(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Va]||Yd(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Yd(n){return Iu(n)?()=>{const e=Yd(rn(n));return e&&e()}:Ks(n)}function Gb(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const Nc="__parameters__";function Lu(n,e,t){return Ha(()=>{const r=function Bo(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,b){const x=l.hasOwnProperty(Nc)?l[Nc]:Object.defineProperty(l,Nc,{value:[]})[Nc];for(;x.length<=b;)x.push(null);return(x[b]=x[b]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class zt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ft({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $o(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),$o(r,e)):e!==n&&e.push(r)}return e}function Xs(n,e){n.forEach(t=>Array.isArray(t)?Xs(t,e):e(t))}function Zb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Gf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Xd(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Kr(n,e,t){let r=Pu(n,e);return r>=0?n[1|r]=t:(r=~r,function D1(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function fm(n,e){const t=Pu(n,e);if(t>=0)return n[1|t]}function Pu(n,e){return function Pc(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Rl={},Wf="__NG_DI_FLAG__",Fc="ngTempTokenPath",jf=/\n/gm,vm="__source";let Ol;function Bc(n){const e=Ol;return Ol=n,e}function ym(n,e=Gt.Default){if(void 0===Ol)throw new yt(-203,!1);return null===Ol?Bg(n,void 0,e):Ol.get(n,e&Gt.Optional?null:void 0,e)}function Et(n,e=Gt.Default){return(function pb(){return wf}()||ym)(rn(n),e)}function dr(n,e=Gt.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),Et(n,e)}function Uf(n){const e=[];for(let t=0;t<n.length;t++){const r=rn(n[t]);if(Array.isArray(r)){if(0===r.length)throw new yt(900,!1);let i,o=Gt.Default;for(let s=0;s<r.length;s++){const a=r[s],l=P1(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(Et(i,o))}else e.push(Et(r))}return e}function Bu(n,e){return n[Wf]=e,n.prototype[Wf]=e,n}function P1(n){return n[Wf]}const ss=Bu(Lu("Optional"),8),$c=Bu(Lu("SkipSelf"),4);var Co=(()=>((Co=Co||{})[Co.Important=1]="Important",Co[Co.DashCase=2]="DashCase",Co))();const Sm=new Map;let aC=0;const Tm="__ngContext__";function eo(n,e){Tt(e)?(n[Tm]=e[20],function J1(n){Sm.set(n[20],n)}(e)):n[Tm]=e}function Dm(n,e){return undefined(n,e)}function rh(n){const e=n[3];return Xt(e)?e[3]:e}function Mm(n){return vC(n[13])}function Nm(n){return vC(n[4])}function vC(n){for(;null!==n&&!Xt(n);)n=n[4];return n}function Pl(n,e,t,r,i){if(null!=r){let o,s=!1;Xt(r)?o=r:Tt(r)&&(s=!0,r=r[0]);const a=ti(r);0===n&&null!==t?null==i?_C(e,t,a):Wc(e,t,a,i||null,!0):1===n&&null!==t?Wc(e,t,a,i||null,!0):2===n?function $m(n,e,t){const r=Qf(n,e);r&&function AC(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function mA(n,e,t,r,i){const o=t[7];o!==ti(t)&&Pl(e,n,r,o,i);for(let a=10;a<t.length;a++){const l=t[a];sh(l[1],l,n,e,r,o)}}(e,n,o,t,i)}}function Om(n,e,t){return n.createElement(e,t)}function bC(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Xg(i,-1)),t.splice(r,1)}function Lm(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&bC(i,r),e>0&&(n[t-1][4]=r[4]);const o=Gf(n,10+e);!function sA(n,e){sh(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function CC(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&sh(n,e,t,3,null,null),function cA(n){let e=n[13];if(!e)return Pm(n[1],n);for(;e;){let t=null;if(Tt(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Tt(e)&&Pm(e[1],e),e=e[3];null===e&&(e=n),Tt(e)&&Pm(e[1],e),t=e&&e[4]}e=t}}(e)}}function Pm(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function fA(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof ni)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function hA(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):ti(e[s]),l=r[i=t[o+2]],c=t[o+3];"boolean"==typeof c?a.removeEventListener(t[o],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Xt(e[3])){t!==e[3]&&bC(t,e);const r=e[19];null!==r&&r.detachView(n)}!function X1(n){Sm.delete(n[20])}(e)}}function wC(n,e,t){return function IC(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===fa.None||i===fa.Emulated)return null}return vo(r,t)}(n,e.parent,t)}function Wc(n,e,t,r,i){n.insertBefore(e,t,r,i)}function _C(n,e,t){n.appendChild(e,t)}function qf(n,e,t,r,i){null!==r?Wc(n,e,t,r,i):_C(n,e,t)}function Qf(n,e){return n.parentNode(e)}function SC(n,e,t){return TC(n,e,t)}let tp,np,rp,TC=function xC(n,e,t){return 40&n.type?vo(n,t):null};function ih(n,e,t,r){const i=wC(n,r,e),o=e[11],a=SC(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)qf(o,i,t[l],a,!1);else qf(o,i,t,a,!1)}function ep(n,e){if(null!==e){const t=e.type;if(3&t)return vo(e,n);if(4&t)return Bm(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return ep(n,r);{const i=n[e.index];return Xt(i)?Bm(-1,i):ti(i)}}if(32&t)return Dm(e,n)()||ti(n[e.index]);{const r=oh(n,e);return null!==r?Array.isArray(r)?r[0]:ep(rh(n[16]),r):ep(n,e.next)}}return null}function oh(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Bm(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return ep(r,i)}return e[7]}function Hm(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===e&&(a&&eo(ti(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)Hm(n,e,t.child,r,i,o,!1),Pl(e,n,i,a,o);else if(32&l){const c=Dm(t,r);let b;for(;b=c();)Pl(e,n,i,b,o);Pl(e,n,i,a,o)}else 16&l?kC(n,e,r,t,i,o):Pl(e,n,i,a,o);t=s?t.projectionNext:t.next}}function sh(n,e,t,r,i,o){Hm(t,r,n.firstChild,e,i,o,!1)}function kC(n,e,t,r,i,o){const s=t[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Pl(e,n,i,l[c],o);else Hm(n,e,l,s[3],i,o,!0)}function DC(n,e,t){n.setAttribute(e,"style",t)}function Vm(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function jc(n){return function Gm(){if(void 0===tp&&(tp=null,wr.trustedTypes))try{tp=wr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return tp}()?.createHTML(n)||n}function ah(n){return function Wm(){if(void 0===rp&&(rp=null,wr.trustedTypes))try{rp=wr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return rp}()?.createHTML(n)||n}class LC{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Fl(n){return n instanceof LC?n.changingThisBreaksApplicationSecurity:n}class FC{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(jc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class BC{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=jc(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=jc(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const s=t.item(i).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const kA=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function zm(n){return(n=String(n)).match(kA)?n:"unsafe:"+n}function za(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Bl(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const ch=za("area,br,col,hr,img,wbr"),HC=za("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),VC=za("rp,rt"),Zm=Bl(ch,Bl(HC,za("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bl(VC,za("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bl(VC,HC)),Km=za("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),WC=Bl(Km,za("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),za("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),MA=za("script,style,template");class NA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Zm.hasOwnProperty(t))return this.sanitizedSomething=!0,!MA.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!WC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Km[a]&&(l=zm(l)),this.buf.push(" ",s,'="',jC(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Zm.hasOwnProperty(t)&&!ch.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(jC(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const RA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,OA=/([^\#-~ |!])/g;function jC(n){return n.replace(/&/g,"&amp;").replace(RA,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(OA,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ip;function Ym(n){return"content"in n&&function LA(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Tr=(()=>((Tr=Tr||{})[Tr.NONE=0]="NONE",Tr[Tr.HTML=1]="HTML",Tr[Tr.STYLE=2]="STYLE",Tr[Tr.SCRIPT=3]="SCRIPT",Tr[Tr.URL=4]="URL",Tr[Tr.RESOURCE_URL=5]="RESOURCE_URL",Tr))();function gn(n){const e=function Uc(){const n=ct();return n&&n[12]}();return e?ah(e.sanitize(Tr.HTML,n)||""):function lh(n,e){const t=function xA(n){return n instanceof LC&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"HTML")?ah(Fl(n)):function qs(n,e){let t=null;try{ip=ip||function Um(n){const e=new BC(n);return function $C(){try{return!!(new window.DOMParser).parseFromString(jc(""),"text/html")}catch{return!1}}()?new FC(e):e}(n);let r=e?String(e):"";t=ip.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=ip.getInertBodyElement(r)}while(r!==o);return jc((new NA).sanitizeChildren(Ym(t)||t))}finally{if(t){const r=Ym(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(function NC(){return void 0!==np?np:typeof document<"u"?document:void 0}(),Yt(n))}const Jm=new zt("ENVIRONMENT_INITIALIZER"),_a=new zt("INJECTOR",-1),Xm=new zt("INJECTOR_DEF_TYPES");class uh{get(e,t=Rl){if(t===Rl){const r=new Error(`NullInjectorError: No provider for ${Hn(e)}!`);throw r.name="NullInjectorError",r}return t}}function Wr(...n){return{\u0275providers:jr(0,n)}}function jr(n,...e){const t=[],r=new Set;let i;return Xs(e,o=>{const s=o;Qm(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&qm(i,t),t}function qm(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Xs(i,o=>{e.push(o)})}}function Qm(n,e,t,r){if(!(n=rn(n)))return!1;let i=null,o=Ti(n);const s=!o&&ur(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const l=n.ngModule;if(o=Ti(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Qm(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Xs(o.imports,b=>{Qm(b,e,t,r)&&(c||(c=[]),c.push(b))})}finally{}void 0!==c&&qm(c,e)}if(!a){const c=Ks(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Jt},{provide:Xm,useValue:i,multi:!0},{provide:Jm,useValue:()=>Et(i),multi:!0})}const l=o.providers;null==l||a||Xs(l,b=>{e.push(b)})}}return i!==n&&void 0!==n.providers}const VA=$n({provide:String,useValue:$n});function ev(n){return null!==n&&"object"==typeof n&&VA in n}function Hl(n){return"function"==typeof n}const hh=new zt("Set Injector scope."),op={},ZC={};let Vu;function no(){return void 0===Vu&&(Vu=new uh),Vu}class ls{}class KC extends ls{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sp(e,s=>this.processProvider(s)),this.records.set(_a,zc(void 0,this)),i.has("environment")&&this.records.set(ls,zc(void 0,this));const o=this.records.get(hh);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Xm.multi,Jt,Gt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Bc(this),r=ts(void 0);try{return e()}finally{Bc(t),ts(r)}}get(e,t=Rl,r=Gt.Default){this.assertNotDestroyed();const i=Bc(this),o=ts(void 0);try{if(!(r&Gt.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function JC(n){return"function"==typeof n||"object"==typeof n&&n instanceof zt}(e)&&Cf(e);a=l&&this.injectableDefInScope(l)?zc(tv(e),op):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Gt.Self?no():this.parent).get(e,t=r&Gt.Optional&&t===Rl?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Fc]=s[Fc]||[]).unshift(Hn(e)),i)throw s;return function qb(n,e,t,r){const i=n[Fc];throw e[vm]&&i.unshift(e[vm]),n.message=function F1(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Hn(e);if(Array.isArray(e))i=e.map(Hn).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Hn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(jf,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Fc]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{ts(o),Bc(i)}}resolveInjectorInitializers(){const e=Bc(this),t=ts(void 0);try{const r=this.get(Jm.multi,Jt,Gt.Self);for(const i of r)i()}finally{Bc(e),ts(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Hn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new yt(205,!1)}processProvider(e){let t=Hl(e=rn(e))?e:rn(e&&e.provide);const r=function WA(n){return ev(n)?zc(void 0,n.useValue):zc(YC(n),op)}(e);if(Hl(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=zc(void 0,op,!0),i.factory=()=>Uf(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===op&&(t.value=ZC,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Cn(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=rn(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function tv(n){const e=Cf(n),t=null!==e?e.factory:Ks(n);if(null!==t)return t;if(n instanceof zt)throw new yt(204,!1);if(n instanceof Function)return function GA(n){const e=n.length;if(e>0)throw Xd(e,"?"),new yt(204,!1);const t=function fb(n){const e=n&&(n[Dd]||n[Pg]);if(e){const t=function q_(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new yt(204,!1)}function YC(n,e,t){let r;if(Hl(n)){const i=rn(n);return Ks(i)||tv(i)}if(ev(n))r=()=>rn(n.useValue);else if(function zC(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Uf(n.deps||[]));else if(function UC(n){return!(!n||!n.useExisting)}(n))r=()=>Et(rn(n.useExisting));else{const i=rn(n&&(n.useClass||n.provide));if(!function Za(n){return!!n.deps}(n))return Ks(i)||tv(i);r=()=>new i(...Uf(n.deps))}return r}function zc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Rs(n){return!!n.\u0275providers}function sp(n,e){for(const t of n)Array.isArray(t)?sp(t,e):Rs(t)?sp(t.\u0275providers,e):e(t)}class Xn{}class zA{resolveComponentFactory(e){throw function UA(n){const e=Error(`No component factory found for ${Hn(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let fh=(()=>{class n{}return n.NULL=new zA,n})();function ZA(){return Gu(wi(),ct())}function Gu(n,e){return new or(vo(n,e))}let or=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=ZA,n})();function KA(n){return n instanceof or?n.nativeElement:n}class iv{}let cs=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function YA(){const n=ct(),t=Xi(wi().index,n);return(Tt(t)?t:n)[11]}(),n})(),JA=(()=>{class n{}return n.\u0275prov=Ft({token:n,providedIn:"root",factory:()=>null}),n})();class ph{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const XA=new ph("14.3.0"),gh={};function av(n){return n.ngOriginalError}class Wu{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&av(e);for(;t&&av(t);)t=av(t);return t||null}}function Ka(n){return n instanceof Function?n():n}function lv(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const e0="ng-template";function iS(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==lv(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function t0(n){return 4===n.type&&n.value!==e0}function Uu(n,e,t){return e===(4!==n.type||t?n.value:e0)}function oS(n,e,t){let r=4;const i=n.attrs||[],o=function r0(n){for(let e=0;e<n.length;e++)if(Mb(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!Uu(n,l,t)||""===l&&1===e.length){if(Qs(r))return!1;s=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!iS(n.attrs,c,t)){if(Qs(r))return!1;s=!0}continue}const x=sS(8&r?"class":l,i,t0(n),t);if(-1===x){if(Qs(r))return!1;s=!0;continue}if(""!==c){let L;L=x>o?"":i[x+1].toLowerCase();const H=8&r?L:null;if(H&&-1!==lv(H,c,0)||2&r&&c!==L){if(Qs(r))return!1;s=!0}}}}else{if(!s&&!Qs(r)&&!Qs(l))return!1;if(s&&Qs(l))continue;s=!1,r=l|1&r}}return Qs(r)||s}function Qs(n){return 0==(1&n)}function sS(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function o0(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function n0(n,e,t=!1){for(let r=0;r<e.length;r++)if(oS(n,e[r],t))return!0;return!1}function lS(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function s0(n,e){return n?":not("+e.trim()+")":e}function cS(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Qs(s)&&(e+=s0(o,i),i=""),r=s,o=o||!Qs(r);t++}return""!==i&&(e+=s0(o,i)),e}const mn={};function ut(n){a0(jn(),ct(),qi()+n,!1)}function a0(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&Js(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Vd(e,o,0,t)}Dl(t)}function d0(n,e=null,t=null,r){const i=h0(n,e,t,r);return i.resolveInjectorInitializers(),i}function h0(n,e=null,t=null,r,i=new Set){const o=[t||Jt,Wr(n)];return r=r||("object"==typeof n?void 0:Hn(n)),new KC(o,e||no(),r||null,i)}let ro=(()=>{class n{static create(t,r){if(Array.isArray(t))return d0({name:""},r,t,"");{const i=t.name??"";return d0({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Rl,n.NULL=new uh,n.\u0275prov=Ft({token:n,providedIn:"any",factory:()=>Et(_a)}),n.__NG_ELEMENT_ID__=-1,n})();function Be(n,e=Gt.Default){const t=ct();return null===t?Et(n,e):zd(wi(),t,rn(n),e)}function mh(){throw new Error("invalid")}function dp(n,e){return n<<17|e<<2}function ea(n){return n>>17&32767}function pv(n){return 2|n}function Ya(n){return(131068&n)>>2}function gv(n,e){return-131069&n|e<<2}function mv(n){return 1|n}function XM(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const s=n.data[o];em(i),s.contentQueries(2,e[o],o)}}}function _0(n,e,t,r,i,o,s,a,l,c,b){const x=e.blueprint.slice();return x[0]=i,x[2]=76|r,(null!==b||n&&1024&n[2])&&(x[2]|=1024),Cb(x),x[3]=x[15]=n,x[8]=t,x[10]=s||n&&n[10],x[11]=a||n&&n[11],x[12]=l||n&&n[12]||null,x[9]=c||n&&n[9]||null,x[6]=o,x[20]=function Y1(){return aC++}(),x[21]=b,x[16]=2==e.type?n[16]:x,x}function gp(n,e,t,r,i){let o=n.data[e];if(null===o)o=function MS(n,e,t,r,i){const o=wb(),s=Ys(),l=n.data[e]=function P5(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,e,t,r,i),function v1(){return hn.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Hd(){const n=hn.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ma(o,!0),o}function mp(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function NS(n,e,t){Nf(e);try{const r=n.viewQuery;null!==r&&HS(1,r,t);const i=n.template;null!==i&&qM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&XM(n,e),n.staticViewQueries&&HS(2,n.viewQuery,t);const o=n.components;null!==o&&function R5(n,e){for(let t=0;t<e.length;t++)q5(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Tc()}}function A0(n,e,t,r){const i=e[2];if(128!=(128&i)){Nf(e);try{Cb(e),function _b(n){return hn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&qM(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&Js(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Vd(e,c,0,null),rm(e,0)}if(function J5(n){for(let e=Mm(n);null!==e;e=Nm(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(512&i[2])&&Xg(o,1),i[2]|=512}}}(e),function Y5(n){for(let e=Mm(n);null!==e;e=Nm(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Df(r)&&A0(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&XM(n,e),s){const c=n.contentCheckHooks;null!==c&&Js(e,c)}else{const c=n.contentHooks;null!==c&&Vd(e,c,1),rm(e,1)}!function M5(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Dl(~i);else{const o=i,s=t[++r],a=t[++r];y1(s,o),a(2,e[o])}}}finally{Dl(-1)}}(n,e);const a=n.components;null!==a&&function N5(n,e){for(let t=0;t<e.length;t++)X5(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&HS(2,l,r),s){const c=n.viewCheckHooks;null!==c&&Js(e,c)}else{const c=n.viewHooks;null!==c&&Vd(e,c,2),rm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Xg(e[3],-1))}finally{Tc()}}}function qM(n,e,t,r,i){const o=qi(),s=2&r;try{Dl(-1),s&&e.length>22&&a0(n,e,22,!1),t(r,i)}finally{Dl(o)}}function RS(n,e,t){!rs()||(function V5(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||jd(t,e),eo(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const l=n.data[a],c=ns(l);c&&z5(e,t,l);const b=Kd(e,n,a,t);eo(b,e),null!==s&&Z5(0,a-i,b,l,0,s),c&&(Xi(t.index,e)[8]=b)}}(n,e,t,vo(t,e)),128==(128&t.flags)&&function G5(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function b1(){return hn.lFrame.currentDirectiveIndex}();try{Dl(o);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];is(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&sN(l,c)}}finally{Dl(-1),is(s)}}(n,e,t))}function OS(n,e,t=vo){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function eN(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=LS(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function LS(n,e,t,r,i,o,s,a,l,c){const b=22+r,x=b+i,L=function O5(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:mn);return t}(b,x),H="function"==typeof c?c():c;return L[1]={type:n,blueprint:L,template:t,queries:null,viewQuery:a,declTNode:e,data:L.slice().fill(null,b),bindingStartIndex:b,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:H,incompleteFirstPass:!1}}function tN(n,e,t,r){const i=dN(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&hN(n).push(r,i.length-1))}function nN(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function rN(n,e){const r=e.directiveEnd,i=n.data,o=e.attrs,s=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const b=i[c],x=b.inputs,L=null===o||t0(e)?null:K5(x,o);s.push(L),a=nN(x,c,a),l=nN(b.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=l}function ta(n,e,t,r,i,o,s,a){const l=vo(e,t);let b,c=e.inputs;!a&&null!=c&&(b=c[r])?(VS(n,t,b,r,i),Zr(e)&&iN(t,e.index)):3&e.type&&(r=function F5(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}function iN(n,e){const t=Xi(e,n);16&t[2]||(t[2]|=32)}function PS(n,e,t,r){let i=!1;if(rs()){const o=function W5(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];n0(t,s.selectors,!1)&&(i||(i=[]),Ru(jd(t,e),n,s.type),ns(s)?(aN(n,t),i.unshift(s)):i.push(s))}return i}(n,e,t),s=null===r?null:{"":-1};if(null!==o){i=!0,lN(t,n.data.length,o.length);for(let b=0;b<o.length;b++){const x=o[b];x.providersResolver&&x.providersResolver(x)}let a=!1,l=!1,c=mp(n,e,o.length,null);for(let b=0;b<o.length;b++){const x=o[b];t.mergedAttrs=Pf(t.mergedAttrs,x.hostAttrs),cN(n,t,e,c,x),U5(c,x,s),null!==x.contentQueries&&(t.flags|=8),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(t.flags|=128);const L=x.type.prototype;!a&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(L.ngOnChanges||L.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}rN(n,t)}s&&function j5(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new yt(-301,!1);r.push(e[i],o)}}}(t,r,s)}return t.mergedAttrs=Pf(t.mergedAttrs,t.attrs),i}function oN(n,e,t,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function H5(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,s)}}function sN(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function aN(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function U5(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ns(e)&&(t[""]=n)}}function lN(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function cN(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Ks(i.type)),s=new ni(o,ns(i),Be);n.blueprint[r]=s,t[r]=s,oN(n,e,0,r,mp(n,t,i.hostVars,mn),i)}function z5(n,e,t){const r=vo(e,n),i=eN(t),o=n[10],s=S0(n,_0(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=s}function Gl(n,e,t,r,i,o){const s=vo(n,e);!function FS(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?Yt(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],s,o,n.value,t,r,i)}function Z5(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const c=s[l++],b=s[l++],x=s[l++];null!==a?r.setInput(t,x,c,b):t[b]=x}}}function K5(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function uN(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function X5(n,e){const t=Xi(e,n);if(Df(t)){const r=t[1];48&t[2]?A0(r,t,r.template,t[8]):t[5]>0&&BS(t)}}function BS(n){for(let r=Mm(n);null!==r;r=Nm(r))for(let i=10;i<r.length;i++){const o=r[i];if(Df(o))if(512&o[2]){const s=o[1];A0(s,o,s.template,o[8])}else o[5]>0&&BS(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Xi(t[r],n);Df(i)&&i[5]>0&&BS(i)}}function q5(n,e){const t=Xi(e,n),r=t[1];(function Q5(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),NS(r,t,t[8])}function S0(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function $S(n){for(;n;){n[2]|=32;const e=rh(n);if(r1(n)&&!e)return n;n=e}return null}function x0(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{A0(n,e,n.template,t)}catch(s){throw r&&pN(e,s),s}finally{i.end&&i.end()}}function HS(n,e,t){em(0),e(n,t)}function dN(n){return n[7]||(n[7]=[])}function hN(n){return n.cleanup||(n.cleanup=[])}function pN(n,e){const t=n[9],r=t?t.get(Wu,null):null;r&&r.handleError(e)}function VS(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=e[s],c=n.data[s];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function T0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=gc(i,a):2==o&&(r=gc(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function E0(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(ti(o)),Xt(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&E0(l[1],l,c,r)}const s=t.type;if(8&s)E0(n,e,t.child,r);else if(32&s){const a=Dm(t,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=oh(e,t);if(Array.isArray(a))r.push(...a);else{const l=rh(e[16]);E0(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Cv{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return E0(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Xt(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Lm(e,r),Gf(t,r))}this._attachedToViewContainer=!1}CC(this._lView[1],this._lView)}onDestroy(e){tN(this._lView[1],this._lView,null,e)}markForCheck(){$S(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){x0(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new yt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lA(n,e){sh(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new yt(902,!1);this._appRef=e}}class eU extends Cv{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;x0(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class GS extends fh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ur(e);return new wv(t,this.ngModule)}}function gN(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class nU{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,gh,r);return i!==gh||t===gh?i:this.parentInjector.get(e,t,r)}}class wv extends Xn{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function uS(n){return n.map(cS).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return gN(this.componentDef.inputs)}get outputs(){return gN(this.componentDef.outputs)}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof ls?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new nU(e,o):e,a=s.get(iv,null);if(null===a)throw new yt(407,!1);const l=s.get(JA,null),c=a.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",x=r?function L5(n,e,t){return n.selectRootElement(e,t===fa.ShadowDom)}(c,r,this.componentDef.encapsulation):Om(c,b,function tU(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(b)),L=this.componentDef.onPush?288:272,H=LS(0,null,null,1,0,null,null,null,null,null),z=_0(null,H,null,L,null,null,a,c,l,s,null);let le,de;Nf(z);try{const Ce=function oU(n,e,t,r,i,o){const s=t[1];t[22]=n;const l=gp(s,22,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(T0(l,c,!0),null!==n&&(Mu(i,n,c),null!==l.classes&&Vm(i,n,l.classes),null!==l.styles&&DC(i,n,l.styles)));const b=r.createRenderer(n,e),x=_0(t,eN(e),null,e.onPush?32:16,t[22],l,r,b,o||null,null,null);return s.firstCreatePass&&(Ru(jd(l,t),s,e.type),aN(s,l),lN(l,t.length,1)),S0(t,x),t[22]=x}(x,this.componentDef,z,a,c);if(x)if(r)Mu(c,x,["ng-version",XA.full]);else{const{attrs:ke,classes:De}=function dS(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!Qs(i))break;i=o}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);ke&&Mu(c,x,ke),De&&De.length>0&&Vm(c,x,De.join(" "))}if(de=xc(H,22),void 0!==t){const ke=de.projection=[];for(let De=0;De<this.ngContentSelectors.length;De++){const Pe=t[De];ke.push(null!=Pe?Array.from(Pe):null)}}le=function sU(n,e,t,r){const i=t[1],o=function $5(n,e,t){const r=wi();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),cN(n,r,e,mp(n,e,1,null),t),rN(n,r));const i=Kd(e,n,r.directiveStart,r);eo(i,e);const o=vo(r,e);return o&&eo(o,e),i}(i,t,e);if(n[8]=t[8]=o,null!==r)for(const a of r)a(o,e);if(e.contentQueries){const a=wi();e.contentQueries(1,o,a.directiveStart)}const s=wi();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Dl(s.index),oN(t[1],s,0,s.directiveStart,s.directiveEnd,e),sN(e,o)),o}(Ce,this.componentDef,z,[aU]),NS(H,z,null)}finally{Tc()}return new iU(this.componentType,le,Gu(de,z),z,de)}}class iU extends class jA{}{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new eU(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;VS(o[1],o,i,e,t),iN(o,this._tNode.index)}}get injector(){return new Dc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function aU(){const n=wi();Ml(ct()[1],n)}function hr(n){let e=function mN(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(ns(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new yt(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=WS(n.inputs),s.declaredInputs=WS(n.declaredInputs),s.outputs=WS(n.outputs);const a=i.hostBindings;a&&dU(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&cU(n,l),c&&uU(n,c),Yi(n.inputs,i.inputs),Yi(n.declaredInputs,i.declaredInputs),Yi(n.outputs,i.outputs),ns(i)&&i.data.animation){const b=n.data;b.animation=(b.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===hr&&(t=!1)}}e=Object.getPrototypeOf(e)}!function lU(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pf(i.hostAttrs,t=Pf(t,i.hostAttrs))}}(r)}function WS(n){return n===Sl?{}:n===Jt?[]:n}function cU(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function uU(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function dU(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let k0=null;function vh(){if(!k0){const n=wr.Symbol;if(n&&n.iterator)k0=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(k0=r)}}}return k0}function Iv(n){return!!jS(n)&&(Array.isArray(n)||!(n instanceof Map)&&vh()in n)}function jS(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Wl(n,e,t){return n[e]=t}function Go(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function D0(n,e,t,r,i){const o=function yh(n,e,t,r){const i=Go(n,e,t);return Go(n,e+1,r)||i}(n,e,t,r);return Go(n,e+2,i)||o}function _r(n,e,t,r){const i=ct();return Go(i,Du(),e)&&(jn(),Gl(Jn(),i,n,e,t,r)),_r}function yp(n,e,t,r){return Go(n,Du(),t)?e+Yt(t)+r:mn}function gt(n,e,t,r,i,o,s,a){const l=ct(),c=jn(),b=n+22,x=c.firstCreatePass?function bU(n,e,t,r,i,o,s,a,l){const c=e.consts,b=gp(e,n,4,s||null,El(c,a));PS(e,t,b,El(c,l)),Ml(e,b);const x=b.tViews=LS(2,b,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,b),x.queries=e.queries.embeddedTView(b)),b}(b,c,l,e,t,r,i,o,s):c.data[b];ma(x,!1);const L=l[11].createComment("");ih(c,l,L,x),eo(L,l),S0(l,l[b]=uN(L,l,L,x)),ir(x)&&RS(c,l,x),null!=s&&OS(l,x,a)}function Ja(n){return function ga(n,e){return n[e]}(function m1(){return hn.lFrame.contextLView}(),22+n)}function it(n,e,t){const r=ct();return Go(r,Du(),e)&&ta(jn(),Jn(),r,n,e,r[11],t,!1),it}function US(n,e,t,r,i){const s=i?"class":"style";VS(n,t,e.inputs[s],s,r)}function Pt(n,e,t,r){const i=ct(),o=jn(),s=22+n,a=i[11],l=i[s]=Om(a,e,function Eb(){return hn.lFrame.currentNamespace}()),c=o.firstCreatePass?function wU(n,e,t,r,i,o,s){const a=e.consts,c=gp(e,n,2,i,El(a,o));return PS(e,t,c,El(a,s)),null!==c.attrs&&T0(c,c.attrs,!1),null!==c.mergedAttrs&&T0(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,0,e,t,r):o.data[s];ma(c,!0);const b=c.mergedAttrs;null!==b&&Mu(a,l,b);const x=c.classes;null!==x&&Vm(a,l,x);const L=c.styles;return null!==L&&DC(a,l,L),64!=(64&c.flags)&&ih(o,i,l,c),0===function _e(){return hn.lFrame.elementDepthCount}()&&eo(l,i),function ku(){hn.lFrame.elementDepthCount++}(),ir(c)&&(RS(o,i,c),function QM(n,e,t){if(Zn(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}(o,c,i)),null!==r&&OS(i,c),Pt}function Rt(){let n=wi();Ys()?qg():(n=n.parent,ma(n,!1));const e=n;!function Mf(){hn.lFrame.elementDepthCount--}();const t=jn();return t.firstCreatePass&&(Ml(t,n),Zn(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Lf(n){return 0!=(16&n.flags)}(e)&&US(t,e,ct(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function kc(n){return 0!=(32&n.flags)}(e)&&US(t,e,ct(),e.stylesWithoutHost,!1),Rt}function Fr(n,e,t,r){return Pt(n,e,t,r),Rt(),Fr}function hs(){return ct()}function Av(n){return!!n&&"function"==typeof n.then}const KS=function TN(n){return!!n&&"function"==typeof n.subscribe};function Dn(n,e,t,r){const i=ct(),o=jn(),s=wi();return function kN(n,e,t,r,i,o,s,a){const l=ir(r),b=n.firstCreatePass&&hN(n),x=e[8],L=dN(e);let H=!0;if(3&r.type||a){const de=vo(r,e),Ce=a?a(de):de,ke=L.length,De=a?je=>a(ti(je[r.index])):r.index;let Pe=null;if(!a&&l&&(Pe=function _U(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==Pe)(Pe.__ngLastListenerFn__||Pe).__ngNextListenerFn__=o,Pe.__ngLastListenerFn__=o,H=!1;else{o=MN(r,e,x,o,!1);const je=t.listen(Ce,i,o);L.push(o,je),b&&b.push(i,De,ke,ke+1)}}else o=MN(r,e,x,o,!1);const z=r.outputs;let le;if(H&&null!==z&&(le=z[i])){const de=le.length;if(de)for(let Ce=0;Ce<de;Ce+=2){const Ye=e[le[Ce]][le[Ce+1]].subscribe(o),mt=L.length;L.push(o,Ye),b&&b.push(i,r.index,mt,-(mt+1))}}}(o,i,i[11],s,n,e,0,r),Dn}function DN(n,e,t,r){try{return!1!==t(r)}catch(i){return pN(n,i),!1}}function MN(n,e,t,r,i){return function o(s){if(s===Function)return r;$S(2&n.flags?Xi(n.index,e):e);let l=DN(e,0,r,s),c=o.__ngNextListenerFn__;for(;c;)l=DN(e,0,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function It(n=1){return function Of(n){return(hn.lFrame.contextLView=function w1(n,e){for(;n>0;)e=e[15],n--;return e}(n,hn.lFrame.contextLView))[8]}(n)}function AU(n,e){let t=null;const r=function aS(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?n0(n,o,!0):lS(r,o))return i}else t=i}return t}function M0(n,e,t){return N0(n,"",e,"",t),M0}function N0(n,e,t,r,i){const o=ct(),s=yp(o,e,t,r);return s!==mn&&ta(jn(),Jn(),o,n,s,o[11],i,!1),N0}function GN(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?ea(o):Ya(o),l=!1;for(;0!==a&&(!1===l||s);){const b=n[a+1];TU(n[a],e)&&(l=!0,n[a+1]=r?mv(b):pv(b)),a=r?ea(b):Ya(b)}l&&(n[t+1]=r?pv(o):mv(o))}function TU(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Pu(n,e)>=0}const Vi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function WN(n){return n.substring(Vi.key,Vi.keyEnd)}function jN(n,e){const t=Vi.textEnd;return t===e?-1:(e=Vi.keyEnd=function MU(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Vi.key=e,t),xp(n,e,t))}function xp(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Br(n,e){return function Xa(n,e,t,r){const i=ct(),o=jn(),s=Wa(2);o.firstUpdatePass&&JN(o,n,s,r),e!==mn&&Go(i,s,e)&&qN(o,o.data[qi()],i,i[11],n,i[s+1]=function VU(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Hn(Fl(n)))),n}(e,t),r,s)}(n,e,null,!0),Br}function bh(n){!function qa(n,e,t,r){const i=jn(),o=Wa(2);i.firstUpdatePass&&JN(i,null,o,r);const s=ct();if(t!==mn&&Go(s,o,t)){const a=i.data[qi()];if(eR(a,r)&&!YN(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=gc(l,t||"")),US(i,a,s,t,r)}else!function HU(n,e,t,r,i,o,s,a){i===mn&&(i=Jt);let l=0,c=0,b=0<i.length?i[0]:null,x=0<o.length?o[0]:null;for(;null!==b||null!==x;){const L=l<i.length?i[l+1]:void 0,H=c<o.length?o[c+1]:void 0;let le,z=null;b===x?(l+=2,c+=2,L!==H&&(z=x,le=H)):null===x||null!==b&&b<x?(l+=2,z=b):(c+=2,z=x,le=H),null!==z&&qN(n,e,t,r,z,le,s,a),b=l<i.length?i[l]:null,x=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function $U(n,e,t){if(null==t||""===t)return Jt;const r=[],i=Fl(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}(Kr,Ul,n,!0)}function Ul(n,e){for(let t=function kU(n){return function zN(n){Vi.key=0,Vi.keyEnd=0,Vi.value=0,Vi.valueEnd=0,Vi.textEnd=n.length}(n),jN(n,xp(n,0,Vi.textEnd))}(e);t>=0;t=jN(e,t))Kr(n,WN(e),!0)}function YN(n,e){return e>=n.expandoStartIndex}function JN(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[qi()],s=YN(n,t);eR(o,r)&&null===e&&!s&&(e=!1),e=function LU(n,e,t,r){const i=function Qg(n){const e=hn.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Sv(t=JS(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=JS(i,n,e,t,r),null===o){let l=function PU(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ya(r))return n[ea(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=JS(null,n,e,l[1],r),l=Sv(l,e.attrs,r),function FU(n,e,t,r){n[ea(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else o=function BU(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Sv(r,n[o].hostAttrs,t);return Sv(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function SU(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ea(s),l=Ya(s);n[r]=t;let b,c=!1;if(Array.isArray(t)){const x=t;b=x[1],(null===b||Pu(x,b)>0)&&(c=!0)}else b=t;if(i)if(0!==l){const L=ea(n[a+1]);n[r+1]=dp(L,a),0!==L&&(n[L+1]=gv(n[L+1],r)),n[a+1]=function TS(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=dp(a,0),0!==a&&(n[a+1]=gv(n[a+1],r)),a=r;else n[r+1]=dp(l,0),0===a?a=r:n[l+1]=gv(n[l+1],r),l=r;c&&(n[r+1]=pv(n[r+1])),GN(n,b,r,!0),GN(n,b,r,!1),function xU(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Pu(o,e)>=0&&(t[r+1]=mv(t[r+1]))}(e,b,n,r,o),s=dp(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}function JS(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=Sv(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Sv(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Kr(n,s,!!t||e[++o]))}return void 0===n?null:n}function qN(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];R0(function w0(n){return 1==(1&n)}(c)?QN(l,e,t,i,Ya(c),s):void 0)||(R0(o)||function C0(n){return 2==(2&n)}(c)&&(o=QN(l,null,t,i,a,s)),function vA(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Co.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Co.Important),n.setStyle(t,r,i,o))}}(r,s,Tl(qi(),t),i,o))}function QN(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),b=c?l[1]:l,x=null===b;let L=t[i+1];L===mn&&(L=x?Jt:void 0);let H=x?fm(L,r):b===r?L:void 0;if(c&&!R0(H)&&(H=fm(l,r)),R0(H)&&(a=H,s))return a;const z=n[i+1];i=s?ea(z):Ya(z)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=fm(l,r))}return a}function R0(n){return void 0!==n}function eR(n,e){return 0!=(n.flags&(e?16:32))}function Or(n,e=""){const t=ct(),r=jn(),i=n+22,o=r.firstCreatePass?gp(r,i,1,e,null):r.data[i],s=t[i]=function Rm(n,e){return n.createText(e)}(t[11],e);ih(r,t,s,o),ma(o,!1)}function xa(n){return zl("",n,""),xa}function zl(n,e,t){const r=ct(),i=yp(r,n,e,t);return i!==mn&&function Zc(n,e,t){const r=Tl(e,n);!function yC(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,qi(),i),zl}function Ch(n,e,t){const r=ct();return Go(r,Du(),e)&&ta(jn(),Jn(),r,n,e,r[11],t,!0),Ch}const wh=void 0;var az=["en",[["a","p"],["AM","PM"],wh],[["AM","PM"],wh,wh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wh,"{1} 'at' {0}",wh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sz(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let Tp={};function fs(n){const e=function lz(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=CR(e);if(t)return t;const r=e.split("-")[0];if(t=CR(r),t)return t;if("en"===r)return az;throw new yt(701,!1)}function CR(n){return n in Tp||(Tp[n]=wr.ng&&wr.ng.common&&wr.ng.common.locales&&wr.ng.common.locales[n]),Tp[n]}var $t=(()=>(($t=$t||{})[$t.LocaleId=0]="LocaleId",$t[$t.DayPeriodsFormat=1]="DayPeriodsFormat",$t[$t.DayPeriodsStandalone=2]="DayPeriodsStandalone",$t[$t.DaysFormat=3]="DaysFormat",$t[$t.DaysStandalone=4]="DaysStandalone",$t[$t.MonthsFormat=5]="MonthsFormat",$t[$t.MonthsStandalone=6]="MonthsStandalone",$t[$t.Eras=7]="Eras",$t[$t.FirstDayOfWeek=8]="FirstDayOfWeek",$t[$t.WeekendRange=9]="WeekendRange",$t[$t.DateFormat=10]="DateFormat",$t[$t.TimeFormat=11]="TimeFormat",$t[$t.DateTimeFormat=12]="DateTimeFormat",$t[$t.NumberSymbols=13]="NumberSymbols",$t[$t.NumberFormats=14]="NumberFormats",$t[$t.CurrencyCode=15]="CurrencyCode",$t[$t.CurrencySymbol=16]="CurrencySymbol",$t[$t.CurrencyName=17]="CurrencyName",$t[$t.Currencies=18]="Currencies",$t[$t.Directionality=19]="Directionality",$t[$t.PluralCase=20]="PluralCase",$t[$t.ExtraData=21]="ExtraData",$t))();const Ep="en-US";let wR=Ep;function ex(n,e,t,r,i){if(n=rn(n),Array.isArray(n))for(let o=0;o<n.length;o++)ex(n[o],e,t,r,i);else{const o=jn(),s=ct();let a=Hl(n)?n:rn(n.provide),l=YC(n);const c=wi(),b=1048575&c.providerIndexes,x=c.directiveStart,L=c.providerIndexes>>20;if(Hl(n)||!n.multi){const H=new ni(l,i,Be),z=nx(a,e,i?b:b+L,x);-1===z?(Ru(jd(c,s),o,a),tx(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(H),s.push(H)):(t[z]=H,s[z]=H)}else{const H=nx(a,e,b+L,x),z=nx(a,e,b,b+L),le=H>=0&&t[H],de=z>=0&&t[z];if(i&&!de||!i&&!le){Ru(jd(c,s),o,a);const Ce=function r9(n,e,t,r,i){const o=new ni(n,t,Be);return o.multi=[],o.index=e,o.componentProviders=0,zR(o,i,r&&!t),o}(i?n9:t9,t.length,i,r,l);!i&&de&&(t[z].providerFactory=Ce),tx(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(Ce),s.push(Ce)}else tx(o,n,H>-1?H:z,zR(t[i?z:H],l,!i&&r));!i&&r&&de&&t[z].componentProviders++}}}function tx(n,e,t,r){const i=Hl(e),o=function dh(n){return!!n.useClass}(e);if(i||o){const l=(o?rn(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const b=c.indexOf(t);-1===b?c.push(t,[r,l]):c[b+1].push(r,l)}else c.push(t,l)}}}function zR(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function nx(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function t9(n,e,t,r){return rx(this.multi,[])}function n9(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Kd(t,t[1],this.providerFactory.index,r);o=a.slice(0,s),rx(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],rx(i,o);return o}function rx(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function gr(n,e=[]){return t=>{t.providersResolver=(r,i)=>function e9(n,e,t){const r=jn();if(r.firstCreatePass){const i=ns(n);ex(t,r.data,r.blueprint,i,!0),ex(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Ih{}class ZR{}class KR extends Ih{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new GS(this);const r=Ro(e);this._bootstrapComponents=Ka(r.bootstrap),this._r3Injector=h0(e,t,[{provide:Ih,useValue:this},{provide:fh,useValue:this.componentFactoryResolver}],Hn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ix extends ZR{constructor(e){super(),this.moduleType=e}create(e){return new KR(this.moduleType,e)}}class o9 extends Ih{constructor(e,t,r){super(),this.componentFactoryResolver=new GS(this),this.instance=null;const i=new KC([...e,{provide:Ih,useValue:this},{provide:fh,useValue:this.componentFactoryResolver}],t||no(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function B0(n,e,t=null){return new o9(n,e,t).injector}let s9=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=jr(0,t.type),i=r.length>0?B0([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Ft({token:n,providedIn:"environment",factory:()=>new n(Et(ls))}),n})();function ox(n){n.getStandaloneInjector=e=>e.get(s9).getOrCreateStandaloneInjector(n)}function ps(n,e,t,r){return function tO(n,e,t,r,i,o){const s=e+t;return Go(n,s,i)?Wl(n,s+1,o?r.call(o,i):r(i)):Nv(n,s+1)}(ct(),Gr(),n,e,t,r)}function $0(n,e,t,r,i,o){return function rO(n,e,t,r,i,o,s,a){const l=e+t;return D0(n,l,i,o,s)?Wl(n,l+3,a?r.call(a,i,o,s):r(i,o,s)):Nv(n,l+3)}(ct(),Gr(),n,e,t,r,i,o)}function Nv(n,e){const t=n[e];return t===mn?void 0:t}function ax(n){return e=>{setTimeout(n,void 0,e)}}const at=class k9 extends S{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=ax(o),i&&(i=ax(i)),s&&(s=ax(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof we&&e.add(a),a}};function D9(){return this._results[vh()]()}class lx{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=vh(),r=lx.prototype;r[t]||(r[t]=D9)}get changes(){return this._changes||(this._changes=new at)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=$o(e);(this._changesDetected=!function zb(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ii=(()=>{class n{}return n.__NG_ELEMENT_ID__=R9,n})();const M9=ii,N9=class extends M9{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=_0(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),NS(r,i,e),new Cv(i)}};function R9(){return H0(wi(),ct())}function H0(n,e){return 4&n.type?new N9(e,n,Gu(n,e)):null}let Ta=(()=>{class n{}return n.__NG_ELEMENT_ID__=O9,n})();function O9(){return lO(wi(),ct())}const L9=Ta,sO=class extends L9{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Gu(this._hostTNode,this._hostLView)}get injector(){return new Dc(this._hostTNode,this._hostLView)}get parentInjector(){const e=Hf(this._hostTNode,this._hostLView);if(Rb(e)){const t=Nu(e,this._hostLView),r=va(e);return new Dc(t[1].data[r+8],t)}return new Dc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=aO(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(e,t,r,i,o){const s=e&&!function Jd(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const x=t||{};a=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}const l=s?e:new wv(ur(e)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const L=(s?c:this.parentInjector).get(ls,null);L&&(o=L)}const b=l.create(c,i,void 0,o);return this.insert(b.hostView,a),b}insert(e,t){const r=e._lView,i=r[1];if(function f1(n){return Xt(n[3])}(r)){const b=this.indexOf(e);if(-1!==b)this.detach(b);else{const x=r[3],L=new sO(x,x[6],x[3]);L.detach(L.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function uA(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],Zb(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function dA(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,s,o);const a=Bm(o,s),l=r[11],c=Qf(l,s[7]);return null!==c&&function aA(n,e,t,r,i,o){r[0]=i,r[6]=e,sh(n,r,t,1,i,o)}(i,s[6],l,r,c,a),e.attachToViewContainerRef(),Zb(cx(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=aO(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Lm(this._lContainer,t);r&&(Gf(cx(this._lContainer),t),CC(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Lm(this._lContainer,t);return r&&null!=Gf(cx(this._lContainer),t)?new Cv(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function aO(n){return n[8]}function cx(n){return n[8]||(n[8]=[])}function lO(n,e){let t;const r=e[n.index];if(Xt(r))t=r;else{let i;if(8&n.type)i=ti(r);else{const o=e[11];i=o.createComment("");const s=vo(n,e);Wc(o,Qf(o,s),i,function pA(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=uN(r,e,i,n),S0(e,t)}return new sO(t,n,e)}class ux{constructor(e){this.queryList=e,this.matches=null}clone(){return new ux(this.queryList)}setDirty(){this.queryList.setDirty()}}class dx{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new dx(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==fO(e,t).matches&&this.queries[t].setDirty()}}class cO{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class hx{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new hx(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class fx{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new fx(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,B9(t,o)),this.matchTNodeWithReadOption(e,t,Zd(t,e,o,!1,!1))}else r===ii?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Zd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===or||i===Ta||i===ii&&4&t.type)this.addMatch(t.index,-2);else{const o=Zd(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function B9(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function H9(n,e,t,r){return-1===t?function $9(n,e){return 11&n.type?Gu(n,e):4&n.type?H0(n,e):null}(e,n):-2===t?function V9(n,e,t){return t===or?Gu(e,n):t===ii?H0(e,n):t===Ta?lO(e,n):void 0}(n,e,r):Kd(n,n[1],t,e)}function uO(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:H9(e,o[c],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function px(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=uO(n,e,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],b=e[-l];for(let x=10;x<b.length;x++){const L=b[x];L[17]===L[3]&&px(L[1],L,c,r)}if(null!==b[9]){const x=b[9];for(let L=0;L<x.length;L++){const H=x[L];px(H[1],H,c,r)}}}}}return r}function sr(n){const e=ct(),t=jn(),r=Ab();em(r+1);const i=fO(t,r);if(n.dirty&&function Tu(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?px(t,e,r,[]):uO(t,e,i,r);n.reset(o,KA),n.notifyOnChanges()}return!0}return!1}function Qa(n,e,t){const r=jn();r.firstCreatePass&&(hO(r,new cO(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),dO(r,ct(),e)}function ar(){return function G9(n,e){return n[19].queries[e].queryList}(ct(),Ab())}function dO(n,e,t){const r=new lx(4==(4&t));tN(n,e,r,r.destroy),null===e[19]&&(e[19]=new dx),e[19].queries.push(new ux(r))}function hO(n,e,t){null===n.queries&&(n.queries=new hx),n.queries.track(new fx(e,t))}function fO(n,e){return n.queries.getByIndex(e)}function el(n,e){return H0(n,e)}function G0(...n){}const W0=new zt("Application Initializer");let j0=(()=>{class n{constructor(t){this.appInits=t,this.resolve=G0,this.reject=G0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Av(o))t.push(o);else if(KS(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Et(W0,8))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lv=new zt("AppId",{providedIn:"root",factory:function NO(){return`${bx()}${bx()}${bx()}`}});function bx(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const RO=new zt("Platform Initializer"),Pv=new zt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),OO=new zt("appBootstrapListener");let cZ=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const tl=new zt("LocaleId",{providedIn:"root",factory:()=>dr(tl,Gt.Optional|Gt.SkipSelf)||function uZ(){return typeof $localize<"u"&&$localize.locale||Ep}()});class hZ{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Cx=(()=>{class n{compileModuleSync(t){return new ix(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Ka(Ro(t).declarations).reduce((s,a)=>{const l=ur(a);return l&&s.push(new wv(l)),s},[]);return new hZ(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gZ=(()=>Promise.resolve(0))();function wx(n){typeof Zone>"u"?gZ.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ar{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new at(!1),this.onMicrotaskEmpty=new at(!1),this.onStable=new at(!1),this.onError=new at(!1),typeof Zone>"u")throw new yt(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function mZ(){let n=wr.requestAnimationFrame,e=wr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function bZ(n){const e=()=>{!function yZ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(wr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,_x(n),n.isCheckStableRunning=!0,Ix(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),_x(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return FO(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),BO(n)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return FO(n),t.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),BO(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,_x(n),Ix(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ar.isInAngularZone())throw new yt(909,!1)}static assertNotInAngularZone(){if(Ar.isInAngularZone())throw new yt(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,vZ,G0,G0);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const vZ={};function Ix(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function _x(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function FO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function BO(n){n._nesting--,Ix(n)}class CZ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new at,this.onMicrotaskEmpty=new at,this.onStable=new at,this.onError=new at}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const $O=new zt(""),U0=new zt("");let xx,Ax=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xx||(function wZ(n){xx=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ar.assertNotInAngularZone(),wx(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wx(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(Et(Ar),Et(Sx),Et(U0))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})(),Sx=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return xx?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ku=null;const HO=new zt("AllowMultipleToken"),Tx=new zt("PlatformDestroyListeners");class VO{constructor(e,t){this.name=e,this.token=t}}function WO(n,e,t=[]){const r=`Platform: ${e}`,i=new zt(r);return(o=[])=>{let s=Ex();if(!s||s.injector.get(HO,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function AZ(n){if(Ku&&!Ku.get(HO,!1))throw new yt(400,!1);Ku=n;const e=n.get(UO);(function GO(n){const e=n.get(RO,null);e&&e.forEach(t=>t())})(n)}(function jO(n=[],e){return ro.create({name:e,providers:[{provide:hh,useValue:"platform"},{provide:Tx,useValue:new Set([()=>Ku=null])},...n]})}(a,r))}return function xZ(n){const e=Ex();if(!e)throw new yt(401,!1);return e}()}}function Ex(){return Ku?.get(UO)??null}let UO=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function ZO(n,e){let t;return t="noop"===n?new CZ:("zone.js"===n?void 0:n)||new Ar(e),t}(r?.ngZone,function zO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Ar,useValue:i}];return i.run(()=>{const s=ro.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),l=a.injector.get(Wu,null);if(!l)throw new yt(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:b=>{l.handleError(b)}});a.onDestroy(()=>{z0(this._modules,a),c.unsubscribe()})}),function KO(n,e,t){try{const r=t();return Av(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(j0);return c.runInitializers(),c.donePromise.then(()=>(function IR(n){No(n,"Expected localeId to be defined"),"string"==typeof n&&(wR=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(tl,Ep)||Ep),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=YO({},r);return function IZ(n,e,t){const r=new ix(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Fv);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new yt(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new yt(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Tx,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Et(ro))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function YO(n,e){return Array.isArray(e)?e.reduce(YO,n):{...n,...e}}let Fv=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new $(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new $(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Ar.assertNotInAngularZone(),wx(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ar.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=Il(o,s.pipe(function _l(n={}){const{connector:e=(()=>new S),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,c=0,b=!1,x=!1;const L=()=>{a?.unsubscribe(),a=void 0},H=()=>{L(),s=l=void 0,b=x=!1},z=()=>{const le=s;H(),le?.unsubscribe()};return N((le,de)=>{c++,!x&&!b&&L();const Ce=l=l??e();de.add(()=>{c--,0===c&&!x&&!b&&(a=da(z,i))}),Ce.subscribe(de),!s&&c>0&&(s=new g({next:ke=>Ce.next(ke),error:ke=>{x=!0,L(),a=da(H,t,ke),Ce.error(ke)},complete:()=>{b=!0,L(),a=da(H,r),Ce.complete()}}),Ur(le).subscribe(s))})(o)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof Xn;if(!this._injector.get(j0).done)throw!i&&function Au(n){const e=ur(n)||Fi(n)||Bi(n);return null!==e&&e.standalone}(t),new yt(405,false);let s;s=i?t:this._injector.get(fh).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function _Z(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Ih),c=s.create(ro.NULL,[],r||s.selector,a),b=c.location.nativeElement,x=c.injector.get($O,null);return x?.registerApplication(b),c.onDestroy(()=>{this.detachView(c.hostView),z0(this.components,c),x?.unregisterApplication(b)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new yt(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;z0(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(OO,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>z0(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new yt(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(Et(Ar),Et(ls),Et(Wu))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function z0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let XO=!0,rl=(()=>{class n{}return n.__NG_ELEMENT_ID__=kZ,n})();function kZ(n){return function DZ(n,e,t){if(Zr(n)&&!t){const r=Xi(n.index,e);return new Cv(r,r)}return 47&n.type?new Cv(e[16],e):null}(wi(),ct(),16==(16&n))}class nL{constructor(){}supports(e){return Iv(e)}create(e){return new PZ(e)}}const LZ=(n,e)=>e;class PZ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||LZ}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<iL(r,i,o)?t:r,a=iL(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,b=l-i;if(c!=b){for(let L=0;L<c;L++){const H=L<o.length?o[L]:o[L]=0,z=H+L;b<=z&&z<c&&(o[L]=H+1)}o[s.previousIndex]=b-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Iv(e))throw new yt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function mU(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[vh()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new FZ(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new rL),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rL),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class FZ{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BZ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class rL{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new BZ,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iL(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class oL{constructor(){}supports(e){return e instanceof Map||jS(e)}create(){return new $Z}}class $Z{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||jS(e)))throw new yt(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new HZ(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class HZ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sL(){return new Y0([new nL])}let Y0=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||sL()),deps:[[n,new $c,new ss]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new yt(901,!1)}}return n.\u0275prov=Ft({token:n,providedIn:"root",factory:sL}),n})();function aL(){return new Bv([new oL])}let Bv=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||aL()),deps:[[n,new $c,new ss]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new yt(901,!1)}}return n.\u0275prov=Ft({token:n,providedIn:"root",factory:aL}),n})();const WZ=WO(null,"core",[]);let jZ=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Et(Fv))},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({}),n})();function Rx(n,e){const t=ur(n),r=e.elementInjector||no();return new wv(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let J0=null;function Zl(){return J0}const gi=new zt("DocumentToken");let Ox=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:function(){return function KZ(){return Et(lL)}()},providedIn:"platform"}),n})();const YZ=new zt("Location Initialized");let lL=(()=>{class n extends Ox{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zl().getBaseHref(this._doc)}onPopState(t){const r=Zl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Zl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){cL()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){cL()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Et(gi))},n.\u0275prov=Ft({token:n,factory:function(){return function JZ(){return new lL(Et(gi))}()},providedIn:"platform"}),n})();function cL(){return!!window.history.pushState}function Lx(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function uL(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Jc(n){return n&&"?"!==n[0]?"?"+n:n}let Ah=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:function(){return dr(hL)},providedIn:"root"}),n})();const dL=new zt("appBaseHref");let hL=(()=>{class n extends Ah{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??dr(gi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Lx(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Jc(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Jc(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Jc(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Et(Ox),Et(dL,8))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XZ=(()=>{class n extends Ah{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Lx(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Jc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Jc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Et(Ox),Et(dL,8))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})(),Px=(()=>{class n{constructor(t){this._subject=new at,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=uL(fL(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Jc(r))}normalize(t){return n.stripTrailingSlash(function QZ(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,fL(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Jc(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Jc(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Jc,n.joinWithSlash=Lx,n.stripTrailingSlash=uL,n.\u0275fac=function(t){return new(t||n)(Et(Ah))},n.\u0275prov=Ft({token:n,factory:function(){return function qZ(){return new Px(Et(Ah))}()},providedIn:"root"}),n})();function fL(n){return n.replace(/\/index.html$/,"")}var Xr=(()=>((Xr=Xr||{})[Xr.Format=0]="Format",Xr[Xr.Standalone=1]="Standalone",Xr))(),wn=(()=>((wn=wn||{})[wn.Narrow=0]="Narrow",wn[wn.Abbreviated=1]="Abbreviated",wn[wn.Wide=2]="Wide",wn[wn.Short=3]="Short",wn))(),oi=(()=>((oi=oi||{})[oi.Short=0]="Short",oi[oi.Medium=1]="Medium",oi[oi.Long=2]="Long",oi[oi.Full=3]="Full",oi))(),un=(()=>((un=un||{})[un.Decimal=0]="Decimal",un[un.Group=1]="Group",un[un.List=2]="List",un[un.PercentSign=3]="PercentSign",un[un.PlusSign=4]="PlusSign",un[un.MinusSign=5]="MinusSign",un[un.Exponential=6]="Exponential",un[un.SuperscriptingExponent=7]="SuperscriptingExponent",un[un.PerMille=8]="PerMille",un[un.Infinity=9]="Infinity",un[un.NaN=10]="NaN",un[un.TimeSeparator=11]="TimeSeparator",un[un.CurrencyDecimal=12]="CurrencyDecimal",un[un.CurrencyGroup=13]="CurrencyGroup",un))();function gL(n,e,t){const r=fs(n),o=ka([r[$t.DaysFormat],r[$t.DaysStandalone]],e);return ka(o,t)}function Fx(n,e,t){const r=fs(n),o=ka([r[$t.MonthsFormat],r[$t.MonthsStandalone]],e);return ka(o,t)}function X0(n,e){return ka(fs(n)[$t.DateFormat],e)}function q0(n,e){return ka(fs(n)[$t.TimeFormat],e)}function Q0(n,e){return ka(fs(n)[$t.DateTimeFormat],e)}function Ea(n,e){const t=fs(n),r=t[$t.NumberSymbols][e];if(typeof r>"u"){if(e===un.CurrencyDecimal)return t[$t.NumberSymbols][un.Decimal];if(e===un.CurrencyGroup)return t[$t.NumberSymbols][un.Group]}return r}function mL(n){if(!n[$t.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[$t.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ka(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function $x(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const u4=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$v={},d4=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Gi=(()=>((Gi=Gi||{})[Gi.Short=0]="Short",Gi[Gi.ShortGMT=1]="ShortGMT",Gi[Gi.Long=2]="Long",Gi[Gi.Extended=3]="Extended",Gi))(),fn=(()=>((fn=fn||{})[fn.FullYear=0]="FullYear",fn[fn.Month=1]="Month",fn[fn.Date=2]="Date",fn[fn.Hours=3]="Hours",fn[fn.Minutes=4]="Minutes",fn[fn.Seconds=5]="Seconds",fn[fn.FractionalSeconds=6]="FractionalSeconds",fn[fn.Day=7]="Day",fn))(),En=(()=>((En=En||{})[En.DayPeriods=0]="DayPeriods",En[En.Days=1]="Days",En[En.Months=2]="Months",En[En.Eras=3]="Eras",En))();function vL(n,e,t,r){let i=function C4(n){if(CL(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,o=1,s=1]=n.split("-").map(a=>+a);return ew(i,o-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(u4))return function w4(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,s,a,l,c),e}(r)}const e=new Date(n);if(!CL(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Xc(t,e)||e;let a,s=[];for(;e;){if(a=d4.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const b=s.pop();if(!b)break;e=b}}let l=i.getTimezoneOffset();r&&(l=bL(r,l),i=function b4(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function y4(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(bL(e,i)-i))}(i,r,!0));let c="";return s.forEach(b=>{const x=function v4(n){if(Vx[n])return Vx[n];let e;switch(n){case"G":case"GG":case"GGG":e=$r(En.Eras,wn.Abbreviated);break;case"GGGG":e=$r(En.Eras,wn.Wide);break;case"GGGGG":e=$r(En.Eras,wn.Narrow);break;case"y":e=Ni(fn.FullYear,1,0,!1,!0);break;case"yy":e=Ni(fn.FullYear,2,0,!0,!0);break;case"yyy":e=Ni(fn.FullYear,3,0,!1,!0);break;case"yyyy":e=Ni(fn.FullYear,4,0,!1,!0);break;case"Y":e=iw(1);break;case"YY":e=iw(2,!0);break;case"YYY":e=iw(3);break;case"YYYY":e=iw(4);break;case"M":case"L":e=Ni(fn.Month,1,1);break;case"MM":case"LL":e=Ni(fn.Month,2,1);break;case"MMM":e=$r(En.Months,wn.Abbreviated);break;case"MMMM":e=$r(En.Months,wn.Wide);break;case"MMMMM":e=$r(En.Months,wn.Narrow);break;case"LLL":e=$r(En.Months,wn.Abbreviated,Xr.Standalone);break;case"LLLL":e=$r(En.Months,wn.Wide,Xr.Standalone);break;case"LLLLL":e=$r(En.Months,wn.Narrow,Xr.Standalone);break;case"w":e=Hx(1);break;case"ww":e=Hx(2);break;case"W":e=Hx(1,!0);break;case"d":e=Ni(fn.Date,1);break;case"dd":e=Ni(fn.Date,2);break;case"c":case"cc":e=Ni(fn.Day,1);break;case"ccc":e=$r(En.Days,wn.Abbreviated,Xr.Standalone);break;case"cccc":e=$r(En.Days,wn.Wide,Xr.Standalone);break;case"ccccc":e=$r(En.Days,wn.Narrow,Xr.Standalone);break;case"cccccc":e=$r(En.Days,wn.Short,Xr.Standalone);break;case"E":case"EE":case"EEE":e=$r(En.Days,wn.Abbreviated);break;case"EEEE":e=$r(En.Days,wn.Wide);break;case"EEEEE":e=$r(En.Days,wn.Narrow);break;case"EEEEEE":e=$r(En.Days,wn.Short);break;case"a":case"aa":case"aaa":e=$r(En.DayPeriods,wn.Abbreviated);break;case"aaaa":e=$r(En.DayPeriods,wn.Wide);break;case"aaaaa":e=$r(En.DayPeriods,wn.Narrow);break;case"b":case"bb":case"bbb":e=$r(En.DayPeriods,wn.Abbreviated,Xr.Standalone,!0);break;case"bbbb":e=$r(En.DayPeriods,wn.Wide,Xr.Standalone,!0);break;case"bbbbb":e=$r(En.DayPeriods,wn.Narrow,Xr.Standalone,!0);break;case"B":case"BB":case"BBB":e=$r(En.DayPeriods,wn.Abbreviated,Xr.Format,!0);break;case"BBBB":e=$r(En.DayPeriods,wn.Wide,Xr.Format,!0);break;case"BBBBB":e=$r(En.DayPeriods,wn.Narrow,Xr.Format,!0);break;case"h":e=Ni(fn.Hours,1,-12);break;case"hh":e=Ni(fn.Hours,2,-12);break;case"H":e=Ni(fn.Hours,1);break;case"HH":e=Ni(fn.Hours,2);break;case"m":e=Ni(fn.Minutes,1);break;case"mm":e=Ni(fn.Minutes,2);break;case"s":e=Ni(fn.Seconds,1);break;case"ss":e=Ni(fn.Seconds,2);break;case"S":e=Ni(fn.FractionalSeconds,1);break;case"SS":e=Ni(fn.FractionalSeconds,2);break;case"SSS":e=Ni(fn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=nw(Gi.Short);break;case"ZZZZZ":e=nw(Gi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=nw(Gi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=nw(Gi.Long);break;default:return null}return Vx[n]=e,e}(b);c+=x?x(i,t,l):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function ew(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Xc(n,e){const t=function e4(n){return fs(n)[$t.LocaleId]}(n);if($v[t]=$v[t]||{},$v[t][e])return $v[t][e];let r="";switch(e){case"shortDate":r=X0(n,oi.Short);break;case"mediumDate":r=X0(n,oi.Medium);break;case"longDate":r=X0(n,oi.Long);break;case"fullDate":r=X0(n,oi.Full);break;case"shortTime":r=q0(n,oi.Short);break;case"mediumTime":r=q0(n,oi.Medium);break;case"longTime":r=q0(n,oi.Long);break;case"fullTime":r=q0(n,oi.Full);break;case"short":const i=Xc(n,"shortTime"),o=Xc(n,"shortDate");r=tw(Q0(n,oi.Short),[i,o]);break;case"medium":const s=Xc(n,"mediumTime"),a=Xc(n,"mediumDate");r=tw(Q0(n,oi.Medium),[s,a]);break;case"long":const l=Xc(n,"longTime"),c=Xc(n,"longDate");r=tw(Q0(n,oi.Long),[l,c]);break;case"full":const b=Xc(n,"fullTime"),x=Xc(n,"fullDate");r=tw(Q0(n,oi.Full),[b,x])}return r&&($v[t][e]=r),r}function tw(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function il(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function Ni(n,e,t=0,r=!1,i=!1){return function(o,s){let a=function f4(n,e){switch(n){case fn.FullYear:return e.getFullYear();case fn.Month:return e.getMonth();case fn.Date:return e.getDate();case fn.Hours:return e.getHours();case fn.Minutes:return e.getMinutes();case fn.Seconds:return e.getSeconds();case fn.FractionalSeconds:return e.getMilliseconds();case fn.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||a>-t)&&(a+=t),n===fn.Hours)0===a&&-12===t&&(a=12);else if(n===fn.FractionalSeconds)return function h4(n,e){return il(n,3).substring(0,e)}(a,e);const l=Ea(s,un.MinusSign);return il(a,e,l,r,i)}}function $r(n,e,t=Xr.Format,r=!1){return function(i,o){return function p4(n,e,t,r,i,o){switch(t){case En.Months:return Fx(e,i,r)[n.getMonth()];case En.Days:return gL(e,i,r)[n.getDay()];case En.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function o4(n){const e=fs(n);return mL(e),(e[$t.ExtraData][2]||[]).map(r=>"string"==typeof r?$x(r):[$x(r[0]),$x(r[1])])}(e),b=function s4(n,e,t){const r=fs(n);mL(r);const o=ka([r[$t.ExtraData][0],r[$t.ExtraData][1]],e)||[];return ka(o,t)||[]}(e,i,r),x=c.findIndex(L=>{if(Array.isArray(L)){const[H,z]=L,le=s>=H.hours&&a>=H.minutes,de=s<z.hours||s===z.hours&&a<z.minutes;if(H.hours<z.hours){if(le&&de)return!0}else if(le||de)return!0}else if(L.hours===s&&L.minutes===a)return!0;return!1});if(-1!==x)return b[x]}return function t4(n,e,t){const r=fs(n),o=ka([r[$t.DayPeriodsFormat],r[$t.DayPeriodsStandalone]],e);return ka(o,t)}(e,i,r)[s<12?0:1];case En.Eras:return function n4(n,e){return ka(fs(n)[$t.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,o,n,e,t,r)}}function nw(n){return function(e,t,r){const i=-1*r,o=Ea(t,un.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Gi.Short:return(i>=0?"+":"")+il(s,2,o)+il(Math.abs(i%60),2,o);case Gi.ShortGMT:return"GMT"+(i>=0?"+":"")+il(s,1,o);case Gi.Long:return"GMT"+(i>=0?"+":"")+il(s,2,o)+":"+il(Math.abs(i%60),2,o);case Gi.Extended:return 0===r?"Z":(i>=0?"+":"")+il(s,2,o)+":"+il(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function yL(n){return ew(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Hx(n,e=!1){return function(t,r){let i;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{const o=yL(t),s=function m4(n){const e=ew(n,0,1).getDay();return ew(n,0,1+(e<=4?4:11)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return il(i,n,Ea(r,un.MinusSign))}}function iw(n,e=!1){return function(t,r){return il(yL(t).getFullYear(),n,Ea(r,un.MinusSign),e)}}const Vx={};function bL(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function CL(n){return n instanceof Date&&!isNaN(n.valueOf())}function AL(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}let SL=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Iv(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Hn(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(Be(Y0),Be(Bv),Be(or),Be(cs))},n.\u0275dir=Dt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class O4{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kl=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new O4(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),EL(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{EL(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(Be(Ta),Be(ii),Be(Y0))},n.\u0275dir=Dt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function EL(n,e){n.context.$implicit=e.item}let qc=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new P4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){kL("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){kL("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(Be(Ta),Be(ii))},n.\u0275dir=Dt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class P4{constructor(){this.$implicit=null,this.ngIf=null}}function kL(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Hn(e)}'.`)}class Zx{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let sw=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Dt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),DL=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Zx(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(Be(Ta),Be(ii),Be(sw,9))},n.\u0275dir=Dt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Sh=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=r.createEmbeddedView(i,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(Be(Ta))},n.\u0275dir=Dt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ui]}),n})(),Wo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({}),n})();const RL="browser";let uK=(()=>{class n{}return n.\u0275prov=Ft({token:n,providedIn:"root",factory:()=>new dK(Et(gi),window)}),n})();class dK{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function hK(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=LL(this.window.history)||LL(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function LL(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class PL{}class qx extends class $K extends class ZZ{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function zZ(n){J0||(J0=n)}(new qx)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function HK(){return Gv=Gv||document.querySelector("base"),Gv?Gv.getAttribute("href"):null}();return null==t?null:function VK(n){cw=cw||document.createElement("a"),cw.setAttribute("href",n);const e=cw.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Gv=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return AL(document.cookie,e)}}let cw,Gv=null;const VL=new zt("TRANSITION_ID"),WK=[{provide:W0,useFactory:function GK(n,e,t){return()=>{t.get(j0).donePromise.then(()=>{const r=Zl(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[VL,gi,ro],multi:!0}];let UK=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})();const uw=new zt("EventManagerPlugins");let dw=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Et(uw),Et(Ar))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})();class GL{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Zl().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let WL=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})(),Wv=(()=>{class n extends WL{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(jL),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(jL))}}return n.\u0275fac=function(t){return new(t||n)(Et(gi))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})();function jL(n){Zl().remove(n)}const Qx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},eT=/%COMP%/g;function hw(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?hw(n,i,t):(i=i.replace(eT,n),t.push(i))}return t}function ZL(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let tT=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new nT(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case fa.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new XK(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case fa.ShadowDom:return new qK(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=hw(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Et(dw),Et(Wv),Et(Lv))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})();class nT{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Qx[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(YL(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(YL(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Qx[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Qx[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Co.DashCase|Co.Important)?e.style.setProperty(t,r,i&Co.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Co.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ZL(r)):this.eventManager.addEventListener(e,t,ZL(r))}}function YL(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class XK extends nT{constructor(e,t,r,i){super(e),this.component=r;const o=hw(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function KK(n){return"_ngcontent-%COMP%".replace(eT,n)}(i+"-"+r.id),this.hostAttr=function YK(n){return"_nghost-%COMP%".replace(eT,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class qK extends nT{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=hw(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let QK=(()=>{class n extends GL{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(Et(gi))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})();const JL=["alt","control","meta","shift"],e8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},t8={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let n8=(()=>{class n extends GL{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zl().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),JL.forEach(c=>{const b=r.indexOf(c);b>-1&&(r.splice(b,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=e8[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),JL.forEach(s=>{s!==i&&(0,t8[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(Et(gi))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})();const qL=[{provide:Pv,useValue:RL},{provide:RO,useValue:function r8(){qx.makeCurrent()},multi:!0},{provide:gi,useFactory:function o8(){return function CA(n){np=n}(document),document},deps:[]}],s8=WO(WZ,"browser",qL),QL=new zt(""),eP=[{provide:U0,useClass:class jK{addToWindow(e){wr.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},wr.getAllAngularTestabilities=()=>e.getAllTestabilities(),wr.getAllAngularRootElements=()=>e.getAllRootElements(),wr.frameworkStabilizers||(wr.frameworkStabilizers=[]),wr.frameworkStabilizers.push(r=>{const i=wr.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Zl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:$O,useClass:Ax,deps:[Ar,Sx,U0]},{provide:Ax,useClass:Ax,deps:[Ar,Sx,U0]}],tP=[{provide:hh,useValue:"root"},{provide:Wu,useFactory:function i8(){return new Wu},deps:[]},{provide:uw,useClass:QK,multi:!0,deps:[gi,Ar,Pv]},{provide:uw,useClass:n8,multi:!0,deps:[gi]},{provide:tT,useClass:tT,deps:[dw,Wv,Lv]},{provide:iv,useExisting:tT},{provide:WL,useExisting:Wv},{provide:Wv,useClass:Wv,deps:[gi]},{provide:dw,useClass:dw,deps:[uw,Ar]},{provide:PL,useClass:UK,deps:[]},[]];let a8=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Lv,useValue:t.appId},{provide:VL,useExisting:Lv},WK]}}}return n.\u0275fac=function(t){return new(t||n)(Et(QL,12))},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({providers:[...tP,...eP],imports:[Wo,jZ]}),n})(),nP=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(Et(gi))},n.\u0275prov=Ft({token:n,factory:function(t){let r=null;return r=t?new t:function c8(){return new nP(Et(gi))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const{isArray:v8}=Array,{getPrototypeOf:y8,prototype:b8,keys:C8}=Object;function oP(n){if(1===n.length){const e=n[0];if(v8(e))return{args:e,keys:null};if(function w8(n){return n&&"object"==typeof n&&y8(n)===b8}(e)){const t=C8(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:I8}=Array;function oT(n){return Q(e=>function _8(n,e){return I8(e)?n(...e):n(e)}(n,e))}function sP(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let aP=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(Be(cs),Be(or))},n.\u0275dir=Dt({type:n}),n})(),xh=(()=>{class n extends aP{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=di(n)))(r||n)}}(),n.\u0275dir=Dt({type:n,features:[hr]}),n})();const ms=new zt("NgValueAccessor"),S8={provide:ms,useExisting:yn(()=>sT),multi:!0};let sT=(()=>{class n extends xh{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=di(n)))(r||n)}}(),n.\u0275dir=Dt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&Dn("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[gr([S8]),hr]}),n})();const x8={provide:ms,useExisting:yn(()=>fw),multi:!0},E8=new zt("CompositionEventMode");let fw=(()=>{class n extends aP{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function T8(){const n=Zl()?Zl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(Be(cs),Be(or),Be(E8,8))},n.\u0275dir=Dt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Dn("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[gr([x8]),hr]}),n})();function Ju(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function lP(n){return null!=n&&"number"==typeof n.length}const io=new zt("NgValidators"),Xu=new zt("NgAsyncValidators"),D8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class aT{static min(e){return function cP(n){return e=>{if(Ju(e.value)||Ju(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function uP(n){return e=>{if(Ju(e.value)||Ju(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function dP(n){return Ju(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function hP(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function fP(n){return Ju(n.value)||D8.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function pP(n){return e=>Ju(e.value)||!lP(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function gP(n){return e=>lP(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function mP(n){if(!n)return pw;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ju(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return IP(e)}static composeAsync(e){return _P(e)}}function pw(n){return null}function vP(n){return null!=n}function yP(n){return Av(n)?Cr(n):n}function bP(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function CP(n,e){return e.map(t=>t(n))}function wP(n){return n.map(e=>function M8(n){return!n.validate}(e)?e:t=>e.validate(t))}function IP(n){if(!n)return null;const e=n.filter(vP);return 0==e.length?null:function(t){return bP(CP(t,e))}}function lT(n){return null!=n?IP(wP(n)):null}function _P(n){if(!n)return null;const e=n.filter(vP);return 0==e.length?null:function(t){return function A8(...n){const e=An(n),{args:t,keys:r}=oP(n),i=new $(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let b=0;b<s;b++){let x=!1;Ur(t[b]).subscribe(K(o,L=>{x||(x=!0,c--),a[b]=L},()=>l--,void 0,()=>{(!l||!x)&&(c||o.next(r?sP(r,a):a),o.complete())}))}});return e?i.pipe(oT(e)):i}(CP(t,e).map(yP)).pipe(Q(bP))}}function cT(n){return null!=n?_P(wP(n)):null}function AP(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function SP(n){return n._rawValidators}function xP(n){return n._rawAsyncValidators}function uT(n){return n?Array.isArray(n)?n:[n]:[]}function gw(n,e){return Array.isArray(n)?n.includes(e):n===e}function TP(n,e){const t=uT(e);return uT(n).forEach(i=>{gw(t,i)||t.push(i)}),t}function EP(n,e){return uT(e).filter(t=>!gw(n,t))}class kP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=lT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=cT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class vs extends kP{get formDirective(){return null}get path(){return null}}class qu extends kP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class DP{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let MP=(()=>{class n extends DP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(Be(qu,2))},n.\u0275dir=Dt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Br("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[hr]}),n})(),NP=(()=>{class n extends DP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(Be(vs,10))},n.\u0275dir=Dt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Br("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[hr]}),n})();const jv="VALID",vw="INVALID",Mp="PENDING",Uv="DISABLED";function pT(n){return(yw(n)?n.validators:n)||null}function OP(n){return Array.isArray(n)?lT(n):n||null}function gT(n,e){return(yw(e)?e.asyncValidators:n)||null}function LP(n){return Array.isArray(n)?cT(n):n||null}function yw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function PP(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new yt(1e3,"");if(!r[t])throw new yt(1001,"")}function FP(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new yt(1002,"")})}class bw{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=OP(this._rawValidators),this._composedAsyncValidatorFn=LP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===jv}get invalid(){return this.status===vw}get pending(){return this.status==Mp}get disabled(){return this.status===Uv}get enabled(){return this.status!==Uv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=OP(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=LP(e)}addValidators(e){this.setValidators(TP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(EP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(EP(e,this._rawAsyncValidators))}hasValidator(e){return gw(this._rawValidators,e)}hasAsyncValidator(e){return gw(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Mp,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Uv,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=jv,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jv||this.status===Mp)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uv:jv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Mp,this._hasOwnPendingAsyncValidator=!0;const t=yP(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new at,this.statusChanges=new at}_calculateStatus(){return this._allControlsDisabled()?Uv:this.errors?vw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mp)?Mp:this._anyControlsHaveStatus(vw)?vw:jv}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class zv extends bw{constructor(e,t,r){super(pT(t),gT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){FP(this,0,e),Object.keys(e).forEach(r=>{PP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class BP extends zv{}function Zv(n,e){mT(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function $8(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&$P(n,e)})}(n,e),function V8(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function H8(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&$P(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function B8(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ww(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),_w(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Iw(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mT(n,e){const t=SP(n);null!==e.validator?n.setValidators(AP(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=xP(n);null!==e.asyncValidator?n.setAsyncValidators(AP(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Iw(e._rawValidators,i),Iw(e._rawAsyncValidators,i)}function _w(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=SP(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=xP(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return Iw(e._rawValidators,r),Iw(e._rawAsyncValidators,r),t}function $P(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function WP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function jP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Np=class extends bw{constructor(e=null,t,r){super(pT(t),gT(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yw(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=jP(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){WP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){WP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){jP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let YP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Dt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const J8={provide:ms,useExisting:yn(()=>CT),multi:!0};let CT=(()=>{class n extends xh{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=di(n)))(r||n)}}(),n.\u0275dir=Dt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&Dn("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[gr([J8]),hr]}),n})(),JP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({}),n})();const wT=new zt("NgModelWithFormControlWarning"),t7={provide:vs,useExisting:yn(()=>Aw)};let Aw=(()=>{class n extends vs{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new at,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_w(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Zv(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ww(t.control||null,t,!1),function U8(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function GP(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(ww(r||null,t),(n=>n instanceof Np)(i)&&(Zv(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function HP(n,e){mT(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function G8(n,e){return _w(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mT(this.form,this),this._oldForm&&_w(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(Be(io,10),Be(Xu,10))},n.\u0275dir=Dt({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Dn("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gr([t7]),hr,ui]}),n})();const i7={provide:qu,useExisting:yn(()=>AT)};let AT=(()=>{class n extends qu{constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new at,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function yT(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===fw?t=o:function j8(n){return Object.getPrototypeOf(n.constructor)===xh}(o)?r=o:i=o}),i||r||t||null}(0,o)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function vT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Cw(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(Be(vs,13),Be(io,10),Be(Xu,10),Be(ms,10),Be(wT,8))},n.\u0275dir=Dt({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[gr([i7]),hr,ui]}),n})();const o7={provide:ms,useExisting:yn(()=>Sw),multi:!0};function tF(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Sw=(()=>{class n extends xh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=tF(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function s7(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=di(n)))(r||n)}}(),n.\u0275dir=Dt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&Dn("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[gr([o7]),hr]}),n})(),ST=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(tF(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(Be(or),Be(cs),Be(Sw,9))},n.\u0275dir=Dt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const a7={provide:ms,useExisting:yn(()=>xw),multi:!0};function nF(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let xw=(()=>{class n extends xh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);i.push(c)}}else{const s=r.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function l7(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=di(n)))(r||n)}}(),n.\u0275dir=Dt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&Dn("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[gr([a7]),hr]}),n})(),xT=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(nF(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(nF(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(Be(or),Be(cs),Be(xw,9))},n.\u0275dir=Dt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),hF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[JP]}),n})(),Tw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[hF]}),n})(),fF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:wT,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[hF]}),n})();class pF extends bw{constructor(e,t,r){super(pT(t),gT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){FP(this,0,e),e.forEach((r,i)=>{PP(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function gF(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let v7=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return gF(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new zv(i,o)}record(t,r=null){const i=this._reduceControls(t);return new BP(i,r)}control(t,r,i){let o={};return this.useNonNullable?(gF(r)?o=r:(o.validators=r,o.asyncValidators=i),new Np(t,{...o,nonNullable:!0})):new Np(t,r,i)}array(t,r,i){const o=t.map(s=>this._createControl(s));return new pF(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Np||t instanceof bw?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:fF}),n})();function Qt(...n){return Cr(n,cr(n))}class oo extends S{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Ew=me(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function kw(...n){const e=cr(n),t=An(n),{args:r,keys:i}=oP(n);if(0===r.length)return Cr([],e);const o=new $(function y7(n,e,t=E){return r=>{mF(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)mF(e,()=>{const c=Cr(n[l],e);let b=!1;c.subscribe(K(r,x=>{o[l]=x,b||(b=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>sP(i,s):E));return t?o.pipe(oT(t)):o}function mF(n,e,t){n?xt(t,n,e):e()}function Yv(...n){return function b7(){return Nn(1)}()(Cr(n,cr(n)))}function vF(n){return new $(e=>{Ur(n()).subscribe(e)})}function Jv(n,e){const t=kn(n)?n:()=>n,r=i=>i.error(t());return new $(e?i=>e.schedule(r,0,i):r)}function ET(){return N((n,e)=>{let t=null;n._refCount++;const r=K(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class yF extends ${constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,X(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new we;const t=this.getSubject();e.add(this.source.subscribe(K(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=we.EMPTY)}return e}refCount(){return ET()(this)}}function Da(n,e){return N((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(K(r,l=>{i?.unsubscribe();let c=0;const b=o++;Ur(n(l,b)).subscribe(i=K(r,x=>r.next(e?e(l,x,b,c++):x),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function so(n){return n<=0?()=>Kn:N((e,t)=>{let r=0;e.subscribe(K(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Wi(n,e){return N((t,r)=>{let i=0;t.subscribe(K(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Mw(n){return N((e,t)=>{let r=!1;e.subscribe(K(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function bF(n=C7){return N((e,t)=>{let r=!1;e.subscribe(K(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function C7(){return new Ew}function Qu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Wi((i,o)=>n(i,o,r)):E,so(1),t?Mw(e):bF(()=>new Ew))}function ed(n,e){return kn(e)?tn(n,e,1):tn(n,1)}function ao(n,e,t){const r=kn(n)||e||t?{next:n,error:e,complete:t}:n;return r?N((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(K(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):E}function td(n){return N((e,t)=>{let o,r=null,i=!1;r=e.subscribe(K(t,void 0,void 0,s=>{o=Ur(n(s,td(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function w7(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(K(s,b=>{const x=c++;l=a?n(l,b,x):(a=!0,b),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function CF(n,e){return N(w7(n,e,arguments.length>=2,!0))}function kT(n){return n<=0?()=>Kn:N((e,t)=>{let r=[];e.subscribe(K(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function wF(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Wi((i,o)=>n(i,o,r)):E,kT(1),t?Mw(e):bF(()=>new Ew))}function IF(n){return Q(()=>n)}function DT(n){return N((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Rn="primary",Xv=Symbol("RouteTitle");class _7{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Rp(n){return new _7(n)}function A7(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Yl(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!_F(n[i],e[i]))return!1;return!0}function _F(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function AF(n){return Array.prototype.concat.apply([],n)}function SF(n){return n.length>0?n[n.length-1]:null}function Io(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function nd(n){return KS(n)?n:Av(n)?Cr(Promise.resolve(n)):Qt(n)}const T7={exact:function EF(n,e,t){if(!kh(n.segments,e.segments)||!Nw(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!EF(n.children[r],e.children[r],t))return!1;return!0},subset:kF},xF={exact:function E7(n,e){return Yl(n,e)},subset:function k7(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>_F(n[t],e[t]))},ignored:()=>!0};function TF(n,e,t){return T7[t.paths](n.root,e.root,t.matrixParams)&&xF[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function kF(n,e,t){return DF(n,e,e.segments,t)}function DF(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!kh(i,t)||e.hasChildren()||!Nw(i,t,r))}if(n.segments.length===t.length){if(!kh(n.segments,t)||!Nw(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!kF(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(kh(n.segments,i)&&Nw(n.segments,i,r)&&n.children[Rn])&&DF(n.children[Rn],e,o,r)}}function Nw(n,e,t){return e.every((r,i)=>xF[t](n[i].parameters,r.parameters))}class Eh{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rp(this.queryParams)),this._queryParamMap}toString(){return N7.serialize(this)}}class Pn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Io(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rw(this)}}class qv{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Rp(this.parameters)),this._parameterMap}toString(){return OF(this)}}function kh(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let MF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:function(){return new NT},providedIn:"root"}),n})();class NT{parse(e){const t=new V7(e);return new Eh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Qv(e.root,!0)}`,r=function L7(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ow(t)}=${Ow(i)}`).join("&"):`${Ow(t)}=${Ow(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function R7(n){return encodeURI(n)}(e.fragment)}`:""}`}}const N7=new NT;function Rw(n){return n.segments.map(e=>OF(e)).join("/")}function Qv(n,e){if(!n.hasChildren())return Rw(n);if(e){const t=n.children[Rn]?Qv(n.children[Rn],!1):"",r=[];return Io(n.children,(i,o)=>{o!==Rn&&r.push(`${o}:${Qv(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function M7(n,e){let t=[];return Io(n.children,(r,i)=>{i===Rn&&(t=t.concat(e(r,i)))}),Io(n.children,(r,i)=>{i!==Rn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Rn?[Qv(n.children[Rn],!1)]:[`${i}:${Qv(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rn]?`${Rw(n)}/${t[0]}`:`${Rw(n)}/(${t.join("//")})`}}function NF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ow(n){return NF(n).replace(/%3B/gi,";")}function RT(n){return NF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lw(n){return decodeURIComponent(n)}function RF(n){return Lw(n.replace(/\+/g,"%20"))}function OF(n){return`${RT(n.path)}${function O7(n){return Object.keys(n).map(e=>`;${RT(e)}=${RT(n[e])}`).join("")}(n.parameters)}`}const P7=/^[^\/()?;=#]+/;function Pw(n){const e=n.match(P7);return e?e[0]:""}const F7=/^[^=?&#]+/,$7=/^[^&#]+/;class V7{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pn([],{}):new Pn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Rn]=new Pn(e,t)),r}parseSegment(){const e=Pw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new yt(4009,!1);return this.capture(e),new qv(Lw(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Pw(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Pw(this.remaining);i&&(r=i,this.capture(r))}e[Lw(t)]=Lw(r)}parseQueryParam(e){const t=function B7(n){const e=n.match(F7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function H7(n){const e=n.match($7);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=RF(t),o=RF(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Pw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new yt(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Rn);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Rn]:new Pn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new yt(4011,!1)}}function OT(n){return n.segments.length>0?new Pn([],{[Rn]:n}):n}function Fw(n){const e={};for(const r of Object.keys(n.children)){const o=Fw(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function G7(n){if(1===n.numberOfChildren&&n.children[Rn]){const e=n.children[Rn];return new Pn(n.segments.concat(e.segments),e.children)}return n}(new Pn(n.segments,e))}function Dh(n){return n instanceof Eh}function U7(n,e,t,r,i){if(0===t.length)return Op(e.root,e.root,e.root,r,i);const o=function FF(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new PF(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Io(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new PF(t,e,r)}(t);return o.toRoot()?Op(e.root,e.root,new Pn([],{}),r,i):function s(l){const c=function Z7(n,e,t,r){if(n.isAbsolute)return new Lp(e.root,!0,0);if(-1===r)return new Lp(t,t===e.root,0);return function BF(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new yt(4005,!1);i=r.segments.length}return new Lp(r,!1,i-o)}(t,r+(ey(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,l),b=c.processChildren?ny(c.segmentGroup,c.index,o.commands):PT(c.segmentGroup,c.index,o.commands);return Op(e.root,c.segmentGroup,b,r,i)}(n.snapshot?._lastPathIndex)}function ey(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ty(n){return"object"==typeof n&&null!=n&&n.outlets}function Op(n,e,t,r,i){let s,o={};r&&Io(r,(l,c)=>{o[c]=Array.isArray(l)?l.map(b=>`${b}`):`${l}`}),s=n===e?t:LF(n,e,t);const a=OT(Fw(s));return new Eh(a,o,i)}function LF(n,e,t){const r={};return Io(n.children,(i,o)=>{r[o]=i===e?t:LF(i,e,t)}),new Pn(n.segments,r)}class PF{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ey(r[0]))throw new yt(4003,!1);const i=r.find(ty);if(i&&i!==SF(r))throw new yt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lp{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function PT(n,e,t){if(n||(n=new Pn([],{})),0===n.segments.length&&n.hasChildren())return ny(n,e,t);const r=function Y7(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(ty(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!HF(l,c,s))return o;r+=2}else{if(!HF(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Pn(n.segments.slice(0,r.pathIndex),{});return o.children[Rn]=new Pn(n.segments.slice(r.pathIndex),n.children),ny(o,0,i)}return r.match&&0===i.length?new Pn(n.segments,{}):r.match&&!n.hasChildren()?FT(n,e,t):r.match?ny(n,0,i):FT(n,e,t)}function ny(n,e,t){if(0===t.length)return new Pn(n.segments,{});{const r=function K7(n){return ty(n[0])?n[0].outlets:{[Rn]:n}}(t),i={};return Io(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=PT(n.children[s],e,o))}),Io(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new Pn(n.segments,i)}}function FT(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(ty(o)){const l=J7(o.outlets);return new Pn(r,l)}if(0===i&&ey(t[0])){r.push(new qv(n.segments[e].path,$F(t[0]))),i++;continue}const s=ty(o)?o.outlets[Rn]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&ey(a)?(r.push(new qv(s,$F(a))),i+=2):(r.push(new qv(s,{})),i++)}return new Pn(r,{})}function J7(n){const e={};return Io(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=FT(new Pn([],{}),0,t))}),e}function $F(n){const e={};return Io(n,(t,r)=>e[r]=`${t}`),e}function HF(n,e,t){return n==t.path&&Yl(e,t.parameters)}class Qc{constructor(e,t){this.id=e,this.url=t}}class BT extends Qc{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mh extends Qc{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bw extends Qc{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class VF extends Qc{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class X7 extends Qc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q7 extends Qc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q7 extends Qc{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class eY extends Qc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tY extends Qc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rY{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class iY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GF{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class WF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=$T(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=$T(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=HT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return HT(e,this._root).map(t=>t.value)}}function $T(n,e){if(n===e.value)return e;for(const t of e.children){const r=$T(n,t);if(r)return r}return null}function HT(n,e){if(n===e.value)return[e];for(const t of e.children){const r=HT(n,t);if(r.length)return r.unshift(e),r}return[]}class eu{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Pp(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class jF extends WF{constructor(e,t){super(e),this.snapshot=t,VT(this,e)}toString(){return this.snapshot.toString()}}function UF(n,e){const t=function cY(n,e){const s=new $w([],{},{},"",{},Rn,e,null,n.root,-1,{});return new ZF("",new eu(s,[]))}(n,e),r=new oo([new qv("",{})]),i=new oo({}),o=new oo({}),s=new oo({}),a=new oo(""),l=new rd(r,i,s,a,o,Rn,e,t.root);return l.snapshot=t.root,new jF(new eu(l,[]),t)}class rd{constructor(e,t,r,i,o,s,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(Q(c=>c[Xv]))??Qt(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Q(e=>Rp(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Q(e=>Rp(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zF(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function uY(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class $w{constructor(e,t,r,i,o,s,a,l,c,b,x,L){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.[Xv],this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=b,this._correctedLastPathIndex=L??b,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ZF extends WF{constructor(e,t){super(t),this.url=e,VT(this,t)}toString(){return KF(this._root)}}function VT(n,e){e.value._routerState=n,e.children.forEach(t=>VT(n,t))}function KF(n){const e=n.children.length>0?` { ${n.children.map(KF).join(", ")} } `:"";return`${n.value}${e}`}function GT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yl(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Yl(e.params,t.params)||n.params.next(t.params),function S7(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Yl(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function WT(n,e){const t=Yl(n.params,e.params)&&function D7(n,e){return kh(n,e)&&n.every((t,r)=>Yl(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||WT(n.parent,e.parent))}function ry(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function hY(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ry(n,r,i);return ry(n,r)})}(n,e,t);return new eu(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ry(n,a)),s}}const r=function fY(n){return new rd(new oo(n.url),new oo(n.params),new oo(n.queryParams),new oo(n.fragment),new oo(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>ry(n,o));return new eu(r,i)}}const jT="ngNavigationCancelingError";function YF(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Dh(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=JF(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function JF(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[jT]=!0,r.cancellationCode=e,t&&(r.url=t),r}function XF(n){return qF(n)&&Dh(n.url)}function qF(n){return n&&n[jT]}class pY{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new iy,this.attachRef=null}}let iy=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new pY,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hw=!1;let QF=(()=>{class n{constructor(t,r,i,o,s){this.parentContexts=t,this.location=r,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new at,this.deactivateEvents=new at,this.attachEvents=new at,this.detachEvents=new at,this.name=i||Rn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new yt(4012,Hw);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new yt(4012,Hw);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new yt(4012,Hw);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new yt(4013,Hw);this._activatedRoute=t;const i=this.location,s=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new gY(t,a,i.injector);if(r&&function mY(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(Be(iy),Be(Ta),function Mc(n){return function Fb(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(Mb(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(wi(),n)}("name"),Be(rl),Be(ls))},n.\u0275dir=Dt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class gY{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===rd?this.route:e===iy?this.childContexts:this.parent.get(e,t)}}let UT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yi({type:n,selectors:[["ng-component"]],standalone:!0,features:[ox],decls:1,vars:0,template:function(t,r){1&t&&Fr(0,"router-outlet")},dependencies:[QF],encapsulation:2}),n})();function e2(n,e){return n.providers&&!n._injector&&(n._injector=B0(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ZT(n){const e=n.children&&n.children.map(ZT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Rn&&(t.component=UT),t}function Ma(n){return n.outlet||Rn}function t2(n,e){const t=n.filter(r=>Ma(r)===e);return t.push(...n.filter(r=>Ma(r)!==e)),t}function oy(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class wY{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),GT(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Pp(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Io(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Pp(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Pp(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Pp(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new aY(o.value.snapshot))}),e.children.length&&this.forwardEvent(new oY(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(GT(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),GT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=oy(i.snapshot),l=a?.get(fh)??null;s.attachRef=null,s.route=i,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class n2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Vw{constructor(e,t){this.component=e,this.route=t}}function IY(n,e,t){const r=n._root;return sy(r,e?e._root:null,t,[r.value])}function Fp(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function X_(n){return null!==Cf(n)}(n)?e.get(n):n:r}function sy(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Pp(e);return n.children.forEach(s=>{(function AY(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function SY(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!kh(n.url,e.url);case"pathParamsOrQueryParamsChange":return!kh(n.url,e.url)||!Yl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!WT(n,e)||!Yl(n.queryParams,e.queryParams);default:return!WT(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new n2(r)):(o.data=s.data,o._resolvedData=s._resolvedData),sy(n,e,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Vw(a.outlet.component,s))}else s&&ay(e,a,i),i.canActivateChecks.push(new n2(r)),sy(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Io(o,(s,a)=>ay(s,t.getContext(a),i)),i}function ay(n,e,t){const r=Pp(n),i=n.value;Io(r,(o,s)=>{ay(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Vw(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ly(n){return"function"==typeof n}function KT(n){return n instanceof Ew||"EmptyError"===n?.name}const Gw=Symbol("INITIAL_VALUE");function Bp(){return Da(n=>kw(n.map(e=>e.pipe(so(1),function Dw(...n){const e=cr(n);return N((t,r)=>{(e?Yv(n,t,e):Yv(n,t)).subscribe(r)})}(Gw)))).pipe(Q(e=>{for(const t of e)if(!0!==t){if(t===Gw)return Gw;if(!1===t||t instanceof Eh)return t}return!0}),Wi(e=>e!==Gw),so(1)))}function r2(n){return function T(...n){return F(n)}(ao(e=>{if(Dh(e))throw YF(0,e)}),Q(e=>!0===e))}const YT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function o2(n,e,t,r,i){const o=JT(n,e,t);return o.matched?function GY(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Qt(i.map(s=>{const a=Fp(s,n);return nd(function MY(n){return n&&ly(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Bp(),r2()):Qt(!0)}(r=e2(e,r),e,t).pipe(Q(s=>!0===s?o:{...YT})):Qt(o)}function JT(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...YT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||A7)(t,n,e);if(!i)return{...YT};const o={};Io(i.posParams,(a,l)=>{o[l]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Ww(n,e,t,r,i="corrected"){if(t.length>0&&function UY(n,e,t){return t.some(r=>jw(n,e,r)&&Ma(r)!==Rn)}(n,t,r)){const s=new Pn(e,function jY(n,e,t,r){const i={};i[Rn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Ma(o)!==Rn){const s=new Pn([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[Ma(o)]=s}return i}(n,e,r,new Pn(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function zY(n,e,t){return t.some(r=>jw(n,e,r))}(n,t,r)){const s=new Pn(n.segments,function WY(n,e,t,r,i,o){const s={};for(const a of r)if(jw(n,t,a)&&!i[Ma(a)]){const l=new Pn([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:e.length,s[Ma(a)]=l}return{...i,...s}}(n,e,t,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const o=new Pn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function jw(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function s2(n,e,t,r){return!!(Ma(n)===r||r!==Rn&&jw(e,t,n))&&("**"===n.path||JT(e,n,t).matched)}function a2(n,e,t){return 0===e.length&&!n.children[t]}const Uw=!1;class zw{constructor(e){this.segmentGroup=e||null}}class l2{constructor(e){this.urlTree=e}}function cy(n){return Jv(new zw(n))}function c2(n){return Jv(new l2(n))}class JY{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=Ww(this.urlTree.root,[],[],this.config).segmentGroup,t=new Pn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Rn).pipe(Q(o=>this.createUrlTree(Fw(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(td(o=>{if(o instanceof l2)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof zw?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Rn).pipe(Q(i=>this.createUrlTree(Fw(i),e.queryParams,e.fragment))).pipe(td(i=>{throw i instanceof zw?this.noMatchError(i):i}))}noMatchError(e){return new yt(4002,Uw)}createUrlTree(e,t,r){const i=OT(e);return new Eh(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Q(o=>new Pn([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Cr(i).pipe(ed(o=>{const s=r.children[o],a=t2(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(Q(l=>({segment:l,outlet:o})))}),CF((o,s)=>(o[s.outlet]=s.segment,o),{}),wF())}expandSegment(e,t,r,i,o,s){return Cr(r).pipe(ed(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(td(c=>{if(c instanceof zw)return Qt(null);throw c}))),Qu(a=>!!a),td((a,l)=>{if(KT(a))return a2(t,i,o)?Qt(new Pn([],{})):cy(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return s2(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):cy(t):cy(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?c2(o):this.lineralizeSegments(r,o).pipe(tn(s=>{const a=new Pn(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:b}=JT(t,i,o);if(!a)return cy(t);const x=this.applyRedirectCommands(l,i.redirectTo,b);return i.redirectTo.startsWith("/")?c2(x):this.lineralizeSegments(i,x).pipe(tn(L=>this.expandSegment(e,t,r,L.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=e2(r,e),r.loadChildren?(r._loadedRoutes?Qt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Q(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Pn(i,{})))):Qt(new Pn(i,{}))):o2(t,r,i,e).pipe(Da(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(e=r._injector??e,r,i).pipe(tn(b=>{const x=b.injector??e,L=b.routes,{segmentGroup:H,slicedSegments:z}=Ww(t,a,l,L),le=new Pn(H.segments,H.children);if(0===z.length&&le.hasChildren())return this.expandChildren(x,L,le).pipe(Q(De=>new Pn(a,De)));if(0===L.length&&0===z.length)return Qt(new Pn(a,{}));const de=Ma(r)===o;return this.expandSegment(x,le,L,z,de?Rn:o,!0).pipe(Q(ke=>new Pn(a.concat(ke.segments),ke.children)))})):cy(t)))}getChildConfig(e,t,r){return t.children?Qt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Qt({routes:t._loadedRoutes,injector:t._loadedInjector}):function VY(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Qt(!0):Qt(i.map(s=>{const a=Fp(s,n);return nd(function TY(n){return n&&ly(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Bp(),r2())}(e,t,r).pipe(tn(i=>i?this.configLoader.loadChildren(e,t).pipe(ao(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function KY(n){return Jv(JF(Uw,3))}())):Qt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Qt(r);if(i.numberOfChildren>1||!i.children[Rn])return Jv(new yt(4e3,Uw));i=i.children[Rn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Eh(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Io(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Io(t.children,(a,l)=>{s[l]=this.createSegmentGroup(e,a,r,i)}),new Pn(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new yt(4001,Uw);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class qY{}class tJ{constructor(e,t,r,i,o,s,a,l){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const e=Ww(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Rn).pipe(Q(t=>{if(null===t)return null;const r=new $w([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new eu(r,t),o=new ZF(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=zF(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return Cr(Object.keys(r.children)).pipe(ed(i=>{const o=r.children[i],s=t2(t,i);return this.processSegmentGroup(e,s,o,i)}),CF((i,o)=>i&&o?(i.push(...o),i):null),function I7(n,e=!1){return N((t,r)=>{let i=0;t.subscribe(K(r,o=>{const s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),Mw(null),wF(),Q(i=>{if(null===i)return null;const o=u2(i);return function nJ(n){n.sort((e,t)=>e.value.outlet===Rn?-1:t.value.outlet===Rn?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return Cr(t).pipe(ed(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,i,o)),Qu(s=>!!s),td(s=>{if(KT(s))return a2(r,i,o)?Qt([]):Qt(null);throw s}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!s2(t,r,i,o))return Qt(null);let s;if("**"===t.path){const a=i.length>0?SF(i).parameters:{},l=h2(r)+i.length;s=Qt({snapshot:new $w(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,p2(t),Ma(t),t.component??t._loadedComponent??null,t,d2(r),l,g2(t),l),consumedSegments:[],remainingSegments:[]})}else s=o2(r,t,i,e).pipe(Q(({matched:a,consumedSegments:l,remainingSegments:c,parameters:b})=>{if(!a)return null;const x=h2(r)+l.length;return{snapshot:new $w(l,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,p2(t),Ma(t),t.component??t._loadedComponent??null,t,d2(r),x,g2(t),x),consumedSegments:l,remainingSegments:c}}));return s.pipe(Da(a=>{if(null===a)return Qt(null);const{snapshot:l,consumedSegments:c,remainingSegments:b}=a;e=t._injector??e;const x=t._loadedInjector??e,L=function rJ(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:H,slicedSegments:z}=Ww(r,c,b,L.filter(de=>void 0===de.redirectTo),this.relativeLinkResolution);if(0===z.length&&H.hasChildren())return this.processChildren(x,L,H).pipe(Q(de=>null===de?null:[new eu(l,de)]));if(0===L.length&&0===z.length)return Qt([new eu(l,[])]);const le=Ma(t)===o;return this.processSegment(x,L,H,z,le?Rn:o).pipe(Q(de=>null===de?null:[new eu(l,de)]))}))}}function iJ(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function u2(n){const e=[],t=new Set;for(const r of n){if(!iJ(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=u2(r.children);e.push(new eu(r.value,i))}return e.filter(r=>!t.has(r))}function d2(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function h2(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function p2(n){return n.data||{}}function g2(n){return n.resolve||{}}function m2(n){return"string"==typeof n.title||null===n.title}function XT(n){return Da(e=>{const t=n(e);return t?Cr(t).pipe(Q(()=>e)):Qt(e)})}let v2=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Rn);return r}getResolvedTitleForRoute(t){return t.data[Xv]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:function(){return dr(y2)},providedIn:"root"}),n})(),y2=(()=>{class n extends v2{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(Et(nP))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hJ{}class pJ extends class fJ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Kw=new zt("",{providedIn:"root",factory:()=>({})}),qT=new zt("ROUTES");let QT=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Qt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=nd(t.loadComponent()).pipe(ao(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),DT(()=>{this.componentLoaders.delete(t)})),i=new yF(r,()=>new S).pipe(ET());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Qt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Q(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,b=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=AF(l.get(qT,[],Gt.Self|Gt.Optional)));return{routes:c.map(ZT),injector:l}}),DT(()=>{this.childrenLoaders.delete(r)})),s=new yF(o,()=>new S).pipe(ET());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return nd(t()).pipe(tn(r=>r instanceof ZR||Array.isArray(r)?Qt(r):Cr(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(Et(ro),Et(Cx))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class mJ{}class vJ{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function yJ(n){throw n}function bJ(n,e,t){return e.parse("/")}const CJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function C2(){const n=dr(MF),e=dr(iy),t=dr(Px),r=dr(ro),i=dr(Cx),o=dr(qT,{optional:!0})??[],s=dr(Kw,{optional:!0})??{},a=dr(y2),l=dr(v2,{optional:!0}),c=dr(mJ,{optional:!0}),b=dr(hJ,{optional:!0}),x=new _o(null,n,e,t,r,i,AF(o));return c&&(x.urlHandlingStrategy=c),b&&(x.routeReuseStrategy=b),x.titleStrategy=l??a,function IJ(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(s,x),x}let _o=(()=>{class n{constructor(t,r,i,o,s,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new S,this.errorHandler=yJ,this.malformedUriErrorHandler=bJ,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Qt(void 0),this.urlHandlingStrategy=new vJ,this.routeReuseStrategy=new pJ,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(QT),this.configLoader.onLoadEndListener=L=>this.triggerEvent(new rY(L)),this.configLoader.onLoadStartListener=L=>this.triggerEvent(new nY(L)),this.ngModule=s.get(Ih),this.console=s.get(cZ);const x=s.get(Ar);this.isNgZoneEnabled=x instanceof Ar&&Ar.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function x7(){return new Eh(new Pn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=UF(this.currentUrlTree,this.rootComponentType),this.transitions=new oo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Wi(i=>0!==i.id),Q(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Da(i=>{let o=!1,s=!1;return Qt(i).pipe(ao(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Da(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return w2(a.source)&&(this.browserUrlTree=a.extractedUrl),Qt(a).pipe(Da(x=>{const L=this.transitions.getValue();return r.next(new BT(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),L!==this.transitions.getValue()?Kn:Promise.resolve(x)}),function XY(n,e,t,r){return Da(i=>function YY(n,e,t,r,i){return new JY(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Q(o=>({...i,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ao(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},i.urlAfterRedirects=x.urlAfterRedirects}),function sJ(n,e,t,r,i,o){return tn(s=>function eJ(n,e,t,r,i,o,s="emptyOnly",a="legacy"){return new tJ(n,e,t,r,i,s,a,o).recognize().pipe(Da(l=>null===l?function QY(n){return new $(e=>e.error(n))}(new qY):Qt(l)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i,o).pipe(Q(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),ao(x=>{if(i.targetSnapshot=x.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(H,x)}this.browserUrlTree=x.urlAfterRedirects}const L=new X7(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(L)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:H,source:z,restoredState:le,extras:de}=a,Ce=new BT(L,this.serializeUrl(H),z,le);r.next(Ce);const ke=UF(H,this.rootComponentType).snapshot;return Qt(i={...a,targetSnapshot:ke,urlAfterRedirects:H,extras:{...de,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Kn}),ao(a=>{const l=new q7(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Q(a=>i={...a,guards:IY(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function RY(n,e){return tn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?Qt({...t,guardsResult:!0}):function OY(n,e,t,r){return Cr(n).pipe(tn(i=>function HY(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Qt(o.map(a=>{const l=oy(e)??i,c=Fp(a,l);return nd(function DY(n){return n&&ly(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(Qu())})).pipe(Bp()):Qt(!0)}(i.component,i.route,t,e,r)),Qu(i=>!0!==i,!0))}(s,r,i,n).pipe(tn(a=>a&&function xY(n){return"boolean"==typeof n}(a)?function LY(n,e,t,r){return Cr(e).pipe(ed(i=>Yv(function FY(n,e){return null!==n&&e&&e(new iY(n)),Qt(!0)}(i.route.parent,r),function PY(n,e){return null!==n&&e&&e(new sY(n)),Qt(!0)}(i.route,r),function $Y(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function _Y(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>vF(()=>Qt(s.guards.map(l=>{const c=oy(s.node)??t,b=Fp(l,c);return nd(function kY(n){return n&&ly(n.canActivateChild)}(b)?b.canActivateChild(r,n):c.runInContext(()=>b(r,n))).pipe(Qu())})).pipe(Bp())));return Qt(o).pipe(Bp())}(n,i.path,t),function BY(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Qt(!0);const i=r.map(o=>vF(()=>{const s=oy(e)??t,a=Fp(o,s);return nd(function EY(n){return n&&ly(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Qu())}));return Qt(i).pipe(Bp())}(n,i.route,t))),Qu(i=>!0!==i,!0))}(r,o,n,e):Qt(a)),Q(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ao(a=>{if(i.guardsResult=a.guardsResult,Dh(a.guardsResult))throw YF(0,a.guardsResult);const l=new Q7(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Wi(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),XT(a=>{if(a.guards.canActivateChecks.length)return Qt(a).pipe(ao(l=>{const c=new eY(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Da(l=>{let c=!1;return Qt(l).pipe(function aJ(n,e){return tn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Qt(t);let o=0;return Cr(i).pipe(ed(s=>function lJ(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!m2(i)&&(o[Xv]=i.title),function cJ(n,e,t,r){const i=function uJ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Qt({});const o={};return Cr(i).pipe(tn(s=>function dJ(n,e,t,r){const i=oy(e)??r,o=Fp(n,i);return nd(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(Qu(),ao(a=>{o[s]=a}))),kT(1),IF(o),td(s=>KT(s)?Kn:Jv(s)))}(o,n,e,r).pipe(Q(s=>(n._resolvedData=s,n.data=zF(n,t).resolve,i&&m2(i)&&(n.data[Xv]=i.title),null)))}(s.route,r,n,e)),ao(()=>o++),kT(1),tn(s=>o===i.length?Qt(t):Kn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ao({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),ao(l=>{const c=new tY(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),XT(a=>{const l=c=>{const b=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(c.routeConfig).pipe(ao(x=>{c.component=x}),Q(()=>{})));for(const x of c.children)b.push(...l(x));return b};return kw(l(a.targetSnapshot.root)).pipe(Mw(),so(1))}),XT(()=>this.afterPreactivation()),Q(a=>{const l=function dY(n,e,t){const r=ry(n,e._root,t?t._root:void 0);return new jF(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:l}}),ao(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Q(r=>(new wY(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ao({next(){o=!0},complete(){o=!0}}),DT(()=>{o||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),td(a=>{if(s=!0,qF(a)){XF(a)||(this.navigated=!0,this.restoreHistory(i,!0));const l=new Bw(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(l),XF(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),b={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||w2(i.source)};this.scheduleNavigation(c,"imperative",null,b,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new VF(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Kn}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=t.state?.navigationId?t.state:null;if(o){const a={...o};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const s=this.parseUrl(t.url);this.scheduleNavigation(s,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(ZT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,b=l?this.currentUrlTree.fragment:s;let x=null;switch(a){case"merge":x={...this.currentUrlTree.queryParams,...o};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=o||null}return null!==x&&(x=this.removeEmptyProps(x)),U7(c,this.currentUrlTree,t,x,b??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Dh(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function _J(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new yt(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...CJ}:!1===r?{...wJ}:r,Dh(t))return TF(this.currentUrlTree,t,i);const o=this.parseUrl(t);return TF(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Mh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((L,H)=>{a=L,l=H});const b=++this.navigationId;let x;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),x=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):x=0,this.setTransition({id:b,targetPageId:x,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(L=>Promise.reject(L))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const o=new Bw(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){mh()},n.\u0275prov=Ft({token:n,factory:function(){return C2()},providedIn:"root"}),n})();function w2(n){return"imperative"!==n}class I2{}let xJ=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Wi(t=>t instanceof Mh),ed(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=B0(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Cr(i).pipe(Nn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Qt(null);const o=i.pipe(tn(s=>null===s?Qt(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Cr([o,this.loader.loadComponent(r)]).pipe(Nn()):o})}}return n.\u0275fac=function(t){return new(t||n)(Et(_o),Et(Cx),Et(ls),Et(I2),Et(QT))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nE=new zt("");let _2=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof BT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Mh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof GF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new GF(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){mh()},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})();function $p(n,e){return{\u0275kind:n,\u0275providers:e}}function rE(n){return[{provide:qT,multi:!0,useValue:n}]}function S2(){const n=dr(ro);return e=>{const t=n.get(Fv);if(e!==t.components[0])return;const r=n.get(_o),i=n.get(x2);1===n.get(iE)&&r.initialNavigation(),n.get(T2,null,Gt.Optional)?.setUpPreloading(),n.get(nE,null,Gt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const x2=new zt("",{factory:()=>new S}),iE=new zt("",{providedIn:"root",factory:()=>1});const T2=new zt("");function DJ(n){return $p(0,[{provide:T2,useExisting:xJ},{provide:I2,useExisting:n}])}const E2=new zt("ROUTER_FORROOT_GUARD"),MJ=[Px,{provide:MF,useClass:NT},{provide:_o,useFactory:C2},iy,{provide:rd,useFactory:function A2(n){return n.routerState.root},deps:[_o]},QT];function NJ(){return new VO("Router",_o)}let k2=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[MJ,[],rE(t),{provide:E2,useFactory:PJ,deps:[[_o,new ss,new $c]]},{provide:Kw,useValue:r||{}},r?.useHash?{provide:Ah,useClass:XZ}:{provide:Ah,useClass:hL},{provide:nE,useFactory:()=>{const n=dr(_o),e=dr(uK),t=dr(Kw);return t.scrollOffset&&e.setOffset(t.scrollOffset),new _2(n,e,t)}},r?.preloadingStrategy?DJ(r.preloadingStrategy).\u0275providers:[],{provide:VO,multi:!0,useFactory:NJ},r?.initialNavigation?FJ(r):[],[{provide:D2,useFactory:S2},{provide:OO,multi:!0,useExisting:D2}]]}}static forChild(t){return{ngModule:n,providers:[rE(t)]}}}return n.\u0275fac=function(t){return new(t||n)(Et(E2,8))},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[UT]}),n})();function PJ(n){return"guarded"}function FJ(n){return["disabled"===n.initialNavigation?$p(3,[{provide:W0,multi:!0,useFactory:()=>{const e=dr(_o);return()=>{e.setUpLocationChangeListener()}}},{provide:iE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?$p(2,[{provide:iE,useValue:0},{provide:W0,multi:!0,deps:[ro],useFactory:e=>{const t=e.get(YZ,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(o=>{const s=e.get(_o),a=e.get(x2);(function i(o){e.get(_o).events.pipe(Wi(a=>a instanceof Mh||a instanceof Bw||a instanceof VF),Q(a=>a instanceof Mh||a instanceof Bw&&(0===a.code||1===a.code)&&null),Wi(a=>null!==a),so(1)).subscribe(()=>{o()})})(()=>{o(!0),r=!0}),s.afterPreactivation=()=>(o(!0),r||a.closed?Qt(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const D2=new zt(""),$J=[];let HJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[k2.forRoot($J),k2]}),n})();class M2{}class N2{}class Jl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Jl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Jl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Jl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class VJ{encodeKey(e){return R2(e)}encodeValue(e){return R2(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const WJ=/%(\d[a-f0-9])/gi,jJ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function R2(n){return encodeURIComponent(n).replace(WJ,(e,t)=>jJ[t]??e)}function qw(n){return`${n}`}class id{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new VJ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function GJ(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(qw):[qw(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new id({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(qw(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(qw(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class UJ{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function O2(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function L2(n){return typeof Blob<"u"&&n instanceof Blob}function P2(n){return typeof FormData<"u"&&n instanceof FormData}class uy{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function zJ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Jl),this.context||(this.context=new UJ),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new id,this.urlWithParams=t}serializeBody(){return null===this.body?null:O2(this.body)||L2(this.body)||P2(this.body)||function ZJ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof id?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||P2(this.body)?null:L2(this.body)?this.body.type||null:O2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof id?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((x,L)=>x.set(L,e.setHeaders[L]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((x,L)=>x.set(L,e.setParams[L]),c)),new uy(t,r,o,{params:c,headers:l,context:b,reportProgress:a,responseType:i,withCredentials:s})}}var Ri=(()=>((Ri=Ri||{})[Ri.Sent=0]="Sent",Ri[Ri.UploadProgress=1]="UploadProgress",Ri[Ri.ResponseHeader=2]="ResponseHeader",Ri[Ri.DownloadProgress=3]="DownloadProgress",Ri[Ri.Response=4]="Response",Ri[Ri.User=5]="User",Ri))();class oE{constructor(e,t=200,r="OK"){this.headers=e.headers||new Jl,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class sE extends oE{constructor(e={}){super(e),this.type=Ri.ResponseHeader}clone(e={}){return new sE({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Qw extends oE{constructor(e={}){super(e),this.type=Ri.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Qw({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class F2 extends oE{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function aE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let lE=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof uy)o=t;else{let l,c;l=i.headers instanceof Jl?i.headers:new Jl(i.headers),i.params&&(c=i.params instanceof id?i.params:new id({fromObject:i.params})),o=new uy(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=Qt(o).pipe(ed(l=>this.handler.handle(l)));if(t instanceof uy||"events"===i.observe)return s;const a=s.pipe(Wi(l=>l instanceof Qw));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Q(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Q(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Q(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Q(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new id).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,aE(i,r))}post(t,r,i={}){return this.request("POST",t,aE(i,r))}put(t,r,i={}){return this.request("PUT",t,aE(i,r))}}return n.\u0275fac=function(t){return new(t||n)(Et(M2))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})();class B2{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const $2=new zt("HTTP_INTERCEPTORS");let KJ=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})();const YJ=/^\)\]\}',?\n/;let H2=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new $(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((H,z)=>i.setRequestHeader(H,z.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const H=t.detectContentTypeHeader();null!==H&&i.setRequestHeader("Content-Type",H)}if(t.responseType){const H=t.responseType.toLowerCase();i.responseType="json"!==H?H:"text"}const o=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const H=i.statusText||"OK",z=new Jl(i.getAllResponseHeaders()),le=function JJ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new sE({headers:z,status:i.status,statusText:H,url:le}),s},l=()=>{let{headers:H,status:z,statusText:le,url:de}=a(),Ce=null;204!==z&&(Ce=typeof i.response>"u"?i.responseText:i.response),0===z&&(z=Ce?200:0);let ke=z>=200&&z<300;if("json"===t.responseType&&"string"==typeof Ce){const De=Ce;Ce=Ce.replace(YJ,"");try{Ce=""!==Ce?JSON.parse(Ce):null}catch(Pe){Ce=De,ke&&(ke=!1,Ce={error:Pe,text:Ce})}}ke?(r.next(new Qw({body:Ce,headers:H,status:z,statusText:le,url:de||void 0})),r.complete()):r.error(new F2({error:Ce,headers:H,status:z,statusText:le,url:de||void 0}))},c=H=>{const{url:z}=a(),le=new F2({error:H,status:i.status||0,statusText:i.statusText||"Unknown Error",url:z||void 0});r.error(le)};let b=!1;const x=H=>{b||(r.next(a()),b=!0);let z={type:Ri.DownloadProgress,loaded:H.loaded};H.lengthComputable&&(z.total=H.total),"text"===t.responseType&&!!i.responseText&&(z.partialText=i.responseText),r.next(z)},L=H=>{let z={type:Ri.UploadProgress,loaded:H.loaded};H.lengthComputable&&(z.total=H.total),r.next(z)};return i.addEventListener("load",l),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",x),null!==o&&i.upload&&i.upload.addEventListener("progress",L)),i.send(o),r.next({type:Ri.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",l),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",x),null!==o&&i.upload&&i.upload.removeEventListener("progress",L)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(Et(PL))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})();const cE=new zt("XSRF_COOKIE_NAME"),uE=new zt("XSRF_HEADER_NAME");class V2{}let XJ=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=AL(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(Et(gi),Et(Pv),Et(cE))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})(),dE=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(Et(V2),Et(uE))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})(),qJ=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get($2,[]);this.chain=r.reduceRight((i,o)=>new B2(i,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(Et(N2),Et(ro))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})(),QJ=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:dE,useClass:KJ}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:cE,useValue:t.cookieName}:[],t.headerName?{provide:uE,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({providers:[dE,{provide:$2,useExisting:dE,multi:!0},{provide:V2,useClass:XJ},{provide:cE,useValue:"XSRF-TOKEN"},{provide:uE,useValue:"X-XSRF-TOKEN"}]}),n})(),eX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({providers:[lE,{provide:M2,useClass:qJ},H2,{provide:N2,useExisting:H2}],imports:[QJ.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();var dy=fo(489),tX=fo(623);const nX=["jsonEditorContainer"];class G2{constructor(){this.enableSort=!0,this.enableTransform=!0,this.escapeUnicode=!1,this.expandAll=!1,this.sortObjectKeys=!1,this.history=!0,this.mode="tree",this.search=!0,this.indentation=2}}let W2=(()=>{class n{constructor(){this.id="angjsoneditor"+Math.floor(1e6*Math.random()),this.disabled=!1,this.isFocused=!1,this.optionsChanged=!1,this._data={},this.options=new G2,this.debug=!1,this.change=new at,this.jsonChange=new at,this.onTouched=()=>{},this.onChangeModel=t=>{}}set data(t){this._data=t,this.editor&&(this.editor.destroy(),this.ngOnInit())}ngOnInit(){let t=this.options;!this.optionsChanged&&this.editor&&(t=this.editor.options),!this.options.onChangeJSON&&this.jsonChange&&(this.options.onChangeJSON=this.onChangeJSON.bind(this)),!this.options.onChange&&this.change&&(this.options.onChange=this.onChange.bind(this));const r=Object.assign({},t);delete r.expandAll,this.debug&&console.log(r,this._data),this.jsonEditorContainer.nativeElement||console.error("Can't find the ElementRef reference for jsoneditor)"),("text"===r.mode||"code"===r.mode)&&(r.onChangeJSON=null),this.editor=new tX(this.jsonEditorContainer.nativeElement,r,this._data),this.options.expandAll&&this.editor.expandAll()}ngOnDestroy(){this.destroy()}writeValue(t){this.data=t}registerOnChange(t){this.onChangeModel=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}onChange(t){if(this.editor)try{const r=this.editor.get();this.onChangeModel(r),this.change.emit(r)}catch(r){this.debug&&console.log(r)}}onChangeJSON(t){if(this.editor)try{this.jsonChange.emit(this.editor.get())}catch(r){this.debug&&console.log(r)}}collapseAll(){this.editor.collapseAll()}expandAll(){this.editor.expandAll()}focus(){this.editor.focus()}get(){return this.editor.get()}getMode(){return this.editor.getMode()}getName(){return this.editor.getName()}getText(){return this.editor.getText()}set(t){this.editor.set(t)}setMode(t){this.editor.setMode(t)}setName(t){this.editor.setName(t)}setSelection(t,r){this.editor.setSelection(t,r)}getSelection(){return this.editor.getSelection()}getValidateSchema(){return this.editor.validateSchema}setSchema(t,r){this.editor.setSchema(t,r)}search(t){this.editor.search(t)}setOptions(t){this.editor&&this.editor.destroy(),this.optionsChanged=!0,this.options=t,this.ngOnInit()}update(t){this.editor.update(t)}destroy(){this.editor.destroy()}getEditor(){return this.editor}isValidJson(){try{return JSON.parse(this.getText()),!0}catch{return!1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yi({type:n,selectors:[["json-editor"]],viewQuery:function(t,r){if(1&t&&Qa(nX,7),2&t){let i;sr(i=ar())&&(r.jsonEditorContainer=i.first)}},inputs:{options:"options",debug:"debug",data:"data"},outputs:{change:"change",jsonChange:"jsonChange"},features:[gr([{provide:ms,useExisting:yn(()=>n),multi:!0}])],decls:2,vars:1,consts:[[3,"id"],["jsonEditorContainer",""]],template:function(t,r){1&t&&Fr(0,"div",0,1),2&t&&it("id",r.id)},encapsulation:2,changeDetection:0}),n})(),rX=(()=>{class n{static forRoot(){return{ngModule:n,providers:[]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[Wo,Tw]}),n})();let Nh={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const U2=/[&<>"']/,oX=new RegExp(U2.source,"g"),z2=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,sX=new RegExp(z2.source,"g"),aX={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Z2=n=>aX[n];function jo(n,e){if(e){if(U2.test(n))return n.replace(oX,Z2)}else if(z2.test(n))return n.replace(sX,Z2);return n}const lX=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function K2(n){return n.replace(lX,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const cX=/(^|[^\[])\^/g;function Lr(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(r,i)=>(i=(i=i.source||i).replace(cX,"$1"),n=n.replace(r,i),t),getRegex:()=>new RegExp(n,e)};return t}const uX=/[^\w:]/g,dX=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Y2(n,e,t){if(n){let r;try{r=decodeURIComponent(K2(t)).replace(uX,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!dX.test(t)&&(t=function gX(n,e){eI[" "+n]||(eI[" "+n]=hX.test(n)?n+"/":nI(n,"/",!0));const t=-1===(n=eI[" "+n]).indexOf(":");return"//"===e.substring(0,2)?t?e:n.replace(fX,"$1")+e:"/"===e.charAt(0)?t?e:n.replace(pX,"$1")+e:n+e}(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const eI={},hX=/^[^:]+:\/*[^/]*$/,fX=/^([^:]+:)[\s\S]*$/,pX=/^([^:]+:\/*[^/]*)[\s\S]*$/,tI={exec:function(){}};function J2(n,e){const r=n.replace(/\|/g,(o,s,a)=>{let l=!1,c=s;for(;--c>=0&&"\\"===a[c];)l=!l;return l?"|":" |"}).split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function nI(n,e,t){const r=n.length;if(0===r)return"";let i=0;for(;i<r;){const o=n.charAt(r-i-1);if(o!==e||t){if(o===e||!t)break;i++}else i++}return n.slice(0,r-i)}function X2(n,e){if(e<1)return"";let t="";for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}function q2(n,e,t,r){const i=e.href,o=e.title?jo(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:t,href:i,title:o,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:t,href:i,title:o,text:jo(s)}}class hE{constructor(e){this.options=e||Nh}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:nI(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],i=function yX(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const r=t[1];return e.split("\n").map(i=>{const o=i.match(/^\s+/);if(null===o)return i;const[s]=o;return s.length>=r.length?i.slice(r.length):i}).join("\n")}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const i=nI(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:o,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,i,o,s,a,l,c,b,x,L,H,z,le=t[1].trim();const de=le.length>1,Ce={type:"list",raw:"",ordered:de,start:de?+le.slice(0,-1):"",loose:!1,items:[]};le=de?`\\d{1,9}\\${le.slice(-1)}`:`\\${le}`,this.options.pedantic&&(le=de?le:"[*+-]");const ke=new RegExp(`^( {0,3}${le})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(z=!1,(t=ke.exec(e))&&!this.rules.block.hr.test(e));){if(r=t[0],e=e.substring(r.length),b=t[2].split("\n",1)[0].replace(/^\t+/,Pe=>" ".repeat(3*Pe.length)),x=e.split("\n",1)[0],this.options.pedantic?(s=2,H=b.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,H=b.slice(s),s+=t[1].length),l=!1,!b&&/^ *$/.test(x)&&(r+=x+"\n",e=e.substring(x.length+1),z=!0),!z){const Pe=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),je=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Ye=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),mt=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(L=e.split("\n",1)[0],x=L,this.options.pedantic&&(x=x.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Ye.test(x)||mt.test(x)||Pe.test(x)||je.test(e)));){if(x.search(/[^ ]/)>=s||!x.trim())H+="\n"+x.slice(s);else{if(l||b.search(/[^ ]/)>=4||Ye.test(b)||mt.test(b)||je.test(b))break;H+="\n"+x}!l&&!x.trim()&&(l=!0),r+=L+"\n",e=e.substring(L.length+1),b=x.slice(s)}}Ce.loose||(c?Ce.loose=!0:/\n *\n *$/.test(r)&&(c=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(H),i&&(o="[ ] "!==i[0],H=H.replace(/^\[[ xX]\] +/,""))),Ce.items.push({type:"list_item",raw:r,task:!!i,checked:o,loose:!1,text:H}),Ce.raw+=r}Ce.items[Ce.items.length-1].raw=r.trimRight(),Ce.items[Ce.items.length-1].text=H.trimRight(),Ce.raw=Ce.raw.trimRight();const De=Ce.items.length;for(a=0;a<De;a++)if(this.lexer.state.top=!1,Ce.items[a].tokens=this.lexer.blockTokens(Ce.items[a].text,[]),!Ce.loose){const Pe=Ce.items[a].tokens.filter(Ye=>"space"===Ye.type),je=Pe.length>0&&Pe.some(Ye=>/\n.*\n/.test(Ye.raw));Ce.loose=je}if(Ce.loose)for(a=0;a<De;a++)Ce.items[a].loose=!0;return Ce}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(t[0]):jo(t[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:i,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:J2(t[1]).map(i=>({text:i})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=t[0];let o,s,a,l,i=r.align.length;for(o=0;o<i;o++)r.align[o]=/^ *-+: *$/.test(r.align[o])?"right":/^ *:-+: *$/.test(r.align[o])?"center":/^ *:-+ *$/.test(r.align[o])?"left":null;for(i=r.rows.length,o=0;o<i;o++)r.rows[o]=J2(r.rows[o],r.header.length).map(c=>({text:c}));for(i=r.header.length,s=0;s<i;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(i=r.rows.length,s=0;s<i;s++)for(l=r.rows[s],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:jo(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):jo(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=nI(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function mX(n,e){if(-1===n.indexOf(e[1]))return-1;const t=n.length;let r=0,i=0;for(;i<t;i++)if("\\"===n[i])i++;else if(n[i]===e[0])r++;else if(n[i]===e[1]&&(r--,r<0))return i;return-1}(t[2],"()");if(s>-1){const l=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let i=t[2],o="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);s&&(i=s[1],o=s[3])}else o=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(i=this.options.pedantic&&!/>$/.test(r)?i.slice(1):i.slice(1,-1)),q2(t,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=t[i.toLowerCase()],!i){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return q2(r,i,r[0],this.lexer)}}emStrong(e,t,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;const o=i[1]||i[2]||"";if(!o||o&&(""===r||this.rules.inline.punctuation.exec(r))){const s=i[0].length-1;let a,l,c=s,b=0;const x="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(x.lastIndex=0,t=t.slice(-1*e.length+s);null!=(i=x.exec(t));){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(l=a.length,i[3]||i[4]){c+=l;continue}if((i[5]||i[6])&&s%3&&!((s+l)%3)){b+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+b);const L=e.slice(0,s+i.index+(i[0].length-a.length)+l);if(Math.min(s,l)%2){const z=L.slice(1,-1);return{type:"em",raw:L,text:z,tokens:this.lexer.inlineTokens(z)}}const H=L.slice(2,-2);return{type:"strong",raw:L,text:H,tokens:this.lexer.inlineTokens(H)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const i=/[^ ]/.test(r),o=/^ /.test(r)&&/ $/.test(r);return i&&o&&(r=r.substring(1,r.length-1)),r=jo(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let i,o;return"@"===r[2]?(i=jo(this.options.mangle?t(r[1]):r[1]),o="mailto:"+i):(i=jo(r[1]),o=i),{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let i,o;if("@"===r[2])i=jo(this.options.mangle?t(r[0]):r[0]),o="mailto:"+i;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);i=jo(r[0]),o="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let i;return i=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):jo(r[0]):r[0]:jo(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const sn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:tI,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};sn.def=Lr(sn.def).replace("label",sn._label).replace("title",sn._title).getRegex(),sn.bullet=/(?:[*+-]|\d{1,9}[.)])/,sn.listItemStart=Lr(/^( *)(bull) */).replace("bull",sn.bullet).getRegex(),sn.list=Lr(sn.list).replace(/bull/g,sn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+sn.def.source+")").getRegex(),sn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",sn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,sn.html=Lr(sn.html,"i").replace("comment",sn._comment).replace("tag",sn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),sn.paragraph=Lr(sn._paragraph).replace("hr",sn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",sn._tag).getRegex(),sn.blockquote=Lr(sn.blockquote).replace("paragraph",sn.paragraph).getRegex(),sn.normal={...sn},sn.gfm={...sn.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},sn.gfm.table=Lr(sn.gfm.table).replace("hr",sn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",sn._tag).getRegex(),sn.gfm.paragraph=Lr(sn._paragraph).replace("hr",sn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",sn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",sn._tag).getRegex(),sn.pedantic={...sn.normal,html:Lr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",sn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:tI,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Lr(sn.normal._paragraph).replace("hr",sn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",sn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Vt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:tI,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:tI,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function bX(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Q2(n){let t,r,e="";const i=n.length;for(t=0;t<i;t++)r=n.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}Vt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Vt.punctuation=Lr(Vt.punctuation).replace(/punctuation/g,Vt._punctuation).getRegex(),Vt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Vt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Vt._comment=Lr(sn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Vt.emStrong.lDelim=Lr(Vt.emStrong.lDelim).replace(/punct/g,Vt._punctuation).getRegex(),Vt.emStrong.rDelimAst=Lr(Vt.emStrong.rDelimAst,"g").replace(/punct/g,Vt._punctuation).getRegex(),Vt.emStrong.rDelimUnd=Lr(Vt.emStrong.rDelimUnd,"g").replace(/punct/g,Vt._punctuation).getRegex(),Vt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Vt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Vt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Vt.autolink=Lr(Vt.autolink).replace("scheme",Vt._scheme).replace("email",Vt._email).getRegex(),Vt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Vt.tag=Lr(Vt.tag).replace("comment",Vt._comment).replace("attribute",Vt._attribute).getRegex(),Vt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Vt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Vt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Vt.link=Lr(Vt.link).replace("label",Vt._label).replace("href",Vt._href).replace("title",Vt._title).getRegex(),Vt.reflink=Lr(Vt.reflink).replace("label",Vt._label).replace("ref",sn._label).getRegex(),Vt.nolink=Lr(Vt.nolink).replace("ref",sn._label).getRegex(),Vt.reflinkSearch=Lr(Vt.reflinkSearch,"g").replace("reflink",Vt.reflink).replace("nolink",Vt.nolink).getRegex(),Vt.normal={...Vt},Vt.pedantic={...Vt.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Lr(/^!?\[(label)\]\((.*?)\)/).replace("label",Vt._label).getRegex(),reflink:Lr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Vt._label).getRegex()},Vt.gfm={...Vt.normal,escape:Lr(Vt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Vt.gfm.url=Lr(Vt.gfm.url,"i").replace("email",Vt.gfm._extended_email).getRegex(),Vt.breaks={...Vt.gfm,br:Lr(Vt.br).replace("{2,}","*").getRegex(),text:Lr(Vt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class od{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Nh,this.options.tokenizer=this.options.tokenizer||new hE,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:sn.normal,inline:Vt.normal};this.options.pedantic?(t.block=sn.pedantic,t.inline=Vt.pedantic):this.options.gfm&&(t.block=sn.gfm,t.inline=this.options.breaks?Vt.breaks:Vt.gfm),this.tokenizer.rules=t}static get rules(){return{block:sn,inline:Vt}}static lex(e,t){return new od(t).lex(e)}static lexInline(e,t){return new od(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let r,i,o,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?t.push(r):(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(i.raw+="\n"+r.raw,i.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(function(b){c=b.call({lexer:this},l),"number"==typeof c&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(o=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){i=t[t.length-1],s&&"paragraph"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r),s=o.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&"text"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,i,o,a,l,c,s=e;if(this.tokens.links){const b=Object.keys(this.tokens.links);if(b.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)b.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+X2("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+X2("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(b=>!!(r=b.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=t[t.length-1],i&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,s,c)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,Q2)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,Q2))){e=e.substring(r.raw.length),t.push(r);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let b=1/0;const x=e.slice(1);let L;this.options.extensions.startInline.forEach(function(H){L=H.call({lexer:this},x),"number"==typeof L&&L>=0&&(b=Math.min(b,L))}),b<1/0&&b>=0&&(o=e.substring(0,b+1))}if(r=this.tokenizer.inlineText(o,bX)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(c=r.raw.slice(-1)),l=!0,i=t[t.length-1],i&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(e){const b="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(b);break}throw new Error(b)}}return t}}class fE{constructor(e){this.options=e||Nh}code(e,t,r){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const o=this.options.highlight(e,i);null!=o&&o!==e&&(r=!0,e=o)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+jo(i)+'">'+(r?e:jo(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:jo(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r,i){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+i.slug(r)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,r){const i=t?"ol":"ul";return"<"+i+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(null===(e=Y2(this.options.sanitize,this.options.baseUrl,e)))return r;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+r+"</a>",i}image(e,t,r){if(null===(e=Y2(this.options.sanitize,this.options.baseUrl,e)))return r;let i=`<img src="${e}" alt="${r}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class eB{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class tB{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do{i++,r=e+"-"+i}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=i,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class sd{constructor(e){this.options=e||Nh,this.options.renderer=this.options.renderer||new fE,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new eB,this.slugger=new tB}static parse(e,t){return new sd(t).parse(e)}static parseInline(e,t){return new sd(t).parseInline(e)}parse(e,t=!0){let i,o,s,a,l,c,b,x,L,H,z,le,de,Ce,ke,De,Pe,je,Ye,r="";const mt=e.length;for(i=0;i<mt;i++)if(H=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[H.type]&&(Ye=this.options.extensions.renderers[H.type].call({parser:this},H),!1!==Ye||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(H.type)))r+=Ye||"";else switch(H.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(H.tokens),H.depth,K2(this.parseInline(H.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(H.text,H.lang,H.escaped);continue;case"table":for(x="",b="",a=H.header.length,o=0;o<a;o++)b+=this.renderer.tablecell(this.parseInline(H.header[o].tokens),{header:!0,align:H.align[o]});for(x+=this.renderer.tablerow(b),L="",a=H.rows.length,o=0;o<a;o++){for(c=H.rows[o],b="",l=c.length,s=0;s<l;s++)b+=this.renderer.tablecell(this.parseInline(c[s].tokens),{header:!1,align:H.align[s]});L+=this.renderer.tablerow(b)}r+=this.renderer.table(x,L);continue;case"blockquote":L=this.parse(H.tokens),r+=this.renderer.blockquote(L);continue;case"list":for(z=H.ordered,le=H.start,de=H.loose,a=H.items.length,L="",o=0;o<a;o++)ke=H.items[o],De=ke.checked,Pe=ke.task,Ce="",ke.task&&(je=this.renderer.checkbox(De),de?ke.tokens.length>0&&"paragraph"===ke.tokens[0].type?(ke.tokens[0].text=je+" "+ke.tokens[0].text,ke.tokens[0].tokens&&ke.tokens[0].tokens.length>0&&"text"===ke.tokens[0].tokens[0].type&&(ke.tokens[0].tokens[0].text=je+" "+ke.tokens[0].tokens[0].text)):ke.tokens.unshift({type:"text",text:je}):Ce+=je),Ce+=this.parse(ke.tokens,de),L+=this.renderer.listitem(Ce,Pe,De);r+=this.renderer.list(L,z,le);continue;case"html":r+=this.renderer.html(H.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(H.tokens));continue;case"text":for(L=H.tokens?this.parseInline(H.tokens):H.text;i+1<mt&&"text"===e[i+1].type;)H=e[++i],L+="\n"+(H.tokens?this.parseInline(H.tokens):H.text);r+=t?this.renderer.paragraph(L):L;continue;default:{const Mt='Token with "'+H.type+'" type was not found.';if(this.options.silent)return void console.error(Mt);throw new Error(Mt)}}return r}parseInline(e,t){t=t||this.renderer;let i,o,s,r="";const a=e.length;for(i=0;i<a;i++)if(o=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(s=this.options.extensions.renderers[o.type].call({parser:this},o),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)))r+=s||"";else switch(o.type){case"escape":case"text":r+=t.text(o.text);break;case"html":r+=t.html(o.text);break;case"link":r+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break;case"image":r+=t.image(o.href,o.title,o.text);break;case"strong":r+=t.strong(this.parseInline(o.tokens,t));break;case"em":r+=t.em(this.parseInline(o.tokens,t));break;case"codespan":r+=t.codespan(o.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(o.tokens,t));break;default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return void console.error(l);throw new Error(l)}}return r}}class rI{constructor(e){this.options=e||Nh}preprocess(e){return e}postprocess(e){return e}}function nB(n,e){return(t,r,i)=>{"function"==typeof r&&(i=r,r=null);const o={...r},s=function CX(n,e,t){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",n){const i="<p>An error occurred:</p><pre>"+jo(r.message+"",!0)+"</pre>";return e?Promise.resolve(i):t?void t(null,i):i}if(e)return Promise.reject(r);if(!t)throw r;t(r)}}((r={...dn.defaults,...o}).silent,r.async,i);if(typeof t>"u"||null===t)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(function vX(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(r),r.hooks&&(r.hooks.options=r),i){const a=r.highlight;let l;try{r.hooks&&(t=r.hooks.preprocess(t)),l=n(t,r)}catch(x){return s(x)}const c=function(x){let L;if(!x)try{r.walkTokens&&dn.walkTokens(l,r.walkTokens),L=e(l,r),r.hooks&&(L=r.hooks.postprocess(L))}catch(H){x=H}return r.highlight=a,x?s(x):i(null,L)};if(!a||a.length<3||(delete r.highlight,!l.length))return c();let b=0;return dn.walkTokens(l,function(x){"code"===x.type&&(b++,setTimeout(()=>{a(x.text,x.lang,function(L,H){if(L)return c(L);null!=H&&H!==x.text&&(x.text=H,x.escaped=!0),b--,0===b&&c()})},0))}),void(0===b&&c())}if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(t):t).then(a=>n(a,r)).then(a=>r.walkTokens?Promise.all(dn.walkTokens(a,r.walkTokens)).then(()=>a):a).then(a=>e(a,r)).then(a=>r.hooks?r.hooks.postprocess(a):a).catch(s);try{r.hooks&&(t=r.hooks.preprocess(t));const a=n(t,r);r.walkTokens&&dn.walkTokens(a,r.walkTokens);let l=e(a,r);return r.hooks&&(l=r.hooks.postprocess(l)),l}catch(a){return s(a)}}}function dn(n,e,t){return nB(od.lex,sd.parse)(n,e,t)}E5(rI,"passThroughHooks",new Set(["preprocess","postprocess"])),dn.options=dn.setOptions=function(n){return function iX(n){Nh=n}(dn.defaults={...dn.defaults,...n}),dn},dn.getDefaults=function j2(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},dn.defaults=Nh,dn.use=function(...n){const e=dn.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(t=>{const r={...t};if(r.async=dn.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const o=e.renderers[i.name];e.renderers[i.name]=o?function(...s){let a=i.renderer.apply(this,s);return!1===a&&(a=o.apply(this,s)),a}:i.renderer}if(i.tokenizer){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&("block"===i.level?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:"inline"===i.level&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),t.renderer){const i=dn.defaults.renderer||new fE;for(const o in t.renderer){const s=i[o];i[o]=(...a)=>{let l=t.renderer[o].apply(i,a);return!1===l&&(l=s.apply(i,a)),l}}r.renderer=i}if(t.tokenizer){const i=dn.defaults.tokenizer||new hE;for(const o in t.tokenizer){const s=i[o];i[o]=(...a)=>{let l=t.tokenizer[o].apply(i,a);return!1===l&&(l=s.apply(i,a)),l}}r.tokenizer=i}if(t.hooks){const i=dn.defaults.hooks||new rI;for(const o in t.hooks){const s=i[o];i[o]=rI.passThroughHooks.has(o)?a=>{if(dn.defaults.async)return Promise.resolve(t.hooks[o].call(i,a)).then(c=>s.call(i,c));const l=t.hooks[o].call(i,a);return s.call(i,l)}:(...a)=>{let l=t.hooks[o].apply(i,a);return!1===l&&(l=s.apply(i,a)),l}}r.hooks=i}if(t.walkTokens){const i=dn.defaults.walkTokens;r.walkTokens=function(o){let s=[];return s.push(t.walkTokens.call(this,o)),i&&(s=s.concat(i.call(this,o))),s}}dn.setOptions(r)})},dn.walkTokens=function(n,e){let t=[];for(const r of n)switch(t=t.concat(e.call(dn,r)),r.type){case"table":for(const i of r.header)t=t.concat(dn.walkTokens(i.tokens,e));for(const i of r.rows)for(const o of i)t=t.concat(dn.walkTokens(o.tokens,e));break;case"list":t=t.concat(dn.walkTokens(r.items,e));break;default:dn.defaults.extensions&&dn.defaults.extensions.childTokens&&dn.defaults.extensions.childTokens[r.type]?dn.defaults.extensions.childTokens[r.type].forEach(function(i){t=t.concat(dn.walkTokens(r[i],e))}):r.tokens&&(t=t.concat(dn.walkTokens(r.tokens,e)))}return t},dn.parseInline=nB(od.lexInline,sd.parseInline),dn.Parser=sd,dn.parser=sd.parse,dn.Renderer=fE,dn.TextRenderer=eB,dn.Lexer=od,dn.lexer=od.lex,dn.Tokenizer=hE,dn.Slugger=tB,dn.Hooks=rI,dn.parse=dn;let wX=(()=>{class n{constructor(t){this.http=t}getManualInputDetails(t,r){return this.http.get(t,r)}save(t,r,i){return this.http.post(t,r,i)}}return n.\u0275fac=function(t){return new(t||n)(Et(lE))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IX=["addListener","removeListener"],_X=["addEventListener","removeEventListener"],AX=["on","off"];function lo(n,e,t,r){if(kn(t)&&(r=t,t=void 0),r)return lo(n,e,t).pipe(oT(r));const[i,o]=function TX(n){return kn(n.addEventListener)&&kn(n.removeEventListener)}(n)?_X.map(s=>a=>n[s](e,a,t)):function SX(n){return kn(n.addListener)&&kn(n.removeListener)}(n)?IX.map(rB(n,e)):function xX(n){return kn(n.on)&&kn(n.off)}(n)?AX.map(rB(n,e)):[];if(!i&&We(n))return tn(s=>lo(s,e,t))(Ur(n));if(!i)throw new TypeError("Invalid event target");return new $(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function rB(n,e){return t=>r=>n[t](e,r)}class EX extends we{constructor(e,t){super()}schedule(e,t=0){return this}}const iI={setInterval(n,e,...t){const{delegate:r}=iI;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=iI;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},iB={now:()=>(iB.delegate||Date).now(),delegate:void 0};class hy{constructor(e,t=hy.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}hy.now=iB.now;const oB=new class DX extends hy{constructor(e,t=hy.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class kX extends EX{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return iI.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&iI.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ue(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),MX=oB;function pE(n=0,e,t=MX){let r=-1;return null!=e&&(xr(e)?t=e:r=e),new $(i=>{let o=function NX(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}const{isArray:RX}=Array;function sB(n){return 1===n.length&&RX(n[0])?n[0]:n}function aB(...n){return 1===(n=sB(n)).length?Ur(n[0]):new $(function OX(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push(Ur(n[r]).subscribe(K(e,i=>{if(t){for(let o=0;o<t.length;o++)o!==r&&t[o].unsubscribe();t=null}e.next(i)})))}}(n))}function oI(...n){const e=An(n),t=sB(n);return t.length?new $(r=>{let i=t.map(()=>[]),o=t.map(()=>!1);r.add(()=>{i=o=null});for(let s=0;!r.closed&&s<t.length;s++)Ur(t[s]).subscribe(K(r,a=>{if(i[s].push(a),i.every(l=>l.length)){const l=i.map(c=>c.shift());r.next(e?e(...l):l),i.some((c,b)=>!c.length&&o[b])&&r.complete()}},()=>{o[s]=!0,!i[s].length&&r.complete()}));return()=>{i=o=null}}):Kn}function si(n){return N((e,t)=>{Ur(n).subscribe(K(t,()=>t.complete(),J)),!t.closed&&e.subscribe(t)})}function mE(...n){const e=An(n);return N((t,r)=>{const i=n.length,o=new Array(i);let s=n.map(()=>!1),a=!1;for(let l=0;l<i;l++)Ur(n[l]).subscribe(K(r,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(E))&&(s=null))},J));t.subscribe(K(r,l=>{if(a){const c=[l,...o];r.next(e?e(...c):c)}}))})}function cB(n,e){return e?t=>Yv(e.pipe(so(1),function FX(){return N((n,e)=>{n.subscribe(K(e,J))})}()),t.pipe(cB(n))):tn((t,r)=>n(t,r).pipe(so(1),IF(t)))}new $(J);var HX={left:"right",right:"left",bottom:"top",top:"bottom"};function sI(n){return n.replace(/left|right|bottom|top/g,function(e){return HX[e]})}function Xl(n){return n.split("-")[0]}var VX={start:"end",end:"start"};function uB(n){return n.replace(/start|end/g,function(e){return VX[e]})}var na="top",sl="bottom",al="right",ra="left",vE="auto",fy=[na,sl,al,ra],Hp="start",py="end",dB="viewport",gy="popper",hB=fy.reduce(function(n,e){return n.concat([e+"-"+Hp,e+"-"+py])},[]),fB=[].concat(fy,[vE]).reduce(function(n,e){return n.concat([e,e+"-"+Hp,e+"-"+py])},[]),QX=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ia(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Rh(n){return n instanceof ia(n).Element||n instanceof Element}function Na(n){return n instanceof ia(n).HTMLElement||n instanceof HTMLElement}function yE(n){return!(typeof ShadowRoot>"u")&&(n instanceof ia(n).ShadowRoot||n instanceof ShadowRoot)}function ad(n){return((Rh(n)?n.ownerDocument:n.document)||window.document).documentElement}var Oh=Math.max,aI=Math.min,Vp=Math.round;function bE(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function pB(){return!/^((?!chrome|android).)*safari/i.test(bE())}function Gp(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&Na(n)&&(i=n.offsetWidth>0&&Vp(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&Vp(r.height)/n.offsetHeight||1);var a=(Rh(n)?ia(n):window).visualViewport,l=!pB()&&t,c=(r.left+(l&&a?a.offsetLeft:0))/i,b=(r.top+(l&&a?a.offsetTop:0))/o,x=r.width/i,L=r.height/o;return{width:x,height:L,top:b,right:c+x,bottom:b+L,left:c,x:c,y:b}}function CE(n){var e=ia(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function wE(n){return Gp(ad(n)).left+CE(n).scrollLeft}function tu(n){return ia(n).getComputedStyle(n)}function ql(n){return n?(n.nodeName||"").toLowerCase():null}function lI(n){return"html"===ql(n)?n:n.assignedSlot||n.parentNode||(yE(n)?n.host:null)||ad(n)}function IE(n){var e=tu(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function gB(n){return["html","body","#document"].indexOf(ql(n))>=0?n.ownerDocument.body:Na(n)&&IE(n)?n:gB(lI(n))}function my(n,e){var t;void 0===e&&(e=[]);var r=gB(n),i=r===(null==(t=n.ownerDocument)?void 0:t.body),o=ia(r),s=i?[o].concat(o.visualViewport||[],IE(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(my(lI(s)))}function nq(n){return["table","td","th"].indexOf(ql(n))>=0}function mB(n){return Na(n)&&"fixed"!==tu(n).position?n.offsetParent:null}function vy(n){for(var e=ia(n),t=mB(n);t&&nq(t)&&"static"===tu(t).position;)t=mB(t);return t&&("html"===ql(t)||"body"===ql(t)&&"static"===tu(t).position)?e:t||function rq(n){var e=/firefox/i.test(bE());if(/Trident/i.test(bE())&&Na(n)&&"fixed"===tu(n).position)return null;var i=lI(n);for(yE(i)&&(i=i.host);Na(i)&&["html","body"].indexOf(ql(i))<0;){var o=tu(i);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||e&&"filter"===o.willChange||e&&o.filter&&"none"!==o.filter)return i;i=i.parentNode}return null}(n)||e}function vB(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&yE(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _E(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function yB(n,e,t){return e===dB?_E(function eq(n,e){var t=ia(n),r=ad(n),i=t.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=pB();(c||!c&&"fixed"===e)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+wE(n),y:l}}(n,t)):Rh(e)?function iq(n,e){var t=Gp(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):_E(function tq(n){var e,t=ad(n),r=CE(n),i=null==(e=n.ownerDocument)?void 0:e.body,o=Oh(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Oh(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+wE(n),l=-r.scrollTop;return"rtl"===tu(i||t).direction&&(a+=Oh(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(ad(n)))}function Wp(n){return n.split("-")[1]}function AE(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function bB(n){var l,e=n.reference,t=n.element,r=n.placement,i=r?Xl(r):null,o=r?Wp(r):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2;switch(i){case na:l={x:s,y:e.y-t.height};break;case sl:l={x:s,y:e.y+e.height};break;case al:l={x:e.x+e.width,y:a};break;case ra:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?AE(i):null;if(null!=c){var b="y"===c?"height":"width";switch(o){case Hp:l[c]=l[c]-(e[b]/2-t[b]/2);break;case py:l[c]=l[c]+(e[b]/2-t[b]/2)}}return l}function wB(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function IB(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}function SE(n,e){void 0===e&&(e={});var r=e.placement,i=void 0===r?n.placement:r,o=e.strategy,s=void 0===o?n.strategy:o,a=e.boundary,l=void 0===a?"clippingParents":a,c=e.rootBoundary,b=void 0===c?dB:c,x=e.elementContext,L=void 0===x?gy:x,H=e.altBoundary,z=void 0!==H&&H,le=e.padding,de=void 0===le?0:le,Ce=wB("number"!=typeof de?de:IB(de,fy)),De=n.rects.popper,Pe=n.elements[z?L===gy?"reference":gy:L],je=function sq(n,e,t,r){var i="clippingParents"===e?function oq(n){var e=my(lI(n)),r=["absolute","fixed"].indexOf(tu(n).position)>=0&&Na(n)?vy(n):n;return Rh(r)?e.filter(function(i){return Rh(i)&&vB(i,r)&&"body"!==ql(i)}):[]}(n):[].concat(e),o=[].concat(i,[t]),a=o.reduce(function(l,c){var b=yB(n,c,r);return l.top=Oh(b.top,l.top),l.right=aI(b.right,l.right),l.bottom=aI(b.bottom,l.bottom),l.left=Oh(b.left,l.left),l},yB(n,o[0],r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(Rh(Pe)?Pe:Pe.contextElement||ad(n.elements.popper),l,b,s),Ye=Gp(n.elements.reference),mt=bB({reference:Ye,element:De,strategy:"absolute",placement:i}),Mt=_E(Object.assign({},De,mt)),St=L===gy?Mt:Ye,on={top:je.top-St.top+Ce.top,bottom:St.bottom-je.bottom+Ce.bottom,left:je.left-St.left+Ce.left,right:St.right-je.right+Ce.right},_n=n.modifiersData.offset;if(L===gy&&_n){var yr=_n[i];Object.keys(on).forEach(function(ei){var mi=[al,sl].indexOf(ei)>=0?1:-1,Ss=[na,sl].indexOf(ei)>=0?"y":"x";on[ei]+=yr[Ss]*mi})}return on}const uq={name:"flip",enabled:!0,phase:"main",fn:function cq(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=void 0===i||i,s=t.altAxis,a=void 0===s||s,l=t.fallbackPlacements,c=t.padding,b=t.boundary,x=t.rootBoundary,L=t.altBoundary,H=t.flipVariations,z=void 0===H||H,le=t.allowedAutoPlacements,de=e.options.placement,Ce=Xl(de),De=l||(Ce!==de&&z?function lq(n){if(Xl(n)===vE)return[];var e=sI(n);return[uB(n),e,uB(e)]}(de):[sI(de)]),Pe=[de].concat(De).reduce(function(ci,Cl){return ci.concat(Xl(Cl)===vE?function aq(n,e){void 0===e&&(e={});var i=e.boundary,o=e.rootBoundary,s=e.padding,a=e.flipVariations,l=e.allowedAutoPlacements,c=void 0===l?fB:l,b=Wp(e.placement),x=b?a?hB:hB.filter(function(z){return Wp(z)===b}):fy,L=x.filter(function(z){return c.indexOf(z)>=0});0===L.length&&(L=x);var H=L.reduce(function(z,le){return z[le]=SE(n,{placement:le,boundary:i,rootBoundary:o,padding:s})[Xl(le)],z},{});return Object.keys(H).sort(function(z,le){return H[z]-H[le]})}(e,{placement:Cl,boundary:b,rootBoundary:x,padding:c,flipVariations:z,allowedAutoPlacements:le}):Cl)},[]),je=e.rects.reference,Ye=e.rects.popper,mt=new Map,Mt=!0,St=Pe[0],on=0;on<Pe.length;on++){var _n=Pe[on],yr=Xl(_n),ei=Wp(_n)===Hp,mi=[na,sl].indexOf(yr)>=0,Ss=mi?"width":"height",Si=SE(e,{placement:_n,boundary:b,rootBoundary:x,altBoundary:L,padding:c}),ca=mi?ei?al:ra:ei?sl:na;je[Ss]>Ye[Ss]&&(ca=sI(ca));var Ag=sI(ca),gu=[];if(o&&gu.push(Si[yr]<=0),a&&gu.push(Si[ca]<=0,Si[Ag]<=0),gu.every(function(ci){return ci})){St=_n,Mt=!1;break}mt.set(_n,gu)}if(Mt)for(var gf=function(Cl){var mu=Pe.find(function(Sd){var hc=mt.get(Sd);if(hc)return hc.slice(0,Cl).every(function(vf){return vf})});if(mu)return St=mu,"break"},vi=z?3:1;vi>0&&"break"!==gf(vi);vi--);e.placement!==St&&(e.modifiersData[r]._skip=!0,e.placement=St,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function yy(n,e,t){return Oh(n,aI(e,t))}function xE(n){var e=Gp(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}const pq={name:"preventOverflow",enabled:!0,phase:"main",fn:function fq(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=void 0===i||i,s=t.altAxis,a=void 0!==s&&s,L=t.tether,H=void 0===L||L,z=t.tetherOffset,le=void 0===z?0:z,de=SE(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),Ce=Xl(e.placement),ke=Wp(e.placement),De=!ke,Pe=AE(Ce),je=function dq(n){return"x"===n?"y":"x"}(Pe),Ye=e.modifiersData.popperOffsets,mt=e.rects.reference,Mt=e.rects.popper,St="function"==typeof le?le(Object.assign({},e.rects,{placement:e.placement})):le,on="number"==typeof St?{mainAxis:St,altAxis:St}:Object.assign({mainAxis:0,altAxis:0},St),_n=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,yr={x:0,y:0};if(Ye){if(o){var ei,mi="y"===Pe?na:ra,Ss="y"===Pe?sl:al,Si="y"===Pe?"height":"width",ca=Ye[Pe],Ag=ca+de[mi],gu=ca-de[Ss],pf=H?-Mt[Si]/2:0,gf=ke===Hp?mt[Si]:Mt[Si],vi=ke===Hp?-Mt[Si]:-mt[Si],mf=e.elements.arrow,ci=H&&mf?xE(mf):{width:0,height:0},Cl=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},mu=Cl[mi],Sd=Cl[Ss],hc=yy(0,mt[Si],ci[Si]),vf=De?mt[Si]/2-pf-hc-mu-on.mainAxis:gf-hc-mu-on.mainAxis,j_=De?-mt[Si]/2+pf+hc+Sd+on.mainAxis:vi+hc+Sd+on.mainAxis,fc=e.elements.arrow&&vy(e.elements.arrow),Sg=null!=(ei=_n?.[Pe])?ei:0,Td=ca+j_-Sg,yf=yy(H?aI(Ag,ca+vf-Sg-(fc?"y"===Pe?fc.clientTop||0:fc.clientLeft||0:0)):Ag,ca,H?Oh(gu,Td):gu);Ye[Pe]=yf,yr[Pe]=yf-ca}if(a){var nb,wl=Ye[je],pc="y"===je?"height":"width",vu=wl+de["x"===Pe?na:ra],yu=wl-de["x"===Pe?sl:al],Tg=-1!==[na,ra].indexOf(Ce),rb=null!=(nb=_n?.[je])?nb:0,ib=Tg?vu:wl-mt[pc]-Mt[pc]-rb+on.altAxis,Eg=Tg?wl+mt[pc]+Mt[pc]-rb-on.altAxis:yu,ob=H&&Tg?function hq(n,e,t){var r=yy(n,e,t);return r>t?t:r}(ib,wl,Eg):yy(H?ib:vu,wl,H?Eg:yu);Ye[je]=ob,yr[je]=ob-wl}e.modifiersData[r]=yr}},requiresIfExists:["offset"]},yq={name:"arrow",enabled:!0,phase:"main",fn:function mq(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,s=t.modifiersData.popperOffsets,a=Xl(t.placement),l=AE(a),b=[ra,al].indexOf(a)>=0?"height":"width";if(o&&s){var x=function(e,t){return wB("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:IB(e,fy))}(i.padding,t),L=xE(o),H="y"===l?na:ra,z="y"===l?sl:al,le=t.rects.reference[b]+t.rects.reference[l]-s[l]-t.rects.popper[b],de=s[l]-t.rects.reference[l],Ce=vy(o),ke=Ce?"y"===l?Ce.clientHeight||0:Ce.clientWidth||0:0,Ye=ke/2-L[b]/2+(le/2-de/2),mt=yy(x[H],Ye,ke-L[b]-x[z]);t.modifiersData[r]=((e={})[l]=mt,e.centerOffset=mt-Ye,e)}},effect:function vq(n){var e=n.state,r=n.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=e.elements.popper.querySelector(i))||!vB(e.elements.popper,i)||(e.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Iq(n,e,t){void 0===t&&(t=!1);var r=Na(e),i=Na(e)&&function wq(n){var e=n.getBoundingClientRect(),t=Vp(e.width)/n.offsetWidth||1,r=Vp(e.height)/n.offsetHeight||1;return 1!==t||1!==r}(e),o=ad(e),s=Gp(n,i,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&(("body"!==ql(e)||IE(o))&&(a=function Cq(n){return n!==ia(n)&&Na(n)?function bq(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):CE(n)}(e)),Na(e)?((l=Gp(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=wE(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function _q(n){var e=new Map,t=new Set,r=[];function i(o){t.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return n.forEach(function(o){e.set(o.name,o)}),n.forEach(function(o){t.has(o.name)||i(o)}),r}function Sq(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var _B={placement:"bottom",modifiers:[],strategy:"absolute"};function AB(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function Tq(n){void 0===n&&(n={});var t=n.defaultModifiers,r=void 0===t?[]:t,i=n.defaultOptions,o=void 0===i?_B:i;return function(a,l,c){void 0===c&&(c=o);var b={placement:"bottom",orderedModifiers:[],options:Object.assign({},_B,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},x=[],L=!1,H={state:b,setOptions:function(Ce){var ke="function"==typeof Ce?Ce(b.options):Ce;le(),b.options=Object.assign({},o,b.options,ke),b.scrollParents={reference:Rh(a)?my(a):a.contextElement?my(a.contextElement):[],popper:my(l)};var De=function Aq(n){var e=_q(n);return QX.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}(function xq(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(r,b.options.modifiers)));return b.orderedModifiers=De.filter(function(Pe){return Pe.enabled}),function z(){b.orderedModifiers.forEach(function(de){var ke=de.options,Pe=de.effect;if("function"==typeof Pe){var je=Pe({state:b,name:de.name,instance:H,options:void 0===ke?{}:ke});x.push(je||function(){})}})}(),H.update()},forceUpdate:function(){if(!L){var Ce=b.elements,ke=Ce.reference,De=Ce.popper;if(AB(ke,De)){b.rects={reference:Iq(ke,vy(De),"fixed"===b.options.strategy),popper:xE(De)},b.reset=!1,b.placement=b.options.placement,b.orderedModifiers.forEach(function(on){return b.modifiersData[on.name]=Object.assign({},on.data)});for(var Pe=0;Pe<b.orderedModifiers.length;Pe++)if(!0!==b.reset){var je=b.orderedModifiers[Pe],Ye=je.fn,mt=je.options;"function"==typeof Ye&&(b=Ye({state:b,options:void 0===mt?{}:mt,name:je.name,instance:H})||b)}else b.reset=!1,Pe=-1}}},update:Sq(function(){return new Promise(function(de){H.forceUpdate(),de(b)})}),destroy:function(){le(),L=!0}};if(!AB(a,l))return H;function le(){x.forEach(function(de){return de()}),x=[]}return H.setOptions(c).then(function(de){!L&&c.onFirstUpdate&&c.onFirstUpdate(de)}),H}}var cI={passive:!0},Nq={top:"auto",right:"auto",bottom:"auto",left:"auto"};function SB(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,s=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,b=n.roundOffsets,x=n.isFixed,L=s.x,H=void 0===L?0:L,z=s.y,le=void 0===z?0:z,de="function"==typeof b?b({x:H,y:le}):{x:H,y:le};H=de.x,le=de.y;var Ce=s.hasOwnProperty("x"),ke=s.hasOwnProperty("y"),De=ra,Pe=na,je=window;if(c){var Ye=vy(t),mt="clientHeight",Mt="clientWidth";Ye===ia(t)&&"static"!==tu(Ye=ad(t)).position&&"absolute"===a&&(mt="scrollHeight",Mt="scrollWidth"),(i===na||(i===ra||i===al)&&o===py)&&(Pe=sl,le-=(x&&Ye===je&&je.visualViewport?je.visualViewport.height:Ye[mt])-r.height,le*=l?1:-1),i!==ra&&(i!==na&&i!==sl||o!==py)||(De=al,H-=(x&&Ye===je&&je.visualViewport?je.visualViewport.width:Ye[Mt])-r.width,H*=l?1:-1)}var ei,_n=Object.assign({position:a},c&&Nq),yr=!0===b?function Rq(n,e){var r=n.y,i=e.devicePixelRatio||1;return{x:Vp(n.x*i)/i||0,y:Vp(r*i)/i||0}}({x:H,y:le},ia(t)):{x:H,y:le};return H=yr.x,le=yr.y,Object.assign({},_n,l?((ei={})[Pe]=ke?"0":"",ei[De]=Ce?"0":"",ei.transform=(je.devicePixelRatio||1)<=1?"translate("+H+"px, "+le+"px)":"translate3d("+H+"px, "+le+"px, 0)",ei):((e={})[Pe]=ke?le+"px":"",e[De]=Ce?H+"px":"",e.transform="",e))}var $q=Tq({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Eq(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=ia(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(b){b.addEventListener("scroll",t.update,cI)}),a&&l.addEventListener("resize",t.update,cI),function(){o&&c.forEach(function(b){b.removeEventListener("scroll",t.update,cI)}),a&&l.removeEventListener("resize",t.update,cI)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Dq(n){var e=n.state;e.modifiersData[n.name]=bB({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Oq(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=void 0===r||r,o=t.adaptive,s=void 0===o||o,a=t.roundOffsets,l=void 0===a||a,c={placement:Xl(e.placement),variation:Wp(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,SB(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,SB(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function Pq(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},o=e.elements[t];!Na(o)||!ql(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];!1===a?o.removeAttribute(s):o.setAttribute(s,!0===a?"":a)}))})},effect:function Fq(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]).reduce(function(l,c){return l[c]="",l},{});!Na(i)||!ql(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}},requires:["computeStyles"]}]});const Gq={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Vq(n){var e=n.state,r=n.name,i=n.options.offset,o=void 0===i?[0,0]:i,s=fB.reduce(function(b,x){return b[x]=function Hq(n,e,t){var r=Xl(n),i=[ra,na].indexOf(r)>=0?-1:1,o="function"==typeof t?t(Object.assign({},e,{placement:n})):t,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[ra,al].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(x,e.rects,o),b},{}),a=s[e.placement],c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=a.x,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}},Jq=["*"],n6=["month"],r6=["year"];function i6(n,e){if(1&n&&(Pt(0,"option",5),Or(1),Rt()),2&n){const t=e.$implicit,r=It();it("value",t),_r("aria-label",r.i18n.getMonthFullName(t,r.date.year)),ut(1),xa(r.i18n.getMonthShortName(t,r.date.year))}}function o6(n,e){if(1&n&&(Pt(0,"option",5),Or(1),Rt()),2&n){const t=e.$implicit,r=It();it("value",t),ut(1),xa(r.i18n.getYearNumerals(t))}}function s6(n,e){if(1&n){const t=hs();Pt(0,"ngb-datepicker-navigation-select",7),Dn("select",function(i){return Vr(t),$i(It().select.emit(i))}),Rt()}if(2&n){const t=It();it("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function a6(n,e){1&n&&Fr(0,"div",0)}function l6(n,e){1&n&&Fr(0,"div",0)}function c6(n,e){if(1&n&&(gt(0,a6,1,0,"div",9),Pt(1,"div",10),Or(2),Rt(),gt(3,l6,1,0,"div",9)),2&n){const t=e.$implicit,r=e.index,i=It(2);it("ngIf",r>0),ut(2),zl(" ",i.i18n.getMonthLabel(t.firstDate)," "),ut(1),it("ngIf",r!==i.months.length-1)}}function u6(n,e){1&n&&gt(0,c6,4,3,"ng-template",8),2&n&&it("ngForOf",It().months)}const d6=["ngbDatepickerDayView",""],h6=["defaultDayTemplate"],f6=["content"];function p6(n,e){if(1&n&&Fr(0,"div",7),2&n){const r=e.currentMonth,i=e.selected,o=e.disabled,s=e.focused;it("date",e.date)("currentMonth",r)("selected",i)("disabled",o)("focused",s)}}function g6(n,e){if(1&n&&(Pt(0,"div",12),Or(1),Rt()),2&n){const t=It().$implicit,r=It(2);ut(1),zl(" ",r.i18n.getMonthLabel(t.firstDate)," ")}}function m6(n,e){if(1&n&&(Pt(0,"div",9),gt(1,g6,2,1,"div",10),Fr(2,"ngb-datepicker-month",11),Rt()),2&n){const t=e.$implicit,r=It(2);ut(1),it("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),ut(1),it("month",t.firstDate)}}function v6(n,e){1&n&&gt(0,m6,3,2,"div",8),2&n&&it("ngForOf",It().model.months)}function y6(n,e){if(1&n){const t=hs();Pt(0,"ngb-datepicker-navigation",13),Dn("navigate",function(i){return Vr(t),$i(It().onNavigateEvent(i))})("select",function(i){return Vr(t),$i(It().onNavigateDateSelect(i))}),Rt()}if(2&n){const t=It();it("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function b6(n,e){}function C6(n,e){}function w6(n,e){if(1&n&&(Pt(0,"div",5),Or(1),Rt()),2&n){const t=It(2);ut(1),xa(t.i18n.getWeekLabel())}}function I6(n,e){if(1&n&&(Pt(0,"div",6),Or(1),Rt()),2&n){const t=e.$implicit;ut(1),xa(t)}}function _6(n,e){if(1&n&&(Pt(0,"div",2),gt(1,w6,2,1,"div",3),gt(2,I6,2,1,"div",4),Rt()),2&n){const t=It();ut(1),it("ngIf",t.datepicker.showWeekNumbers),ut(1),it("ngForOf",t.viewModel.weekdays)}}function A6(n,e){if(1&n&&(Pt(0,"div",11),Or(1),Rt()),2&n){const t=It(2).$implicit,r=It();ut(1),xa(r.i18n.getWeekNumerals(t.number))}}function S6(n,e){}function x6(n,e){if(1&n&&gt(0,S6,0,0,"ng-template",14),2&n){const t=It().$implicit;it("ngTemplateOutlet",It(3).datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function T6(n,e){if(1&n){const t=hs();Pt(0,"div",12),Dn("click",function(i){const s=Vr(t).$implicit;return It(3).doSelect(s),$i(i.preventDefault())}),gt(1,x6,1,2,"ng-template",13),Rt()}if(2&n){const t=e.$implicit;Br("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),it("tabindex",t.tabindex),_r("aria-label",t.ariaLabel),ut(1),it("ngIf",!t.hidden)}}function E6(n,e){if(1&n&&(Pt(0,"div",8),gt(1,A6,2,1,"div",9),gt(2,T6,2,9,"div",10),Rt()),2&n){const t=It().$implicit,r=It();ut(1),it("ngIf",r.datepicker.showWeekNumbers),ut(1),it("ngForOf",t.days)}}function k6(n,e){1&n&&gt(0,E6,3,2,"div",7),2&n&&it("ngIf",!e.$implicit.collapsed)}const D6=["dialog"];function Ls(n){return parseInt(`${n}`,10)}function by(n){return"string"==typeof n}function Ao(n){return!isNaN(Ls(n))}function Ps(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function Lh(n){return null!=n}function TB(n){return Ao(n)?`0${n}`.slice(-2):""}function EB(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function jp(n){return(n||document.body).getBoundingClientRect()}const kB={animation:!0,transitionTimerDelayMs:5},AQ=()=>{},{transitionTimerDelayMs:SQ}=kB,Cy=new Map,ys=(n,e,t,r)=>{let i=r.context||{};const o=Cy.get(e);if(o)switch(r.runningTransition){case"continue":return Kn;case"stop":n.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),Cy.delete(e)}const s=t(e,r.animation,i)||AQ;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>s()),Qt(void 0).pipe(function IQ(n){return e=>new $(t=>e.subscribe({next:s=>n.run(()=>t.next(s)),error:s=>n.run(()=>t.error(s)),complete:()=>n.run(()=>t.complete())}))}(n));const a=new S,l=new S,c=a.pipe(function LX(...n){return e=>Yv(e,Qt(...n))}(!0));Cy.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:i});const b=function _Q(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const x=lo(e,"transitionend").pipe(si(c),Wi(({target:H})=>H===e));aB(pE(b+SQ).pipe(si(c)),x,l).pipe(si(c)).subscribe(()=>{Cy.delete(e),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let uI=(()=>{class n{constructor(){this.animation=kB.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[Wo]}),n})(),PB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[Wo]}),n})(),$B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[Wo]}),n})(),HB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({}),n})();class ji{constructor(e,t,r){this.year=Ps(e)?e:null,this.month=Ps(t)?t:null,this.day=Ps(r)?r:null}static from(e){return e instanceof ji?e:e?new ji(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function Up(n,e){return!function PQ(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function VB(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function hI(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function DE(n,e){const{minDate:t,maxDate:r,disabled:i,markDisabled:o}=e;return!(null==n||i||o&&o(n,{year:n.year,month:n.month})||t&&n.before(t)||r&&n.after(r))}function GB(n){return new ji(n.getFullYear(),n.getMonth()+1,n.getDate())}function fI(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let pI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:function(){return function UQ(){return new zQ}()},providedIn:"root"}),n})(),zQ=(()=>{class n extends pI{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,r="d",i=1){let o=fI(t),s=!0,a=o.getMonth();switch(r){case"y":o.setFullYear(o.getFullYear()+i);break;case"m":a+=i,o.setMonth(a),a%=12,a<0&&(a+=12);break;case"d":o.setDate(o.getDate()+i),s=!1;break;default:return t}return s&&o.getMonth()!==a&&o.setDate(0),GB(o)}getPrev(t,r="d",i=1){return this.getNext(t,r,-i)}getWeekday(t){let i=fI(t).getDay();return 0===i?7:i}getWeekNumber(t,r){7===r&&(r=0);const s=fI(t[(11-r)%7]);s.setDate(s.getDate()+4-(s.getDay()||7));const a=s.getTime();return s.setMonth(0),s.setDate(1),Math.floor(Math.round((a-s.getTime())/864e5)/7)+1}getToday(){return GB(new Date)}isValid(t){if(!(t&&Ps(t.year)&&Ps(t.month)&&Ps(t.day)&&0!==t.year))return!1;const r=fI(t);return!isNaN(r.getTime())&&r.getFullYear()===t.year&&r.getMonth()+1===t.month&&r.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=di(n)))(r||n)}}(),n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})(),Fh=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:function(t){let r=null;return r=t?new t:function ZQ(n){return new KQ(n)}(Et(tl)),r},providedIn:"root"}),n})(),KQ=(()=>{class n extends Fh{constructor(t){super(),this._locale=t,this._monthsShort=Fx(t,Xr.Standalone,wn.Abbreviated),this._monthsFull=Fx(t,Xr.Standalone,wn.Wide)}getWeekdayLabel(t,r){const i=gL(this._locale,Xr.Standalone,void 0===r?wn.Short:r);return i.map((s,a)=>i[(a+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return vL(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(Et(tl))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})(),ME=(()=>{class n{constructor(t,r){this._calendar=t,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(Ps(i=Ls(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(Ps(i=Ls(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const o=this.toValidDate(i,null);if(Up(this._state.maxDate,o))return{maxDate:o}},minDate:i=>{const o=this.toValidDate(i,null);if(Up(this._state.minDate,o))return{minDate:o}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}},weekdays:i=>{const o=!0===i||!1===i?wn.Short:i,s=!0!==i&&!1!==i||i;if(this._state.weekdayWidth!==o||this._state.weekdaysVisible!==s)return{weekdayWidth:o,weekdaysVisible:s}}},this._model$=new S,this._dateSelect$=new S,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:wn.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(Wi(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(Wi(t=>null!==t))}set(t){let r=Object.keys(t).map(i=>this._VALIDATORS[i](t[i])).reduce((i,o)=>({...i,...o}),{});Object.keys(r).length>0&&this._nextState(r)}focus(t){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&Up(this._state.focusDate,r)&&this._nextState({focusDate:t})}focusSelect(){DE(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const r=this.toValidDate(t,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||VB(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(t,r={}){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&(Up(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&DE(i,this._state)&&this._dateSelect$.next(i))}toValidDate(t,r){const i=ji.from(t);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(t){for(let r of this._state.months)if(t.month===r.number&&t.year===r.year)return r;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const r=this._updateState(t);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(t){const{months:r,displayMonths:i,selectedDate:o,focusDate:s,focusVisible:a,disabled:l,outsideDays:c}=t;t.months.forEach(b=>{b.weeks.forEach(x=>{x.days.forEach(L=>{s&&(L.context.focused=s.equals(L.date)&&a),L.tabindex=!l&&s&&L.date.equals(s)&&s.month===b.number?0:-1,!0===l&&(L.context.disabled=!0),void 0!==o&&(L.context.selected=null!==o&&o.equals(L.date)),b.number!==L.date.month&&(L.hidden="hidden"===c||"collapsed"===c||i>1&&L.date.after(r[0].firstDate)&&L.date.before(r[i-1].lastDate))})})})}_updateState(t){const r=Object.assign({},this._state,t);let i=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function FQ(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=hI(r.focusDate,r.minDate,r.maxDate),r.firstDate=hI(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in t||"focusDate"in t&&(r.focusDate=hI(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=hI(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const s=function GQ(n,e,t,r,i){const{displayMonths:o,months:s}=t,a=s.splice(0,s.length);return Array.from({length:o},(c,b)=>{const x=Object.assign(n.getNext(e,"m",b),{day:1});if(s[b]=null,!i){const L=a.findIndex(H=>H.firstDate.equals(x));-1!==L&&(s[b]=a.splice(L,1)[0])}return x}).forEach((c,b)=>{null===s[b]&&(s[b]=function WQ(n,e,t,r,i={}){const{dayTemplateData:o,minDate:s,maxDate:a,firstDayOfWeek:l,markDisabled:c,outsideDays:b,weekdayWidth:x,weekdaysVisible:L}=t,H=n.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function jQ(n,e,t){const r=n.getDaysPerWeek(),i=new ji(e.year,e.month,1),o=n.getWeekday(i)%r;return n.getPrev(i,"d",(r+o-t)%r)}(n,e,l),L||(i.weekdays.length=0);for(let z=0;z<n.getWeeksPerMonth();z++){let le=i.weeks[z];le||(le=i.weeks[z]={number:0,days:[],collapsed:!0});const de=le.days;for(let Ce=0;Ce<n.getDaysPerWeek();Ce++){0===z&&L&&(i.weekdays[Ce]=r.getWeekdayLabel(n.getWeekday(e),x));const ke=new ji(e.year,e.month,e.day),De=n.getNext(ke),Pe=r.getDayAriaLabel(ke);let je=!!(s&&ke.before(s)||a&&ke.after(a));!je&&c&&(je=c(ke,{month:i.number,year:i.year}));let Ye=ke.equals(H),mt=o?o(ke,{month:i.number,year:i.year}):void 0;null===i.firstDate&&ke.month===i.number&&(i.firstDate=ke),ke.month===i.number&&De.month!==i.number&&(i.lastDate=ke);let Mt=de[Ce];Mt||(Mt=de[Ce]={}),Mt.date=ke,Mt.context=Object.assign(Mt.context||{},{$implicit:ke,date:ke,data:mt,currentMonth:i.number,currentYear:i.year,disabled:je,focused:!1,selected:!1,today:Ye}),Mt.tabindex=-1,Mt.ariaLabel=Pe,Mt.hidden=!1,e=De}le.number=n.getWeekNumber(de.map(Ce=>Ce.date),l),le.collapsed="collapsed"===b&&de[0].date.month!==i.number&&de[de.length-1].date.month!==i.number}return i}(n,c,t,r,a.shift()||{}))}),s}(this._calendar,i,r,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);r.months=s,r.firstDate=s[0].firstDate,r.lastDate=s[s.length-1].lastDate,"selectedDate"in t&&!DE(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const a=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,l=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||a)&&(r.selectBoxes.years=function $Q(n,e,t){if(!n)return[];const r=e?Math.max(e.year,n.year-500):n.year-10,o=(t?Math.min(t.year,n.year+500):n.year+10)-r+1,s=Array(o);for(let a=0;a<o;a++)s[a]=r+a;return s}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||a)&&(r.selectBoxes.months=function BQ(n,e,t,r){if(!e)return[];let i=n.getMonths(e.year);if(t&&e.year===t.year){const o=i.findIndex(s=>s===t.month);i=i.slice(o)}if(r&&e.year===r.year){const o=i.findIndex(s=>s===r.month);i=i.slice(0,o+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(l||a||"minDate"in t||"maxDate"in t||"disabled"in t)&&(r.prevDisabled=r.disabled||function VQ(n,e,t){const r=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(r.year===t.year&&r.month<t.month||r.year<t.year&&1===t.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function HQ(n,e,t){const r=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&r.after(t)}(this._calendar,r.lastDate,r.maxDate))}return r}}return n.\u0275fac=function(t){return new(t||n)(Et(pI),Et(Fh))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})();var zp=(()=>{return(n=zp||(zp={}))[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT",zp;var n})();let NE=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=wn.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:function(){return function YQ(){return new JQ}()},providedIn:"root"}),n})(),JQ=(()=>{class n extends RE{fromModel(t){return t&&Ps(t.year)&&Ps(t.month)&&Ps(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&Ps(t.year)&&Ps(t.month)&&Ps(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=di(n)))(r||n)}}(),n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})(),XQ=(()=>{class n{constructor(t,r){this.i18n=t,this._renderer=r,this.select=new at,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new ji(this.date.year,Ls(t),1))}changeYear(t){this.select.emit(new ji(Ls(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(Be(Fh),Be(cs))},n.\u0275cmp=yi({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,r){if(1&t&&(Qa(n6,7,or),Qa(r6,7,or)),2&t){let i;sr(i=ar())&&(r.monthSelect=i.first),sr(i=ar())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,i=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,r){1&t&&(Pt(0,"select",0,1),Dn("change",function(o){return r.changeMonth(o.target.value)}),gt(2,i6,2,3,"option",2),Rt(),Pt(3,"select",3,4),Dn("change",function(o){return r.changeYear(o.target.value)}),gt(5,o6,2,2,"option",2),Rt()),2&t&&(it("disabled",r.disabled),ut(2),it("ngForOf",r.months),ut(1),it("disabled",r.disabled),ut(2),it("ngForOf",r.years))},dependencies:[Kl,ST,xT],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),qQ=(()=>{class n{constructor(t){this.i18n=t,this.navigation=zp,this.months=[],this.navigate=new at,this.select=new at}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(Be(Fh))},n.\u0275cmp=yi({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,r){1&t&&(Pt(0,"div",0)(1,"button",1),Dn("click",function(o){return r.onClickPrev(o)}),Fr(2,"span",2),Rt()(),gt(3,s6,1,4,"ngb-datepicker-navigation-select",3),gt(4,u6,1,1,null,4),Pt(5,"div",5)(6,"button",6),Dn("click",function(o){return r.onClickNext(o)}),Fr(7,"span",2),Rt()()),2&t&&(ut(1),it("disabled",r.prevDisabled),ut(2),it("ngIf",r.showSelect),ut(1),it("ngIf",!r.showSelect),ut(2),it("disabled",r.nextDisabled))},dependencies:[Kl,qc,XQ],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})(),QQ=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(Be(Fh))},n.\u0275cmp=yi({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,r){2&t&&Br("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:d6,decls:1,vars:1,template:function(t,r){1&t&&Or(0),2&t&&xa(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})();var Sr=(()=>{return(n=Sr||(Sr={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",Sr;var n})();let eee=(()=>{class n{processKey(t,r){const{state:i,calendar:o}=r;switch(t.which){case Sr.PageUp:r.focusDate(o.getPrev(i.focusedDate,t.shiftKey?"y":"m",1));break;case Sr.PageDown:r.focusDate(o.getNext(i.focusedDate,t.shiftKey?"y":"m",1));break;case Sr.End:r.focusDate(t.shiftKey?i.maxDate:i.lastDate);break;case Sr.Home:r.focusDate(t.shiftKey?i.minDate:i.firstDate);break;case Sr.ArrowLeft:r.focusDate(o.getPrev(i.focusedDate,"d",1));break;case Sr.ArrowUp:r.focusDate(o.getPrev(i.focusedDate,"d",o.getDaysPerWeek()));break;case Sr.ArrowRight:r.focusDate(o.getNext(i.focusedDate,"d",1));break;case Sr.ArrowDown:r.focusDate(o.getNext(i.focusedDate,"d",o.getDaysPerWeek()));break;case Sr.Enter:case Sr.Space:r.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tee=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(Be(ii))},n.\u0275dir=Dt({type:n,selectors:[["ng-template","ngbDatepickerContent",""]]}),n})(),WB=(()=>{class n{constructor(t,r,i,o,s,a,l,c){this._service=t,this._calendar=r,this.i18n=i,this._elementRef=a,this._ngbDateAdapter=l,this._ngZone=c,this._controlValue=null,this._destroyed$=new S,this._publicState={},this.navigate=new at,this.dateSelect=new at,this.onChange=b=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(b=>this[b]=o[b]),t.dateSelect$.pipe(si(this._destroyed$)).subscribe(b=>{this.dateSelect.emit(b)}),t.model$.pipe(si(this._destroyed$)).subscribe(b=>{const x=b.firstDate,L=this.model?this.model.firstDate:null;this._publicState={maxDate:b.maxDate,minDate:b.minDate,firstDate:b.firstDate,lastDate:b.lastDate,focusedDate:b.focusDate,months:b.months.map(Ce=>Ce.firstDate)};let H=!1;if(!x.equals(L)&&(this.navigate.emit({current:L?{year:L.year,month:L.month}:null,next:{year:x.year,month:x.month},preventDefault:()=>H=!0}),H&&null!==L))return void this._service.open(L);const z=b.selectedDate,le=b.focusDate,de=this.model?this.model.focusDate:null;this.model=b,Up(z,this._controlValue)&&(this._controlValue=z,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(z))),Up(le,de)&&de&&b.focusVisible&&this.focus(),s.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(ji.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(so(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(ji.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=lo(this._contentEl.nativeElement,"focusin"),r=lo(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;Il(t,r).pipe(Wi(({target:o,relatedTarget:s})=>!(EB(o,"ngb-dp-day")&&EB(s,"ngb-dp-day")&&i.contains(o)&&i.contains(s))),si(this._destroyed$)).subscribe(({type:o})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===o})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>t[r]=this[r]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(i=>i in t).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in t){const{currentValue:i,previousValue:o}=t.startDate;VB(o,i)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case zp.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case zp.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=ji.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(Be(ME),Be(pI),Be(Fh),Be(NE),Be(rl),Be(or),Be(RE),Be(Ar))},n.\u0275cmp=yi({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,r,i){if(1&t&&function pi(n,e,t,r){const i=jn();if(i.firstCreatePass){const o=wi();hO(i,new cO(e,t,r),o.index),function W9(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}dO(i,ct(),t)}(i,tee,7),2&t){let o;sr(o=ar())&&(r.contentTemplate=o.first)}},viewQuery:function(t,r){if(1&t&&(Qa(h6,7),Qa(f6,7)),2&t){let i;sr(i=ar())&&(r._defaultDayTemplate=i.first),sr(i=ar())&&(r._contentEl=i.first)}},hostVars:2,hostBindings:function(t,r){2&t&&Br("disabled",r.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[gr([{provide:ms,useExisting:yn(()=>n),multi:!0},ME]),ui],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,r){if(1&t&&(gt(0,p6,1,5,"ng-template",null,0,el),gt(2,v6,1,1,"ng-template",null,1,el),Pt(4,"div",2),gt(5,y6,1,7,"ngb-datepicker-navigation",3),Rt(),Pt(6,"div",4,5),gt(8,b6,0,0,"ng-template",6),Rt(),gt(9,C6,0,0,"ng-template",6)),2&t){const i=Ja(3);ut(5),it("ngIf","none"!==r.navigation),ut(1),Br("ngb-dp-months",!r.contentTemplate),ut(2),it("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),ut(1),it("ngTemplateOutlet",r.footerTemplate)}},dependencies:function(){return[Kl,qc,Sh,nee,qQ,QQ]},styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})(),nee=(()=>{class n{constructor(t,r,i,o){this.i18n=t,this.datepicker=r,this._keyboardService=i,this._service=o}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(Be(Fh),Be(WB),Be(eee),Be(ME))},n.\u0275cmp=yi({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,r){1&t&&Dn("keydown",function(o){return r.onKeyDown(o)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(gt(0,_6,3,2,"div",0),gt(1,k6,1,1,"ng-template",1)),2&t&&(it("ngIf",r.viewModel.weekdays.length>0),ut(1),it("ngForOf",r.viewModel.weeks))},dependencies:[Kl,qc,Sh],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})();const gI=(n,e)=>!!e&&e.some(t=>t.contains(n)),jB=(n,e)=>!e||null!=function wQ(n,e){return!e||typeof n.closest>"u"?null:n.closest(e)}(n,e),ree=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function UB(n,e,t,r,i,o,s,a){t&&n.runOutsideAngular((n=>ree?()=>setTimeout(()=>n(),100):n)(()=>{const c=lo(e,"keydown").pipe(si(i),Wi(L=>L.which===Sr.Escape),ao(L=>L.preventDefault())),b=lo(e,"mousedown").pipe(Q(L=>{const H=L.target;return 2!==L.button&&!gI(H,s)&&("inside"===t?gI(H,o)&&jB(H,a):"outside"===t?!gI(H,o):jB(H,a)||!gI(H,o))}),si(i)),x=lo(e,"mouseup").pipe(mE(b),Wi(([L,H])=>H),function BX(n,e=oB){const t=pE(n,e);return cB(()=>t)}(0),si(i));aB([c.pipe(Q(L=>0)),x.pipe(Q(L=>1))]).subscribe(L=>n.run(()=>r(L)))}))}const zB=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ZB(n){const e=Array.from(n.querySelectorAll(zB)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const KB=(n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=lo(e,"focusin").pipe(si(t),Q(o=>o.target));lo(e,"keydown").pipe(si(t),Wi(o=>o.which===Sr.Tab),mE(i)).subscribe(([o,s])=>{const[a,l]=ZB(e);(s===a||s===e)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),r&&lo(e,"click").pipe(si(t),mE(i),Q(o=>o[1])).subscribe(o=>o.focus())})},oee=/\s+/,see=/  +/gi,aee={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},cee=/^left/,uee=/^right/,dee=/^start/,hee=/^end/;function YB({placement:n,baseClass:e},t){let r=Array.isArray(n)?n:n.split(oee),o=r.findIndex(c=>"auto"===c);o>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(c){null==r.find(b=>-1!==b.search("^"+c))&&r.splice(o++,1,c)});const s=r.map(c=>function lee(n,e){const[t,r]=aee[n];return e&&r||t}(c,t.isRTL()));return{placement:s.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:c}){const b=new RegExp(e+"(-[a-z]+)*","gi"),x=c.elements.popper,L=c.placement;let H=x.className;H=H.replace(b,""),H+=` ${function fee(n,e){let[t,r]=e.split("-");const i=t.replace(cee,"start").replace(uee,"end");let o=[i];if(r){let s=r;("left"===t||"right"===t)&&(s=s.replace(dee,"top").replace(hee,"bottom")),o.push(`${i}-${s}`)}return n&&(o=o.map(s=>`${n}-${s}`)),o.join(" ")}(e,L)}`,H=H.trim().replace(see," "),x.className=H}},uq,pq,yq,{enabled:!0,name:"flip",options:{fallbackPlacements:s}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function JB(n){return n}let qB=(()=>{class n extends NE{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=t=>t,this.restoreFocus=!0}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=di(n)))(r||n)}}(),n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();let e$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ft({token:n,factory:function(){return function pee(){return new gee}()},providedIn:"root"}),n})(),gee=(()=>{class n extends e${parse(t){if(null!=t){const r=t.trim().split("-");if(1===r.length&&Ao(r[0]))return{year:Ls(r[0]),month:null,day:null};if(2===r.length&&Ao(r[0])&&Ao(r[1]))return{year:Ls(r[0]),month:Ls(r[1]),day:null};if(3===r.length&&Ao(r[0])&&Ao(r[1])&&Ao(r[2]))return{year:Ls(r[0]),month:Ls(r[1]),day:Ls(r[2])}}return null}format(t){return t?`${t.year}-${Ao(t.month)?TB(t.month):""}-${Ao(t.day)?TB(t.day):""}`:""}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=di(n)))(r||n)}}(),n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})(),t$=(()=>{class n{constructor(t){this._element=t.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}}return n.\u0275fac=function(t){return new(t||n)(Et(gi))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mee=(()=>{class n{constructor(t,r,i,o,s,a,l,c,b,x,L){this._parserFormatter=t,this._elRef=r,this._vcRef=i,this._renderer=o,this._ngZone=s,this._calendar=a,this._dateAdapter=l,this._document=b,this._changeDetector=x,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._destroyCloseHandlers$=new S,this.dateSelect=new at,this.navigate=new at,this.closed=new at,this._onChange=H=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement","popperOptions"].forEach(H=>this[H]=L[H]),this._positioning=function XB(n){let e=null;return{createPopper(t){if(!e){let i=(t.updatePopperOptions||JB)(YB(t,n));e=$q(t.hostElement,t.targetElement,i)}},update(){e&&e.update()},setOptions(t){if(e){let i=(t.updatePopperOptions||JB)(YB(t,n));e.setOptions(i)}},destroy(){e&&(e.destroy(),e=null)}}}(c)}get disabled(){return this._disabled}set disabled(t){this._disabled=""===t||t&&"false"!==t,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}registerOnValidatorChange(t){this._validatorChange=t}setDisabledState(t){this.disabled=t}validate(t){const{value:r}=t;if(null!=r){const i=this._fromDateStruct(this._dateAdapter.fromModel(r));if(!i)return{ngbDate:{invalid:r}};if(this.minDate&&i.before(ji.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:r}}};if(this.maxDate&&i.after(ji.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:r}}}}return null}writeValue(t){this._model=this._fromDateStruct(this._dateAdapter.fromModel(t)),this._writeModelValue(this._model)}manualDateChange(t,r=!1){const i=t!==this._inputValue;i&&(this._inputValue=t,this._model=this._fromDateStruct(this._parserFormatter.parse(t))),(i||!r)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===t?null:t),r&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){let t;if(this._cRef=this._vcRef.createComponent(WB),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(r=>{this.writeValue(r),this._onChange(r),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,KB(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>this._cRef?.instance.focus()),t=by(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this._ngZone.runOutsideAngular(()=>{this._cRef&&(this._positioning.createPopper({hostElement:t,targetElement:this._cRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:r=>this.popperOptions(function QB(n){return e=>(e.modifiers.push(Gq,{name:"offset",options:{offset:()=>n}}),e)}([0,2])(r))}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),this.positionTarget&&!t)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._setCloseHandlers()}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let t=this._elWithFocus;by(this.restoreFocus)?t=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(t=this.restoreFocus),t&&t.focus?t.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(t){this.isOpen()&&this._cRef.instance.navigateTo(t)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(t){if((t.minDate||t.maxDate)&&(this._validatorChange(),this.isOpen()&&(t.minDate&&(this._cRef.instance.minDate=this.minDate),t.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(t))),t.datepickerClass){const{currentValue:r,previousValue:i}=t.datepickerClass;this._applyPopupClass(r,i)}t.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close()}_applyDatepickerInputs(t){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(r=>{void 0!==this[r]&&t.setInput(r,this[r])}),t.setInput("startDate",this.startDate||this._model)}_applyPopupClass(t,r){const i=this._cRef?.location.nativeElement;i&&(t&&this._renderer.addClass(i,t),r&&this._renderer.removeClass(i,r))}_applyPopupStyling(t){this._renderer.addClass(t,"dropdown-menu"),this._renderer.addClass(t,"show"),"body"===this.container&&this._renderer.addClass(t,"ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(t){t.navigate.subscribe(r=>this.navigate.emit(r)),t.dateSelect.subscribe(r=>{this.dateSelect.emit(r),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(t){const r=this._parserFormatter.format(t);this._inputValue=r,this._renderer.setProperty(this._elRef.nativeElement,"value",r),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(t)),this._onTouched())}_fromDateStruct(t){const r=t?new ji(t.year,t.month,t.day):null;return this._calendar.isValid(r)?r:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),UB(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}return n.\u0275fac=function(t){return new(t||n)(Be(e$),Be(or),Be(Ta),Be(cs),Be(Ar),Be(pI),Be(RE),Be(t$),Be(gi),Be(rl),Be(qB))},n.\u0275dir=Dt({type:n,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(t,r){1&t&&Dn("input",function(o){return r.manualDateChange(o.target.value)})("change",function(o){return r.manualDateChange(o.target.value,!0)})("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()}),2&t&&Ch("disabled",r.disabled)},inputs:{autoClose:"autoClose",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",popperOptions:"popperOptions",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[gr([{provide:ms,useExisting:yn(()=>n),multi:!0},{provide:io,useExisting:yn(()=>n),multi:!0},{provide:NE,useExisting:qB}]),ui]}),n})();new Date(1882,10,12),new Date(2174,10,25);let a$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[Wo,Tw]}),n})(),d$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({}),n})();class Hh{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let xee=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(so(1)).subscribe(()=>{ys(this._zone,this._el.nativeElement,(t,r)=>{r&&jp(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ys(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(Be(or),Be(Ar))},n.\u0275cmp=yi({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(bh("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Br("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class h${close(e){}dismiss(e){}}class Tee{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new S,this._dismissed=new S,this._hidden=new S,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(si(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(si(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function xB(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Qt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),oI(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Ay=(()=>{return(n=Ay||(Ay={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Ay;var n})();let Eee=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new S,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new at,this.shown=new S,this.hidden=new S}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":by(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(so(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=oI(ys(this._zone,t,()=>t.classList.remove("show"),r),ys(this._zone,this._dialogEl.nativeElement,()=>{},r));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const t={animation:this.animation,runningTransition:"continue"};oI(ys(this._zone,this._elRef.nativeElement,(o,s)=>{s&&jp(o),o.classList.add("show")},t),ys(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{lo(t,"keydown").pipe(si(this._closed$),Wi(i=>i.which===Sr.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Ay.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;lo(this._dialogEl.nativeElement,"mousedown").pipe(si(this._closed$),ao(()=>r=!1),Da(()=>lo(t,"mouseup").pipe(si(this._closed$),so(1))),Wi(({target:i})=>t===i)).subscribe(()=>{r=!0}),lo(t,"click").pipe(si(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Ay.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=ZB(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ys(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(Be(gi),Be(or),Be(Ar))},n.\u0275cmp=yi({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&Qa(D6,7),2&t){let i;sr(i=ar())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(_r("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),bh("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Br("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Jq,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(function NN(n){const e=ct()[16][6];if(!e.projection){const r=e.projection=Xd(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=n?AU(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),Pt(0,"div",0,1)(2,"div",2),function RN(n,e=0,t){const r=ct(),i=jn(),o=gp(i,22+n,16,null,t||null);null===o.projection&&(o.projection=e),qg(),64!=(64&o.flags)&&function gA(n,e,t){kC(e[11],0,e,t,wC(n,t,e),SC(t.parent||e[6],t,e))}(i,r,o)}(3),Rt()()),2&t&&bh("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),kee=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:s}=i;if(t>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=s),i.overflow=o}}}return n.\u0275fac=function(t){return new(t||n)(Et(gi))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dee=(()=>{class n{constructor(t,r,i,o,s,a){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=o,this._rendererFactory=s,this._ngZone=a,this._activeWindowCmptHasChanged=new S,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new at,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];KB(this._ngZone,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const o=i.container instanceof HTMLElement?i.container:Lh(i.container)?this._document.querySelector(i.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new h$,l=this._getContentRef(i.injector||t,r,a,i);let c=!1!==i.backdrop?this._attachBackdrop(o):void 0,b=this._attachWindowComponent(o,l.nodes),x=new Tee(b,l,c,i.beforeDismiss);return this._registerModalRef(x),this._registerWindowCmpt(b),x.hidden.pipe(so(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=L=>{x.close(L)},a.dismiss=L=>{x.dismiss(L)},this._applyWindowOptions(b.instance,i),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),c&&c.instance&&(this._applyBackdropOptions(c.instance,i),c.changeDetectorRef.detectChanges()),b.changeDetectorRef.detectChanges(),x}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=Rx(xee,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=Rx(Eee,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Lh(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Lh(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,o){return r?r instanceof ii?this._createFromTemplateRef(r,i):by(r)?this._createFromString(r):this._createFromComponent(t,r,i,o):new Hh([])}_createFromTemplateRef(t,r){const o=t.createEmbeddedView({$implicit:r,close(s){r.close(s)},dismiss(s){r.dismiss(s)}});return this._applicationRef.attachView(o),new Hh([o.rootNodes],o)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Hh([[r]])}_createFromComponent(t,r,i,o){const s=ro.create({providers:[{provide:h$,useValue:i}],parent:t}),a=Rx(r,{environmentInjector:this._applicationRef.injector,elementInjector:s}),l=a.location.nativeElement;return o.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new Hh([[l]],a.hostView,a)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(Et(Fv),Et(ro),Et(gi),Et(kee),Et(iv),Et(Ar))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mee=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(Et(uI))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nee=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(Et(ro),Et(Dee),Et(Mee))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({providers:[Nee]}),n})(),v$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[Wo]}),n})(),S$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[Wo]}),n})(),T$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[Wo]}),n})(),E$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[Wo]}),n})(),k$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[Wo]}),n})(),D$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[Wo]}),n})(),M$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[Wo]}),n})(),N$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({}),n})();new zt("live announcer delay",{providedIn:"root",factory:function Uee(){return 100}});let R$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[Wo]}),n})(),O$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({}),n})();const zee=[LB,PB,$B,HB,a$,d$,f$,v$,O$,S$,T$,E$,k$,D$,M$,N$,R$];let Zee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[zee,LB,PB,$B,HB,a$,d$,f$,v$,O$,S$,T$,E$,k$,D$,M$,N$,R$]}),n})();const wI=()=>{const n=typeof window<"u"?window:void 0;return n&&n.tinymce?n.tinymce:null};let Kee=(()=>{class n{constructor(){this.onBeforePaste=new at,this.onBlur=new at,this.onClick=new at,this.onContextMenu=new at,this.onCopy=new at,this.onCut=new at,this.onDblclick=new at,this.onDrag=new at,this.onDragDrop=new at,this.onDragEnd=new at,this.onDragGesture=new at,this.onDragOver=new at,this.onDrop=new at,this.onFocus=new at,this.onFocusIn=new at,this.onFocusOut=new at,this.onKeyDown=new at,this.onKeyPress=new at,this.onKeyUp=new at,this.onMouseDown=new at,this.onMouseEnter=new at,this.onMouseLeave=new at,this.onMouseMove=new at,this.onMouseOut=new at,this.onMouseOver=new at,this.onMouseUp=new at,this.onPaste=new at,this.onSelectionChange=new at,this.onActivate=new at,this.onAddUndo=new at,this.onBeforeAddUndo=new at,this.onBeforeExecCommand=new at,this.onBeforeGetContent=new at,this.onBeforeRenderUI=new at,this.onBeforeSetContent=new at,this.onChange=new at,this.onClearUndos=new at,this.onDeactivate=new at,this.onDirty=new at,this.onExecCommand=new at,this.onGetContent=new at,this.onHide=new at,this.onInit=new at,this.onInitNgModel=new at,this.onLoadContent=new at,this.onNodeChange=new at,this.onPostProcess=new at,this.onPostRender=new at,this.onPreInit=new at,this.onPreProcess=new at,this.onProgressState=new at,this.onRedo=new at,this.onRemove=new at,this.onReset=new at,this.onResizeEditor=new at,this.onSaveContent=new at,this.onSetAttrib=new at,this.onObjectResizeStart=new at,this.onObjectResized=new at,this.onObjectSelected=new at,this.onSetContent=new at,this.onShow=new at,this.onSubmit=new at,this.onUndo=new at,this.onVisualAid=new at}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Dt({type:n,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),n})();const L$=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],II=(n,e,t)=>lo(n,e).pipe(si(t)),P$=(n,e)=>"string"==typeof n?n.split(",").map(t=>t.trim()):Array.isArray(n)?n:e;let F$=0;const B$=n=>typeof n<"u"&&"textarea"===n.tagName.toLowerCase(),qee=()=>{};function ete(n,e){}const tte=new zt("TINYMCE_SCRIPT_SRC"),nte={provide:ms,useExisting:yn(()=>HE),multi:!0};let HE=(()=>{class n extends Kee{constructor(t,r,i,o){super(),this.platformId=i,this.tinymceScriptSrc=o,this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=qee,this.destroy$=new S,this.initialise=()=>{const s={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,debounce:!0,toolbar_mode:"wrap",browser_spellcheck:!0,plugins:"advlist lists code image link  media table fullscreen",height:350,max_height:600,menubar:!1,toolbar:"bold italic underline strikethrough superscript | blocks fontfamily fontsize | formatselect | removeformat | fontsizeselect | forecolor backcolor | table bullist numlist | link image media | alignleft aligncenter alignright alignjustify | code fullscreen | dynamicValueButton",paste_data_images:!0,extended_valid_elements:"svg[*],defs[*],pattern[*],desc[*],metadata[*],g[*],mask[*],path[*],line[*],marker[*],rect[*],circle[*],ellipse[*],polygon[*],polyline[*],linearGradient[*],radialGradient[*],stop[*],image[*],view[*],text[*],textPath[*],title[*],tspan[*],glyph[*],symbol[*],switch[*],use[*]",autocompleteEnterKeyEvent:!1,skin:"oxide-dark",color_default_foreground:"white",content_style:"body { color:#FFFFFF; }",setup:a=>{this._editor=a,II(a,"init",this.destroy$).subscribe(()=>{this.initEditor(a)}),((n,e,t)=>{(n=>{const e=P$(n.ignoreEvents,[]);return P$(n.allowedEvents,L$).filter(r=>L$.includes(r)&&!e.includes(r))})(n).forEach(i=>{const o=n[i];II(e,i.substring(2),t).subscribe(s=>{o.observers.length>0&&n.ngZone.run(()=>o.emit({event:s,editor:e}))})})})(this,a,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(a)}};B$(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{wI().init(s)})},this._elementRef=t,this.ngZone=r}set disabled(t){this._disabled=t,this._editor&&this._editor.initialized&&"function"==typeof this._editor.mode?.set&&this._editor.mode.set(t?"readonly":"design")}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(t){this._editor&&this._editor.initialized?this._editor.setContent((n=>null==n)(t)?"":t):this.initialValue=null===t?void 0:t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ngAfterViewInit(){(function OL(n){return n===RL})(this.platformId)&&(this.id=this.id||(n=>{const t=(new Date).getTime(),r=Math.floor(1e9*Math.random());return F$++,"tiny-angular_"+r+F$+String(t)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==wI()&&this.initialise())}ngOnDestroy(){this.destroy$.next(),null!==wI()&&wI().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,B$(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}initEditor(t){II(t,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),II(t,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(t))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{t.setContent(this.initialValue),t.getContent()!==this.initialValue&&this.emitOnChange(t),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(t)})}emitOnChange(t){this.onChangeCallback&&this.onChangeCallback(t.getContent({format:this.outputFormat}))}}return n.\u0275fac=function(t){return new(t||n)(Be(or),Be(Ar),Be(Pv),Be(tte,8))},n.\u0275cmp=yi({type:n,selectors:[["editor"]],inputs:{init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[gr([nte]),hr,ox],decls:1,vars:0,template:function(t,r){1&t&&gt(0,ete,0,0,"ng-template")},dependencies:[Wo,Tw],styles:["[_nghost-%COMP%]{display:block}"]}),n})();function Uo(n){this.content=n}Uo.prototype={constructor:Uo,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return-1==e?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),o=r.content.slice();return-1==i?o.push(t||n,e):(o[i+1]=e,t&&(o[i]=t)),new Uo(o)},remove:function(n){var e=this.find(n);if(-1==e)return this;var t=this.content.slice();return t.splice(e,2),new Uo(t)},addToStart:function(n,e){return new Uo([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Uo(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),o=r.find(n);return i.splice(-1==o?i.length:o,0,e,t),new Uo(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return(n=Uo.from(n)).size?new Uo(n.content.concat(this.subtract(n).content)):this},append:function(n){return(n=Uo.from(n)).size?new Uo(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Uo.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}},Uo.from=function(n){if(n instanceof Uo)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Uo(e)};const H$=Uo;function V$(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),o=e.child(r);if(i!=o){if(!i.sameMarkup(o))return t;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)t++;return t}if(i.content.size||o.content.size){let s=V$(i.content,o.content,t+1);if(null!=s)return s}t+=i.nodeSize}else t+=i.nodeSize}}function G$(n,e,t,r){for(let i=n.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:t,b:r};let s=n.child(--i),a=e.child(--o),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:t,b:r};if(s.isText&&s.text!=a.text){let c=0,b=Math.min(s.text.length,a.text.length);for(;c<b&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,t--,r--;return{a:t,b:r}}if(s.content.size||a.content.size){let c=G$(s.content,a.content,t-1,r-1);if(c)return c}t-=l,r-=l}else t-=l,r-=l}}class ht{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,o){for(let s=0,a=0;a<t;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&!1!==r(l,i+a,o||null,s)&&l.content.size){let b=a+1;l.nodesBetween(Math.max(0,e-b),Math.min(l.content.size,t-b),r,i+b)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let o="",s=!0;return this.nodesBetween(e,t,(a,l)=>{a.isText?(o+=a.text.slice(Math.max(e,l)-l,t-l),s=!r):a.isLeaf?(i?o+="function"==typeof i?i(a):i:a.type.spec.leafText&&(o+=a.type.spec.leafText(a)),s=!r):!s&&a.isBlock&&(o+=r,s=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new ht(i,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let r=[],i=0;if(t>e)for(let o=0,s=0;s<t;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>t)&&(a=a.isText?a.cut(Math.max(0,e-s),Math.min(a.text.length,t-s)):a.cut(Math.max(0,e-s-1),Math.min(a.content.size,t-s-1))),r.push(a),i+=a.nodeSize),s=l}return new ht(r,i)}cutByIndex(e,t){return e==t?ht.empty:0==e&&t==this.content.length?this:new ht(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new ht(i,o)}addToStart(e){return new ht([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ht(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return V$(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return G$(this,e,t,r)}findIndex(e,t=-1){if(0==e)return _I(0,e);if(e==this.size)return _I(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=i+this.child(r).nodeSize;if(s>=e)return s==e||t>0?_I(r+1,s):_I(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return ht.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new ht(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ht.empty;let t,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new ht(t||e,r)}static from(e){if(!e)return ht.empty;if(e instanceof ht)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ht([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ht.empty=new ht([],0);const VE={index:0,offset:0};function _I(n,e){return VE.index=n,VE.offset=e,VE}function AI(n,e){if(n===e)return!0;if(!n||"object"!=typeof n||!e||"object"!=typeof e)return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!AI(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!AI(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let mr=(()=>{class n{constructor(t,r){this.type=t,this.attrs=r}addToSet(t){let r,i=!1;for(let o=0;o<t.length;o++){let s=t[o];if(this.eq(s))return t;if(this.type.excludes(s.type))r||(r=t.slice(0,o));else{if(s.type.excludes(this.type))return t;!i&&s.type.rank>this.type.rank&&(r||(r=t.slice(0,o)),r.push(this),i=!0),r&&r.push(s)}}return r||(r=t.slice()),i||r.push(this),r}removeFromSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return t.slice(0,r).concat(t.slice(r+1));return t}isInSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return!0;return!1}eq(t){return this==t||this.type==t.type&&AI(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let i=t.marks[r.type];if(!i)throw new RangeError(`There is no mark type ${r.type} in this schema`);return i.create(r.attrs)}static sameSet(t,r){if(t==r)return!0;if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++)if(!t[i].eq(r[i]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return n.none;if(t instanceof n)return[t];let r=t.slice();return r.sort((i,o)=>i.type.rank-o.type.rank),r}}return n.none=[],n})();class SI extends Error{}class Bt{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=j$(this.content,e+this.openStart,t);return r&&new Bt(r,this.openStart,this.openEnd)}removeBetween(e,t){return new Bt(W$(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Bt.empty;let r=t.openStart||0,i=t.openEnd||0;if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON");return new Bt(ht.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new Bt(e,r,i)}}function W$(n,e,t){let{index:r,offset:i}=n.findIndex(e),o=n.maybeChild(r),{index:s,offset:a}=n.findIndex(t);if(i==e||o.isText){if(a!=t&&!n.child(s).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=s)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(W$(o.content,e-i-1,t-i-1)))}function j$(n,e,t,r){let{index:i,offset:o}=n.findIndex(e),s=n.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,t)?null:n.cut(0,e).append(t).append(n.cut(e));let a=j$(s.content,e-o-1,t);return a&&n.replaceChild(i,s.copy(a))}function rte(n,e,t){if(t.openStart>n.depth)throw new SI("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new SI("Inconsistent open depths");return U$(n,e,t,0)}function U$(n,e,t,r){let i=n.index(r),o=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let s=U$(n,e,t,r+1);return o.copy(o.content.replaceChild(i,s))}if(t.content.size){if(t.openStart||t.openEnd||n.depth!=r||e.depth!=r){let{start:s,end:a}=function ite(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)i=e.node(o).copy(ht.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}(t,n);return Gh(o,Z$(n,s,a,e,r))}{let s=n.parent,a=s.content;return Gh(s,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}}return Gh(o,xI(n,e,r))}function z$(n,e){if(!e.type.compatibleContent(n.type))throw new SI("Cannot join "+e.type.name+" onto "+n.type.name)}function GE(n,e,t){let r=n.node(t);return z$(r,e.node(t)),r}function Vh(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Sy(n,e,t,r){let i=(e||n).node(t),o=0,s=e?e.index(t):i.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(Vh(n.nodeAfter,r),o++));for(let a=o;a<s;a++)Vh(i.child(a),r);e&&e.depth==t&&e.textOffset&&Vh(e.nodeBefore,r)}function Gh(n,e){return n.type.checkContent(e),n.copy(e)}function Z$(n,e,t,r,i){let o=n.depth>i&&GE(n,e,i+1),s=r.depth>i&&GE(t,r,i+1),a=[];return Sy(null,n,i,a),o&&s&&e.index(i)==t.index(i)?(z$(o,s),Vh(Gh(o,Z$(n,e,t,r,i+1)),a)):(o&&Vh(Gh(o,xI(n,e,i+1)),a),Sy(e,t,i,a),s&&Vh(Gh(s,xI(t,r,i+1)),a)),Sy(r,null,i,a),new ht(a)}function xI(n,e,t){let r=[];return Sy(null,n,t,r),n.depth>t&&Vh(Gh(GE(n,e,t+1),xI(n,e,t+1)),r),Sy(e,null,t,r),new ht(r)}Bt.empty=new Bt(ht.empty,0,0);class xy{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[3*t],i=0==t?0:this.path[3*t-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return mr.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)!1===o[s].type.spec.inclusive&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)!1===r[o].type.spec.inclusive&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new TI(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,o=t;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new xy(t,r,o)}static resolveCached(e,t){for(let i=0;i<WE.length;i++){let o=WE[i];if(o.pos==t&&o.doc==e)return o}let r=WE[jE]=xy.resolve(e,t);return jE=(jE+1)%ote,r}}let WE=[],jE=0,ote=12;class TI{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ste=Object.create(null);class cl{constructor(e,t,r,i=mr.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||ht.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&AI(this.attrs,t||e.defaultAttrs||ste)&&mr.sameSet(this.marks,r||mr.none)}copy(e=null){return e==this.content?this:new cl(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new cl(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return Bt.empty;let i=this.resolve(e),o=this.resolve(t),s=r?0:i.sharedDepth(t),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new Bt(c,i.depth-s,o.depth-s)}replace(e,t,r){return rte(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return xy.resolveCached(this,e)}resolveNoCache(e){return xy.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),K$(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=ht.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,t);return!!s&&s.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=mr.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!mr.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=ht.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,i,r)}}cl.prototype.text=void 0;class EI extends cl{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):K$(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new EI(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new EI(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function K$(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Wh{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new ate(e,t);if(null==r.next)return Wh.empty;let i=Y$(r);r.next&&r.err("Unexpected trailing text");let o=function pte(n){let e=Object.create(null);return function t(r){let i=[];r.forEach(s=>{n[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let b=0;b<i.length;b++)i[b][0]==a&&(c=i[b][1]);q$(n,l).forEach(b=>{c||i.push([a,c=[]]),-1==c.indexOf(b)&&c.push(b)})})});let o=e[r.join(",")]=new Wh(r.indexOf(n.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(X$);o.next.push({type:i[s][0],next:e[a.join(",")]||t(a)})}return o}(q$(n,0))}(function fte(n){let e=[[]];return i(function o(s,a){if("choice"==s.type)return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if("seq"!=s.type){if("star"==s.type){let l=t();return r(a,l),i(o(s.expr,l),l),[r(l)]}if("plus"==s.type){let l=t();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}if("opt"==s.type)return[r(a)].concat(o(s.expr,a));if("range"==s.type){let l=a;for(let c=0;c<s.min;c++){let b=t();i(o(s.expr,l),b),l=b}if(-1==s.max)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let b=t();r(l,b),i(o(s.expr,l),b),l=b}return[r(l)]}if("name"==s.type)return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=t())}}(n,0),t()),e;function t(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}}(i));return function gte(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),-1==r.indexOf(c)&&r.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let o=t;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];return function o(s,a){let l=s.matchFragment(e,r);if(l&&(!t||l.validEnd))return ht.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:b,next:x}=s.next[c];if(!b.isText&&!b.hasRequiredAttrs()&&-1==i.indexOf(x)){i.push(x);let L=o(x,a.concat(b));if(L)return L}}return null}(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(r){e.push(r);for(let i=0;i<r.next.length;i++)-1==e.indexOf(r.next[i].next)&&t(r.next[i].next)}(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join("\n")}}Wh.empty=new Wh(!0);class ate{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Y$(n){let e=[];do{e.push(lte(n))}while(n.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function lte(n){let e=[];do{e.push(cte(n))}while(n.next&&")"!=n.next&&"|"!=n.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function cte(n){let e=function hte(n){if(n.eat("(")){let e=Y$(n);return n.eat(")")||n.err("Missing closing paren"),e}if(!/\W/.test(n.next)){let e=function dte(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let o in t){let s=t[o];s.groups.indexOf(e)>-1&&i.push(s)}return 0==i.length&&n.err("No node type or group '"+e+"' found"),i}(n,n.next).map(t=>(null==n.inline?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}n.err("Unexpected token '"+n.next+"'")}(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else{if(!n.eat("{"))break;e=ute(n,e)}return e}function J$(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function ute(n,e){let t=J$(n),r=t;return n.eat(",")&&(r="}"!=n.next?J$(n):-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function X$(n,e){return e-n}function q$(n,e){let t=[];return function r(i){let o=n[i];if(1==o.length&&!o[0].term)return r(o[0].to);t.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&-1==t.indexOf(l)&&r(l)}}(e),t.sort(X$)}function Q$(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function eH(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(void 0===i){let o=n[r];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=o.default}t[r]=i}return t}function tH(n){let e=Object.create(null);if(n)for(let t in n)e[t]=new mte(n[t]);return e}class kI{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=tH(r.attrs),this.defaultAttrs=Q$(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Wh.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:eH(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new cl(this,this.computeAttrs(e),ht.from(t),mr.setFrom(r))}createChecked(e=null,t,r){return t=ht.from(t),this.checkContent(t),new cl(this,this.computeAttrs(e),t,mr.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),(t=ht.from(t)).size){let s=this.contentMatch.fillBefore(t);if(!s)return null;t=s.append(t)}let i=this.contentMatch.matchFragment(t),o=i&&i.fillBefore(ht.empty,!0);return o?new cl(this,e,t.append(o),mr.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:mr.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,s)=>r[o]=new kI(o,t,s));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class mte{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class DI{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=tH(i.attrs),this.excluded=null;let o=Q$(this.attrs);this.instance=o?new mr(this,o):null}create(e=null){return!e&&this.instance?this.instance:new mr(this,eH(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new DI(o,i++,t,s)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class nH{constructor(e){this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=H$.from(e.nodes),t.marks=H$.from(e.marks||{}),this.nodes=kI.compile(this.spec.nodes,this),this.marks=DI.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;o.contentMatch=r[s]||(r[s]=Wh.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==a?null:a?rH(this,a.split(" ")):""!=a&&o.inlineContent?null:[]}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=null==s?[o]:""==s?[]:rH(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof kI))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new EI(r,r.defaultAttrs,e,mr.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return cl.fromJSON(this,e)}markFromJSON(e){return mr.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function rH(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],o=n.marks[i],s=o;if(o)t.push(o);else for(let a in n.marks){let l=n.marks[a];("_"==i||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}class jh{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,t={}){let r=new aH(this,t,!1);return r.addAll(e,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new aH(this,t,!0);return r.addAll(e,t.from,t.to),Bt.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(bte(e,o.tag)&&(void 0===o.namespace||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(!1===s)continue;o.attrs=s||void 0}return o}}}matchStyle(e,t,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(0!=a.indexOf(e)||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(61!=a.charCodeAt(e.length)||a.slice(e.length+1)!=t))){if(s.getAttrs){let l=s.getAttrs(t);if(!1===l)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let t=[];function r(i){let o=i.priority??50,s=0;for(;s<t.length;s++){if((t[s].priority??50)<o)break}t.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=lH(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=lH(s)),s.node||s.ignore||s.mark||(s.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new jh(e,jh.schemaRules(e)))}}const iH={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},vte={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},oH={ol:!0,ul:!0};function sH(n,e,t){return null!=e?(e?1:0)|("full"===e?2:0):n&&"pre"==n.whitespace?3:-5&t}class RI{constructor(e,t,r,i,o,s,a){this.type=e,this.attrs=t,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=a,this.content=[],this.activeMarks=mr.none,this.stashMarks=[],this.match=s||(4&a?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(ht.from(e));if(!t){let i,r=this.type.contentMatch;return(i=r.findWrapping(e.type))?(this.match=r,i):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let i,r=this.content[this.content.length-1];if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let t=ht.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(ht.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,r=this.pendingMarks;t<r.length;t++){let i=r[t];(this.type?this.type.allowsMarkType(i.type):wte(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!iH.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class aH{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0;let o,i=t.topNode,s=sH(null,t.preserveWhitespace,0)|(r?4:0);o=i?new RI(i.type,i.attrs,mr.none,mr.none,!0,t.topMatch||i.type.contentMatch,s):new RI(r?null:e.schema.topNodeType,null,mr.none,mr.none,!0,null,s),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){3==e.nodeType?this.addTextNode(e):1==e.nodeType&&this.addElement(e)}withStyleRules(e,t){let r=e.getAttribute("style");if(!r)return t();let i=this.readStyles(function Cte(n){let t,e=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=e.exec(n);)r.push(t[1],t[2].trim());return r}(r));if(!i)return;let[o,s]=i,a=this.top;for(let l=0;l<s.length;l++)this.removePendingMark(s[l],a);for(let l=0;l<o.length;l++)this.addPendingMark(o[l]);t();for(let l=0;l<o.length;l++)this.removePendingMark(o[l],a);for(let l=0;l<s.length;l++)this.addPendingMark(s[l])}addTextNode(e){let t=e.nodeValue,r=this.top;if(2&r.options||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(1&r.options)t=2&r.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&"BR"==o.nodeName||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let i,r=e.nodeName.toLowerCase();oH.hasOwnProperty(r)&&this.parser.normalizeLists&&function yte(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&oH.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):"li"==r?t=e:r&&(t=null)}}(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,t));if(o?o.ignore:vte.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,a=this.top,l=this.needsBlock;if(iH.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),s=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);o&&o.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),s&&this.sync(a),this.needsBlock=l}else this.withStyleRules(e,()=>{this.addElementByRule(e,o,!1===o.consuming?i:void 0)})}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"==e.nodeName&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=mr.none,r=mr.none;for(let i=0;i<e.length;i+=2)for(let o;;){let s=this.parser.matchStyle(e[i],e[i+1],this,o);if(!s)break;if(s.ignore)return null;if(s.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(a=>{s.clearMark(a)&&(r=a.addToSet(r))}):t=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(t),!1!==s.consuming)break;o=s}return[t,r]}addElementByRule(e,t,r){let i,o,s;t.node?(o=this.parser.schema.nodes[t.node],o.isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):i=this.enter(o,t.attrs||null,t.preserveWhitespace)):(s=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(s));let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;"string"==typeof t.contentElement?l=e.querySelector(t.contentElement):"function"==typeof t.contentElement?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,s&&this.removePendingMark(s,a)}addAll(e,t,r){let i=t||0;for(let o=t?e.childNodes[t]:e.firstChild,s=null==r?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let t,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!t||t.length>s.length)&&(t=s,r=o,!s.length)||o.solid)break}if(!t)return!1;this.sync(r);for(let i=0;i<t.length;i++)this.enterInner(t[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let r=t.activeMarks;for(let i=0;i<e.marks.length;i++)(!t.type||t.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return t.content.push(e.mark(r)),!0}return!1}enter(e,t,r){let i=this.findPlace(e.create(t));return i&&this.enterInner(e,t,!0,r),i}enterInner(e,t=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=sH(e,i,o.options);4&o.options&&0==o.content.length&&(s|=4),this.nodes.push(new RI(e,t,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)null==this.find[i].pos&&1==e.nodeType&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),o=(i?0:1)-(r?r.depth+1:0),s=(a,l)=>{for(;a>=0;a--){let c=t[a];if(""==c){if(a==t.length-1||0==a)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}{let b=l>0||0==l&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!b||b.name!=c&&-1==b.groups.indexOf(c))return!1;l--}}return!0};return s(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let t=function Ite(n,e){for(let t=0;t<e.length;t++)if(n.eq(e[t]))return e[t]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==t)break}}}function bte(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function lH(n){let e={};for(let t in n)e[t]=n[t];return e}function wte(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:b}=a.edge(l);if(c==e||o.indexOf(b)<0&&s(b))return!0}};if(s(i.contentMatch))return!0}}class nu{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=UE(t).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(this.marks[c.type.name]){if(!c.eq(o[a][0])||!1===c.type.spec.spanning)break;a++,l++}else l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],b=this.serializeMark(c,s.isInline,t);b&&(o.push([c,i]),i.appendChild(b.dom),i=b.contentDOM||b.dom)}}i.appendChild(this.serializeNodeInner(s,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=nu.renderSpec(UE(t),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&nu.renderSpec(UE(r),i(e,t))}static renderSpec(e,t,r=null){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let i=t[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,a=r?e.createElementNS(r,i):e.createElement(i),l=t[1],c=1;if(l&&"object"==typeof l&&null==l.nodeType&&!Array.isArray(l)){c=2;for(let b in l)if(null!=l[b]){let x=b.indexOf(" ");x>0?a.setAttributeNS(b.slice(0,x),b.slice(x+1),l[b]):a.setAttribute(b,l[b])}}for(let b=c;b<t.length;b++){let x=t[b];if(0===x){if(b<t.length-1||b>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}{let{dom:L,contentDOM:H}=nu.renderSpec(e,x,r);if(a.appendChild(L),H){if(s)throw new RangeError("Multiple content holes");s=H}}}return{dom:a,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new nu(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=cH(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return cH(e.marks)}}function cH(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function UE(n){return n.document||window.document}const dH=Math.pow(2,16);function _te(n,e){return n+e*dH}function hH(n){return 65535&n}class zE{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class oa{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&oa.empty)return oa.empty}recover(e){let t=0,r=hH(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[3*i+2]-this.ranges[3*i+1];return this.ranges[3*r]+t+function Ate(n){return(n-(65535&n))/dH}(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+o],b=this.ranges[a+s],x=l+c;if(e<=x){let H=l+i+((c?e==l?-1:e==x?1:t:t)<0?0:b);if(r)return H;let z=e==(t<0?l:x)?null:_te(a/3,e-l),le=e==l?2:e==x?1:4;return(t<0?e!=l:e!=x)&&(le|=8),new zE(H,le,z)}i+=b-c}return r?e+i:new zE(e+i,0,null)}touches(e,t){let r=0,i=hH(t),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+o];if(e<=l+c&&a==3*i)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+t],b=this.ranges[i+r];e(a,a+c,l,l+b),o+=b-c}}invert(){return new oa(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?oa.empty:new oa(e<0?[0,-e,0]:[0,0,e])}}oa.empty=new oa([]);class Kp{constructor(e=[],t,r=0,i=e.length){this.maps=e,this.mirror=t,this.from=r,this.to=i}slice(e=0,t=this.maps.length){return new Kp(this.maps,this.mirror,e,t)}copy(){return new Kp(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,r=this.maps.length;t<e.maps.length;t++){let i=e.getMirror(t);this.appendMap(e.maps[t],null!=i&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this.maps.length+e.maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=i&&i>t?r-i-1:void 0)}}invert(){let e=new Kp;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let o=this.from;o<this.to;o++){let a=this.maps[o].mapResult(e,t);if(null!=a.recover){let l=this.getMirror(o);if(null!=l&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new zE(e,i,null)}}const ZE=Object.create(null);class Fs{getMap(){return oa.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=ZE[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in ZE)throw new RangeError("Duplicate use of step JSON ID "+e);return ZE[e]=t,t.prototype.jsonID=e,t}}class Ui{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Ui(e,null)}static fail(e){return new Ui(null,e)}static fromReplace(e,t,r,i){try{return Ui.ok(e.replace(t,r,i))}catch(o){if(o instanceof SI)return Ui.fail(o.message);throw o}}}function KE(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let o=n.child(i);o.content.size&&(o=o.copy(KE(o.content,e,o))),o.isInline&&(o=e(o,t,i)),r.push(o)}return ht.fromArray(r)}class cd extends Fs{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new Bt(KE(t.content,(s,a)=>s.isAtom&&a.type.allowsMarkType(this.mark.type)?s.mark(this.mark.addToSet(s.marks)):s,i),t.openStart,t.openEnd);return Ui.fromReplace(e,this.from,this.to,o)}invert(){return new Ql(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new cd(t.pos,r.pos,this.mark)}merge(e){return e instanceof cd&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new cd(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new cd(t.from,t.to,e.markFromJSON(t.mark))}}Fs.jsonID("addMark",cd);class Ql extends Fs{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new Bt(KE(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Ui.fromReplace(e,this.from,this.to,r)}invert(){return new cd(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Ql(t.pos,r.pos,this.mark)}merge(e){return e instanceof Ql&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ql(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ql(t.from,t.to,e.markFromJSON(t.mark))}}Fs.jsonID("removeMark",Ql);class ud extends Fs{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ui.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Ui.fromReplace(e,this.pos,this.pos+1,new Bt(ht.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new ud(this.pos,t.marks[i]);return new ud(this.pos,this.mark)}}return new Yp(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ud(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ud(t.pos,e.markFromJSON(t.mark))}}Fs.jsonID("addNodeMark",ud);class Yp extends Fs{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ui.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Ui.fromReplace(e,this.pos,this.pos+1,new Bt(ht.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new ud(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Yp(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Yp(t.pos,e.markFromJSON(t.mark))}}Fs.jsonID("removeNodeMark",Yp);class zo extends Fs{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&YE(e,this.from,this.to)?Ui.fail("Structure replace would overwrite content"):Ui.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new oa([this.from,this.to-this.from,this.slice.size])}invert(e){return new zo(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new zo(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof zo)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?Bt.empty:new Bt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new zo(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?Bt.empty:new Bt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new zo(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new zo(t.from,t.to,Bt.fromJSON(e,t.slice),!!t.structure)}}Fs.jsonID("replace",zo);class co extends Fs{constructor(e,t,r,i,o,s,a=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(YE(e,this.from,this.gapFrom)||YE(e,this.gapTo,this.to)))return Ui.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Ui.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Ui.fromReplace(e,this.from,this.to,r):Ui.fail("Content does not fit in gap")}getMap(){return new oa([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new co(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||o>r.pos?null:new co(t.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new co(t.from,t.to,t.gapFrom,t.gapTo,Bt.fromJSON(e,t.slice),t.insert,!!t.structure)}}function YE(n,e,t){let r=n.resolve(e),i=t-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function Ete(n,e,t){return(0==e||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function LI(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),o=n.$from.index(r),s=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(o,s,t))return r;if(0==r||i.type.spec.isolating||!Ete(i,o,s))break}return null}function mH(n){return{type:n,attrs:null}}function Jp(n,e,t=1,r){let i=n.resolve(e),o=i.depth-t,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,b=t-2;c>o;c--,b--){let x=i.node(c),L=i.index(c);if(x.type.spec.isolating)return!1;let H=x.content.cutByIndex(L,x.childCount),z=r&&r[b+1];z&&(H=H.replaceChild(0,z.type.create(z.attrs)));let le=r&&r[b]||x;if(!x.canReplace(L+1,x.childCount)||!le.type.validContent(H))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function vH(n,e){let t=n.resolve(e),r=t.index();return function yH(n,e){return!(!n||!e||n.isLeaf||!n.canAppend(e))}(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function JE(n,e,t=e,r=Bt.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),o=n.resolve(t);return bH(i,o,r)?new zo(e,t,r):new Vte(i,o,r).fit()}function bH(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}Fs.jsonID("replaceAround",co);class Vte{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=ht.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ht.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&1==o.childCount;)o=o.firstChild.content,s--,a--;let l=new Bt(o,s,a);return e>-1?new co(r.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||r.pos!=this.$to.pos?new zo(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=1==t?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=XE(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let b,{type:l,match:c}=this.frontier[a],x=null;if(1==t&&(s?c.matchType(s.type)||(x=c.fillBefore(ht.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:x};if(2==t&&s&&(b=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:b};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=XE(e,t);return!(!i.childCount||i.firstChild.isLeaf||(this.unplaced=new Bt(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),0))}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=XE(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new Bt(Ey(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new Bt(Ey(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let le=0;le<o.length;le++)this.openFrontierNode(o[le]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,b=[],{match:x,type:L}=this.frontier[t];if(i){for(let le=0;le<i.childCount;le++)b.push(i.child(le));x=x.matchFragment(i)}let H=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let le=a.child(c),de=x.matchType(le.type);if(!de)break;c++,(c>1||0==l||le.content.size)&&(x=de,b.push(CH(le.mark(L.allowedMarks(le.marks)),1==c?l:0,c==a.childCount?H:-1)))}let z=c==a.childCount;z||(H=-1),this.placed=ky(this.placed,t,ht.from(b)),this.frontier[t].match=x,z&&H<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let le=0,de=a;le<H;le++){let Ce=de.lastChild;this.frontier.push({type:Ce.type,match:Ce.contentMatchAt(Ce.childCount)}),de=Ce.content}this.unplaced=z?0==e?Bt.empty:new Bt(Ey(s.content,e-1,1),e-1,H<0?s.openEnd:e-1):new Bt(Ey(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t,e=this.frontier[this.depth];if(!e.type.isTextblock||!qE(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=qE(e,t,i,r,o);if(s){for(let a=t-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],b=qE(e,a,c,l,!0);if(!b||b.childCount)continue e}return{depth:t,fit:s,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=ky(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ky(this.placed,this.depth,ht.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ht.empty,!0);t.childCount&&(this.placed=ky(this.placed,this.frontier.length,t))}}function Ey(n,e,t){return 0==e?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Ey(n.firstChild.content,e-1,t)))}function ky(n,e,t){return 0==e?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(ky(n.lastChild.content,e-1,t)))}function XE(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function CH(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,CH(r.firstChild,e-1,1==r.childCount?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(ht.empty,!0)))),n.copy(r)}function qE(n,e,t,r,i){let o=n.node(e),s=i?n.indexAfter(e):n.index(e);if(s==o.childCount&&!t.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!function Gte(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}(t,o.content,s)?a:null}function Wte(n){return n.spec.defining||n.spec.definingForContent}function wH(n,e,t,r,i){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(wH(o.content,e+1,t,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(n).append(n);n=s.append(o.matchFragment(s).fillBefore(ht.empty,!0))}return n}function IH(n,e){let t=[];for(let i=Math.min(n.depth,e.depth);i>=0;i--){let o=n.start(i);if(o<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&t.push(i)}return t}class Xp extends Fs{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ui.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return Ui.fromReplace(e,this.pos,this.pos+1,new Bt(ht.from(i),0,t.isLeaf?0:1))}getMap(){return oa.empty}invert(e){return new Xp(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Xp(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new Xp(t.pos,t.attr,t.value)}}Fs.jsonID("attr",Xp);let qp=class extends Error{};qp=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t},(qp.prototype=Object.create(Error.prototype)).constructor=qp,qp.prototype.name="TransformError";const QE=Object.create(null);class zn{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new _H(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Bt.empty){let r=t.content.lastChild,i=null;for(let a=0;a<t.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],b=e.mapping.slice(o);e.replaceRange(b.map(l.pos),b.map(c.pos),a?Bt.empty:t),0==a&&xH(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),c=l.map(s.pos),b=l.map(a.pos);o?e.deleteRange(c,b):(e.replaceRangeWith(c,b,t),xH(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new lr(e):Qp(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=t<0?Qp(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):Qp(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(s)return s}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new bs(e.node(0))}static atStart(e){return Qp(e,e,0,0,1)||new bs(e)}static atEnd(e){return Qp(e,e,e.content.size,e.childCount,-1)||new bs(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=QE[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in QE)throw new RangeError("Duplicate use of selection JSON ID "+e);return QE[e]=t,t.prototype.jsonID=e,t}getBookmark(){return lr.between(this.$anchor,this.$head).getBookmark()}}zn.prototype.visible=!0;class _H{constructor(e,t){this.$from=e,this.$to=t}}let AH=!1;function SH(n){!AH&&!n.parent.inlineContent&&(AH=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class lr extends zn{constructor(e,t=e){SH(e),SH(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return zn.near(r);let i=e.resolve(t.map(this.anchor));return new lr(i.parent.inlineContent?i:r,r)}replace(e,t=Bt.empty){if(super.replace(e,t),t==Bt.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof lr&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new PI(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new lr(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let o=zn.findFrom(t,r,!0)||zn.findFrom(t,-r,!0);if(!o)return zn.near(t,r);t=o.$head}return e.parent.inlineContent||(0==i||(e=(zn.findFrom(e,-r,!0)||zn.findFrom(e,r,!0)).$anchor).pos<t.pos!=i<0)&&(e=t),new lr(e,t)}}zn.jsonID("text",lr);class PI{constructor(e,t){this.anchor=e,this.head=t}map(e){return new PI(e.map(this.anchor),e.map(this.head))}resolve(e){return lr.between(e.resolve(this.anchor),e.resolve(this.head))}}class In extends zn{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),o=e.resolve(i);return r?zn.near(o):new In(o)}content(){return new Bt(ht.from(this.node),0,0)}eq(e){return e instanceof In&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ek(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new In(e.resolve(t.anchor))}static create(e,t){return new In(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}In.prototype.visible=!1,zn.jsonID("node",In);class ek{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new PI(r,r):new ek(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&In.isSelectable(r)?new In(t):zn.near(t)}}class bs extends zn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Bt.empty){if(t==Bt.empty){e.delete(0,e.doc.content.size);let r=zn.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new bs(e)}map(e){return new bs(e)}eq(e){return e instanceof bs}getBookmark(){return Kte}}zn.jsonID("all",bs);const Kte={map(){return this},resolve:n=>new bs(n)};function Qp(n,e,t,r,i,o=!1){if(e.inlineContent)return lr.create(n,t);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&In.isSelectable(a))return In.create(n,t-(i<0?a.nodeSize:0))}else{let l=Qp(n,a,t+i,i<0?a.childCount:0,i,o);if(l)return l}t+=a.nodeSize*i}return null}function xH(n,e,t){let r=n.steps.length-1;if(r<e)return;let s,i=n.steps[r];(i instanceof zo||i instanceof co)&&(n.mapping.maps[r].forEach((a,l,c,b)=>{null==s&&(s=b)}),n.setSelection(zn.near(n.doc.resolve(s),t)))}class Yte extends class Zte{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Kp}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new qp(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=Bt.empty){let i=JE(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new Bt(ht.from(r),0,0))}delete(e,t){return this.replace(e,t,Bt.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return function jte(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),o=n.doc.resolve(t);if(bH(i,o,r))return n.step(new zo(e,t,r));let s=IH(i,n.doc.resolve(t));0==s[s.length-1]&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let L=i.depth,H=i.pos-1;L>0;L--,H--){let z=i.node(L).type.spec;if(z.defining||z.definingAsContext||z.isolating)break;s.indexOf(L)>-1?a=L:i.before(L)==H&&s.splice(1,0,-L)}let l=s.indexOf(a),c=[],b=r.openStart;for(let L=r.content,H=0;;H++){let z=L.firstChild;if(c.push(z),H==r.openStart)break;L=z.content}for(let L=b-1;L>=0;L--){let H=c[L],z=Wte(H.type);if(z&&!H.sameMarkup(i.node(Math.abs(a)-1)))b=L;else if(z||!H.type.isTextblock)break}for(let L=r.openStart;L>=0;L--){let H=(L+b+1)%(r.openStart+1),z=c[H];if(z)for(let le=0;le<s.length;le++){let de=s[(le+l)%s.length],Ce=!0;de<0&&(Ce=!1,de=-de);let ke=i.node(de-1),De=i.index(de-1);if(ke.canReplaceWith(De,De,z.type,z.marks))return n.replace(i.before(de),Ce?o.after(de):t,new Bt(wH(r.content,0,r.openStart,H),H,r.openEnd))}}let x=n.steps.length;for(let L=s.length-1;L>=0&&(n.replace(e,t,r),!(n.steps.length>x));L--){let H=s[L];H<0||(e=i.before(H),t=o.after(H))}}(this,e,t,r),this}replaceRangeWith(e,t,r){return function Ute(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=function $te(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(0==r.parentOffset)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,t))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,t))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}(n.doc,e,r.type);null!=i&&(e=t=i)}n.replaceRange(e,t,new Bt(ht.from(r),0,0))}(this,e,t,r),this}deleteRange(e,t){return function zte(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),o=IH(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&0==a||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&t>r.end(s)&&i.end(s)-t!=i.depth-s)return n.delete(r.before(s),t);n.delete(e,t)}(this,e,t),this}lift(e,t){return function kte(n,e,t){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,c=a,b=ht.empty,x=0;for(let z=o,le=!1;z>t;z--)le||r.index(z)>0?(le=!0,b=ht.from(r.node(z).copy(b)),x++):l--;let L=ht.empty,H=0;for(let z=o,le=!1;z>t;z--)le||i.after(z+1)<i.end(z)?(le=!0,L=ht.from(i.node(z).copy(L)),H++):c++;n.step(new co(l,c,s,a,new Bt(b.append(L),x,H),b.size-x,!0))}(this,e,t),this}join(e,t=1){return function Bte(n,e,t){let r=new zo(e-t,e+t,Bt.empty,!0);n.step(r)}(this,e,t),this}wrap(e,t){return function Rte(n,e,t){let r=ht.empty;for(let s=t.length-1;s>=0;s--){if(r.size){let a=t[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ht.from(t[s].type.create(t[s].attrs,r))}let i=e.start,o=e.end;n.step(new co(i,o,i,o,new Bt(r,0,0),t.length,!0))}(this,e,t),this}setBlockType(e,t=e,r,i=null){return function Ote(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(s,a)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&function Lte(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}(n.doc,n.mapping.slice(o).map(a),r)){n.clearIncompatible(n.mapping.slice(o).map(a,1),r);let l=n.mapping.slice(o),c=l.map(a,1),b=l.map(a+s.nodeSize,1);return n.step(new co(c,b,c+1,b-1,new Bt(ht.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return function Pte(n,e,t,r,i){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let s=t.create(r,null,i||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,s);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new co(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new Bt(ht.from(s),0,0),1,!0))}(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new Xp(e,t,r)),this}addNodeMark(e,t){return this.step(new ud(e,t)),this}removeNodeMark(e,t){if(!(t instanceof mr)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(!(t=t.isInSet(r.marks)))return this}return this.step(new Yp(e,t)),this}split(e,t=1,r){return function Fte(n,e,t=1,r){let i=n.doc.resolve(e),o=ht.empty,s=ht.empty;for(let a=i.depth,l=i.depth-t,c=t-1;a>l;a--,c--){o=ht.from(i.node(a).copy(o));let b=r&&r[c];s=ht.from(b?b.type.create(b.attrs,s):i.node(a).copy(s))}n.step(new zo(e,e,new Bt(o.append(s),t,t),!0))}(this,e,t,r),this}addMark(e,t,r){return function Ste(n,e,t,r){let s,a,i=[],o=[];n.doc.nodesBetween(e,t,(l,c,b)=>{if(!l.isInline)return;let x=l.marks;if(!r.isInSet(x)&&b.type.allowsMarkType(r.type)){let L=Math.max(c,e),H=Math.min(c+l.nodeSize,t),z=r.addToSet(x);for(let le=0;le<x.length;le++)x[le].isInSet(z)||(s&&s.to==L&&s.mark.eq(x[le])?s.to=H:i.push(s=new Ql(L,H,x[le])));a&&a.to==L?a.to=H:o.push(a=new cd(L,H,r))}}),i.forEach(l=>n.step(l)),o.forEach(l=>n.step(l))}(this,e,t,r),this}removeMark(e,t,r){return function xte(n,e,t,r){let i=[],o=0;n.doc.nodesBetween(e,t,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof DI){let b,c=s.marks;for(;b=r.isInSet(c);)(l||(l=[])).push(b),c=b.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,t);for(let b=0;b<l.length;b++){let L,x=l[b];for(let H=0;H<i.length;H++){let z=i[H];z.step==o-1&&x.eq(i[H].style)&&(L=z)}L?(L.to=c,L.step=o):i.push({style:x,from:Math.max(a,e),to:c,step:o})}}}),i.forEach(s=>n.step(new Ql(s.from,s.to,s.style)))}(this,e,t,r),this}clearIncompatible(e,t,r){return function Tte(n,e,t,r=t.contentMatch){let i=n.doc.nodeAt(e),o=[],s=e+1;for(let a=0;a<i.childCount;a++){let l=i.child(a),c=s+l.nodeSize,b=r.matchType(l.type);if(b){r=b;for(let x=0;x<l.marks.length;x++)t.allowsMarkType(l.marks[x].type)||n.step(new Ql(s,c,l.marks[x]));if(l.isText&&!t.spec.code){let x,H,L=/\r?\n|\r/g;for(;x=L.exec(l.text);)H||(H=new Bt(ht.from(t.schema.text(" ",t.allowedMarks(l.marks))),0,0)),o.push(new zo(s+x.index,s+x.index+x[0].length,H))}}else o.push(new zo(s,c,Bt.empty));s=c}if(!r.validEnd){let a=r.fillBefore(ht.empty,!0);n.replace(s,s,new Bt(a,0,0))}for(let a=o.length-1;a>=0;a--)n.step(o[a])}(this,e,t,r),this}}{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return mr.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||mr.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(null==r&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(t);o=r==t?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,o)),this.selection.empty||this.setSelection(zn.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function kH(n,e){return e&&n?n.bind(e):n}class Dy{constructor(e,t,r){this.name=e,this.init=kH(t.init,r),this.apply=kH(t.apply,r)}}const Jte=[new Dy("doc",{init:n=>n.doc||n.schema.topNodeType.createAndFill(),apply:n=>n.doc}),new Dy("selection",{init:(n,e)=>n.selection||zn.atStart(e.doc),apply:n=>n.selection}),new Dy("storedMarks",{init:n=>n.storedMarks||null,apply:(n,e,t,r)=>r.selection.$cursor?n.storedMarks:null}),new Dy("scrollToSelection",{init:()=>0,apply:(n,e)=>n.scrolledIntoView?e+1:e})];class tk{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Jte.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Dy(r.key,r.spec.state,r))})}}class Uh{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,b=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,c,r);if(b&&r.filterTransaction(b,s)){if(b.setMeta("appendedTransaction",e),!i){i=[];for(let x=0;x<this.config.plugins.length;x++)i.push(x<s?{state:r,n:t.length}:{state:this,n:0})}t.push(b),r=r.applyInner(b),o=!0}i&&(i[s]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Uh(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new Yte(this)}static create(e){let t=new tk(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Uh(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new tk(this.schema,e.plugins),r=t.fields,i=new Uh(t);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&"object"==typeof e)for(let r in e){if("doc"==r||"selection"==r)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new tk(e.schema,e.plugins),o=new Uh(i);return i.fields.forEach(s=>{if("doc"==s.name)o.doc=cl.fromJSON(e.schema,t.doc);else if("selection"==s.name)o.selection=zn.fromJSON(o.doc,t.selection);else if("storedMarks"==s.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,a))return void(o[s.name]=c.fromJSON.call(l,e,t[a],o))}o[s.name]=s.init(e,o)}}),o}}function DH(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):"handleDOMEvents"==r&&(i=DH(i,e,{})),t[r]=i}return t}class Bs{constructor(e){this.spec=e,this.props={},e.props&&DH(e.props,this,this.props),this.key=e.key?e.key.key:MH("plugin")}getState(e){return e[this.key]}}const nk=Object.create(null);function MH(n){return n in nk?n+"$"+ ++nk[n]:(nk[n]=0,n+"$")}class My{constructor(e="key"){this.key=MH(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Cs=function(n){for(var e=0;;e++)if(!(n=n.previousSibling))return e},Ny=function(n){let e=n.assignedSlot||n.parentNode;return e&&11==e.nodeType?e.host:e};let NH=null;const ru=function(n,e,t){let r=NH||(NH=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},zh=function(n,e,t,r){return t&&(RH(n,e,t,r,-1)||RH(n,e,t,r,1))},Xte=/^(img|br|input|textarea|hr)$/i;function RH(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:ec(n))){let o=n.parentNode;if(!o||1!=o.nodeType||rk(n)||Xte.test(n.nodeName)||"false"==n.contentEditable)return!1;e=Cs(n)+(i<0?0:1),n=o}else{if(1!=n.nodeType)return!1;if("false"==(n=n.childNodes[e+(i<0?-1:0)]).contentEditable)return!1;e=i<0?ec(n):0}}}function ec(n){return 3==n.nodeType?n.nodeValue.length:n.childNodes.length}function rk(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const BI=function(n){return n.focusNode&&zh(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Zh(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}const tc=typeof navigator<"u"?navigator:null,OH=typeof document<"u"?document:null,dd=tc&&tc.userAgent||"",ik=/Edge\/(\d+)/.exec(dd),LH=/MSIE \d/.exec(dd),ok=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(dd),$s=!!(LH||ok||ik),hd=LH?document.documentMode:ok?+ok[1]:ik?+ik[1]:0,ul=!$s&&/gecko\/(\d+)/i.test(dd);ul&&/Firefox\/(\d+)/.exec(dd);const sk=!$s&&/Chrome\/(\d+)/.exec(dd),Zo=!!sk,tne=sk?+sk[1]:0,ws=!$s&&!!tc&&/Apple Computer/.test(tc.vendor),eg=ws&&(/Mobile\/\w+/.test(dd)||!!tc&&tc.maxTouchPoints>2),Ra=eg||!!tc&&/Mac/.test(tc.platform),nne=!!tc&&/Win/.test(tc.platform),dl=/Android \d/.test(dd),Ry=!!OH&&"webkitFontSmoothing"in OH.documentElement.style,rne=Ry?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ine(n){return{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function iu(n,e){return"number"==typeof n?n:n[e]}function one(n){let e=n.getBoundingClientRect();return{left:e.left,right:e.left+n.clientWidth*(e.width/n.offsetWidth||1),top:e.top,bottom:e.top+n.clientHeight*(e.height/n.offsetHeight||1)}}function PH(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let s=t||n.dom;s;s=Ny(s)){if(1!=s.nodeType)continue;let a=s,l=a==o.body,c=l?ine(o):one(a),b=0,x=0;if(e.top<c.top+iu(r,"top")?x=-(c.top-e.top+iu(i,"top")):e.bottom>c.bottom-iu(r,"bottom")&&(x=e.bottom-e.top>c.bottom-c.top?e.top+iu(i,"top")-c.top:e.bottom-c.bottom+iu(i,"bottom")),e.left<c.left+iu(r,"left")?b=-(c.left-e.left+iu(i,"left")):e.right>c.right-iu(r,"right")&&(b=e.right-c.right+iu(i,"right")),b||x)if(l)o.defaultView.scrollBy(b,x);else{let L=a.scrollLeft,H=a.scrollTop;x&&(a.scrollTop+=x),b&&(a.scrollLeft+=b);let z=a.scrollLeft-L,le=a.scrollTop-H;e={left:e.left-z,top:e.top-le,right:e.right-z,bottom:e.bottom-le}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function FH(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Ny(r));return e}function BH(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:o}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let tg=null;function $H(n,e){let t,i,l,c,r=2e8,o=0,s=e.top,a=e.top;for(let b=n.firstChild,x=0;b;b=b.nextSibling,x++){let L;if(1==b.nodeType)L=b.getClientRects();else{if(3!=b.nodeType)continue;L=ru(b).getClientRects()}for(let H=0;H<L.length;H++){let z=L[H];if(z.top<=s&&z.bottom>=a){s=Math.max(z.bottom,s),a=Math.min(z.top,a);let le=z.left>e.left?z.left-e.left:z.right<e.left?e.left-z.right:0;if(le<r){t=b,r=le,i=le&&3==t.nodeType?{left:z.right<e.left?z.right:z.left,top:e.top}:e,1==b.nodeType&&le&&(o=x+(e.left>=(z.left+z.right)/2?1:0));continue}}else z.top>e.top&&!l&&z.left<=e.left&&z.right>=e.left&&(l=b,c={left:Math.max(z.left,Math.min(z.right,e.left)),top:z.top});!t&&(e.left>=z.right&&e.top>=z.top||e.left>=z.left&&e.top>=z.bottom)&&(o=x+1)}}return!t&&l&&(t=l,i=c,r=0),t&&3==t.nodeType?function cne(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let o=fd(r,1);if(o.top!=o.bottom&&ak(e,o))return{node:n,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}(t,i):!t||r&&1==t.nodeType?{node:n,offset:o}:$H(t,i)}function ak(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function HH(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=i;;){let s=n.childNodes[o];if(1==s.nodeType){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(ak(e,c))return HH(s,e,c)}}if((o=(o+1)%r)==i)break}return n}function fne(n,e){let r,t=n.dom.ownerDocument,i=0,o=function ene(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:r.startOffset}}}(t,e.left,e.top);o&&({node:r,offset:i}=o);let a,s=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top);if(!s||!n.dom.contains(1!=s.nodeType?s.parentNode:s)){let c=n.dom.getBoundingClientRect();if(!ak(e,c)||(s=HH(n.dom,e,c),!s))return null}if(ws)for(let c=s;r&&c;c=Ny(c))c.draggable&&(r=void 0);if(s=function une(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}(s,e),r){if(ul&&1==r.nodeType&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let x,b=r.childNodes[i];"IMG"==b.nodeName&&(x=b.getBoundingClientRect()).right<=e.left&&x.bottom>e.top&&i++}let c;Ry&&i&&1==r.nodeType&&1==(c=r.childNodes[i-1]).nodeType&&"false"==c.contentEditable&&c.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&1==r.lastChild.nodeType&&e.top>r.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(0==i||1!=r.nodeType||"BR"!=r.childNodes[i-1].nodeName)&&(a=function hne(n,e,t,r){let i=-1;for(let o=e,s=!1;o!=n.dom;){let a=n.docView.nearestDesc(o,!0);if(!a)return null;if(1==a.dom.nodeType&&(a.node.isBlock&&a.parent&&!s||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&!s&&(s=!0,l.left>r.left||l.top>r.top?i=a.posBefore:(l.right<r.left||l.bottom<r.top)&&(i=a.posAfter)),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}o=a.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}(n,r,i,e))}null==a&&(a=function dne(n,e,t){let{node:r,offset:i}=$H(e,t),o=-1;if(1==r.nodeType&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&t.left>(s.left+s.right)/2?1:-1}return n.docView.posFromDOM(r,i,o)}(n,s,e));let l=n.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function VH(n){return n.top<n.bottom||n.left<n.right}function fd(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(VH(r))return r}return Array.prototype.find.call(t,VH)||n.getBoundingClientRect()}const pne=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function GH(n,e,t){let{node:r,offset:i,atom:o}=n.docView.domFromPos(e,t<0?-1:1),s=Ry||ul;if(3==r.nodeType){if(!s||!pne.test(r.nodeValue)&&(t<0?i:i!=r.nodeValue.length)){let l=i,c=i,b=t<0?1:-1;return t<0&&!i?(c++,b=-1):t>=0&&i==r.nodeValue.length?(l--,b=1):t<0?l--:c++,Oy(fd(ru(r,l,c),b),b<0)}{let l=fd(ru(r,i,i),t);if(ul&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=fd(ru(r,i-1,i-1),-1);if(c.top==l.top){let b=fd(ru(r,i,i+1),-1);if(b.top!=l.top)return Oy(b,b.left<c.left)}}return l}}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(null==o&&i&&(t<0||i==ec(r))){let l=r.childNodes[i-1];if(1==l.nodeType)return lk(l.getBoundingClientRect(),!1)}if(null==o&&i<ec(r)){let l=r.childNodes[i];if(1==l.nodeType)return lk(l.getBoundingClientRect(),!0)}return lk(r.getBoundingClientRect(),t>=0)}if(null==o&&i&&(t<0||i==ec(r))){let l=r.childNodes[i-1],c=3==l.nodeType?ru(l,ec(l)-(s?0:1)):1!=l.nodeType||"BR"==l.nodeName&&l.nextSibling?null:l;if(c)return Oy(fd(c,1),!1)}if(null==o&&i<ec(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?3==l.nodeType?ru(l,0,s?0:1):1==l.nodeType?l:null:null;if(c)return Oy(fd(c,-1),!0)}return Oy(fd(3==r.nodeType?ru(r):r,-t),t>=0)}function Oy(n,e){if(0==n.width)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function lk(n,e){if(0==n.height)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function WH(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}const mne=/[\u0590-\u08ac]/;let jH=null,UH=null,zH=!1;class Ly{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=0,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&(!(s=o.pmViewDesc)||s.parent!=this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}{let o,s;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&(!(s=o.pmViewDesc)||s.parent!=this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}}let i;if(e==this.dom&&this.contentDOM)i=t>Cs(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(null==i&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let s,o=this.getDesc(i);if(o&&(!t||o.node)){if(!r||!(s=o.nodeDOM)||(1==s.nodeType?s.contains(1==e.nodeType?e:e.parentNode):s==e))return o;r=!1}}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let o,r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof JH){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(;r&&!(o=this.children[r-1]).size&&o instanceof KH&&o.side>=0;r--);if(t<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,o&&o.dom.parentNode!=this.contentDOM;r--,s=!1);return o&&t&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?Cs(o.dom)+1:0}}{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,o&&o.dom.parentNode!=this.contentDOM;r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?Cs(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(-1==i&&e<=c){let b=s+l.border;if(e>=b&&t<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,b);e=s;for(let x=a;x>0;x--){let L=this.children[x-1];if(L.size&&L.dom.parentNode==this.contentDOM&&!L.emptyChildAt(1)){i=Cs(L.dom)+1;break}e-=L.size}-1==i&&(i=0)}if(i>-1&&(c>t||a==this.children.length-1)){t=c;for(let b=a+1;b<this.children.length;b++){let x=this.children[b];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(-1)){o=Cs(x.dom);break}t+=x.size}-1==o&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(1!=t.nodeType||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let o=Math.min(e,t),s=Math.max(e,t);for(let L=0,H=0;L<this.children.length;L++){let z=this.children[L],le=H+z.size;if(o>H&&s<le)return z.setSelection(e-H-z.border,t-H-z.border,r,i);H=le}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),c=r.getSelection(),b=!1;if((ul||ws)&&e==t){let{node:L,offset:H}=a;if(3==L.nodeType){if(b=!(!H||"\n"!=L.nodeValue[H-1]),b&&H==L.nodeValue.length)for(let le,z=L;z;z=z.parentNode){if(le=z.nextSibling){"BR"==le.nodeName&&(a=l={node:le.parentNode,offset:Cs(le)+1});break}let de=z.pmViewDesc;if(de&&de.node&&de.node.isBlock)break}}else{let z=L.childNodes[H-1];b=z&&("BR"==z.nodeName||"false"==z.contentEditable)}}if(ul&&c.focusNode&&c.focusNode!=l.node&&1==c.focusNode.nodeType){let L=c.focusNode.childNodes[c.focusOffset];L&&"false"==L.contentEditable&&(i=!0)}if(!(i||b&&ws)&&zh(a.node,a.offset,c.anchorNode,c.anchorOffset)&&zh(l.node,l.offset,c.focusNode,c.focusOffset))return;let x=!1;if((c.extend||e==t)&&!b){c.collapse(a.node,a.offset);try{e!=t&&c.extend(l.node,l.offset),x=!0}catch{}}if(!x){if(e>t){let H=a;a=l,l=H}let L=document.createRange();L.setEnd(l.node,l.offset),L.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(L)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&t>=r:e<s&&t>r){let a=r+o.border,l=s-o.border;if(e>=a&&t<=l)return this.dirty=e==r||t==s?2:1,void(e!=a||t!=l||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-a,t-a):o.dirty=3);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}r=s}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=1==e?2:1;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class KH extends Ly{constructor(e,t,r,i){let o,s=t.type.toDOM;if("function"==typeof s&&(s=s(r,()=>o?o.parent?o.parent.posBeforeChild(o):void 0:i)),!t.type.spec.raw){if(1!=s.nodeType){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class bne extends Ly{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class Yh extends Ly{constructor(e,t,r,i){super(e,[],r,i),this.mark=t}static create(e,t,r,i){let o=i.nodeViews[t.type.name],s=o&&o(t,i,r);return(!s||!s.dom)&&(s=nu.renderSpec(document,t.type.spec.toDOM(t,r))),new Yh(e,t,s.dom,s.contentDOM||s.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}}slice(e,t,r){let i=Yh.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;t<s&&(o=dk(o,t,s,r)),e>0&&(o=dk(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}}class pd extends Ly{constructor(e,t,r,i,o,s,a,l,c){super(e,[],o,s),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,t,r,i,o,s){let l,a=o.nodeViews[t.type.name],c=a&&a(t,o,()=>l?l.parent?l.parent.posBeforeChild(l):void 0:s,r,i),b=c&&c.dom,x=c&&c.contentDOM;if(t.isText)if(b){if(3!=b.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else b=document.createTextNode(t.text);else b||({dom:b,contentDOM:x}=nu.renderSpec(document,t.type.spec.toDOM(t)));!x&&!t.isText&&"BR"!=b.nodeName&&(b.hasAttribute("contenteditable")||(b.contentEditable="false"),t.type.spec.draggable&&(b.draggable=!0));let L=b;return b=QH(b,r,t),c?l=new Cne(e,t,r,i,b,x||null,L,c,o,s+1):t.isText?new $I(e,t,r,i,b,L,o):new pd(e,t,r,i,b,x||null,L,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ht.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,r){return 0==this.dirty&&e.eq(this.node)&&uk(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,o=e.composing?this.localCompositionInfo(e,t):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new Ine(this,s&&s.node,e);(function Sne(n,e,t,r){let i=e.locals(n),o=0;if(0==i.length){for(let c=0;c<n.childCount;c++){let b=n.child(c);r(b,i,e.forChild(o,b),c),o+=b.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let b,x,L,H;for(;s<i.length&&i[s].to==o;){let de=i[s++];de.widget&&(b?(x||(x=[b])).push(de):b=de)}if(b)if(x){x.sort(Ane);for(let de=0;de<x.length;de++)t(x[de],c,!!l)}else t(b,c,!!l);if(l)H=-1,L=l,l=null;else{if(!(c<n.childCount))break;H=c,L=n.child(c++)}for(let de=0;de<a.length;de++)a[de].to<=o&&a.splice(de--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let z=o+L.nodeSize;if(L.isText){let de=z;s<i.length&&i[s].from<de&&(de=i[s].from);for(let Ce=0;Ce<a.length;Ce++)a[Ce].to<de&&(de=a[Ce].to);de<z&&(l=L.cut(de-o),L=L.cut(0,de-o),z=de,H=-1)}r(L,L.isInline&&!L.isLeaf?a.filter(de=>!de.inline):a.slice(),e.forChild(o,L),H),o=z}})(this.node,this.innerDeco,(c,b,x)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!x&&l.syncToMarks(b==this.node.childCount?mr.none:this.node.child(b).marks,r,e),l.placeWidget(c,e,i)},(c,b,x,L)=>{let H;l.syncToMarks(c.marks,r,e),l.findNodeMatch(c,b,x,L)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(H=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,b,x,H,e)||l.updateNextNode(c,b,x,e,L,i)||l.addNode(c,b,x,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(s&&this.protectLocalComposition(e,s),XH(this.contentDOM,this.children,e),eg&&function xne(n){if("UL"==n.nodeName||"OL"==n.nodeName){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n),n.style.cssText=e}}(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof lr)||r<t||i>t+this.node.content.size)return null;let o=e.domSelectionRange(),s=function Tne(n,e){for(;;){if(3==n.nodeType)return n;if(1==n.nodeType&&e>0){if(n.childNodes.length>e&&3==n.childNodes[e].nodeType)return n.childNodes[e];e=ec(n=n.childNodes[e-1])}else{if(!(1==n.nodeType&&e<n.childNodes.length))return null;n=n.childNodes[e],e=0}}}(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=function Ene(n,e,t,r){for(let i=0,o=0;i<n.childCount&&o<=r;){let s=n.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<n.childCount;){let c=n.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=t){if(o>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=t)return a+c;if(t==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}(this.node.content,a,r-t,i-t);return l<0?null:{node:s,pos:l,text:a}}return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new bne(this,o,t,i);e.input.compositionNodes.push(s),this.children=dk(this.children,r,r+i.length,e,s)}update(e,t,r,i){return!(3==this.dirty||!e.sameMarkup(this.node)||(this.updateInner(e,t,r,i),0))}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(uk(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,r=this.dom;this.dom=qH(this.dom,this.nodeDOM,ck(this.outerDeco,this.node,t),ck(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function YH(n,e,t,r,i){QH(r,e,n);let o=new pd(void 0,n,e,t,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class $I extends pd{constructor(e,t,r,i,o,s,a){super(e,t,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node)||(this.updateOuterDeco(t),(0!=this.dirty||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=0,0))}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,r){let i=this.node.cut(e,t),o=document.createTextNode(i.text);return new $I(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(0==e||t==this.nodeDOM.nodeValue.length)&&(this.dirty=3)}get domAtom(){return!1}}class JH extends Ly{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class Cne extends pd{constructor(e,t,r,i,o,s,a,l,c,b){super(e,t,r,i,o,s,a,c,b),this.spec=l}update(e,t,r,i){if(3==this.dirty)return!1;if(this.spec.update){let o=this.spec.update(e,t,r);return o&&this.updateInner(e,t,r,i),o}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function XH(n,e,t){let r=n.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==n){for(;a!=r;)r=eV(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(a,r);if(s instanceof Yh){let l=r?r.previousSibling:n.lastChild;XH(s.contentDOM,s.children,t),r=l?l.nextSibling:n.firstChild}}for(;r;)r=eV(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const Py=function(n){n&&(this.nodeName=n)};Py.prototype=Object.create(null);const Jh=[new Py];function ck(n,e,t){if(0==n.length)return Jh;let r=t?Jh[0]:new Py,i=[r];for(let o=0;o<n.length;o++){let s=n[o].type.attrs;if(s){s.nodeName&&i.push(r=new Py(s.nodeName));for(let a in s){let l=s[a];null!=l&&(t&&1==i.length&&i.push(r=new Py(e.isInline?"span":"div")),"class"==a?r.class=(r.class?r.class+" ":"")+l:"style"==a?r.style=(r.style?r.style+";":"")+l:"nodeName"!=a&&(r[a]=l))}}}return i}function qH(n,e,t,r){if(t==Jh&&r==Jh)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=n&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Jh[0]),i=l}wne(i,a||Jh[0],s)}return i}function wne(n,e,t){for(let r in e)"class"!=r&&"style"!=r&&"nodeName"!=r&&!(r in t)&&n.removeAttribute(r);for(let r in t)"class"!=r&&"style"!=r&&"nodeName"!=r&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)-1==i.indexOf(r[o])&&n.classList.remove(r[o]);for(let o=0;o<i.length;o++)-1==r.indexOf(i[o])&&n.classList.add(i[o]);0==n.classList.length&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let i,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function QH(n,e,t){return qH(n,n,Jh,ck(e,t,1!=n.nodeType))}function uk(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function eV(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Ine{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function _ne(n,e){let t=e,r=t.children.length,i=n.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let c=t.children[r-1];if(!(c instanceof Yh)){a=c,r--;break}t=c,r=c.children.length}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(l){if(l!=n.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&!1!==e[i].type.spec.spanning;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Yh.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,i){let s,o=-1;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,t,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,t,r)&&!this.preMatch.matched.has(c)){o=a;break}}return!(o<0||(this.destroyBetween(this.index,o),this.index++,0))}updateNodeAt(e,t,r,i,o){let s=this.top.children[i];return 3==s.dirty&&s.dom==s.contentDOM&&(s.dirty=2),!!s.update(e,t,r,o)&&(this.destroyBetween(this.index,i),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r)for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i;return-1}e=t}}updateNextNode(e,t,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof pd){let c=this.preMatch.matched.get(l);if(null!=c&&c!=o)return!1;let x,b=l.dom,L=this.isLocked(b)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&3!=l.dirty&&uk(t,l.outerDeco));if(!L&&l.update(e,t,r,i))return this.destroyBetween(this.index,a),l.dom!=b&&(this.changed=!0),this.index++,!0;if(!L&&(x=this.recreateWrapper(l,e,t,r,i,s)))return this.top.children[this.index]=x,x.contentDOM&&(x.dirty=2,x.updateChildren(i,s+1),x.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,o,s){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content))return null;let a=pd.create(this.top,t,r,i,o,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,t,r,i,o){let s=pd.create(this.top,e,t,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(!i||!i.matchesWidget(e)||e!=i.widget&&i.widget.type.toDOM.parentNode){let o=new KH(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Yh;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof $I)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ws||Zo)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);"IMG"==e&&(r.className="ProseMirror-separator",r.alt=""),"BR"==e&&(r.className="ProseMirror-trailingBreak");let i=new JH(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function Ane(n,e){return n.type.side-e.type.side}function dk(n,e,t,r,i){let o=[];for(let s=0,a=0;s<n.length;s++){let l=n[s],c=a,b=a+=l.size;c>=t||b<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=void 0),b>t&&o.push(l.slice(t-c,l.size,r)))}return o}function hk(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),o=i&&0==i.size,s=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(s<0)return null;let l,c,a=r.resolve(s);if(BI(t)){for(l=a;i&&!i.node;)i=i.parent;let b=i.node;if(i&&b.isAtom&&In.isSelectable(b)&&i.parent&&(!b.isInline||!function qte(n,e,t){for(let r=0==e,i=e==ec(n);r||i;){if(n==t)return!0;let o=Cs(n);if(!(n=n.parentNode))return!1;r=r&&0==o,i=i&&o==ec(n)}}(t.focusNode,t.focusOffset,i.dom))){let x=i.posBefore;c=new In(s==x?a:r.resolve(x))}}else{let b=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(b<0)return null;l=r.resolve(b)}return c||(c=pk(n,l,a,"pointer"==e||n.state.selection.head<a.pos&&!o?1:-1)),c}function tV(n){return n.editable?n.hasFocus():lV(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function ou(n,e=!1){let t=n.state.selection;if(oV(n,t),tV(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Zo){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&zh(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset))return n.input.mouseDown.delayedSelectionSync=!0,void n.domObserver.setCurSelection()}if(n.domObserver.disconnectSelection(),n.cursorWrapper)!function Dne(n){let e=n.domSelection(),t=document.createRange(),r=n.cursorWrapper.dom,i="IMG"==r.nodeName;i?t.setEnd(r.parentNode,Cs(r)+1):t.setEnd(r,0),t.collapse(!1),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&$s&&hd<=11&&(r.disabled=!0,r.disabled=!1)}(n);else{let o,s,{anchor:r,head:i}=t;nV&&!(t instanceof lr)&&(t.$from.parent.inlineContent||(o=rV(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(s=rV(n,t.to))),n.docView.setSelection(r,i,n.root,e),nV&&(o&&iV(o),s&&iV(s)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function kne(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!tV(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const nV=ws||Zo&&tne<63;function rV(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,o=r?t.childNodes[r-1]:null;if(ws&&i&&"false"==i.contentEditable)return fk(i);if(!(i&&"false"!=i.contentEditable||o&&"false"!=o.contentEditable)){if(i)return fk(i);if(o)return fk(o)}}function fk(n){return n.contentEditable="true",ws&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function iV(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function oV(n,e){if(e instanceof In){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(sV(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else sV(n)}function sV(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function pk(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||lr.between(e,t,r)}function aV(n){return!(n.editable&&!n.hasFocus())&&lV(n)}function lV(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function gk(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),o=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return o&&zn.findFrom(o,e)}function Xh(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function cV(n,e,t){let r=n.state.selection;if(!(r instanceof lr)){if(r instanceof In&&r.node.isInline)return Xh(n,new lr(e>0?r.$to:r.$from));{let i=gk(n.state,e);return!!i&&Xh(n,i)}}if(!r.empty||t.indexOf("s")>-1)return!1;if(n.endOfTextblock(e>0?"forward":"backward")){let i=gk(n.state,e);return!!(i&&i instanceof In)&&Xh(n,i)}if(!(Ra&&t.indexOf("m")>-1)){let s,i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return!!(o.isAtom||(s=n.docView.descAt(a))&&!s.contentDOM)&&(In.isSelectable(o)?Xh(n,new In(e<0?n.state.doc.resolve(i.pos-o.nodeSize):i)):!!Ry&&Xh(n,new lr(n.state.doc.resolve(e<0?a:a+o.nodeSize))))}}function HI(n){return 3==n.nodeType?n.nodeValue.length:n.childNodes.length}function Fy(n,e){if("false"==n.contentEditable)return!0;let t=n.pmViewDesc;return t&&0==t.size&&(e<0||n.nextSibling||"BR"!=n.nodeName)}function ng(n,e){return e<0?function Nne(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,o,s=!1;for(ul&&1==t.nodeType&&r<HI(t)&&Fy(t.childNodes[r],-1)&&(s=!0);;)if(r>0){if(1!=t.nodeType)break;{let a=t.childNodes[r-1];if(Fy(a,-1))i=t,o=--r;else{if(3!=a.nodeType)break;t=a,r=t.nodeValue.length}}}else{if(uV(t))break;{let a=t.previousSibling;for(;a&&Fy(a,-1);)i=t.parentNode,o=Cs(a),a=a.previousSibling;if(a)t=a,r=HI(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}s?mk(n,t,r):i&&mk(n,i,o)}(n):function Rne(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let o,s,i=HI(t);for(;;)if(r<i){if(1!=t.nodeType)break;if(!Fy(t.childNodes[r],1))break;o=t,s=++r}else{if(uV(t))break;{let a=t.nextSibling;for(;a&&Fy(a,1);)o=a.parentNode,s=Cs(a)+1,a=a.nextSibling;if(a)t=a,r=0,i=HI(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}o&&mk(n,o,s)}(n)}function uV(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function mk(n,e,t){if(3!=e.nodeType){let o,s;(s=function One(n,e){for(;n&&e==n.childNodes.length&&!rk(n);)e=Cs(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(3==t.nodeType)return t;if(1==t.nodeType&&"false"==t.contentEditable)break;n=t,e=0}}(e,t))?(e=s,t=0):(o=function Lne(n,e){for(;n&&!e&&!rk(n);)e=Cs(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(3==t.nodeType)return t;if(1==t.nodeType&&"false"==t.contentEditable)break;e=(n=t).childNodes.length}}(e,t))&&(e=o,t=o.nodeValue.length)}let r=n.domSelection();if(BI(r)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&ou(n)},50)}function dV(n,e){let t=n.state.doc.resolve(e);if(!Zo&&!nne&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(n.dom).direction?"rtl":"ltr"}function hV(n,e,t){let r=n.state.selection;if(r instanceof lr&&!r.empty||t.indexOf("s")>-1||Ra&&t.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let s=gk(n.state,e);if(s&&s instanceof In)return Xh(n,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof bs?zn.near(s,e):zn.findFrom(s,e);return!!a&&Xh(n,a)}return!1}function fV(n,e){if(!(n.state.selection instanceof lr))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let s=n.state.tr;return e<0?s.delete(t.pos-o.nodeSize,t.pos):s.delete(t.pos,t.pos+o.nodeSize),n.dispatch(s),!0}return!1}function pV(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function gV(n,e){n.someProp("transformCopied",H=>{e=H(e,n)});let t=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,o--;let H=r.firstChild;t.push(H.type.name,H.attrs!=H.type.defaultAttrs?H.attrs:null),r=H.content}let s=n.someProp("clipboardSerializer")||nu.fromSchema(n.state.schema),a=_V(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let b,c=l.firstChild,x=0;for(;c&&1==c.nodeType&&(b=wV[c.nodeName.toLowerCase()]);){for(let H=b.length-1;H>=0;H--){let z=a.createElement(b[H]);for(;l.firstChild;)z.appendChild(l.firstChild);l.appendChild(z),x++}c=l.firstChild}return c&&1==c.nodeType&&c.setAttribute("data-pm-slice",`${i} ${o}${x?` -${x}`:""} ${JSON.stringify(t)}`),{dom:l,text:n.someProp("clipboardTextSerializer",H=>H(e,n))||e.content.textBetween(0,e.content.size,"\n\n")}}function mV(n,e,t,r,i){let s,a,o=i.parent.type.spec.code;if(!t&&!e)return null;let l=e&&(r||o||!t);if(l){if(n.someProp("transformPastedText",L=>{e=L(e,o||r,n)}),o)return e?new Bt(ht.from(n.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):Bt.empty;let x=n.someProp("clipboardTextParser",L=>L(e,i,r,n));if(x)a=x;else{let L=i.marks(),{schema:H}=n.state,z=nu.fromSchema(H);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(le=>{let de=s.appendChild(document.createElement("p"));le&&de.appendChild(z.serializeNode(H.text(le,L)))})}}else n.someProp("transformPastedHTML",x=>{t=x(t,n)}),s=function Vne(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let i,t=_V().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n);if((i=r&&wV[r[1].toLowerCase()])&&(n=i.map(o=>"<"+o+">").join("")+n+i.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=n,i)for(let o=0;o<i.length;o++)t=t.querySelector(i[o])||t;return t}(t),Ry&&function Gne(n){let e=n.querySelectorAll(Zo?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];1==r.childNodes.length&&"\xa0"==r.textContent&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}(s);let c=s&&s.querySelector("[data-pm-slice]"),b=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(b&&b[3])for(let x=+b[3];x>0;x--){let L=s.firstChild;for(;L&&1!=L.nodeType;)L=L.nextSibling;if(!L)break;s=L}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||jh.fromSchema(n.state.schema)).parseSlice(s,{preserveWhitespace:!(!l&&!b),context:i,ruleFromNode:L=>"BR"!=L.nodeName||L.nextSibling||!L.parentNode||$ne.test(L.parentNode.nodeName)?null:{ignore:!0}})),b)a=function Wne(n,e){if(!n.size)return n;let r,t=n.content.firstChild.type.schema;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:o,openEnd:s}=n;for(let a=r.length-2;a>=0;a-=2){let l=t.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=ht.from(l.create(r[a+1],i)),o++,s++}return new Bt(i,o,s)}(CV(a,+b[1],+b[2]),b[4]);else if(a=Bt.maxOpen(function Hne(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let o,i=e.node(t).contentMatchAt(e.index(t)),s=[];if(n.forEach(a=>{if(!s)return;let c,l=i.findWrapping(a.type);if(!l)return s=null;if(c=s.length&&o.length&&yV(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=bV(s[s.length-1],o.length));let b=vV(a,l);s.push(b),i=i.matchType(b.type),o=l}}),s)return ht.from(s)}return n}(a.content,i),!0),a.openStart||a.openEnd){let x=0,L=0;for(let H=a.content.firstChild;x<a.openStart&&!H.type.spec.isolating;x++,H=H.firstChild);for(let H=a.content.lastChild;L<a.openEnd&&!H.type.spec.isolating;L++,H=H.lastChild);a=CV(a,x,L)}return n.someProp("transformPasted",x=>{a=x(a,n)}),a}const $ne=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function vV(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,ht.from(n));return n}function yV(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let o=yV(n,e,t,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(ht.from(vV(t,n,i+1))))}}function bV(n,e){if(0==e)return n;let t=n.content.replaceChild(n.childCount-1,bV(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(ht.empty,!0);return n.copy(t.append(r))}function vk(n,e,t,r,i,o){let s=e<0?n.firstChild:n.lastChild,a=s.content;return n.childCount>1&&(o=0),i<r-1&&(a=vk(a,e,t,r,i+1,o)),i>=t&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(ht.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,s.copy(a))}function CV(n,e,t){return e<n.openStart&&(n=new Bt(vk(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new Bt(vk(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const wV={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let IV=null;function _V(){return IV||(IV=document.implementation.createHTMLDocument("title"))}const Is={},_s={},jne={touchstart:!0,touchmove:!0};class Une{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function gd(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function yk(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>bk(n,r))})}function bk(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return!!r&&(r(n,e)||e.defaultPrevented)})}function Kne(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||11==t.nodeType||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function VI(n){return{left:n.clientX,top:n.clientY}}function Ck(n,e,t,r,i){if(-1==r)return!1;let o=n.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(n.someProp(e,a=>s>o.depth?a(n,t,o.nodeAfter,o.before(s),i,!0):a(n,t,o.node(s),o.before(s),i,!1)))return!0;return!1}function rg(n,e,t){n.focused||n.focus();let r=n.state.tr.setSelection(e);"pointer"==t&&r.setMeta("pointer",!0),n.dispatch(r)}function ere(n,e,t,r){return Ck(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function tre(n,e,t,r){return Ck(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||function nre(n,e,t){if(0!=t.button)return!1;let r=n.state.doc;if(-1==e)return!!r.inlineContent&&(rg(n,lr.create(r,0,r.content.size),"pointer"),!0);let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)rg(n,lr.create(r,a+1,a+1+s.content.size),"pointer");else{if(!In.isSelectable(s))continue;rg(n,In.create(r,a),"pointer")}return!0}}(n,t,r)}function wk(n){return GI(n)}_s.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=16==t.keyCode||t.shiftKey,!SV(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!dl||!Zo||13!=t.keyCode))if(229!=t.keyCode&&n.domObserver.forceFlush(),!eg||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)n.someProp("handleKeyDown",r=>r(n,t))||function Bne(n,e){let t=e.keyCode,r=function Fne(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}(e);if(8==t||Ra&&72==t&&"c"==r)return fV(n,-1)||ng(n,-1);if(46==t&&!e.shiftKey||Ra&&68==t&&"c"==r)return fV(n,1)||ng(n,1);if(13==t||27==t)return!0;if(37==t||Ra&&66==t&&"c"==r){let i=37==t?"ltr"==dV(n,n.state.selection.from)?-1:1:-1;return cV(n,i,r)||ng(n,i)}if(39==t||Ra&&70==t&&"c"==r){let i=39==t?"ltr"==dV(n,n.state.selection.from)?1:-1:1;return cV(n,i,r)||ng(n,i)}return 38==t||Ra&&80==t&&"c"==r?hV(n,-1,r)||ng(n,-1):40==t||Ra&&78==t&&"c"==r?function Pne(n){if(!ws||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&1==e.nodeType&&0==t&&e.firstChild&&"false"==e.firstChild.contentEditable){let r=e.firstChild;pV(n,r,"true"),setTimeout(()=>pV(n,r,"false"),20)}return!1}(n)||hV(n,1,r)||ng(n,1):r==(Ra?"m":"c")&&(66==t||73==t||89==t||90==t)}(n,t)?t.preventDefault():gd(n,"key");else{let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,Zh(13,"Enter"))),n.input.lastIOSEnter=0)},200)}},_s.keyup=(n,e)=>{16==e.keyCode&&(n.input.shiftKey=!1)},_s.keypress=(n,e)=>{let t=e;if(SV(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Ra&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t)))return void t.preventDefault();let r=n.state.selection;if(!(r instanceof lr&&r.$from.sameParent(r.$to))){let i=String.fromCharCode(t.charCode);!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,i))&&n.dispatch(n.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};const AV=Ra?"metaKey":"ctrlKey";Is.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=wk(n),i=Date.now(),o="singleClick";i-n.input.lastClick.time<500&&function Jne(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}(t,n.input.lastClick)&&!t[AV]&&("singleClick"==n.input.lastClick.type?o="doubleClick":"doubleClick"==n.input.lastClick.type&&(o="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:o};let s=n.posAtCoords(VI(t));!s||("singleClick"==o?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new rre(n,s,t,!!r)):("doubleClick"==o?ere:tre)(n,s.pos,s.inside,t)?t.preventDefault():gd(n,"pointer"))};class rre{constructor(e,t,r,i){let o,s;if(this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[AV],this.allowDefault=r.shiftKey,t.inside>-1)o=e.state.doc.nodeAt(t.inside),s=t.inside;else{let b=e.state.doc.resolve(t.pos);o=b.parent,s=b.depth?b.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:c}=e.state;(0==r.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||c instanceof In&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!ul||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),gd(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ou(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(VI(e))),this.updateAllowDefault(e),this.allowDefault||!t?gd(this.view,"pointer"):function Qne(n,e,t,r,i){return Ck(n,"handleClickOn",e,t,r)||n.someProp("handleClick",o=>o(n,e,r))||(i?function qne(n,e){if(-1==e)return!1;let r,i,t=n.state.selection;t instanceof In&&(r=t.node);let o=n.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(In.isSelectable(a)){i=r&&t.$from.depth>0&&s>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?o.before(t.$from.depth):o.before(s);break}}return null!=i&&(rg(n,In.create(n.state.doc,i),"pointer"),!0)}(n,t):function Xne(n,e){if(-1==e)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return!!(r&&r.isAtom&&In.isSelectable(r))&&(rg(n,new In(t),"pointer"),!0)}(n,t))}(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||ws&&this.mightDrag&&!this.mightDrag.node.isAtom||Zo&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(rg(this.view,zn.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):gd(this.view,"pointer")}move(e){this.updateAllowDefault(e),gd(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function SV(n,e){return!!n.composing||!!(ws&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500)&&(n.input.compositionEndedAt=-2e8,!0)}Is.touchstart=n=>{n.input.lastTouch=Date.now(),wk(n),gd(n,"pointer")},Is.touchmove=n=>{n.input.lastTouch=Date.now(),gd(n,"pointer")},Is.contextmenu=n=>wk(n);const ire=dl?5e3:-1;function xV(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>GI(n),e))}function TV(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=function ore(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function GI(n,e=!1){if(!(dl&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),TV(n),e||n.docView&&n.docView.dirty){let t=hk(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):n.updateState(n.state),!0}return!1}}_s.compositionstart=_s.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>!1===r.type.spec.inclusive)))n.markCursor=n.state.storedMarks||t.marks(),GI(n,!0),n.markCursor=null;else if(GI(n),ul&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&1==i.nodeType&&0!=o;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(3==s.nodeType){n.domSelection().collapse(s,s.nodeValue.length);break}i=s,o=-1}}n.input.composing=!0}xV(n,ire)},_s.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,xV(n,20))};const ig=$s&&hd<15||eg&&rne<604;function By(n,e,t,r,i){let o=mV(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,i,o||Bt.empty)))return!0;if(!o)return!1;let s=function are(n){return 0==n.openStart&&0==n.openEnd&&1==n.content.childCount?n.content.firstChild:null}(o),a=s?n.state.tr.replaceSelectionWith(s,r):n.state.tr.replaceSelection(o);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Is.copy=_s.cut=(n,e)=>{let t=e,r=n.state.selection,i="cut"==t.type;if(r.empty)return;let o=ig?null:t.clipboardData,s=r.content(),{dom:a,text:l}=gV(n,s);o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):function sre(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}(n,a),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},_s.paste=(n,e)=>{let t=e;if(n.composing&&!dl)return;let r=ig?null:t.clipboardData,i=n.input.shiftKey&&45!=n.input.lastKeyCode;r&&By(n,r.getData("text/plain"),r.getData("text/html"),i,t)?t.preventDefault():function lre(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&45!=n.input.lastKeyCode;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?By(n,r.value,null,i,e):By(n,r.textContent,r.innerHTML,i,e)},50)}(n,t)};class cre{constructor(e,t){this.slice=e,this.move=t}}const EV=Ra?"altKey":"ctrlKey";Is.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,o=i.empty?null:n.posAtCoords(VI(t));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof In?i.to-1:i.to)))if(r&&r.mightDrag)n.dispatch(n.state.tr.setSelection(In.create(n.state.doc,r.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){let c=n.docView.nearestDesc(t.target,!0);c&&c.node.type.spec.draggable&&c!=n.docView&&n.dispatch(n.state.tr.setSelection(In.create(n.state.doc,c.posBefore)))}let s=n.state.selection.content(),{dom:a,text:l}=gV(n,s);t.dataTransfer.clearData(),t.dataTransfer.setData(ig?"Text":"text/html",a.innerHTML),t.dataTransfer.effectAllowed="copyMove",ig||t.dataTransfer.setData("text/plain",l),n.dragging=new cre(s,!t[EV])},Is.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)},_s.dragover=_s.dragenter=(n,e)=>e.preventDefault(),_s.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(VI(t));if(!i)return;let o=n.state.doc.resolve(i.pos),s=r&&r.slice;s?n.someProp("transformPasted",z=>{s=z(s,n)}):s=mV(n,t.dataTransfer.getData(ig?"Text":"text/plain"),ig?null:t.dataTransfer.getData("text/html"),!1,o);let a=!(!r||t[EV]);if(n.someProp("handleDrop",z=>z(n,t,s||Bt.empty,a)))return void t.preventDefault();if(!s)return;t.preventDefault();let l=s?function Hte(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let o=0;o<t.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(0==t.openStart&&t.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),b=!1;if(1==o)b=c.canReplace(l,l,i);else{let x=c.contentMatchAt(l).findWrapping(i.firstChild.type);b=x&&c.canReplaceWith(l,l,x[0])}if(b)return 0==a?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}(n.state.doc,o.pos,s):o.pos;null==l&&(l=o.pos);let c=n.state.tr;a&&c.deleteSelection();let b=c.mapping.map(l),x=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,L=c.doc;if(x?c.replaceRangeWith(b,b,s.content.firstChild):c.replaceRange(b,b,s),c.doc.eq(L))return;let H=c.doc.resolve(b);if(x&&In.isSelectable(s.content.firstChild)&&H.nodeAfter&&H.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new In(H));else{let z=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((le,de,Ce,ke)=>z=ke),c.setSelection(pk(n,H,c.doc.resolve(z)))}n.focus(),n.dispatch(c.setMeta("uiEvent","drop"))},Is.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&ou(n)},20))},Is.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)},Is.beforeinput=(n,e)=>{if(Zo&&dl&&"deleteContentBackward"==e.inputType){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,Zh(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in _s)Is[n]=_s[n];function $y(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class WI{constructor(e,t){this.toDOM=e,this.spec=t||qh,this.side=this.spec.side||0}map(e,t,r,i){let{pos:o,deleted:s}=e.mapResult(t.from+i,this.side<0?-1:1);return s?null:new Hs(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof WI&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&$y(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class md{constructor(e,t){this.attrs=e,this.spec=t||qh}map(e,t,r,i){let o=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Hs(o,s,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof md&&$y(this.attrs,e.attrs)&&$y(this.spec,e.spec)}static is(e){return e.type instanceof md}destroy(){}}class Ik{constructor(e,t){this.attrs=e,this.spec=t||qh}map(e,t,r,i){let o=e.mapResult(t.from+i,1);if(o.deleted)return null;let s=e.mapResult(t.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Hs(o.pos-r,s.pos-r,this)}valid(e,t){let o,{index:r,offset:i}=e.content.findIndex(t.from);return i==t.from&&!(o=e.child(r)).isText&&i+o.nodeSize==t.to}eq(e){return this==e||e instanceof Ik&&$y(this.attrs,e.attrs)&&$y(this.spec,e.spec)}destroy(){}}class Hs{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Hs(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Hs(e,e,new WI(t,r))}static inline(e,t,r,i){return new Hs(e,t,new md(r,i))}static node(e,t,r,i){return new Hs(e,t,new Ik(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof md}get widget(){return this.type instanceof WI}}const og=[],qh={};class _i{constructor(e,t){this.local=e.length?e:og,this.children=t.length?t:og}static create(e,t){return t.length?jI(t,e,0,qh):Ko}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,t-a,r,i+a,o)}}map(e,t,r){return this==Ko||0==e.maps.length?this:this.mapInner(e,t,0,0,r||qh)}mapInner(e,t,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(t,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function ure(n,e,t,r,i,o,s){let a=n.slice();for(let c=0,b=o;c<t.maps.length;c++){let x=0;t.maps[c].forEach((L,H,z,le)=>{let de=le-z-(H-L);for(let Ce=0;Ce<a.length;Ce+=3){let ke=a[Ce+1];if(ke<0||L>ke+b-x)continue;let De=a[Ce]+b-x;H>=De?a[Ce+1]=L<=De?-2:-1:z>=i&&de&&(a[Ce]+=de,a[Ce+1]+=de)}x+=de}),b=t.maps[c].map(b,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(-2==a[c+1]){l=!0,a[c+1]=-1;continue}let b=t.map(n[c]+o),x=b-i;if(x<0||x>=r.content.size){l=!0;continue}let H=t.map(n[c+1]+o,-1)-i,{index:z,offset:le}=r.content.findIndex(x),de=r.maybeChild(z);if(de&&le==x&&le+de.nodeSize==H){let Ce=a[c+2].mapInner(t,de,b+1,n[c]+o+1,s);Ce!=Ko?(a[c]=x,a[c+1]=H,a[c+2]=Ce):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=function dre(n,e,t,r,i,o,s){function a(l,c){for(let b=0;b<l.local.length;b++){let x=l.local[b].map(r,i,c);x?t.push(x):s.onRemove&&s.onRemove(l.local[b].spec)}for(let b=0;b<l.children.length;b+=3)a(l.children[b+2],l.children[b]+c+1)}for(let l=0;l<n.length;l+=3)-1==n[l+1]&&a(n[l+2],e[l]+o+1);return t}(a,n,e,t,i,o,s),b=jI(c,r,0,s);e=b.local;for(let x=0;x<a.length;x+=3)a[x+1]<0&&(a.splice(x,3),x-=3);for(let x=0,L=0;x<b.children.length;x+=3){let H=b.children[x];for(;L<a.length&&a[L]<H;)L+=3;a.splice(L,0,b.children[x],b.children[x+1],b.children[x+2])}}return new _i(e.sort(Qh),a)}(this.children,s||[],e,t,r,i,o):s?new _i(s.sort(Qh),og):Ko}add(e,t){return t.length?this==Ko?_i.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,o=0;e.forEach((a,l)=>{let b,c=l+r;if(b=DV(t,a,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,b,c+1):i.splice(o,0,l,l+a.nodeSize,jI(b,a,c+1,qh)),o+=3}});let s=kV(o?MV(t):t,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new _i(s.length?this.local.concat(s).sort(Qh):this.local,i||this.children)}remove(e){return 0==e.length||this==Ko?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+t,l=r[o+1]+t;for(let x,b=0;b<e.length;b++)(x=e[b])&&x.from>a&&x.to<l&&(e[b]=null,(s||(s=[])).push(x));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,a+1);c!=Ko?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length)for(let s,o=0;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,t)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1));return r==this.children&&i==this.local?this:i.length||r.length?new _i(i,r):Ko}forChild(e,t){if(this==Ko)return this;if(t.isLeaf)return _i.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof md){let c=Math.max(o,l.from)-o,b=Math.min(s,l.to)-o;c<b&&(i||(i=[])).push(l.copy(c,b))}}if(i){let a=new _i(i.sort(Qh),og);return r?new vd([a,r]):a}return r||Ko}eq(e){if(this==e)return!0;if(!(e instanceof _i)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return _k(this.localsInner(e))}localsInner(e){if(this==Ko)return og;if(e.inlineContent||!this.local.some(md.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof md||t.push(this.local[r]);return t}}_i.empty=new _i([],[]),_i.removeOverlap=_k;const Ko=_i.empty;class vd{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,qh));return vd.from(r)}forChild(e,t){if(t.isLeaf)return _i.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,t);o!=Ko&&(o instanceof vd?r=r.concat(o.members):r.push(o))}return vd.from(r)}eq(e){if(!(e instanceof vd)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(t){r&&(t=t.slice(),r=!1);for(let s=0;s<o.length;s++)t.push(o[s])}else t=o}return t?_k(r?t:t.sort(Qh)):og}static from(e){switch(e.length){case 0:return Ko;case 1:return e[0];default:return new vd(e.every(t=>t instanceof _i)?e:e.reduce((t,r)=>t.concat(r instanceof _i?r:r.members),[]))}}}function kV(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new Hs(i.from+e,i.to+e,i.type))}return t}function DV(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let s,o=0;o<n.length;o++)(s=n[o])&&s.from>t&&s.to<r&&((i||(i=[])).push(s),n[o]=null);return i}function MV(n){let e=[];for(let t=0;t<n.length;t++)null!=n[t]&&e.push(n[t]);return e}function jI(n,e,t,r){let i=[],o=!1;e.forEach((a,l)=>{let c=DV(n,a,l+t);if(c){o=!0;let b=jI(c,a,t+l+1,r);b!=Ko&&i.push(l,l+a.nodeSize,b)}});let s=kV(o?MV(n):n,-t).sort(Qh);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new _i(s,i):Ko}function Qh(n,e){return n.from-e.from||n.to-e.to}function _k(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let o=e[i];if(o.from!=r.from){o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),NV(e,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(e==n&&(e=n.slice()),e[i]=o.copy(o.from,r.to),NV(e,i+1,o.copy(r.to,o.to)))}}return e}function NV(n,e,t){for(;e<n.length&&Qh(t,n[e])>0;)e++;n.splice(e,0,t)}function Ak(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Ko&&e.push(r)}),n.cursorWrapper&&e.push(_i.create(n.state.doc,[n.cursorWrapper.deco])),vd.from(e)}const hre={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},fre=$s&&hd<=11;class pre{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class gre{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new pre,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);$s&&hd<=11&&r.some(i=>"childList"==i.type&&i.removedNodes.length||"characterData"==i.type&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),fre&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,hre)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(aV(this.view)){if(this.suppressingSelectionUpdates)return ou(this.view);if($s&&hd<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&zh(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r,t=new Set;for(let o=e.focusNode;o;o=Ny(o))t.add(o);for(let o=e.anchorNode;o;o=Ny(o))if(t.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);return i&&i.ignoreMutation({type:"selection",target:3==r.nodeType?r.parentNode:r})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&aV(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let b=0;b<t.length;b++){let x=this.registerMutation(t[b],l);x&&(o=o<0?x.from:Math.min(x.from,o),s=s<0?x.to:Math.max(x.to,s),x.typeOver&&(a=!0))}if(ul&&l.length>1){let b=l.filter(x=>"BR"==x.nodeName);if(2==b.length){let x=b[0],L=b[1];x.parentNode&&x.parentNode.parentNode==L.parentNode?L.remove():x.remove()}}let c=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&BI(r)&&(c=hk(e))&&c.eq(zn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ou(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),function mre(n){if(!RV.has(n)&&(RV.set(n,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace))){if(n.requiresGeckoHackNode=ul,OV)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),OV=!0}}(e)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||ou(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(r==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if("childList"==e.type){for(let b=0;b<e.addedNodes.length;b++)t.push(e.addedNodes[b]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if($s&&hd<=11&&e.addedNodes.length)for(let b=0;b<e.addedNodes.length;b++){let{previousSibling:x,nextSibling:L}=e.addedNodes[b];(!x||Array.prototype.indexOf.call(e.addedNodes,x)<0)&&(i=x),(!L||Array.prototype.indexOf.call(e.addedNodes,L)<0)&&(o=L)}let s=i&&i.parentNode==e.target?Cs(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?Cs(o):e.target.childNodes.length;return{from:a,to:r.localPosFromDOM(e.target,l,1)}}return"attributes"==e.type?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let RV=new WeakMap,OV=!1;function bre(n){let e=n.pmViewDesc;if(e)return e.parseRule();if("BR"==n.nodeName&&n.parentNode){if(ws&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}if(n.parentNode.lastChild==n||ws&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if("IMG"==n.nodeName&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Cre=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function LV(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:pk(n,e.resolve(t.anchor),e.resolve(t.head))}function Sk(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}class xk{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Une,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(HV),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=BV(this),FV(this),this.nodeViews=$V(this),this.docView=YH(this.state.doc,PV(this),Ak(this),this.dom,this),this.domObserver=new gre(this,(r,i,o,s)=>function wre(n,e,t,r,i){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let St=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,on=hk(n,St);if(on&&!n.state.selection.eq(on)){if(Zo&&dl&&13===n.input.lastKeyCode&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",yr=>yr(n,Zh(13,"Enter"))))return;let _n=n.state.tr.setSelection(on);"pointer"==St?_n.setMeta("pointer",!0):"key"==St&&_n.scrollIntoView(),o&&_n.setMeta("composition",o),n.dispatch(_n)}return}let s=n.state.doc.resolve(e),a=s.sharedDepth(t);e=s.before(a+1),t=n.state.doc.resolve(t).after(a+1);let L,H,l=n.state.selection,c=function yre(n,e,t){let c,{node:r,fromOffset:i,toOffset:o,from:s,to:a}=n.docView.parseRange(e,t),l=n.domSelectionRange(),b=l.anchorNode;if(b&&n.dom.contains(1==b.nodeType?b:b.parentNode)&&(c=[{node:b,offset:l.anchorOffset}],BI(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Zo&&8===n.input.lastKeyCode)for(let de=o;de>i;de--){let Ce=r.childNodes[de-1],ke=Ce.pmViewDesc;if("BR"==Ce.nodeName&&!ke){o=de;break}if(!ke||ke.size)break}let x=n.state.doc,L=n.someProp("domParser")||jh.fromSchema(n.state.schema),H=x.resolve(s),z=null,le=L.parse(r,{topNode:H.parent,topMatch:H.parent.contentMatchAt(H.index()),topOpen:!0,from:i,to:o,preserveWhitespace:"pre"!=H.parent.type.whitespace||"full",findPositions:c,ruleFromNode:bre,context:H});if(c&&null!=c[0].pos){let de=c[0].pos,Ce=c[1]&&c[1].pos;null==Ce&&(Ce=de),z={anchor:de+s,head:Ce+s}}return{doc:le,sel:z,from:s,to:a}}(n,e,t),b=n.state.doc,x=b.slice(c.from,c.to);8===n.input.lastKeyCode&&Date.now()-100<n.input.lastKeyCodeTime?(L=n.state.selection.to,H="end"):(L=n.state.selection.from,H="start"),n.input.lastKeyCode=null;let z=function Are(n,e,t,r,i){let o=n.findDiffStart(e,t);if(null==o)return null;let{a:s,b:a}=n.findDiffEnd(e,t+n.size,t+e.size);return"end"==i&&(r-=s+Math.max(0,o-Math.min(s,a))-o),s<o&&n.size<e.size?(o-=r<=o&&r>=s?o-r:0,a=o+(a-s),s=o):a<o&&(o-=r<=o&&r>=a?o-r:0,s=o+(s-a),a=o),{start:o,endA:s,endB:a}}(x.content,c.doc.content,c.from,L,H);if((eg&&n.input.lastIOSEnter>Date.now()-225||dl)&&i.some(St=>1==St.nodeType&&!Cre.test(St.nodeName))&&(!z||z.endA>=z.endB)&&n.someProp("handleKeyDown",St=>St(n,Zh(13,"Enter"))))return void(n.input.lastIOSEnter=0);if(!z){if(!(r&&l instanceof lr&&!l.empty&&l.$head.sameParent(l.$anchor))||n.composing||c.sel&&c.sel.anchor!=c.sel.head){if(c.sel){let St=LV(n,n.state.doc,c.sel);if(St&&!St.eq(n.state.selection)){let on=n.state.tr.setSelection(St);o&&on.setMeta("composition",o),n.dispatch(on)}}return}z={start:l.from,endA:l.to,endB:l.to}}if(Zo&&n.cursorWrapper&&c.sel&&c.sel.anchor==n.cursorWrapper.deco.from&&c.sel.head==c.sel.anchor){let St=z.endB-z.start;c.sel={anchor:c.sel.anchor+St,head:c.sel.anchor+St}}n.input.domChangeCount++,n.state.selection.from<n.state.selection.to&&z.start==z.endB&&n.state.selection instanceof lr&&(z.start>n.state.selection.from&&z.start<=n.state.selection.from+2&&n.state.selection.from>=c.from?z.start=n.state.selection.from:z.endA<n.state.selection.to&&z.endA>=n.state.selection.to-2&&n.state.selection.to<=c.to&&(z.endB+=n.state.selection.to-z.endA,z.endA=n.state.selection.to)),$s&&hd<=11&&z.endB==z.start+1&&z.endA==z.start&&z.start>c.from&&" \xa0"==c.doc.textBetween(z.start-c.from-1,z.start-c.from+1)&&(z.start--,z.endA--,z.endB--);let De,le=c.doc.resolveNoCache(z.start-c.from),de=c.doc.resolveNoCache(z.endB-c.from),Ce=b.resolve(z.start),ke=le.sameParent(de)&&le.parent.inlineContent&&Ce.end()>=z.endA;if((eg&&n.input.lastIOSEnter>Date.now()-225&&(!ke||i.some(St=>"DIV"==St.nodeName||"P"==St.nodeName))||!ke&&le.pos<c.doc.content.size&&!le.sameParent(de)&&(De=zn.findFrom(c.doc.resolve(le.pos+1),1,!0))&&De.head==de.pos)&&n.someProp("handleKeyDown",St=>St(n,Zh(13,"Enter"))))return void(n.input.lastIOSEnter=0);if(n.state.selection.anchor>z.start&&function _re(n,e,t,r,i){if(!r.parent.isTextblock||t-e<=i.pos-r.pos||Sk(r,!0,!1)<i.pos)return!1;let o=n.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=n.resolve(Sk(o,!0,!0));return!(!s.parent.isTextblock||s.pos>t||Sk(s,!0,!1)<t)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(b,z.start,z.endA,le,de)&&n.someProp("handleKeyDown",St=>St(n,Zh(8,"Backspace"))))return void(dl&&Zo&&n.domObserver.suppressSelectionUpdates());Zo&&dl&&z.endB==z.start&&(n.input.lastAndroidDelete=Date.now()),dl&&!ke&&le.start()!=de.start()&&0==de.parentOffset&&le.depth==de.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==z.endA&&(z.endB-=2,de=c.doc.resolveNoCache(z.endB-c.from),setTimeout(()=>{n.someProp("handleKeyDown",function(St){return St(n,Zh(13,"Enter"))})},20));let Ye,mt,Mt,Pe=z.start,je=z.endA;if(ke)if(le.pos==de.pos)$s&&hd<=11&&0==le.parentOffset&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>ou(n),20)),Ye=n.state.tr.delete(Pe,je),mt=b.resolve(z.start).marksAcross(b.resolve(z.endA));else if(z.endA==z.endB&&(Mt=function Ire(n,e){let s,a,l,t=n.firstChild.marks,r=e.firstChild.marks,i=t,o=r;for(let b=0;b<r.length;b++)i=r[b].removeFromSet(i);for(let b=0;b<t.length;b++)o=t[b].removeFromSet(o);if(1==i.length&&0==o.length)a=i[0],s="add",l=b=>b.mark(a.addToSet(b.marks));else{if(0!=i.length||1!=o.length)return null;a=o[0],s="remove",l=b=>b.mark(a.removeFromSet(b.marks))}let c=[];for(let b=0;b<e.childCount;b++)c.push(l(e.child(b)));if(ht.from(c).eq(n))return{mark:a,type:s}}(le.parent.content.cut(le.parentOffset,de.parentOffset),Ce.parent.content.cut(Ce.parentOffset,z.endA-Ce.start()))))Ye=n.state.tr,"add"==Mt.type?Ye.addMark(Pe,je,Mt.mark):Ye.removeMark(Pe,je,Mt.mark);else if(le.parent.child(le.index()).isText&&le.index()==de.index()-(de.textOffset?0:1)){let St=le.parent.textBetween(le.parentOffset,de.parentOffset);if(n.someProp("handleTextInput",on=>on(n,Pe,je,St)))return;Ye=n.state.tr.insertText(St,Pe,je)}if(Ye||(Ye=n.state.tr.replace(Pe,je,c.doc.slice(z.start-c.from,z.endB-c.from))),c.sel){let St=LV(n,Ye.doc,c.sel);St&&!(Zo&&dl&&n.composing&&St.empty&&(z.start!=z.endB||n.input.lastAndroidDelete<Date.now()-100)&&(St.head==Pe||St.head==Ye.mapping.map(je)-1)||$s&&St.empty&&St.head==Pe)&&Ye.setSelection(St)}mt&&Ye.ensureMarks(mt),o&&Ye.setMeta("composition",o),n.dispatch(Ye.scrollIntoView())}(this,r,i,o,s)),this.domObserver.start(),function zne(n){for(let e in Is){let t=Is[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{Kne(n,r)&&!bk(n,r)&&(n.editable||!(r.type in _s))&&t(n,r)},jne[e]?{passive:!0}:void 0)}ws&&n.dom.addEventListener("input",()=>null),yk(n)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&yk(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(HV),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(TV(this),o=!0),this.state=e;let s=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(s||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let L=$V(this);(function xre(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r})(L,this.nodeViews)&&(this.nodeViews=L,i=!0)}(s||t.handleDOMEvents!=this._props.handleDOMEvents)&&yk(this),this.editable=BV(this),FV(this);let a=Ak(this),l=PV(this),c=r.plugins==e.plugins||r.doc.eq(e.doc)?e.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",b=i||!this.docView.matchesNode(e.doc,l,a);(b||!e.selection.eq(r.selection))&&(o=!0);let x="preserve"==c&&o&&null==this.dom.style.overflowAnchor&&function sne(n){let r,i,e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top);for(let o=(e.left+e.right)/2,s=t+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=n.root.elementFromPoint(o,s);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:FH(n.dom)}}(this);if(o){this.domObserver.stop();let L=b&&($s||Zo)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&function Sre(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}(r.selection,e.selection);if(b){let H=Zo?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,l,a,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=YH(e.doc,l,a,this.dom,this)),H&&!this.trackWrites&&(L=!0)}L||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function Mne(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return zh(e.node,e.offset,t.anchorNode,t.anchorOffset)}(this))?ou(this,L):(oV(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():x&&function ane({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;BH(t,0==r?0:r-e)}(x)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof In){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&PH(this,t.getBoundingClientRect(),e)}else PH(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}}someProp(e,t){let i,r=this._props&&this._props[e];if(null!=r&&(i=t?t(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(null!=a&&(i=t?t(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(null!=a&&(i=t?t(a):a))return i}}hasFocus(){if($s){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function lne(n){if(n.setActive)return n.setActive();if(tg)return n.focus(tg);let e=FH(n);n.focus(null==tg?{get preventScroll(){return tg={preventScroll:!0},!0}}:void 0),tg||(tg=!1,BH(e,0))}(this.dom),ou(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t;return e||document}updateRoot(){this._root=null}posAtCoords(e){return fne(this,e)}coordsAtPos(e,t=1){return GH(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(null==i)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return function yne(n,e,t){return jH==e&&UH==t?zH:(jH=e,UH=t,zH="up"==t||"down"==t?function gne(n,e,t){let r=e.selection,i="up"==t?r.$from:r.$to;return WH(n,e,()=>{let{node:o}=n.docView.domFromPos(i.pos,"up"==t?-1:1);for(;;){let a=n.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=GH(n,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(1==a.nodeType)l=a.getClientRects();else{if(3!=a.nodeType)continue;l=ru(a,0,a.nodeValue.length).getClientRects()}for(let c=0;c<l.length;c++){let b=l[c];if(b.bottom>b.top+1&&("up"==t?s.top-b.top>2*(b.bottom-s.top):b.bottom-s.bottom>2*(s.bottom-b.top)))return!1}}return!0})}(n,e,t):function vne(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=n.domSelection();return mne.test(r.parent.textContent)&&a.modify?WH(n,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:b,anchorOffset:x}=n.domSelectionRange(),L=a.caretBidiLevel;a.modify("move",t,"character");let H=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:z,focusOffset:le}=n.domSelectionRange(),de=z&&!H.contains(1==z.nodeType?z:z.parentNode)||l==z&&c==le;try{a.collapse(b,x),l&&(l!=b||c!=x)&&a.extend&&a.extend(l,c)}catch{}return null!=L&&(a.caretBidiLevel=L),de}):"left"==t||"backward"==t?o:s}(n,e,t))}(this,t||this.state,e)}pasteHTML(e,t){return By(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return By(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){!this.docView||(function Zne(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ak(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function Yne(n,e){!bk(n,e)&&Is[e.type]&&(n.editable||!(e.type in _s))&&Is[e.type](n,e)}(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return ws&&11===this.root.nodeType&&function Qte(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}(this.dom.ownerDocument)==this.dom?function vre(n){let e;function t(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}n.dom.addEventListener("beforeinput",t,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",t,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,a=n.domAtPos(n.state.selection.anchor);return zh(a.node,a.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function PV(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if("function"==typeof t&&(t=t(n.state)),t)for(let r in t)"class"==r?e.class+=" "+t[r]:"style"==r?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&"contenteditable"!=r&&"nodeName"!=r&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Hs.node(0,n.state.doc.content.size,e)]}function FV(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Hs.widget(n.state.selection.head,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function BV(n){return!n.someProp("editable",e=>!1===e(n.state))}function $V(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function HV(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}for(var yd={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},UI={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Tre=typeof navigator<"u"&&/Mac/.test(navigator.platform),Ere=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),So=0;So<10;So++)yd[48+So]=yd[96+So]=String(So);for(So=1;So<=24;So++)yd[So+111]="F"+So;for(So=65;So<=90;So++)yd[So]=String.fromCharCode(So+32),UI[So]=String.fromCharCode(So);for(var Tk in yd)UI.hasOwnProperty(Tk)||(UI[Tk]=yd[Tk]);const Dre=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function Mre(n){let r,i,o,s,e=n.split(/-(?!$)/),t=e[e.length-1];"Space"==t&&(t=" ");for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);Dre?s=!0:i=!0}}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),s&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function Ek(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function Hy(n){return new Bs({props:{handleKeyDown:Rre(n)}})}function Rre(n){let e=function Nre(n){let e=Object.create(null);for(let t in n)e[Mre(t)]=n[t];return e}(n);return function(t,r){let o,i=function kre(n){var t=!(Tre&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Ere&&n.shiftKey&&n.key&&1==n.key.length||"Unidentified"==n.key)&&n.key||(n.shiftKey?UI:yd)[n.keyCode]||n.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(r),s=e[Ek(i,r)];if(s&&s(t.state,t.dispatch,t))return!0;if(1==i.length&&" "!=i){if(r.shiftKey){let a=e[Ek(i,r,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=yd[r.keyCode])&&o!=i){let a=e[Ek(o,r)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const kk=(n,e)=>!n.selection.empty&&(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function sg(n,e,t=!1){for(let r=n;r;r="start"==e?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&1!=r.childCount)return!1}return!1}function Dk(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}const jV=(n,e,t)=>{let r=function WV(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}(n,t);if(!r)return!1;let i=Mk(r);if(!i)return!1;let o=i.nodeAfter;if(KV(n,i,e))return!0;if(0==r.parent.content.size&&(sg(o,"start")||In.isSelectable(o))){let s=JE(n.doc,r.before(),r.after(),Bt.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=n.tr.step(s);a.setSelection(sg(o,"start")?zn.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):In.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1||(e&&e(n.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),0))};function Mk(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const UV=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!(!t.parent.type.spec.code||!t.sameParent(r)||(e&&e(n.tr.insertText("\n").scrollIntoView()),0))};function Nk(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const Rk=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),o=t.indexAfter(-1),s=Nk(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=t.after(),l=n.tr.replaceWith(a,a,s.createAndFill());l.setSelection(zn.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},zV=function $re(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof In&&e.selection.node.isBlock)return!(!r.parentOffset||!Jp(e.doc,r.pos)||(t&&t(e.tr.split(r.pos).scrollIntoView()),0));if(!r.parent.isBlock)return!1;if(t){let o=i.parentOffset==i.parent.content.size,s=e.tr;(e.selection instanceof lr||e.selection instanceof bs)&&s.deleteSelection();let a=0==r.depth?null:Nk(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=n&&n(i.parent,o),c=l?[l]:o&&a?[{type:a}]:void 0,b=Jp(s.doc,s.mapping.map(r.pos),1,c);if(!c&&!b&&Jp(s.doc,s.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(c=[{type:a}]),b=!0),b&&(s.split(s.mapping.map(r.pos),1,c),!o&&!r.parentOffset&&r.parent.type!=a)){let x=s.mapping.map(r.before()),L=s.doc.resolve(x);a&&r.node(-1).canReplaceWith(L.index(),L.index()+1,a)&&s.setNodeMarkup(s.mapping.map(r.before()),a)}t(s.scrollIntoView())}return!0}}(),ZV=(n,e)=>(e&&e(n.tr.setSelection(new bs(n.doc))),!0);function KV(n,e,t){let o,s,r=e.nodeBefore,i=e.nodeAfter;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(function Hre(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(o,o+1)||!i.isTextblock&&!vH(n.doc,e.pos)||(t&&t(n.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),0)))}(n,e,t))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(t){let x=e.pos+i.nodeSize,L=ht.empty;for(let le=o.length-1;le>=0;le--)L=ht.from(o[le].create(null,L));L=ht.from(r.copy(L));let H=n.tr.step(new co(e.pos-1,x,e.pos,x,new Bt(L,1,0),o.length,!0)),z=x+2*o.length;vH(H.doc,z)&&H.join(z),t(H.scrollIntoView())}return!0}let l=zn.findFrom(e,1),c=l&&l.$from.blockRange(l.$to),b=c&&LI(c);if(null!=b&&b>=e.depth)return t&&t(n.tr.lift(c,b).scrollIntoView()),!0;if(a&&sg(i,"start",!0)&&sg(r,"end")){let x=r,L=[];for(;L.push(x),!x.isTextblock;)x=x.lastChild;let H=i,z=1;for(;!H.isTextblock;H=H.firstChild)z++;if(x.canReplace(x.childCount,x.childCount,H.content)){if(t){let le=ht.empty;for(let Ce=L.length-1;Ce>=0;Ce--)le=ht.from(L[Ce].copy(le));t(n.tr.step(new co(e.pos-L.length,e.pos+i.nodeSize,e.pos+z,e.pos+i.nodeSize-z,new Bt(le,L.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function YV(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return!!i.node(o).isTextblock&&(t&&t(e.tr.setSelection(lr.create(e.doc,n<0?i.start(o):i.end(o)))),!0)}}const Vre=YV(-1),Gre=YV(1);function Ok(n,e=null){return function(t,r){let i=!1;for(let o=0;o<t.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=t.selection.ranges[o];t.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(l.isTextblock&&!l.hasMarkup(n,e))if(l.type==n)i=!0;else{let b=t.doc.resolve(c),x=b.index();i=b.parent.canReplaceWith(x,x+1,n)}})}if(!i)return!1;if(r){let o=t.tr;for(let s=0;s<t.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[s];o.setBlockType(a,l,n,e)}r(o.scrollIntoView())}return!0}}function Vy(n,e=null){return function(t,r){let{empty:i,$cursor:o,ranges:s}=t.selection;if(i&&!o||!function jre(n,e,t){for(let r=0;r<e.length;r++){let{$from:i,$to:o}=e[r],s=0==i.depth&&n.inlineContent&&n.type.allowsMarkType(t);if(n.nodesBetween(i.pos,o.pos,a=>{if(s)return!1;s=a.inlineContent&&a.type.allowsMarkType(t)}),s)return!0}return!1}(t.doc,s,n))return!1;if(r)if(o)n.isInSet(t.storedMarks||o.marks())?r(t.tr.removeStoredMark(n)):r(t.tr.addStoredMark(n.create(e)));else{let a=!1,l=t.tr;for(let c=0;!a&&c<s.length;c++){let{$from:b,$to:x}=s[c];a=t.doc.rangeHasMark(b.pos,x.pos,n)}for(let c=0;c<s.length;c++){let{$from:b,$to:x}=s[c];if(a)l.removeMark(b.pos,x.pos,n);else{let L=b.pos,H=x.pos,z=b.nodeAfter,le=x.nodeBefore,de=z&&z.isText?/^\s*/.exec(z.text)[0].length:0,Ce=le&&le.isText?/\s*$/.exec(le.text)[0].length:0;L+de<H&&(L+=de,H-=Ce),l.addMark(L,H,n.create(e))}}r(l.scrollIntoView())}return!0}}function zI(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}let Lk=zI(kk,(n,e,t)=>{let r=function VV(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}(n,t);if(!r)return!1;let i=Dk(r);if(!i){let s=r.blockRange(),a=s&&LI(s);return null!=a&&(e&&e(n.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&KV(n,i,e))return!0;if(0==r.parent.content.size&&(sg(o,"end")||In.isSelectable(o))){let s=JE(n.doc,r.before(),r.after(),Bt.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=n.tr.step(s);a.setSelection(sg(o,"end")?zn.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):In.create(a.doc,i.pos-o.nodeSize)),e(a.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1||(e&&e(n.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),0))},(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=Dk(r)}let s=o&&o.nodeBefore;return!(!s||!In.isSelectable(s)||(e&&e(n.tr.setSelection(In.create(n.doc,o.pos-s.nodeSize)).scrollIntoView()),0))}),JV=zI(kk,jV,(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=Mk(r)}let s=o&&o.nodeAfter;return!(!s||!In.isSelectable(s)||(e&&e(n.tr.setSelection(In.create(n.doc,o.pos)).scrollIntoView()),0))});const su={Enter:zI(UV,(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof bs||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=Nk(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(s,o.createAndFill());a.setSelection(lr.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(Jp(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),i=r&&LI(r);return null!=i&&(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)},zV),"Mod-Enter":Rk,Backspace:Lk,"Mod-Backspace":Lk,"Shift-Backspace":Lk,Delete:JV,"Mod-Delete":JV,"Mod-a":ZV},XV={"Ctrl-h":su.Backspace,"Alt-Backspace":su["Mod-Backspace"],"Ctrl-d":su.Delete,"Ctrl-Alt-Backspace":su["Mod-Delete"],"Alt-Delete":su["Mod-Delete"],"Alt-d":su["Mod-Delete"],"Ctrl-a":Vre,"Ctrl-e":Gre};for(let n in su)XV[n]=su[n];const qV=(typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&"darwin"==os.platform())?XV:su;class rc{constructor(e,t){this.match=e,this.match=e,this.handler="string"==typeof t?function zre(n){return function(e,t,r,i){let o=n;if(t[1]){let s=t[0].lastIndexOf(t[1]);o+=t[0].slice(s+t[1].length);let a=(r+=s)-i;a>0&&(o=t[0].slice(s-a,s)+o,r=i)}return e.tr.insertText(o,r,i)}}(t):t}}function QV({rules:n}){let e=new Bs({state:{init:()=>null,apply(t,r){return t.getMeta(this)||(t.selectionSet||t.docChanged?null:r)}},props:{handleTextInput:(t,r,i,o)=>eG(t,r,i,o,n,e),handleDOMEvents:{compositionend:t=>{setTimeout(()=>{let{$cursor:r}=t.state.selection;r&&eG(t,r.pos,r.pos,"",n,e)})}}},isInputRules:!0});return e}function eG(n,e,t,r,i,o){if(n.composing)return!1;let s=n.state,a=s.doc.resolve(e);if(a.parent.type.spec.code)return!1;let l=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"\ufffc")+r;for(let c=0;c<i.length;c++){let b=i[c].match.exec(l),x=b&&i[c].handler(s,b,e-(b[0].length-r.length),t);if(x)return n.dispatch(x.setMeta(o,{transform:x,from:e,to:t,text:r})),!0}return!1}const Kre=(n,e)=>{let t=n.plugins;for(let r=0;r<t.length;r++){let o,i=t[r];if(i.spec.isInputRules&&(o=i.getState(n))){if(e){let s=n.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l--)s.step(a.steps[l].invert(a.docs[l]));if(o.text){let l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,n.schema.text(o.text,l))}else s.delete(o.from,o.to);e(s)}return!0}}return!1};new rc(/--$/,"\u2014"),new rc(/\.\.\.$/,"\u2026"),new rc(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new rc(/"$/,"\u201d"),new rc(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new rc(/'$/,"\u2019");var xo=function(){};xo.prototype.append=function(e){return e.length?(e=xo.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},xo.prototype.prepend=function(e){return e.length?xo.from(e).append(this):this},xo.prototype.appendInner=function(e){return new Qre(this,e)},xo.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?xo.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},xo.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},xo.prototype.forEach=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)},xo.prototype.map=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},t,r),i},xo.from=function(e){return e instanceof xo?e:e&&e.length?new tG(e):xo.empty};var tG=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return 0==i&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(!1===i(this.values[l],a+l))return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(!1===i(this.values[l],a+l))return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=200)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=200)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(xo);xo.empty=new tG([]);var Qre=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&!1===this.left.forEachInner(r,i,Math.min(o,a),s)||o>a&&!1===this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a))return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&!1===this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)||o<a&&!1===this.left.forEachInvertedInner(r,Math.min(i,a),o,s))return!1},e.prototype.sliceInner=function(r,i){if(0==r&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(xo);const nG=xo;class hl{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let i,o,r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}t&&(i=this.remapping(r,this.items.length),o=i.maps.length);let a,l,s=e.tr,c=[],b=[];return this.items.forEach((x,L)=>{if(!x.step)return i||(i=this.remapping(r,L+1),o=i.maps.length),o--,void b.push(x);if(i){b.push(new ic(x.map));let z,H=x.step.map(i.slice(o));H&&s.maybeStep(H).doc&&(z=s.mapping.maps[s.mapping.maps.length-1],c.push(new ic(z,void 0,void 0,c.length+b.length))),o--,z&&i.appendMap(z,o)}else s.maybeStep(x.step);return x.selection?(a=i?x.selection.map(i.slice(o)):x.selection,l=new hl(this.items.slice(0,r).append(b.reverse().concat(c)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,t,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let b=0;b<e.steps.length;b++){let H,x=e.steps[b].invert(e.docs[b]),L=new ic(e.mapping.maps[b],x,t);(H=l&&l.merge(L))&&(L=H,b?o.pop():a=a.slice(0,a.length-1)),o.push(L),t&&(s++,t=void 0),i||(l=L)}let c=s-r.depth;return c>nie&&(a=function tie(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&0==e--)return t=i,!1}),n.slice(t)}(a,c),s-=c),new hl(a.append(o),s)}remapping(e,t){let r=new Kp;return this.items.forEach((i,o)=>{r.appendMap(i.map,null!=i.mirrorOffset&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0)},e,t),r}addMaps(e){return 0==this.eventCount?this:new hl(this.items.append(e.map(t=>new ic(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(L=>{L.selection&&a--},i);let l=t;this.items.forEach(L=>{let H=o.getMirror(--l);if(null==H)return;s=Math.min(s,H);let z=o.maps[H];if(L.step){let le=e.steps[H].invert(e.docs[H]),de=L.selection&&L.selection.map(o.slice(l+1,H));de&&a++,r.push(new ic(z,le,de))}else r.push(new ic(z))},i);let c=[];for(let L=t;L<s;L++)c.push(new ic(o.maps[L]));let b=this.items.slice(0,i).append(c).append(r),x=new hl(b,a);return x.emptyItemCount()>500&&(x=x.compress(this.items.length-r.length)),x}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(t.slice(r)),c=l&&l.getMap();if(r--,c&&t.appendMap(c,r),l){let b=s.selection&&s.selection.map(t.slice(r));b&&o++;let L,x=new ic(c.invert(),l,b),H=i.length-1;(L=i.length&&i[H].merge(x))?i[H]=L:i.push(x)}}else s.map&&r--},this.items.length,0),new hl(nG.from(i.reverse()),o)}}hl.empty=new hl(nG.empty,0);class ic{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new ic(t.getMap().invert(),t,this.selection)}}}class bd{constructor(e,t,r,i,o){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const nie=20;function rG(n){let e=[];return n.forEach((t,r,i,o)=>e.push(i,o)),e}function Pk(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),o=e.map(n[r+1],-1);i<=o&&t.push(i,o)}return t}function iG(n,e,t,r){let i=KI(e),o=oc.get(e).spec.config,s=(r?n.undone:n.done).popEvent(e,i);if(!s)return;let a=s.selection.resolve(s.transform.doc),l=(r?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),c=new bd(r?l:s.remaining,r?s.remaining:l,null,0,-1);t(s.transform.setSelection(a).setMeta(oc,{redo:r,historyState:c}).scrollIntoView())}let Fk=!1,oG=null;function KI(n){let e=n.plugins;if(oG!=e){Fk=!1,oG=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Fk=!0;break}}return Fk}const oc=new My("history"),sG=new My("closeHistory");function aG(n={}){return new Bs({key:oc,state:{init:()=>new bd(hl.empty,hl.empty,null,0,-1),apply:(e,t,r)=>function rie(n,e,t,r){let o,i=t.getMeta(oc);if(i)return i.historyState;t.getMeta(sG)&&(n=new bd(n.done,n.undone,null,0,-1));let s=t.getMeta("appendedTransaction");if(0==t.steps.length)return n;if(s&&s.getMeta(oc))return s.getMeta(oc).redo?new bd(n.done.addTransform(t,void 0,r,KI(e)),n.undone,rG(t.mapping.maps[t.steps.length-1]),n.prevTime,n.prevComposition):new bd(n.done,n.undone.addTransform(t,void 0,r,KI(e)),null,n.prevTime,n.prevComposition);if(!1===t.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=t.getMeta("rebased"))?new bd(n.done.rebased(t,o),n.undone.rebased(t,o),Pk(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new bd(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Pk(n.prevRanges,t.mapping),n.prevTime,n.prevComposition);{let a=t.getMeta("composition"),l=0==n.prevTime||!s&&n.prevComposition!=a&&(n.prevTime<(t.time||0)-r.newGroupDelay||!function iie(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(t=!0)}),t}(t,n.prevRanges)),c=s?Pk(n.prevRanges,t.mapping):rG(t.mapping.maps[t.steps.length-1]);return new bd(n.done.addTransform(t,l?e.selection.getBookmark():void 0,r,KI(e)),hl.empty,c,t.time,a??n.prevComposition)}}(t,r,e,n)},config:n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i="historyUndo"==r?Gy:"historyRedo"==r?Bk:null;return!!i&&(t.preventDefault(),i(e.state,e.dispatch))}}}})}const Gy=(n,e)=>{let t=oc.getState(n);return!(!t||0==t.done.eventCount||(e&&iG(t,n,e,!1),0))},Bk=(n,e)=>{let t=oc.getState(n);return!(!t||0==t.undone.eventCount||(e&&iG(t,n,e,!0),0))};var $k=function(n,e){return($k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])})(n,e)};function Ht(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}$k(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var et=function(){return et=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},et.apply(this,arguments)};function Vs(n,e,t){if(t||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function qn(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var ag=function sie(n,e,t){var r;for(r in t=t||null,n)if(n.hasOwnProperty(r)&&!1===e.call(t,n[r],r,n))break},Hk=function aie(n,e){var r,i,o,s,t=Object.prototype.hasOwnProperty;for(o=1,s=arguments.length;o<s;o+=1)for(i in r=arguments[o])t.call(r,i)&&(n[i]=r[i]);return n},au=function lie(n){return"string"==typeof n||n instanceof String},lg=function cie(n){return n instanceof Array},cg=function uie(n,e,t){var r=0,i=n.length;for(t=t||null;r<i&&!1!==e.call(t,n[r],r,n);r+=1);},die=lg,hie=cg,fie=ag,YI=function pie(n,e,t){die(n)?hie(n,e,t):fie(n,e,t)},gie=au,mie=YI,sc=function vie(n,e,t){var r=n.style;gie(e)?r[e]=t:mie(e,function(i,o){r[o]=i})},yie=lg,ef=function bie(n,e,t){var r,i;if(t=t||0,!yie(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,n,t);for(i=e.length,r=t;t>=0&&r<i;r+=1)if(e[r]===n)return r;return-1},fl=function Cie(n){return void 0===n},wie=fl,Vk=function Iie(n){return n&&n.className?wie(n.className.baseVal)?n.className:n.className.baseVal:""},_ie=lg,Aie=fl,lG=function Sie(n,e){e=(e=_ie(e)?e.join(" "):e).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),Aie(n.className.baseVal)?n.className=e:n.className.baseVal=e},cG=YI,xie=ef,Tie=Vk,Eie=lG,ac=function kie(n){var i,e=Array.prototype.slice.call(arguments,1),t=n.classList,r=[];t?cG(e,function(o){n.classList.add(o)}):((i=Tie(n))&&(e=[].concat(i.split(/\s+/),e)),cG(e,function(o){xie(o,r)<0&&r.push(o)}),Eie(n,r))},uG=cg,Die=ef,Mie=Vk,Nie=lG,pl=function Rie(n){var r,i,e=Array.prototype.slice.call(arguments,1),t=n.classList;t?uG(e,function(o){t.remove(o)}):(r=Mie(n).split(/\s+/),i=[],uG(r,function(o){Die(o,e)<0&&i.push(o)}),Nie(n,i))},lu=function Oie(n){return"number"==typeof n||n instanceof Number},JI=function Lie(n){return null===n},Pie=ag,$ie=fl,jie=function Wie(n,e){var r=location.hostname,s="TOAST UI "+n+" for "+r+": Statistics",a=window.localStorage.getItem(s);!$ie(window.tui)&&!1===window.tui.usageStatistics||a&&!function Gie(n){return(new Date).getTime()-n>6048e5}(a)||(window.localStorage.setItem(s,(new Date).getTime()),setTimeout(function(){("interactive"===document.readyState||"complete"===document.readyState)&&function Fie(n,e){var t=document.createElement("img"),r="";Pie(e,function(i,o){r+="&"+o+"="+i}),r=r.substring(1),t.src=n+"?"+r,t.style.display="none",document.body.appendChild(t),document.body.removeChild(t)}("https://www.google-analytics.com/collect",{v:1,t:"event",tid:e,cid:r,dp:r,dh:n,el:n,ec:"use"})},1e3))};/Mac/.test(navigator.platform);var Uie=/[\u0020]+/g,zie=/[>(){}[\]+-.!#|]/g,dG=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,hG=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,Zie=/[*_~`]/g,fG=/!\[.*\]\(.*\)/g,Kie=/[[\]]/g,pG=/(?:^|[^\\])\\(?!\\)/g,gG=new RegExp('[&<>"]',"g");function Jie(n){switch(n){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return n}}function ug(n){return gG.test(n)?n.replace(gG,Jie):n}function To(n,e){return-1!==n.indexOf(e)}var qie=["rel","target","hreflang","type"],Qie={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function mG(n){if(!n)return null;var e={};return qie.forEach(function(t){fl(n[t])||(e[t]=n[t])}),e}function XI(n,e){for(var t="",r=0;r<e;r+=1)t+=n;return t}function qI(n){for(var e=[],t=fG.exec(n);t;)e.push([t.index,t.index+t[0].length]),t=fG.exec(n);return n.replace(Kie,function(r,i){return e.some(function(s){return i>s[0]&&i<s[1]})?r:"\\"+r})}function toe(n){var e=function(i){return"\\"+i},r=n.replace(Uie," ");return hG.test(r)&&(r=r.replace(hG,e)),pG.test(r)&&(r=r.replace(pG,function(i){return i+"\\"})),r=r.replace(Zie,e),dG.test(r)&&(r=r.replace(dG,e)),function eoe(n){var e=!1;return ag(Qie,function(t){return t.test(n)&&(e=!0),!e}),e}(r)&&(r=r.replace(zie,e)),r}function noe(n){var e;return(e=-1===n.indexOf('"')?'""':-1===n.indexOf("'")?"''":"()")[0]+n+e[1]}function Gk(n){return JI(n)||fl(n)}function Wk(n,e){if(null===n&&n===e)return!0;if("object"!=typeof n||"object"!=typeof e||Gk(n)||Gk(e))return n===e;for(var t in n)if(n[t]!==e[t])return!1;for(var t in e)if(!(t in n))return!1;return!0}function Yo(n){return n[n.length-1]}function jk(n){return"object"==typeof n&&null!==n}function QI(n,e){var t=et({},n);return n&&e&&Object.keys(e).forEach(function(r){t[r]=jk(t[r])?Array.isArray(e[r])?Uk(e[r]):t.hasOwnProperty(r)?QI(t[r],e[r]):zk(e[r]):e[r]}),t}function Uk(n){return n.map(function(e){return jk(e)?Array.isArray(e)?Uk(e):zk(e):e})}function zk(n){var e=Object.keys(n);return e.length?e.reduce(function(t,r){return t[r]=jk(n[r])?Array.isArray(n[r])?Uk(n[r]):zk(n[r]):n[r],t},{}):n}function Zk(n,e){return void 0===e&&(e={}),Object.keys(e).forEach(function(t){n.hasOwnProperty(t)&&"object"==typeof n[t]?Array.isArray(e[t])?n[t]=e[t]:Zk(n[t],e[t]):n[t]=e[t]}),n}function vG(n,e){return n>e?[e,n]:[n,e]}var ioe=cg,lc=function ooe(n){var e;try{e=Array.prototype.slice.call(n)}catch{e=[],ioe(n,function(r){e.push(r)})}return e};function e_(n,e){var t=n.nodes.paragraph;return e?t.create(null,au(e)?n.text(e):e):t.createAndFill()}function Eo(n,e,t){return n.text(e,t)}function ai(n,e,t){void 0===t&&(t=e);var r=n.doc.content.size,i=r>0?r-1:1;return lr.create(n.doc,Math.min(e,i),Math.min(t,i))}function Kk(n,e,t){var r=e.pos;return n.replaceWith(r,r,e_(t)),n.setSelection(ai(n,r+1))}function t_(n){for(var e=n.state,t=n.from,i=n.endIndex,o=n.createText,s=e.tr,a=e.doc,l=e.schema,c=n.startIndex;c<=i;c+=1){var b=a.child(c),x=b.nodeSize,H=b.content,z=o(b.textContent),le=z?Eo(l,z):ht.empty,de=s.mapping.map(t);s.replaceWith(de,de+H.size,le),t+=x}return s}function Yk(n,e,t,r){var i=t.length;n.split(e).delete(e-i,e).insert(n.mapping.map(e),r).setSelection(ai(n,n.mapping.map(e)-i))}function Wy(n){return n.sourcepos[0][0]}function n_(n){return n.sourcepos[1][0]}function r_(n){return n.sourcepos[0][1]}function Cd(n){return n.sourcepos[1][1]}function aoe(n){var e=n.type;return"strike"===e||"strong"===e||"emph"===e||"code"===e||"link"===e||"image"===e}function tf(n){return n&&("item"===n.type||"list"===n.type)}function yG(n){return tf(n)&&"ordered"===n.listData.type}function coe(n){return tf(n)&&"ordered"!==n.listData.type}function bG(n){return n&&("tableCell"===n.type||"tableDelimCell"===n.type)}function dg(n,e,t){for(void 0===t&&(t=!0),n=t?n:n.parent;n&&"document"!==n.type;){if(e(n))return n;n=n.parent}return null}function uo(n,e){return[n[0],n[1]+e]}function wd(n,e){return[n[0],e]}function hoe(n){var e=n.firstChild.literal;switch(n.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var i=n.title;return("link"===n.type?"":"!")+"["+e+"]("+n.destination+(i?' "'+i+'"':"")+")";default:return null}}function foe(n){switch(n.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function poe(n){for(var e=[],t=n.walker(),r=null;r=t.next();){var i=r.node;"text"===i.type&&e.push(i.literal)}return e.join("")}var jy=[],CG={},wG=/\$\$widget\d+\s/;function i_(n){var e=n.search(wG);if(-1!==e){var r=n.substring(e).replace(wG,"").replace("$$","");n=n.substring(0,e),n+=i_(r)}return n}function IG(n,e){return"$$"+n+" "+e+"$$"}function _G(n,e){var t=CG[n],r=t.rule,i=t.toDOM,o=i_(e).match(r);return o&&(e=o[0]),i(e)}function Jk(n,e,t,r){return n.concat(nf(e,t,r))}function nf(n,e,t){void 0===t&&(t=0);var r=[],i=(jy[t]||{}).rule,o=t+1;if(n=i_(n),i&&i.test(n)){for(var s=void 0;-1!==(s=n.search(i));){var a=n.substring(0,s);a&&(r=Jk(r,a,e,o));var l=(n=n.substring(s)).match(i)[0],c="widget"+t;r.push(e.nodes.widget.create({info:c},e.text(IG(c,l)))),n=n.substring(l.length)}n&&(r=Jk(r,n,e,o))}else n&&(r=t<jy.length-1?Jk(r,n,e,o):[e.text(n)]);return r}function AG(n){for(var e,t="",r=n.walker();e=r.next();){var i=e.node;e.entering&&(i!==n&&"text"!==i.type?(t+=hoe(i),r.resumeAt(n,!1),r.next()):"text"===i.type&&(t+=i.literal))}return t}function SG(){return{deleteSelection:function(){return kk},selectAll:function(){return ZV},undo:function(){return Gy},redo:function(){return Bk}}}function voe(n){return new Bs({props:{decorations:function(e){var t=e.doc;if(n.text&&1===t.childCount&&t.firstChild.isTextblock&&0===t.firstChild.content.size){var r=document.createElement("span");return ac(r,"placeholder"),n.className&&ac(r,n.className),r.textContent=n.text,_i.create(t,[Hs.widget(1,r)])}return null}}})}var yoe=ef,boe=Vk,xG=function Coe(n,e){var t;return n.classList?n.classList.contains(e):(t=boe(n).split(/\s+/),yoe(e,t)>-1)},woe=ef,Ioe=lc,o_=Element.prototype,_oe=o_.matches||o_.webkitMatchesSelector||o_.mozMatchesSelector||o_.msMatchesSelector||function(n){return woe(this,Ioe((this.document||this.ownerDocument).querySelectorAll(n)))>-1},EG="(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)",kG="<([A-Za-z][A-Za-z0-9-]*)("+EG+")*\\s*/?>",DG="(?:"+kG+"|</([A-Za-z][A-Za-z0-9-]*)\\s*[>])",hg=new RegExp("^"+DG,"i"),Xk=/<br\s*\/*>/i,Roe=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,MG="</p><p>";function qk(n,e,t){var r=parseInt(n.left,10),i=parseInt(n.top,10),o=parseInt(n.width,10)+parseInt(n.paddingLeft,10)+parseInt(n.paddingRight,10),s=parseInt(n.height,10)+parseInt(n.paddingTop,10)+parseInt(n.paddingBottom,10);return e>=r&&e<=r+o&&t>=i&&t<=i+s}var NG="toastui-editor-";function Wt(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=[],r=0,i=n;r<i.length;r++){var o=i[r],s=void 0;(s=Array.isArray(o)?o[0]?o[1]:null:o)&&t.push(""+NG+s)}return t.join(" ")}function zi(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.map(function(t){return NG+"md-"+t}).join(" ")}function s_(n){return n&&n.nodeType===Node.ELEMENT_NODE}function rf(n){n.parentNode&&n.parentNode.removeChild(n)}function Qk(n,e,t){fl(t)&&(t=!xG(n,e)),(t?ac:pl)(n,e)}function RG(n,e){var t=document.createElement("div");au(n)?t.innerHTML=n:t.appendChild(n);var r=t.firstChild;return e&&e.appendChild(r),r}function eD(n){var e=window.getComputedStyle(n);return["margin-left","margin-right"].reduce(function(t,r){return t+parseInt(e.getPropertyValue(r),10)},0)+n.offsetWidth}function cc(n,e){var t;for(t=au(e)?function(r){return function Aoe(n,e){return _oe.call(n,e)}(r,e)}:function(r){return r===e};n&&n!==document;){if(s_(n)&&t(n))return n;n=n.parentNode}return null}function OG(n,e){for(var t=0,r=0;n&&n!==e&&(t+=n.offsetTop,r+=n.offsetLeft,n.offsetParent!==e.offsetParent);)n=n.offsetParent;return{offsetTop:t,offsetLeft:r}}function tD(n,e){Object.keys(n).forEach(function(t){Gk(n[t])?e.removeAttribute(t):e.setAttribute(t,n[t])})}function nD(n){var r=n;return(r=r.replace(/<img class="ProseMirror-separator" alt="">/g,"")).replace(/ class="ProseMirror-trailingBreak"/g,"")}var LG=new My("widget"),Hoe=function(){function n(e,t){var r=this;this.popup=null,this.removeWidget=function(){r.popup&&(r.rootEl.removeChild(r.popup),r.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=t,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",function(){r.rootEl=cc(e.dom.parentElement,"."+Wt("defaultUI"))}),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return n.prototype.update=function(e){var t=LG.getState(e.state);if(this.removeWidget(),t){var r=t.node,i=t.style,o=e.coordsAtPos(t.pos),s=o.top,a=o.left,c=o.bottom-s,b=this.rootEl.getBoundingClientRect(),x=s-b.top;sc(r,{opacity:"0"}),this.rootEl.appendChild(r),sc(r,{position:"absolute",left:a-b.left+5+"px",top:("bottom"===i?x+c-5:x-c)+"px",opacity:"1"}),this.popup=r,e.focus()}},n.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},n}();function Voe(n){return new Bs({key:LG,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(e){return new Hoe(e,n)}})}function rD(n,e,t){n.emit("addImageBlobHook",e,function(i,o){n.emit("command","addImage",{imageUrl:i,altText:o||e.name||"image"})},t)}function FG(n){var e=lc(n).filter(function(r){return-1!==r.type.indexOf("image")});if(1===e.length){var t=e[0];if(t)return t.getAsFile()}return null}function Woe(n){var e=n.eventEmitter;return new Bs({props:{handleDOMEvents:{drop:function(t,r){var i,o=null===(i=r.dataTransfer)||void 0===i?void 0:i.files;return o&&cg(o,function(s){return-1===s.type.indexOf("image")||(r.preventDefault(),r.stopPropagation(),rD(e,s,r.type),!1)}),!0}}}})}var Qr=function(){function n(){}return Object.defineProperty(n.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),n.prototype.setContext=function(e){this.context=e},n}();function BG(n){var e=document.createElement("span"),t=_G(n.attrs.info,n.textContent);return e.className="tui-widget",e.appendChild(t),{dom:e}}function iD(n){return"widget"===n.type.name}var $G=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(t){return{info:t.textContent.match(/\$\$(widget\d+)/)[1]}}}]}},enumerable:!1,configurable:!0}),e}(Qr),HG=function(){function n(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return n.prototype.createState=function(){return Uh.create({schema:this.schema,plugins:this.createPlugins()})},n.prototype.initEvent=function(){var e=this,t=e.eventEmitter,r=e.view,i=e.editorType;r.dom.addEventListener("focus",function(){return t.emit("focus",i)}),r.dom.addEventListener("blur",function(){return t.emit("blur",i)})},n.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(n.prototype,"defaultPlugins",{get:function(){var e=this.createInputRules(),t=Vs(Vs([],this.keymaps),[Hy(et({"Shift-Enter":qV.Enter},qV)),aG(),voe(this.placeholder),Voe(this.eventEmitter),Woe(this.context)]);return e?t.concat(e):t},enumerable:!1,configurable:!0}),n.prototype.createInputRules=function(){var t=function goe(){return jy}().map(function(r){var i=r.rule;return new rc(i,function(o,s,a,l){var c=o.schema,b=o.tr,x=o.doc,L=s.input.match(new RegExp(i,"g")),H=x.resolve(a),z=H.parent,le=0;if(iD(z)&&(z=H.node(H.depth-1)),z.forEach(function(ke){return iD(ke)&&(le+=1)}),L.length>le){var de=Yo(L),Ce=nf(de,c);return b.replaceWith(l-de.length+1,l,Ce)}return null})});return t.length?QV({rules:t}):null},n.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype.createSchema=function(){return new nH({nodes:this.specs.nodes,marks:this.specs.marks})},n.prototype.createKeymaps=function(e){var t=SG(),r=t.undo,i=t.redo,o=this.specs.keymaps(e),s={"Mod-z":r(),"Shift-Mod-z":i()};return e?o.concat(Hy(s)):o},n.prototype.createCommands=function(){return this.specs.commands(this.view)},n.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map(function(t){return t(e.eventEmitter)})},n.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},n.prototype.blur=function(){this.view.dom.blur()},n.prototype.destroy=function(){var e=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach(function(t){delete e[t]})},n.prototype.moveCursorToStart=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(ai(t,1)).scrollIntoView()),e&&this.focus()},n.prototype.moveCursorToEnd=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(ai(t,t.doc.content.size-1)).scrollIntoView()),e&&this.focus()},n.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},n.prototype.getScrollTop=function(){return this.view.dom.scrollTop},n.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},n.prototype.setHeight=function(e){sc(this.el,{height:e+"px"})},n.prototype.setMinHeight=function(e){sc(this.el,{minHeight:e+"px"})},n.prototype.getElement=function(){return this.el},n}(),La=function joe(n){return n instanceof Function},Uoe=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function a_(n,e,t){return n.focus(),e(t)(n.state,n.dispatch,n)}var VG=function(){function n(e){this.specs=e}return Object.defineProperty(n.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return"node"===e.type}).reduce(function(e,t){var r,i=t.name,o=t.schema;return et(et({},e),((r={})[i]=o,r))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"marks",{get:function(){return this.specs.filter(function(e){return"mark"===e.type}).reduce(function(e,t){var r,i=t.name,o=t.schema;return et(et({},e),((r={})[i]=o,r))},{})},enumerable:!1,configurable:!0}),n.prototype.commands=function(e,t){var r=this.specs.filter(function(o){return o.commands}).reduce(function(o,s){var a={},l=s.commands();return La(l)?a[s.name]=function(c){return a_(e,l,c)}:Object.keys(l).forEach(function(c){a[c]=function(b){return a_(e,l[c],b)}}),et(et({},o),a)},{}),i=SG();return Object.keys(i).forEach(function(o){r[o]=function(s){return a_(e,i[o],s)}}),t&&Object.keys(t).forEach(function(o){r[o]=function(s){return a_(e,t[o],s)}}),r},n.prototype.keymaps=function(e){return this.specs.filter(function(r){return r.keymaps}).map(function(r){return r.keymaps()}).map(function(r){return e||Object.keys(r).forEach(function(i){To(Uoe,i)||delete r[i]}),Hy(r)})},n.prototype.setContext=function(e){this.specs.forEach(function(t){t.setContext(e)})},n}();function GG(n){var e=n.from,t=n.to;return n instanceof bs?[e+1,t-1]:[e,t]}function WG(n){return n.index(0)+1}function fg(n,e,t){void 0===t&&(t=1);var r=0;return n.forEach(function(i,o){iD(i)&&o+2<e&&(r+=2*t)}),r}function l_(n,e,t){void 0===t&&(t=e);var r=e===t,i=n.resolve(e),o=WG(i),s=o,a=i.start(1),l=a;if(!r){var c=n.resolve(t===n.content.size?t-1:t);l=c.start(1),s=WG(c),c.pos===n.content.size&&(t=n.content.size-2)}var b=Math.max(e-a+1,1),x=Math.max(t-l+1,1);return[[o,b+fg(n.child(o-1),b,-1)],[s,x+fg(n.child(s-1),x,-1)]]}function jG(n,e){for(var t=[],r=0,i=0;r<e;r+=1){var o=n.child(r);t[r]=i,i+=o.nodeSize}return t}function sf(n,e,t){var r=jG(n,t[0]),i=e[0]-1,o=t[0]-1,s=n.child(i),a=n.child(o),l=r[i],c=r[o];return l+=e[1]+fg(s,e[1]-1),c+=t[1]+fg(a,t[1]-1),[l,Math.min(c,n.content.size)]}function Zi(n){var e=n.$from,t=n.$to,r=n.from,i=n.to,o=e.doc;return n instanceof bs&&(e=o.resolve(r+1),t=o.resolve(i-1)),0===e.depth&&(t=e=o.resolve(r-1)),{startFromOffset:e.start(1),endFromOffset:t.start(1),startToOffset:e.end(1),endToOffset:t.end(1),startIndex:e.index(0),endIndex:t.index(0),from:e.pos,to:t.pos}}function c_(n,e){for(var t=1,r=1,i=0,o=0;i<n.childCount;i+=1){var s=n.child(i).nodeSize;if(t=o+1,r=o+s-1,i===e)break;o+=s}return{startOffset:t,endOffset:r}}var UG="heading",u_="link",d_="code",h_="meta",af="delimiter",oD="markedText",zG={strong:2,emph:1,strike:2};function vr(n,e,t,r){return{start:n,end:e,spec:{type:t,attrs:r}}}function sD(n,e,t){var r=n.type,i=uo(e,zG[r]),o=uo(t,-zG[r]);return[vr(i,o,r),vr(e,i,af),vr(o,t,af)]}function ZG(n,e,t,r){return[vr(n,e,u_),vr(wd(n,t[1]+1),wd(e,r),u_,{desc:!0}),vr(wd(e,r+2),uo(e,-1),u_,{url:!0})]}function KG(n,e,t,r){var i={start:e,end:t,spec:{attrs:{className:r+"-line-background",codeStart:e[0],codeEnd:t[0]}},lineBackground:!0};return"item"!==n.type&&"blockQuote"!==n.type?[et(et({},i),{end:e,spec:{attrs:{className:r+"-line-background start"}}}),et(et({},i),{start:[Math.min(e[0]+1,t[0]),e[1]]})]:null}function YG(n,e){for(var t=[];n;){var r=n.type;("paragraph"===r||"codeBlock"===r)&&t.push(vr([Wy(n),r_(n)-1],[n_(n),Cd(n)+1],e)),n=n.next}return t}var JG={heading:function tse(n,e,t){var r=n.level,i=n.headingType,o=[vr(e,t,UG,{level:r})];return o.push("atx"===i?vr(e,uo(e,r),af):vr(wd(t,0),t,UG,{seText:!0})),o},strong:sD,emph:sD,strike:sD,link:function rse(n,e,t){var r=n.lastChild,i=n.extendedAutolink,o=r?Cd(r)+1:2;return i?[vr(e,t,u_,{desc:!0})]:ZG(e,t,e,o)},image:function nse(n,e,t){var r=n.lastChild,i=r?Cd(r)+1:3,o=uo(e,1);return Vs([vr(e,o,h_)],ZG(e,t,o,i))},code:function ise(n,e,t){var r=n.tickCount,i=uo(e,r),o=uo(t,-r);return[vr(e,t,d_),vr(e,i,d_,{start:!0}),vr(i,o,d_,{marked:!0}),vr(o,t,d_,{end:!0})]},codeBlock:function ose(n,e,t,r){var o=n.fenceLength,s=n.fenceChar,a=n.info,l=n.infoPadding,c=n.parent,b=n.fenceOffset+o,x=[vr(wd(e,1),t,"codeBlock")];s&&x.push(vr(e,uo(e,b),af)),a&&x.push(vr(uo(e,o),uo(e,o+l+a.length),h_)),new RegExp("^(\\s{0,4})("+s+"{"+o+",})").test(r)&&x.push(vr(wd(t,1),t,af));var z=KG(c,e,t,"code-block");return z?x.concat(z):x},blockQuote:function lse(n,e,t){var r=n.parent&&"blockQuote"!==n.parent.type?[vr(e,t,"blockQuote")]:[];if(n.firstChild){var i=[];"paragraph"===n.firstChild.type?i=function ase(n){for(var e=[];n;)e.push(vr([Wy(n),r_(n)],[n_(n),Cd(n)+1],oD)),n=n.next;return e}(n.firstChild.firstChild):"list"===n.firstChild.type&&(i=YG(n.firstChild,oD)),r=Vs(Vs([],r),i)}return r},item:function use(n,e){var t=n.listData,r=t.padding,i=t.task,o=function cse(n){for(var e=0;n.parent.parent&&"item"===n.parent.parent.type;)n=n.parent.parent,e+=1;return["listItem",et(et({},[{odd:!0},{even:!0}][e%2]),{listStyle:!0})]}(n),s=[vr.apply(void 0,Vs([e,uo(e,r)],o))];return i&&(s.push(vr(uo(e,r),uo(e,r+3),"taskDelimiter")),s.push(vr(uo(e,r+1),uo(e,r+2),h_))),s.concat(YG(n.firstChild,oD))},customBlock:function sse(n,e,t){var o=n.syntaxLength,s=n.info,a=n.parent,l=n.offset+o,c=[vr(wd(e,1),t,"customBlock")];c.push(vr(e,uo(e,l),af)),s&&c.push(vr(uo(e,l),uo(e,o+s.length),h_)),c.push(vr(wd(t,1),t,af));var b=KG(a,e,t,"custom-block");return b?c.concat(b):c}},XG={thematicBreak:"thematicBreak",table:"table",tableCell:"tableCell",htmlInline:"html"},Uy={};function hse(n){var e=n.schema,t=n.toastMark;return new Bs({appendTransaction:function(r,i,o){var s=r[0],a=o.tr;if(s.docChanged){var l=[];s.getMeta("editResult").forEach(function(b){var x=b.nodes,L=b.removedNodeRange;if(x.length){l=l.concat(function yse(n,e){var t=n.doc,r=e[0].sourcepos[0],o=Yo(e).sourcepos[1],s=[r[0],r[1]],a=[o[0],o[1]+1],l=[];return function vse(n,e,t){var r=[];Uy={};for(var i=e[0]-1;i<t[0];i+=1){var o=n.child(i),s=o.attrs.codeEnd,a=o.attrs.codeStart;if(a&&s&&!To(r,a)){r.push(a),s=Math.min(s,n.childCount);for(var c=t[0],b=a-1;b<c;b+=1)Uy[b]=!0}}}(t,r,o),l.push({start:s,end:a}),l}(a,x));for(var H=0,z=x;H<z.length;H++)for(var de=z[H].walker(),Ce=de.next();Ce;)Ce.entering&&(l=l.concat(bse(Ce.node,t))),Ce=de.next()}else if(L)for(var Pe=a.doc.childCount-1,je=L.line,mt=je[1],Mt=Math.min(je[0],Pe),St=Math.min(mt,Pe),on=Mt;on<=St;on+=1)Uy[on]=!0}),function gse(n,e,t){var r=n.doc,i=e.nodes.paragraph,o=jG(r,r.childCount);t.forEach(function(s){var a=s.start,l=s.end,c=s.spec,b=s.lineBackground,x=Math.min(a[0],r.childCount)-1,L=Math.min(l[0],r.childCount)-1,H=r.child(x),z=r.child(L),le=o[x],de=o[L];le+=a[1]+fg(H,a[1]-1),de+=l[1]+fg(z,l[1]-1),c?b?function pse(n,e,t,r,i){void 0===i&&(i={});for(var s=r.endIndex,a=r.from,l=r.to,c=!1,b=r.startIndex;b<=s;b+=1)delete Uy[b],c=fse(e,b,i);c&&n.setBlockType(a,l,t,i)}(n,r,i,{from:le,to:de,startIndex:x,endIndex:L},c.attrs):n.addMark(le,de,e.mark(c.type,c.attrs)):n.removeMark(le,de)}),function mse(n,e,t){Object.keys(Uy).forEach(function(r){var i=Number(r),o=Math.min(Number(r)+1,n.doc.childCount-1),a=e[o]-1;i===o&&(a+=2),n.setBlockType(e[i],a,t)})}(n,o,i)}(a,e,l)}return a.setMeta("widget",s.getMeta("widget"))}})}function fse(n,e,t){return Object.keys(t).some(function(r){return t[r]!==n.child(e).attrs[r]})}function bse(n,e){var t=e.getLineTexts(),r=[Wy(n),r_(n)],i=[n_(n),Cd(n)+1],o=function dse(n,e,t,r){var i=n.type;return La(JG[i])?JG[i](n,e,t,r):XG[i]?[vr(e,t,XG[i])]:null}(n,r,i,t[i[0]-1]);return o??[]}var Cse=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function _se(n){var e=n.toastMark,t=n.eventEmitter;return new Bs({view:function(){return{update:function(r,i){var o=r.state,a=o.selection;if(!(i&&i.doc.eq(o.doc)&&i.selection.eq(a))){var l=a.from,c=o.doc.resolve(l).start(),x=l-c;l===c&&(x+=1);var L=[o.doc.content.findIndex(l).index+1,x],H=e.findNodeAtPosition(L),z=function Ise(n){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},t=!0;return function doe(n,e,t){for(void 0===t&&(t=!0),n=t?n:n.parent;n&&"document"!==n.type;)e(n),n=n.parent}(n,function(r){var i=function wse(n){var e=n.type;return tf(n)?n.listData.task?"taskList":"ordered"===n.listData.type?"orderedList":"bulletList":-1!==e.indexOf("table")?"table":To(Cse,e)?e:null}(r);!i||("bulletList"===i||"orderedList"===i?t&&(e[i]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,t=!1):e[i]={active:!0})}),e}(H);t.emit("changeToolbarState",{cursorPos:L,mdNode:H,toolbarState:z}),t.emit("setFocusedNode",H)}}}}})}var Ase=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(Qr),li=function(){function n(){}return Object.defineProperty(n.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),n.prototype.setContext=function(e){this.context=e},n}();function sa(n,e){return Id(n,e-1)}function Id(n,e){return n.child(e).textContent}var zy=/^\s*> ?/,Sse=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:zi("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(t,r){return r?t.replace(zy,"").trim():"> "+t.trim()},e.prototype.extendBlockQuote=function(){var t=this;return function(r,i){var o=r.selection,s=r.doc,a=r.tr,l=r.schema,c=Zi(o),b=c.endFromOffset,x=c.endToOffset,H=c.to,z=Id(s,c.endIndex);if(zy.test(z)&&H>b&&o.empty){if(z.replace(zy,"").trim()){var Ce=z.slice(H-b).trim();Yk(a,x,Ce,Eo(l,t.createBlockQuoteText(Ce)))}else a.deleteRange(b,x).split(a.mapping.map(x));return i(a),!0}return!1}},e.prototype.commands=function(){var t=this;return function(){return function(r,i){var s=r.doc,a=Zi(r.selection),l=a.startFromOffset,c=a.endToOffset,b=a.startIndex,x=a.endIndex,L=zy.test(Id(s,b)),H=t_({state:r,startIndex:b,endIndex:x,from:l,createText:function(z){return t.createBlockQuoteText(z,L)}});return i(H.setSelection(ai(H,H.mapping.map(c)))),!0}}},e.prototype.keymaps=function(){var t=this.commands()();return{"alt-q":t,"alt-Q":t,Enter:this.extendBlockQuote()}},e}(li),lf=/(^\s*)([-*+] |[\d]+\. )/,aD=/(^\s*)([\d])+\.( \[[ xX]])? /,cu=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,f_=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,xse=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,Tse=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,Ese=/(^\s*)([-*+])( \[[ xX]]) /;function lD(n){return aD.test(n)?"ordered":"bullet"}function cD(n){for(var e=0;n&&"document"!==n.type;)"list"===n.type&&(e+=1),n=n.parent;return e}function uD(n,e,t,r){for(var o=n.getLineTexts().length,s=[],a=e;r?a<o:a>1;){var l=n.findFirstNodeAtLine(a=r?a+1:a-1),c=cD(l);if(c===t)s.push({line:a,depth:t,mdNode:l});else if(c<t)break}return s}function qG(n,e,t,r){void 0===r&&(r=0);var i=Number.MAX_VALUE,o=0,s=e.map(function(a,l){var c=a.line;i=Math.min(c-1,i),o=Math.max(c-1,o);var b=sa(n,c);return b="bullet"===t?function Dse(n){if(!lf.test(n))return"* "+n;var e=lD(n);return"bullet"===e&&f_.test(n)?n=n.replace(Ese,"$1$2 "):"ordered"===e&&(n=n.replace(aD,"$1* ")),n}(b):function Mse(n,e){if(!lf.test(n))return e+". "+n;var t=lD(n);if("bullet"===t||"ordered"===t&&f_.test(n))n=n.replace(f_,"$1"+e+". ");else if("ordered"===t){var r=cu.exec(n)[3];Number(r)!==e&&(n=n.replace(aD,"$1"+e+". "))}return n}(b,l+1+r),{text:b,line:c}});return{changedResults:s,firstIndex:i,lastIndex:o}}function QG(n,e){var t=function kse(n){var e=n.toastMark,t=n.mdNode,r=n.line,i=cD(t),o=uD(e,r,i,!1).reverse(),s=uD(e,r,i,!0);return o.concat([{line:r,depth:i,mdNode:t}]).concat(s)}(e);return qG(e.doc,t,n)}var Nse={bullet:function(n){return QG("bullet",n)},ordered:function(n){return QG("ordered",n)},task:function(n){var e=n.mdNode,r=n.line,i=sa(n.doc,r);return e.listData.task?i=i.replace(Tse,"$1$2"):tf(e)&&(i=i.replace(lf,"$1$2[ ] ")),{changedResults:[{text:i,line:r}]}}},Rse={bullet:function(n){var t=n.line;return{changedResults:[{text:"* "+sa(n.doc,t),line:t}]}},ordered:function(n){for(var e=n.toastMark,t=n.doc,r=n.line,i=n.startLine,o=sa(t,r),s=1,a=i,l=0,c=i-1;c>0;c-=1){var b=e.findFirstNodeAtLine(c),L=sa(t,c)&&!!dg(b,function(De){return tf(De)}),H=cu.exec(sa(t,c));if(!H&&!L)break;if(H||!L){if(!H[1]){s=Number(H[3]),a=c;break}}else l+=1}return{changedResults:[{text:s+r-a-l+". "+o,line:r}]}},task:function(n){var t=n.line;return{changedResults:[{text:"* [ ] "+sa(n.doc,t),line:t}]}}},Ose={bullet:function(n){var r=sa(n.doc,n.line),i=xse.exec(r);return{listSyntax:""+i[1]+i[2]}},ordered:function(n){var e=n.toastMark,t=n.line,i=n.doc,o=cD(n.mdNode),s=sa(i,t),a=cu.exec(s),l=a[1],b=a[4],x=Number(a[3])+1,L=""+l+x+b,z=uD(e,t,o,!0).filter(function(le){var de=cu.exec(sa(i,le.line));return de&&de[1].length===l.length&&!!dg(le.mdNode,function(Ce){return yG(Ce)})});return et({listSyntax:L},qG(i,z,"ordered",x))}};function eW(n,e,t,r,i){for(var o=[],s=sa(n,t),a=cu.exec(s);a;){var l=a[1],x=l.length;if(x===i)o.push(Eo(e,""+l+r+a[4]+a[5])),r+=1,t+=1;else if(x>i){var L=eW(n,e,t,1,x);t=L.line,o=o.concat(L.nodes)}if(x<i||t>n.childCount)break;s=sa(n,t),a=cu.exec(s)}return{nodes:o,line:t}}var tW=/(^\s{1,4})(.*)/;function nW(n,e,t){return n<e||lf.test(t)||zy.test(t)}function rW(n,e,t){var r=t.$from;0===r.depth&&(r=n.resolve(r.pos-1));var i=r.node(1),o=r.start(1),s=i.content.size;return i.rangeHasMark(0,s,e.marks.table)&&r.pos-o!==s&&r.pos!==o}function iW(n,e){var t=e.from,r=e.to;if("indent"===e.type)t+=4,r+=4*(e.lineLen+1);else{var o=e.spaceLenList;t-=o[0];for(var s=0;s<o.length;s+=1)r-=o[s]}return ai(n,t,r)}var Lse=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(t){var r=t.attrs;return r.className?["div",{class:zi(r.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(t,r){for(var i=this.context,o=i.view,a=i.schema,l=o.state,c=l.tr,b=l.selection,x=l.doc,L=i.toastMark.findFirstNodeAtLine(t),H=L;L&&!coe(L)&&"document"!==L.parent.type;)if(yG(L=L.parent)){H=L;break}H&&(t=H.sourcepos[0][0]);var z=cu.exec(sa(x,t)),Ce=z[1].length,ke=eW(x,a,t,Number(z[3]),Ce),Pe=ke.nodes;r=Math.max(r,ke.line-1);for(var je=c_(x,t-1).startOffset,Ye=t-1;Ye<=r-1;Ye+=1){var mt=x.child(Ye),Mt=mt.nodeSize,St=mt.content,on=c.mapping.map(je);c.replaceWith(on,on+St.size,Pe[Ye-t+1]),je+=Mt}var yr=ai(c,b.from,b.to);o.dispatch(c.setSelection(yr))},e.prototype.indent=function(t){var r=this;return void 0===t&&(t=!1),function(){return function(i,o){var s=i.schema,a=i.selection,l=i.doc,c=Zi(a),b=c.from,x=c.to,L=c.startFromOffset,H=c.startIndex,z=c.endIndex;if(t&&rW(l,s,a))return!1;var le=Id(l,H);if(t&&nW(b,x,le)||!t&&lf.test(le)){var de=t_({state:i,from:L,startIndex:H,endIndex:z,createText:function(ke){return"    "+ke}});o(de.setSelection(iW(de,{type:"indent",from:b,to:x,lineLen:z-H}))),cu.test(le)&&r.reorderList(H+1,z+1)}else t&&o(i.tr.insert(x,Eo(s,"    ")));return!0}}},e.prototype.outdent=function(t){var r=this;return void 0===t&&(t=!1),function(){return function(i,o){var s=i.selection,a=i.doc,l=i.schema,c=Zi(s),b=c.from,x=c.to,L=c.startFromOffset,H=c.startIndex,z=c.endIndex;if(t&&rW(a,l,s))return!1;var le=Id(a,H);if(t&&nW(b,x,le)||!t&&lf.test(le)){var de=[],Ce=t_({state:i,from:L,startIndex:H,endIndex:z,createText:function(Ye){var mt=tW.exec(Ye);return de.push(mt?mt[1].length:0),Ye.replace(tW,"$2")}});o(Ce.setSelection(iW(Ce,{type:"outdent",from:b,to:x,spaceLenList:de}))),cu.test(le)&&r.reorderList(H+1,z+1)}else if(t){var De=le.slice(0,x-L),Pe=De.replace(/\s{1,4}$/,"");o(i.tr.delete(x-(De.length-Pe.length),x))}return!0}}},e.prototype.deleteLines=function(){var t=this;return function(r,i){var o=t.context.view,s=Zi(r.selection),a=s.startFromOffset,l=s.endToOffset;return zI(function(){return i(r.tr.deleteRange(a,l)),!0},jV)(r,i,o)}},e.prototype.moveDown=function(){return function(t,r){var i=t.doc,o=t.tr,a=t.schema,l=Zi(t.selection),c=l.startFromOffset,b=l.endToOffset,x=l.endIndex;if(x<i.content.childCount-1){var L=i.child(x+1),z=L.textContent;return o.delete(b,b+L.nodeSize).split(c).insert(o.mapping.map(c)-2,Eo(a,z)),r(o),!0}return!1}},e.prototype.moveUp=function(){return function(t,r){var i=t.tr,o=t.doc,a=t.schema,l=Zi(t.selection),c=l.startFromOffset,b=l.endToOffset,x=l.startIndex;if(x>0){var L=o.child(x-1),z=L.textContent;return i.delete(c-L.nodeSize,c).split(i.mapping.map(b)).insert(i.mapping.map(b),Eo(a,z)),r(i),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e}(Qr),Pse=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e}(Qr),Fse=/^#{1,6}\s/,Bse=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(t){var r=t.attrs,s="heading|heading"+r.level;return r.seText&&(s+="|delimiter|setext"),["span",{class:zi.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(t,r,i){for(var o=r.replace(i,"").trim(),s="";t>0;)s+="#",t-=1;return s+" "+o},e.prototype.commands=function(){var t=this;return function(r){return function(i,o){var s=r.level,a=Zi(i.selection),c=a.endToOffset,L=t_({state:i,from:a.startFromOffset,startIndex:a.startIndex,endIndex:a.endIndex,createText:function(H){var z=H.match(Fse);return t.createHeadingText(s,H,z?z[0]:"")}});return o(L.setSelection(ai(L,L.mapping.map(c)))),!0}}},e}(li),$se=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:zi("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r){var o=t.schema,s=t.tr,a=Zi(t.selection),l=a.startFromOffset,c=a.endToOffset,b=Eo(o,"```");return s.insert(l,b).split(l+"```".length),s.split(s.mapping.map(c)).insert(s.mapping.map(c),b),r(s.setSelection(ai(s,s.mapping.map(c)-("```".length+2)))),!0}}},e.prototype.keepIndentation=function(){var t=this;return function(r,i){var s=r.tr,a=r.doc,l=r.schema,c=t.context.toastMark,b=Zi(r.selection),x=b.startFromOffset,L=b.endToOffset,H=b.endIndex,z=b.from,le=b.to,de=Id(a,H);if(z===le&&de.trim()){var Ce=de.match(/^\s+/);if(function loe(n){return n&&"codeBlock"===n.type}(c.findFirstNodeAtLine(H+1))&&Ce){var De=Ce[0],Pe=de.slice(le-x);return Yk(s,L,Pe,Eo(l,De+Pe)),i(s),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,Enter:this.keepIndentation()}},e}(li),Hse=/\||\s/g;function p_(n,e){for(var t="|",r=0;r<n;r+=1)t+=e?" --- |":"  |";return t}var jse=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:zi("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var t=this;return function(r,i){var o=r.selection,s=r.doc,a=r.tr,l=r.schema;if(!o.empty)return!1;var c=Zi(o),b=c.endFromOffset,x=c.endToOffset,L=c.endIndex,H=c.to,z=Id(s,L),Ce=dg(t.context.toastMark.findNodeAtPosition([L+1,H-b+1]),function(Ye){return bG(Ye)&&("tableDelimRow"===Ye.parent.type||"tableBody"===Ye.parent.parent.type)});if(Ce){var ke=!z.replace(Hse,"").trim(),je=p_(Ce.parent.parent.parent.columns.length);return ke?a.deleteRange(b,x).split(a.mapping.map(x)):a.split(x).insert(a.mapping.map(x),Eo(l,je)).setSelection(ai(a,a.mapping.map(x)-2)),i(a),!0}return!1}},e.prototype.moveTableCell=function(t){var r=this;return function(i,o){var a=i.tr,l=Zi(i.selection),c=l.endFromOffset,z=dg(r.context.toastMark.findNodeAtPosition([l.endIndex+1,l.to-c]),function(mt){return bG(mt)});if(z){var le=z.parent,de=function Wse(n){return n?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}(t),Ce=de.type,ke=de.parentType,De=de.childType,Pe=Cd(z);if(z[Ce])Pe=Cd(z[Ce])-1;else{var je=le[Ce]||le.parent.type!==ke?le[Ce]:le.parent[Ce][De];"next"===Ce?Pe+=(je?Cd(je[De]):0)+2:"prev"===Ce&&(Pe=je?-4:0)}return o(a.setSelection(ai(a,c+Pe))),!0}return!1}},e.prototype.addTable=function(){return function(t){return function(r,i){var s=r.tr,a=r.schema,c=t.columnCount,b=t.rowCount,x=Zi(r.selection).endToOffset,L=function Vse(n){return[p_(n),p_(n,!0)]}(c),H=function Gse(n,e){for(var t=[],r=0;r<e;r+=1)t.push(p_(n));return t}(c,b-1);return Vs(Vs([],L),H).forEach(function(le){s.split(s.mapping.map(x)).insert(s.mapping.map(x),Eo(a,le))}),i(s.setSelection(ai(s,x+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e}(li),zse=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:zi("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(t,r){var o=t.schema,s=t.tr,a=Zi(t.selection),l=a.from,c=a.to,b=a.endToOffset,x=Eo(o,"***");return s.split(l).replaceWith(s.mapping.map(l),s.mapping.map(c),x).split(s.mapping.map(c)).setSelection(ai(s,s.mapping.map(b))),r(s),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(li);function Zse(n,e){var t=n.type;return e<=n.sourcepos[0][0]&&("codeBlock"===t||"heading"===t||t.match("table"))}var Kse=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(t){var r=t.attrs,a="list-item";return r.listStyle&&(a+="|list-item-style"),r.odd&&(a+="|list-item-odd"),r.even&&(a+="|list-item-even"),["span",{class:zi.apply(void 0,a.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var t=this;return function(r,i){var o=r.selection,s=r.doc,a=r.schema,l=r.tr,c=t.context.toastMark,b=Zi(o),x=b.to,L=b.startFromOffset,H=b.endFromOffset,z=b.endIndex,le=b.endToOffset,de=Id(s,z);if(!lf.test(de)||o.from===L||!o.empty)return!1;if(de.replace(f_,"").trim()){var De=lD(de),Pe=c.findFirstNodeAtLine(z+1),je=de.slice(x-H),mt=Ose[De]({toastMark:c,mdNode:Pe,doc:s,line:z+1}),Mt=mt.listSyntax,St=mt.changedResults;if(St?.length){l.split(x),St.unshift({text:Mt+je,line:z+1}),t.changeToListPerLine(l,St,{from:x,startLine:St[0].line,endLine:Yo(St).line});var on=l.mapping.map(le)-je.length;l.setSelection(ai(l,on))}else Yk(l,le,je,Eo(a,Mt+je))}else l.deleteRange(H,le).split(l.mapping.map(le));return i(l),!0}},e.prototype.toList=function(t){var r=this;return function(){return function(i,o){for(var s=i.doc,a=i.tr,c=r.context.toastMark,b=Zi(i.selection),x=b.startIndex+1,L=b.endIndex+1,H=b.endToOffset,z=[],le=x;le<=L;le+=1){var de=c.findFirstNodeAtLine(le);if(de&&Zse(de,le))break;if(-1===z.indexOf(le)){var Ce={toastMark:c,mdNode:de,doc:s,line:le,startLine:x},ke=(tf(de)?Nse[t](Ce):Rse[t](Ce)).changedResults,De=r.changeToListPerLine(a,ke,{from:c_(s,ke[0].line-1).startOffset,startLine:ke[0].line,endLine:Yo(ke).line,indexDiff:1});H=Math.max(De,H),ke&&(z=z.concat(ke.map(function(Pe){return Pe.line})))}}return o(a.setSelection(ai(a,a.mapping.map(H)))),!0}}},e.prototype.changeToListPerLine=function(t,r,i){for(var o=i.from,a=i.endLine,l=i.indexDiff,c=void 0===l?0:l,b=0,x=function(z){var le=t.doc.child(z),de=le.nodeSize,Ce=le.content,ke=t.mapping.map(o),De=ke+Ce.size,Pe=r.filter(function(je){return je.line-c===z})[0];Pe&&(t.replaceWith(ke,De,Eo(L.context.schema,Pe.text)),b=Math.max(b,o+Ce.size)),o+=de},L=this,H=i.startLine-c;H<=a-c;H+=1)x(H);return b},e.prototype.toggleTask=function(){var t=this;return function(r,i){for(var s=r.tr,a=r.doc,l=r.schema,c=t.context.toastMark,b=Zi(r.selection),L=b.endIndex,H=null,z=b.startIndex;z<=L;z+=1){var le=c.findFirstNodeAtLine(z+1);if(tf(le)&&le.listData.task){var de=le.listData,ke=de.padding,De=de.checked?" ":"x",Pe=le.sourcepos[0],je=c_(a,Pe[0]-1).startOffset;H=s.replaceWith(je+=Pe[1]+ke,je+1,l.text(De))}}return!!H&&(i(H),!0)}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var t=this.toList("bullet")(),r=this.toList("ordered")(),i=this.toList("task")(),o=this.toggleTask();return{"Mod-u":t,"Mod-U":t,"Mod-o":r,"Mod-O":r,"alt-t":i,"alt-T":i,"Shift-Ctrl-x":o,"Shift-Ctrl-X":o,Enter:this.extendList()}},e}(li);function g_(n,e){return function(){return function(t,r){var i=t.tr,o=t.selection,s=La(n)?n:function(De){return n.test(De)},a=e.length,l=i.doc,c=GG(o),b=c[0],x=c[1],L=Math.max(b-a,1),H=Math.min(x+a,l.content.size-1),z=o.content(),le=z.content.textBetween(0,z.content.size,"\n"),de=l.textBetween(L,b,"\n"),Ce=l.textBetween(x,H,"\n");if(le=""+de+le+Ce,de&&Ce&&s(le))i.delete(H-a,H).delete(L,L+a);else{i.insertText(e,x).insertText(e,b);var ke=o.empty?ai(i,b+a):ai(i,b+a,x+a);i.setSelection(ke)}return r(i),!0}}}var Yse=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,Xse=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:zi("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return g_(Yse,"**")},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(li),qse=/^(~{2}).*([\s\S]*)\1$/m,eae=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:zi("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return g_(qse,"~~")},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(li),tae=/^(\*|_).*([\s\S]*)\1$/m,rae=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:zi("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return g_(tae,"*")},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(li),iae=/^(`).*([\s\S]*)\1$/m,sae=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(t){var r=t.attrs,a="code";return r.start&&(a+="|delimiter|start"),r.end&&(a+="|delimiter|end"),r.marked&&(a+="|marked-text"),["span",{class:zi.apply(void 0,a.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return g_(iae,"`")},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(li),aae=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(t){var r=t.attrs,s="link";return r.url&&(s+="|link-url|marked-text"),r.desc&&(s+="|link-desc|marked-text"),["span",{class:zi.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(t){return function(r){return function(i,o){var a=i.tr,l=i.schema,c=GG(i.selection),b=c[0],x=c[1],Ce=r.linkText,ke=r.linkUrl,De="";return"image"===t&&(Ce=r.altText,ke=r.imageUrl,De="!"),Ce=qI(Ce),o(a.replaceWith(b,x,Eo(l,De+="["+Ce+"]("+ke+")"))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e}(li),lae=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:zi("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e}(li),cae=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:zi("delimiter")},0]}}},enumerable:!1,configurable:!0}),e}(li),uae=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:zi("meta")},0]}}},enumerable:!1,configurable:!0}),e}(li),dae=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:zi("marked-text")},0]}}},enumerable:!1,configurable:!0}),e}(li),hae=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:zi("table-cell")},0]}}},enumerable:!1,configurable:!0}),e}(li),fae=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:zi("html")},0]}}},enumerable:!1,configurable:!0}),e}(li),pae=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:zi("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(r,i){var s=r.schema,a=r.tr,l=Zi(r.selection),c=l.startFromOffset,b=l.endToOffset;if(!t?.info)return!1;var x="$$"+t.info,L=Eo(s,x),H=Eo(s,"$$");return a.insert(c,L).split(c+x.length),a.split(a.mapping.map(b)).insert(a.mapping.map(b),H),i(a.setSelection(ai(a,a.mapping.map(b)-("$$".length+2)))),!0}}},e}(li),gae=/x|backspace/i,mae=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function vae(n){var e=n.schema,t=n.toastMark;return new Bs({props:{handleDOMEvents:{keyup:function(r,i){var o,s=r.state,a=s.doc,l=s.tr,c=s.selection;if(c.empty&&gae.test(i.key)){var b=Zi(c),de=dg(t.findNodeAtPosition([b.startIndex+1,b.from-b.startFromOffset+1]),function(_n){var yr;return"paragraph"===_n.type&&"item"===(null===(yr=_n.parent)||void 0===yr?void 0:yr.type)});if(null!==(o=de?.firstChild)&&void 0!==o&&o.literal){var Ce=de.firstChild,ke=Ce.literal.match(mae);if(ke){var De=Ce.sourcepos[0],je=ke[2],mt=ke[1].length+ke[3].length,Mt=c_(a,De[0]-1).startOffset,St=De[1]+Mt;je?(l.replaceWith(St,(mt?mt+1:0)+St,e.text(je)),r.dispatch(l)):mt||(l.insertText(" ",St),r.dispatch(l))}}}return!1}}}})}var oW=/\r\n|\n|\r/,yae=function(n){function e(t,r){var i=n.call(this,t)||this,o=r.toastMark,s=r.useCommandShortcut,a=void 0===s||s,l=r.mdPlugins,c=void 0===l?[]:l;return i.editorType="markdown",i.el.classList.add("md-mode"),i.toastMark=o,i.extraPlugins=c,i.specs=i.createSpecs(),i.schema=i.createSchema(),i.context=i.createContext(),i.keymaps=i.createKeymaps(a),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(et(et({},i.context),{view:i.view})),i.createClipboard(),i.eventEmitter.listen("changePreviewTabWrite",function(b){return i.toggleActive(!0,b)}),i.eventEmitter.listen("changePreviewTabPreview",function(){return i.toggleActive(!1)}),i.initEvent(),i}return Ht(e,n),e.prototype.toggleActive=function(t,r){Qk(this.el,"active",t),t?r||this.focus():this.blur()},e.prototype.createClipboard=function(){var t=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=Wt("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(r){var i=r.clipboardData||window.clipboardData,o=i&&i.items;if(o&&!lc(o).some(function(l){return"string"===l.kind&&"text/rtf"===l.type})){var a=FG(o);a&&(r.preventDefault(),rD(t.eventEmitter,a,r.type))}}),this.clipboard.addEventListener("input",function(r){t.replaceSelection(r.target.value),r.preventDefault(),r.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new VG([new Ase,new Lse,new $G,new Pse,new Bse,new Sse,new $se,new pae,new jse,new hae,new zse,new Kse,new Xse,new eae,new rae,new sae,new aae,new cae,new lae,new dae,new uae,new fae])},e.prototype.createPlugins=function(){return Vs([hse(this.context),_se(this.context),vae(this.context)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createView=function(){var t=this;return new xk(this.el,{state:this.createState(),dispatchTransaction:function(r){t.updateMarkdown(r);var i=t.view.state.applyTransaction(r).state;t.view.updateState(i),t.emitChangeEvent(r)},handleKeyDown:function(r,i){return(i.metaKey||i.ctrlKey)&&"V"===i.key.toUpperCase()&&t.clipboard.focus(),t.eventEmitter.emit("keydown",t.editorType,i),!1},handleDOMEvents:{copy:function(r,i){return t.captureCopy(i)},cut:function(r,i){return t.captureCopy(i,"cut")},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0},keyup:function(r,i){return t.eventEmitter.emit("keyup",t.editorType,i),!1}},nodeViews:{widget:BG}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(t,r){t.preventDefault();var i=this.view.state,o=i.selection,s=i.tr;if(o.empty)return!0;var a=this.getChanged(o.content());return t.clipboardData?t.clipboardData.setData("text/plain",a):window.clipboardData.setData("Text",a),"cut"===r&&this.view.dispatch(s.deleteSelection().scrollIntoView().setMeta("uiEvent","cut")),!0},e.prototype.updateMarkdown=function(t){var r=this;t.docChanged&&t.steps.forEach(function(i,o){if(i.slice&&!(i instanceof co)){var a=[i.from,i.to],b=l_(t.docs[o],a[0],a[1]),x=b[0],L=b[1],H=r.getChanged(i.slice);x[0]===L[0]&&x[1]===L[1]&&""===H&&(H="\n");var z=r.toastMark.editMarkdown(x,L,H);r.eventEmitter.emit("updatePreview",z),t.setMeta("editResult",z).scrollIntoView()}})},e.prototype.getChanged=function(t){var r="",o=t.content.size;return t.content.nodesBetween(0,o,function(s,a){s.isText?r+=s.text.slice(Math.max(0,a)-a,o-a):s.isBlock&&a>0&&(r+="\n")}),r},e.prototype.setSelection=function(t,r){void 0===r&&(r=t);var i=this.view.state.tr,o=sf(i.doc,t,r);this.view.dispatch(i.setSelection(ai(i,o[0],o[1])).scrollIntoView())},e.prototype.replaceSelection=function(t,r,i){var o,s=this.view.state,a=s.tr,l=s.schema,c=s.doc,x=t.split(oW).map(function(de){return e_(l,nf(de,l))}),L=new Bt(ht.from(x),1,1);if(this.focus(),r&&i){var H=sf(c,r,i);o=a.replaceRange(H[0],H[1],L)}else o=a.replaceSelection(L);this.view.dispatch(o.scrollIntoView())},e.prototype.deleteSelection=function(t,r){var i,o=this.view.state,s=o.tr;if(t&&r){var l=sf(o.doc,t,r);i=s.deleteRange(l[0],l[1])}else i=s.deleteSelection();this.view.dispatch(i.scrollIntoView())},e.prototype.getSelectedText=function(t,r){var i=this.view.state,o=i.doc,s=i.selection,a=s.from,l=s.to;if(t&&r){var c=sf(o,t,r);a=c[0],l=c[1]}return o.textBetween(a,l,"\n")},e.prototype.getSelection=function(){var t=this.view.state.selection;return l_(this.view.state.tr.doc,t.from,t.to)},e.prototype.setMarkdown=function(t,r){void 0===r&&(r=!0);var i=t.split(oW),o=this.view.state,s=o.tr,a=o.doc,l=o.schema,c=i.map(function(b){return e_(l,nf(b,l))});this.view.dispatch(s.replaceWith(0,a.content.size,c)),r&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(t,r,i){var o=this.view.state,s=o.tr,l=o.selection,c=i?sf(o.doc,i,i)[0]:l.to;this.view.dispatch(s.setMeta("widget",{pos:c,node:t,style:r}))},e.prototype.replaceWithWidget=function(t,r,i){var o=this.view.state,s=o.tr,a=o.schema,c=sf(o.doc,t,r),b=nf(i,a);this.view.dispatch(s.replaceWith(c[0],c[1],b))},e.prototype.getRangeInfoOfNode=function(t){var r=this.view.state,s=t||l_(r.doc,r.selection.from)[0],a=this.toastMark.findNodeAtPosition(s);return"text"===a.type&&"paragraph"!==a.parent.type&&(a=a.parent),a.sourcepos[1][1]+=1,{range:a.sourcepos,type:a.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(function(t){return i_(t)}).join("\n")},e.prototype.getToastMark=function(){return this.toastMark},e}(HG),sW="_feEventKey",aW=function bae(n,e){var r,t=n[sW];return t||(t=n[sW]={}),(r=t[e])||(r=t[e]=[]),r},Cae=au,m_=YI,wae=aW;function lW(n,e,t){var i,r=wae(n,e);t?(m_(r,function(o,s){return t!==o.handler||(cW(n,e,o.wrappedHandler),i=s,!1)}),r.splice(i,1)):(m_(r,function(o){cW(n,e,o.wrappedHandler)}),r.splice(0,r.length))}function cW(n,e,t){"removeEventListener"in n?n.removeEventListener(e,t):"detachEvent"in n&&n.detachEvent("on"+e,t)}var uW=function Iae(n,e,t){Cae(e)?m_(e.split(/\s+/g),function(r){lW(n,r,t)}):m_(e,function(r,i){lW(n,i,r)})},_ae=au,pD=YI,Aae=aW;function dW(n,e,t,r){function i(o){t.call(r||n,o||window.event)}"addEventListener"in n?n.addEventListener(e,i):"attachEvent"in n&&n.attachEvent("on"+e,i),function xae(n,e,t,r){var i=Aae(n,e),o=!1;pD(i,function(s){return s.handler!==t||(o=!0,!1)}),o||i.push({handler:t,wrappedHandler:r})}(n,e,t,i)}var hW=function Sae(n,e,t,r){_ae(e)?pD(e.split(/\s+/g),function(i){dW(n,i,t,r)}):pD(e,function(i,o){dW(n,o,i,t)})},gD=function(n,e){return(gD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])})(n,e)};function Pa(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}gD(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var ko=function(){return ko=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ko.apply(this,arguments)};function mD(n,e,t){if(t||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var pg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fW={};function v_(n,e,t){var r,i,o,s,a,l="";for("string"!=typeof e&&(t=e,e=v_.defaultChars),typeof t>"u"&&(t=!0),a=function Tae(n){var e,t,r=fW[n];if(r)return r;for(r=fW[n]=[],e=0;e<128;e++)t=String.fromCharCode(e),/^[0-9a-z]$/i.test(t)?r.push(t):r.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<n.length;e++)r[n.charCodeAt(e)]=n[e];return r}(e),r=0,i=n.length;r<i;r++)if(o=n.charCodeAt(r),t&&37===o&&r+2<i&&/^[0-9a-f]{2}$/i.test(n.slice(r+1,r+3)))l+=n.slice(r,r+3),r+=2;else if(o<128)l+=a[o];else if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&r+1<i&&(s=n.charCodeAt(r+1))>=56320&&s<=57343){l+=encodeURIComponent(n[r]+n[r+1]),r++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(n[r]);return l}v_.defaultChars=";/?:@&=+$,-_.!~*'()#",v_.componentChars="-_.!~*'()";var Eae=v_,vD={},uu={},pW={Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\u{1d504}",afr:"\u{1d51e}",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",amp:"&",AMP:"&",andand:"\u2a55",And:"\u2a53",and:"\u2227",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angmsd:"\u2221",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1d538}",aopf:"\u{1d552}",apacir:"\u2a6f",ap:"\u2248",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\u{1d49c}",ascr:"\u{1d4b6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\u{1d505}",bfr:"\u{1d51f}",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\u{1d539}",bopf:"\u{1d553}",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250c",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252c",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxuL:"\u255b",boxUl:"\u255c",boxUL:"\u255d",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255a",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253c",boxvH:"\u256a",boxVh:"\u256b",boxVH:"\u256c",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251c",boxvR:"\u255e",boxVr:"\u255f",boxVR:"\u2560",bprime:"\u2035",breve:"\u02d8",Breve:"\u02d8",brvbar:"\xa6",bscr:"\u{1d4b7}",Bscr:"\u212c",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsolb:"\u29c5",bsol:"\\",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",cap:"\u2229",Cap:"\u22d2",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",centerdot:"\xb7",CenterDot:"\xb7",cfr:"\u{1d520}",Cfr:"\u212d",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25cb",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",conint:"\u222e",Conint:"\u222f",ContourIntegral:"\u222e",copf:"\u{1d554}",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xa9",COPY:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",cross:"\u2717",Cross:"\u2a2f",Cscr:"\u{1d49e}",cscr:"\u{1d4b8}",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",cupbrcap:"\u2a48",cupcap:"\u2a46",CupCap:"\u224d",cup:"\u222a",Cup:"\u22d3",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21a1",dArr:"\u21d3",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21ca",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\u{1d507}",dfr:"\u{1d521}",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",diamond:"\u22c4",Diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\u{1d53b}",dopf:"\u{1d555}",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21d3",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21bd",DownRightTeeVector:"\u295f",DownRightVectorBar:"\u2957",DownRightVector:"\u21c1",DownTeeArrow:"\u21a7",DownTee:"\u22a4",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\u{1d49f}",dscr:"\u{1d4b9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",Ecirc:"\xca",ecirc:"\xea",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\u{1d508}",efr:"\u{1d522}",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1d53c}",eopf:"\u{1d556}",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",escr:"\u212f",Escr:"\u2130",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\u{1d509}",ffr:"\u{1d523}",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\u{1d53d}",fopf:"\u{1d557}",forall:"\u2200",ForAll:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",fscr:"\u{1d4bb}",Fscr:"\u2131",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",gescc:"\u2aa9",ges:"\u2a7e",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\u{1d50a}",gfr:"\u{1d524}",gg:"\u226b",Gg:"\u22d9",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2aa5",gl:"\u2277",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gnE:"\u2269",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\u{1d53e}",gopf:"\u{1d558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\u{1d4a2}",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gt:">",GT:">",Gt:"\u226b",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",harrcir:"\u2948",harr:"\u2194",hArr:"\u21d4",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",hfr:"\u{1d525}",Hfr:"\u210c",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",hopf:"\u{1d559}",Hopf:"\u210d",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\u{1d4bd}",Hscr:"\u210b",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",ifr:"\u{1d526}",Ifr:"\u2111",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",incare:"\u2105",in:"\u2208",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",intcal:"\u22ba",int:"\u222b",Int:"\u222c",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\u{1d540}",iopf:"\u{1d55a}",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",iscr:"\u{1d4be}",Iscr:"\u2110",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1d50d}",jfr:"\u{1d527}",jmath:"\u0237",Jopf:"\u{1d541}",jopf:"\u{1d55b}",Jscr:"\u{1d4a5}",jscr:"\u{1d4bf}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\u{1d50e}",kfr:"\u{1d528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\u{1d542}",kopf:"\u{1d55c}",Kscr:"\u{1d4a6}",kscr:"\u{1d4c0}",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",Lang:"\u27ea",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",larrb:"\u21e4",larrbfs:"\u291f",larr:"\u2190",Larr:"\u219e",lArr:"\u21d0",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",latail:"\u2919",lAtail:"\u291b",lat:"\u2aab",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lBarr:"\u290e",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27e8",LeftArrowBar:"\u21e4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21d0",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21c3",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTeeArrow:"\u21a4",LeftTee:"\u22a3",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangleBar:"\u29cf",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21bf",LeftVectorBar:"\u2952",LeftVector:"\u21bc",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",lescc:"\u2aa8",les:"\u2a7d",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\u{1d50f}",lfr:"\u{1d529}",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21c7",ll:"\u226a",Ll:"\u22d8",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoustache:"\u23b0",lmoust:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lnE:"\u2268",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",longleftarrow:"\u27f5",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftrightarrow:"\u27f7",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longmapsto:"\u27fc",longrightarrow:"\u27f6",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\u{1d543}",lopf:"\u{1d55d}",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\u{1d4c1}",Lscr:"\u2112",lsh:"\u21b0",Lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",lt:"<",LT:"<",Lt:"\u226a",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\u{1d510}",mfr:"\u{1d52a}",mho:"\u2127",micro:"\xb5",midast:"*",midcir:"\u2af0",mid:"\u2223",middot:"\xb7",minusb:"\u229f",minus:"\u2212",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\u{1d544}",mopf:"\u{1d55e}",mp:"\u2213",mscr:"\u{1d4c2}",Mscr:"\u2133",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266e",naturals:"\u2115",natur:"\u266e",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21d7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1d511}",nfr:"\u{1d52b}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nharr:"\u21ae",nhArr:"\u21ce",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlarr:"\u219a",nlArr:"\u21cd",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219a",nLeftarrow:"\u21cd",nleftrightarrow:"\u21ae",nLeftrightarrow:"\u21ce",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",nopf:"\u{1d55f}",Nopf:"\u2115",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangle:"\u22eb",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",nprec:"\u2280",npreceq:"\u2aaf\u0338",npre:"\u2aaf\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219b",nrArr:"\u21cf",nrarrw:"\u219d\u0338",nrightarrow:"\u219b",nRightarrow:"\u21cf",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\u{1d4a9}",nscr:"\u{1d4c3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21d6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",Ocirc:"\xd4",ocirc:"\xf4",ocir:"\u229a",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\u{1d512}",ofr:"\u{1d52c}",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\u{1d546}",oopf:"\u{1d560}",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",orarr:"\u21bb",Or:"\u2a54",or:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\u{1d4aa}",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",otimesas:"\u2a36",Otimes:"\u2a37",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",para:"\xb6",parallel:"\u2225",par:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\u{1d513}",pfr:"\u{1d52d}",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plus:"+",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",popf:"\u{1d561}",Popf:"\u2119",pound:"\xa3",prap:"\u2ab7",Pr:"\u2abb",pr:"\u227a",prcue:"\u227c",precapprox:"\u2ab7",prec:"\u227a",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",pre:"\u2aaf",prE:"\u2ab3",precsim:"\u227e",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportional:"\u221d",Proportion:"\u2237",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\u{1d4ab}",pscr:"\u{1d4c5}",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\u{1d514}",qfr:"\u{1d52e}",qint:"\u2a0c",qopf:"\u{1d562}",Qopf:"\u211a",qprime:"\u2057",Qscr:"\u{1d4ac}",qscr:"\u{1d4c6}",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",quot:'"',QUOT:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",rang:"\u27e9",Rang:"\u27eb",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21a0",rArr:"\u21d2",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",ratail:"\u291a",rAtail:"\u291c",ratio:"\u2236",rationals:"\u211a",rbarr:"\u290d",rBarr:"\u290f",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",Re:"\u211c",rect:"\u25ad",reg:"\xae",REG:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",rfr:"\u{1d52f}",Rfr:"\u211c",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrowBar:"\u21e5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21d2",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVectorBar:"\u2955",RightDownVector:"\u21c2",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTeeArrow:"\u21a6",RightTee:"\u22a2",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangleBar:"\u29d0",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVectorBar:"\u2954",RightUpVector:"\u21be",RightVectorBar:"\u2953",RightVector:"\u21c0",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoustache:"\u23b1",rmoust:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",ropf:"\u{1d563}",Ropf:"\u211d",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",rscr:"\u{1d4c7}",Rscr:"\u211b",rsh:"\u21b1",Rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2abc",sc:"\u227b",sccue:"\u227d",sce:"\u2ab0",scE:"\u2ab4",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdotb:"\u22a1",sdot:"\u22c5",sdote:"\u2a66",searhk:"\u2925",searr:"\u2198",seArr:"\u21d8",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1d516}",sfr:"\u{1d530}",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",solbar:"\u233f",solb:"\u29c4",sol:"/",Sopf:"\u{1d54a}",sopf:"\u{1d564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25a1",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squ:"\u25a1",squf:"\u25aa",srarr:"\u2192",Sscr:"\u{1d4ae}",sscr:"\u{1d4c8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",sub:"\u2282",Sub:"\u22d0",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subset:"\u2282",Subset:"\u22d0",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succapprox:"\u2ab8",succ:"\u227b",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",sum:"\u2211",Sum:"\u2211",sung:"\u266a",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",sup:"\u2283",Sup:"\u22d1",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",supset:"\u2283",Supset:"\u22d1",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21d9",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\u{1d517}",tfr:"\u{1d531}",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2a31",timesb:"\u22a0",times:"\xd7",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",topbot:"\u2336",topcir:"\u2af1",top:"\u22a4",Topf:"\u{1d54b}",topf:"\u{1d565}",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\u{1d4af}",tscr:"\u{1d4c9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",Uarr:"\u219f",uArr:"\u21d1",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\u{1d518}",ufr:"\u{1d532}",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1d54c}",uopf:"\u{1d566}",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21d1",UpArrowDownArrow:"\u21c5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21d5",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03c5",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTeeArrow:"\u21a5",UpTee:"\u22a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\u{1d4b0}",uscr:"\u{1d4ca}",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",varr:"\u2195",vArr:"\u21d5",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",vBar:"\u2ae8",Vbar:"\u2aeb",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22a2",vDash:"\u22a8",Vdash:"\u22a9",VDash:"\u22ab",Vdashl:"\u2ae6",veebar:"\u22bb",vee:"\u2228",Vee:"\u22c1",veeeq:"\u225a",vellip:"\u22ee",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\u{1d519}",vfr:"\u{1d533}",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\u{1d54d}",vopf:"\u{1d567}",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\u{1d4b1}",vscr:"\u{1d4cb}",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",wedge:"\u2227",Wedge:"\u22c0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1d51a}",wfr:"\u{1d534}",Wopf:"\u{1d54e}",wopf:"\u{1d568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1d4b2}",wscr:"\u{1d4cc}",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\u{1d51b}",xfr:"\u{1d535}",xharr:"\u27f7",xhArr:"\u27fa",Xi:"\u039e",xi:"\u03be",xlarr:"\u27f5",xlArr:"\u27f8",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\u{1d54f}",xopf:"\u{1d569}",xoplus:"\u2a01",xotime:"\u2a02",xrarr:"\u27f6",xrArr:"\u27f9",Xscr:"\u{1d4b3}",xscr:"\u{1d4cd}",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\u{1d51c}",yfr:"\u{1d536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1d550}",yopf:"\u{1d56a}",Yscr:"\u{1d4b4}",yscr:"\u{1d4ce}",YUcy:"\u042e",yucy:"\u044e",yuml:"\xff",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",zfr:"\u{1d537}",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",zopf:"\u{1d56b}",Zopf:"\u2124",Zscr:"\u{1d4b5}",zscr:"\u{1d4cf}",zwj:"\u200d",zwnj:"\u200c"},gW={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'},yD={},qje=pg&&pg.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(yD,"__esModule",{value:!0});var mW=qje({0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}),Qje=String.fromCodePoint||function(n){var e="";return n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|1023&n),e+String.fromCharCode(n)};yD.default=function e5e(n){return n>=55296&&n<=57343||n>1114111?"\ufffd":(n in mW.default&&(n=mW.default[n]),Qje(n))};var y_=pg&&pg.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(uu,"__esModule",{value:!0}),uu.decodeHTML=uu.decodeHTMLStrict=uu.decodeXML=void 0;var bD=y_(pW),t5e=y_({Aacute:"\xc1",aacute:"\xe1",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",AElig:"\xc6",aelig:"\xe6",Agrave:"\xc0",agrave:"\xe0",amp:"&",AMP:"&",Aring:"\xc5",aring:"\xe5",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",brvbar:"\xa6",Ccedil:"\xc7",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",copy:"\xa9",COPY:"\xa9",curren:"\xa4",deg:"\xb0",divide:"\xf7",Eacute:"\xc9",eacute:"\xe9",Ecirc:"\xca",ecirc:"\xea",Egrave:"\xc8",egrave:"\xe8",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",gt:">",GT:">",Iacute:"\xcd",iacute:"\xed",Icirc:"\xce",icirc:"\xee",iexcl:"\xa1",Igrave:"\xcc",igrave:"\xec",iquest:"\xbf",Iuml:"\xcf",iuml:"\xef",laquo:"\xab",lt:"<",LT:"<",macr:"\xaf",micro:"\xb5",middot:"\xb7",nbsp:"\xa0",not:"\xac",Ntilde:"\xd1",ntilde:"\xf1",Oacute:"\xd3",oacute:"\xf3",Ocirc:"\xd4",ocirc:"\xf4",Ograve:"\xd2",ograve:"\xf2",ordf:"\xaa",ordm:"\xba",Oslash:"\xd8",oslash:"\xf8",Otilde:"\xd5",otilde:"\xf5",Ouml:"\xd6",ouml:"\xf6",para:"\xb6",plusmn:"\xb1",pound:"\xa3",quot:'"',QUOT:'"',raquo:"\xbb",reg:"\xae",REG:"\xae",sect:"\xa7",shy:"\xad",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",szlig:"\xdf",THORN:"\xde",thorn:"\xfe",times:"\xd7",Uacute:"\xda",uacute:"\xfa",Ucirc:"\xdb",ucirc:"\xfb",Ugrave:"\xd9",ugrave:"\xf9",uml:"\xa8",Uuml:"\xdc",uuml:"\xfc",Yacute:"\xdd",yacute:"\xfd",yen:"\xa5",yuml:"\xff"}),n5e=y_(gW),vW=y_(yD),r5e=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function yW(n){var e=CW(n);return function(t){return String(t).replace(r5e,e)}}uu.decodeXML=yW(n5e.default),uu.decodeHTMLStrict=yW(bD.default);var bW=function(n,e){return n<e?1:-1};function CW(n){return function(t){if("#"===t.charAt(1)){var r=t.charAt(2);return vW.default("X"===r||"x"===r?parseInt(t.substr(3),16):parseInt(t.substr(2),10))}return n[t.slice(1,-1)]||t}}uu.decodeHTML=function(){for(var n=Object.keys(t5e.default).sort(bW),e=Object.keys(bD.default).sort(bW),t=0,r=0;t<e.length;t++)n[r]===e[t]?(e[t]+=";?",r++):e[t]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=CW(bD.default);function s(a){return";"!==a.substr(-1)&&(a+=";"),o(a)}return function(a){return String(a).replace(i,s)}}();var aa={},wW=pg&&pg.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(aa,"__esModule",{value:!0}),aa.escapeUTF8=aa.escape=aa.encodeNonAsciiHTML=aa.encodeHTML=aa.encodeXML=void 0;var IW=AW(wW(gW).default),_W=SW(IW);aa.encodeXML=EW(IW);var CD=AW(wW(pW).default),s5e=SW(CD);function AW(n){return Object.keys(n).sort().reduce(function(e,t){return e[n[t]]="&"+t+";",e},{})}function SW(n){for(var e=[],t=[],r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];1===o.length?e.push("\\"+o):t.push(o)}e.sort();for(var s=0;s<e.length-1;s++){for(var a=s;a<e.length-1&&e[a].charCodeAt(1)+1===e[a+1].charCodeAt(1);)a+=1;var l=1+a-s;l<3||e.splice(s,l,e[s]+"-"+e[a])}return t.unshift("["+e.join("")+"]"),new RegExp(t.join("|"),"g")}aa.encodeHTML=function l5e(n,e){return function(t){return t.replace(e,function(r){return n[r]}).replace(xW,b_)}}(CD,s5e),aa.encodeNonAsciiHTML=EW(CD);var xW=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,a5e=null!=String.prototype.codePointAt?function(n){return n.codePointAt(0)}:function(n){return 1024*(n.charCodeAt(0)-55296)+n.charCodeAt(1)-56320+65536};function b_(n){return"&#x"+(n.length>1?a5e(n):n.charCodeAt(0)).toString(16).toUpperCase()+";"}var TW=new RegExp(_W.source+"|"+xW.source,"g");function EW(n){return function(e){return e.replace(TW,function(t){return n[t]||b_(t)})}}aa.escape=function c5e(n){return n.replace(TW,b_)},aa.escapeUTF8=function u5e(n){return n.replace(_W,b_)},function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.decodeXMLStrict=n.decodeHTML5Strict=n.decodeHTML4Strict=n.decodeHTML5=n.decodeHTML4=n.decodeHTMLStrict=n.decodeHTML=n.decodeXML=n.encodeHTML5=n.encodeHTML4=n.escapeUTF8=n.escape=n.encodeNonAsciiHTML=n.encodeHTML=n.encodeXML=n.encode=n.decodeStrict=n.decode=void 0;var e=uu,t=aa;n.decode=function r(l,c){return(!c||c<=0?e.decodeXML:e.decodeHTML)(l)},n.decodeStrict=function i(l,c){return(!c||c<=0?e.decodeXML:e.decodeHTMLStrict)(l)},n.encode=function o(l,c){return(!c||c<=0?t.encodeXML:t.encodeHTML)(l)};var s=aa;Object.defineProperty(n,"encodeXML",{enumerable:!0,get:function(){return s.encodeXML}}),Object.defineProperty(n,"encodeHTML",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(n,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return s.encodeNonAsciiHTML}}),Object.defineProperty(n,"escape",{enumerable:!0,get:function(){return s.escape}}),Object.defineProperty(n,"escapeUTF8",{enumerable:!0,get:function(){return s.escapeUTF8}}),Object.defineProperty(n,"encodeHTML4",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(n,"encodeHTML5",{enumerable:!0,get:function(){return s.encodeHTML}});var a=uu;Object.defineProperty(n,"decodeXML",{enumerable:!0,get:function(){return a.decodeXML}}),Object.defineProperty(n,"decodeHTML",{enumerable:!0,get:function(){return a.decodeHTML}}),Object.defineProperty(n,"decodeHTMLStrict",{enumerable:!0,get:function(){return a.decodeHTMLStrict}}),Object.defineProperty(n,"decodeHTML4",{enumerable:!0,get:function(){return a.decodeHTML}}),Object.defineProperty(n,"decodeHTML5",{enumerable:!0,get:function(){return a.decodeHTML}}),Object.defineProperty(n,"decodeHTML4Strict",{enumerable:!0,get:function(){return a.decodeHTMLStrict}}),Object.defineProperty(n,"decodeHTML5Strict",{enumerable:!0,get:function(){return a.decodeHTMLStrict}}),Object.defineProperty(n,"decodeXMLStrict",{enumerable:!0,get:function(){return a.decodeXML}})}(vD);var kW="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",h5e=/[\\&]/,wD="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",f5e=new RegExp("\\\\"+wD+"|"+kW,"gi"),DW=new RegExp('[&<>"]',"g"),g5e=function(n){return 92===n.charCodeAt(0)?n.charAt(1):vD.decodeHTML(n)};function Zy(n){return h5e.test(n)?n.replace(f5e,g5e):n}function C_(n){try{return Eae(n)}catch{return n}}function m5e(n){switch(n){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return n}}function gg(n){return DW.test(n)?n.replace(DW,m5e):n}function ID(n,e){for(var t=[],r=0;r<e;r++)t.push(n);return t.join("")}function MW(n){return!n||!/[^ \t]+/.test(n)}var v5e=function(){function n(e){this.current=e,this.root=e,this.entering=!0}return n.prototype.next=function(){var e=this.current,t=this.entering;if(null===e)return null;var r=_D(e);return t&&r?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:null===e.next?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:t,node:e}},n.prototype.resumeAt=function(e,t){this.current=e,this.entering=!0===t},n}();function _D(n){switch(n.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var y5e=1,w_={};function AD(n){delete w_[n]}var Ky=function(){function n(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,this.id="document"===e?-1:y5e++,this.type=e,this.sourcepos=t,w_[this.id]=this}return n.prototype.isContainer=function(){return _D(this)},n.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},n.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},n.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},n.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},n.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},n.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},n.prototype.walker=function(){return new v5e(this)},n}(),du=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.open=!0,i.lineOffsets=null,i.stringContent=null,i.lastLineBlank=!1,i.lastLineChecked=!1,i.type=t,i}return Pa(e,n),e}(Ky),w5e=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.listData=null,t}return Pa(e,n),e}(du),I5e=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.level=0,t.headingType="atx",t}return Pa(e,n),e}(du),_5e=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.isFenced=!1,t.fenceChar=null,t.fenceLength=0,t.fenceOffset=-1,t.info=null,t.infoPadding=0,t}return Pa(e,n),e}(du),A5e=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.columns=[],t}return Pa(e,n),e}(du),S5e=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.startIdx=0,t.endIdx=0,t.paddingLeft=0,t.paddingRight=0,t.ignored=!1,t}return Pa(e,n),e}(du),x5e=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.title="",t.dest="",t.label="",t}return Pa(e,n),e}(du),T5e=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.syntaxLength=0,t.offset=-1,t.info="",t}return Pa(e,n),e}(du),E5e=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.htmlBlockType=-1,t}return Pa(e,n),e}(du),k5e=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.destination=null,t.title=null,t.extendedAutolink=!1,t}return Pa(e,n),e}(Ky),D5e=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.tickCount=0,t}return Pa(e,n),e}(Ky),M5e=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.info="",t}return Pa(e,n),e}(Ky);function Ai(n,e){switch(n){case"heading":return new I5e(n,e);case"list":case"item":return new w5e(n,e);case"link":case"image":return new k5e(n,e);case"codeBlock":return new _5e(n,e);case"htmlBlock":return new E5e(n,e);case"table":return new A5e(n,e);case"tableCell":return new S5e(n,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new du(n,e);case"code":return new D5e(n,e);case"refDef":return new x5e(n,e);case"customBlock":return new T5e(n,e);case"customInline":return new M5e(n,e);default:return new Ky(n,e)}}function NW(n){return"codeBlock"===n.type}function RW(n){return"list"===n.type}function mg(n){return"refDef"===n.type}function OW(n){return"customBlock"===n.type}function Ki(n,e){var t=Ai("text",e);return t.literal=n,t}var SD,K5e=new RegExp("^(?:<[A-Za-z][A-Za-z0-9-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>|</[A-Za-z][A-Za-z0-9-]*\\s*[>]|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|[<][?].*?[?][>]|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)","i");if(String.fromCodePoint)SD=function(n){try{return String.fromCodePoint(n)}catch(e){if(e instanceof RangeError)return String.fromCharCode(65533);throw e}};else{var Y5e=String.fromCharCode,J5e=Math.floor;SD=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=16384,r=[],s=-1,a=n.length;if(!a)return"";for(var l="";++s<a;){var c=Number(n[s]);if(!isFinite(c)||c<0||c>1114111||J5e(c)!==c)return String.fromCharCode(65533);c<=65535?r.push(c):r.push(55296+((c-=65536)>>10),c%1024+56320),(s+1===a||r.length>t)&&(l+=Y5e.apply(void 0,r),r.length=0)}return l}}var xD=SD;function eUe(n){var e=/\)+$/.exec(n);if(e){for(var t=0,r=0,i=n;r<i.length;r++){var o=i[r];"("===o?t<0?t=1:t+=1:")"===o&&(t-=1)}if(t<0){var s=Math.min(-t,e[0].length);return n.substring(0,n.length-s)}}return n}function tUe(n){return n.replace(/&[A-Za-z0-9]+;$/,"")}function iUe(n){return mD(mD([],function rUe(n){for(var r,e=new RegExp("(www|https?://).(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+[^<\\s]*[^<?!.,:*_?~\\s]","g"),t=[];r=e.exec(n);){var i=tUe(eUe(r[0]));t.push({text:i,range:[r.index,r.index+i.length-1],url:("www"===r[1]?"http://":"")+i})}return t}(n)),function nUe(n){for(var r,e=new RegExp("[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+","g"),t=[];r=e.exec(n);){var i=r[0];/[_-]+$/.test(i)||t.push({text:i,range:[r.index,r.index+i.length-1],url:"mailto:"+i})}return t}(n)).sort(function(e,t){return e.range[0]-t.range[0]})}function I_(n){return n[n.length-1]}function BW(n){return n.slice(1,n.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function __(n,e){Object.keys(n).forEach(function(t){e(t,n[t])})}function vg(n){return!Object.keys(n).length}var DD="\\\\"+wD,WW=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),fUe=new RegExp('^(?:"('+DD+'|[^"\\x00])*"|\'('+DD+"|[^'\\x00])*'|\\(("+DD+"|[^()\\x00])*\\))"),pUe=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,jW=new RegExp("^"+wD),gUe=new RegExp("^"+kW,"i"),mUe=/`+/,vUe=/^`+/,yUe=/\.\.\./g,bUe=/--+/g,CUe=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,wUe=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,IUe=/^ *(?:\n *)?/,MD=/^[ \t\n\x0b\x0c\x0d]/,UW=/^\s/,_Ue=/ *$/,AUe=/^ */,zW=/^ *(?:\n|$)/,SUe=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,xUe=/^[^\n`\[\]\\!<&*_'"~$]+/m,TUe=function(){function n(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return n.prototype.sourcepos=function(e,t){var r=this.linePosOffset+this.lineOffsets[this.lineIdx],i=this.lineStartNum+this.lineIdx,o=[i,e+r];return"number"==typeof t?[o,[i,t+r]]:o},n.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},n.prototype.match=function(e){var t=e.exec(this.subject.slice(this.pos));return null===t?null:(this.pos+=t.index+t[0].length,t[0])},n.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},n.prototype.spnl=function(){return this.match(IUe),!0},n.prototype.parseBackticks=function(e){var t=this.pos+1,r=this.match(vUe);if(null===r)return!1;for(var o,i=this.pos;null!==(o=this.match(mUe));)if(o===r){var s=this.subject.slice(i,this.pos-r.length),a=this.sourcepos(t,this.pos),l=s.split("\n");if(l.length>1){var c=I_(l);this.lineIdx+=l.length-1,this.linePosOffset=-(this.pos-c.length-r.length),a[1]=this.sourcepos(this.pos),s=l.join(" ")}var b=Ai("code",a);return b.literal=s.length>0&&null!==s.match(/[^ ]/)&&" "==s[0]&&" "==s[s.length-1]?s.slice(1,s.length-1):s,b.tickCount=r.length,e.appendChild(b),!0}return this.pos=i,e.appendChild(Ki(r,this.sourcepos(t,this.pos-1))),!0},n.prototype.parseBackslash=function(e){var r,t=this.subject;this.pos+=1;var i=this.pos;return 10===this.peek()?(this.pos+=1,r=Ai("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(r),this.nextLine()):jW.test(t.charAt(this.pos))?(e.appendChild(Ki(t.charAt(this.pos),this.sourcepos(i,this.pos))),this.pos+=1):e.appendChild(Ki("\\",this.sourcepos(i,i))),!0},n.prototype.parseAutolink=function(e){var t,r,i,o=this.pos+1;return(t=this.match(CUe))?(r=t.slice(1,t.length-1),(i=Ai("link",this.sourcepos(o,this.pos))).destination=C_("mailto:"+r),i.title="",i.appendChild(Ki(r,this.sourcepos(o+1,this.pos-1))),e.appendChild(i),!0):!!(t=this.match(wUe))&&(r=t.slice(1,t.length-1),(i=Ai("link",this.sourcepos(o,this.pos))).destination=C_(r),i.title="",i.appendChild(Ki(r,this.sourcepos(o+1,this.pos-1))),e.appendChild(i),!0)},n.prototype.parseHtmlTag=function(e){var t=this.pos+1,r=this.match(K5e);if(null===r)return!1;var i=Ai("htmlInline",this.sourcepos(t,this.pos));return i.literal=r,e.appendChild(i),!0},n.prototype.scanDelims=function(e){var t=0,r=this.pos;if(39===e||34===e)t++,this.pos++;else for(;this.peek()===e;)t++,this.pos++;if(0===t||t<2&&(126===e||36===e))return this.pos=r,null;var s,i=0===r?"\n":this.subject.charAt(r-1),o=this.peek();s=-1===o?"\n":xD(o);var H,z,a=UW.test(s),l=WW.test(s),c=UW.test(i),b=WW.test(i),x=!a&&(!l||c||b),L=!c&&(!b||a||l);return 95===e?(H=x&&(!L||b),z=L&&(!x||l)):39===e||34===e?(H=x&&!L,z=L):36===e?(H=!a,z=!c):(H=x,z=L),this.pos=r,{numdelims:t,canOpen:H,canClose:z}},n.prototype.handleDelim=function(e,t){var r=this.scanDelims(e);if(!r)return!1;var i=r.numdelims,o=this.pos+1;this.pos+=i;var a=Ki(39===e?"\u2019":34===e?"\u201c":this.subject.slice(o-1,this.pos),this.sourcepos(o,this.pos));return t.appendChild(a),(r.canOpen||r.canClose)&&(this.options.smart||39!==e&&34!==e)&&(this.delimiters={cc:e,numdelims:i,origdelims:i,node:a,previous:this.delimiters,next:null,canOpen:r.canOpen,canClose:r.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},n.prototype.removeDelimiter=function(e){null!==e.previous&&(e.previous.next=e.next),null===e.next?this.delimiters=e.previous:e.next.previous=e.previous},n.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},n.prototype.processEmphasis=function(e){var t,r,i,o,s,a,l,b=((t={})[95]=[e,e,e],t[42]=[e,e,e],t[39]=[e],t[34]=[e],t[126]=[e],t[36]=[e],t);for(i=this.delimiters;null!==i&&i.previous!==e;)i=i.previous;for(;null!==i;){var x=i.cc,L=95===x||42===x;if(i.canClose){for(r=i.previous,l=!1;null!==r&&r!==e&&r!==b[x][L?i.origdelims%3:0];){if(r.cc===i.cc&&r.canOpen&&(!L||!i.canOpen&&!r.canClose||i.origdelims%3==0||(r.origdelims+i.origdelims)%3!=0)){l=!0;break}r=r.previous}if(o=i,L||126===x||36===x)if(l){if(r){var H=i.numdelims>=2&&r.numdelims>=2?2:1,z=L?0:1;s=r.node,a=i.node;var le=L?1===H?"emph":"strong":"strike";36===x&&(le="customInline");var de=Ai(le),Ce=s.sourcepos[1],ke=a.sourcepos[0];de.sourcepos=[[Ce[0],Ce[1]-H+1],[ke[0],ke[1]+H-1]],s.sourcepos[1][1]-=H,a.sourcepos[0][1]+=H,s.literal=s.literal.slice(H),a.literal=a.literal.slice(H),r.numdelims-=H,i.numdelims-=H;for(var De=s.next,Pe=void 0;De&&De!==a;)Pe=De.next,De.unlink(),de.appendChild(De),De=Pe;if(36===x){var je=de.firstChild,Ye=je.literal||"",mt=Ye.split(/\s/)[0];de.info=mt,Ye.length<=mt.length?je.unlink():(je.sourcepos[0][1]+=mt.length,je.literal=Ye.replace(mt+" ",""))}if(s.insertAfter(de),this.removeDelimitersBetween(r,i),r.numdelims<=z&&(0===r.numdelims&&s.unlink(),this.removeDelimiter(r)),i.numdelims<=z){0===i.numdelims&&a.unlink();var Mt=i.next;this.removeDelimiter(i),i=Mt}}}else i=i.next;else 39===x?(i.node.literal="\u2019",l&&(r.node.literal="\u2018"),i=i.next):34===x&&(i.node.literal="\u201d",l&&(r.node.literal="\u201c"),i=i.next);l||(b[x][L?o.origdelims%3:0]=o.previous,o.canOpen||this.removeDelimiter(o))}else i=i.next}for(;null!==this.delimiters&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},n.prototype.parseLinkTitle=function(){var e=this.match(fUe);return null===e?null:Zy(e.substr(1,e.length-2))},n.prototype.parseLinkDestination=function(){var e=this.match(pUe);if(null===e){if(60===this.peek())return null;for(var t=this.pos,r=0,i=void 0;-1!==(i=this.peek());)if(92===i&&jW.test(this.subject.charAt(this.pos+1)))this.pos+=1,-1!==this.peek()&&(this.pos+=1);else if(40===i)this.pos+=1,r+=1;else if(41===i){if(r<1)break;this.pos+=1,r-=1}else{if(null!==MD.exec(xD(i)))break;this.pos+=1}return this.pos===t&&41!==i||0!==r?null:C_(Zy(e=this.subject.substr(t,this.pos-t)))}return C_(Zy(e.substr(1,e.length-2)))},n.prototype.parseLinkLabel=function(){var e=this.match(SUe);return null===e||e.length>1001?0:e.length},n.prototype.parseOpenBracket=function(e){var t=this.pos;this.pos+=1;var r=Ki("[",this.sourcepos(this.pos,this.pos));return e.appendChild(r),this.addBracket(r,t,!1),!0},n.prototype.parseBang=function(e){var t=this.pos;if(this.pos+=1,91===this.peek()){this.pos+=1;var r=Ki("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(r),this.addBracket(r,t+1,!0)}else r=Ki("!",this.sourcepos(this.pos,this.pos)),e.appendChild(r);return!0},n.prototype.parseCloseBracket=function(e){var t=null,r=null,i=!1;this.pos+=1;var o=this.pos,s=this.brackets;if(null===s)return e.appendChild(Ki("]",this.sourcepos(o,o))),!0;if(!s.active)return e.appendChild(Ki("]",this.sourcepos(o,o))),this.removeBracket(),!0;var a=s.image,l=this.pos;40===this.peek()&&(this.pos++,this.spnl()&&null!==(t=this.parseLinkDestination())&&this.spnl()&&(MD.test(this.subject.charAt(this.pos-1))&&(r=this.parseLinkTitle()),1)&&this.spnl()&&41===this.peek()?(this.pos+=1,i=!0):this.pos=l);var c="";if(!i){var b=this.pos,x=this.parseLinkLabel();if(x>2?c=this.subject.slice(b,b+x):s.bracketAfter||(c=this.subject.slice(s.index,o)),0===x&&(this.pos=l),c){c=BW(c);var L=this.refMap[c];L&&(t=L.destination,r=L.title,i=!0)}}if(i){var H=Ai(a?"image":"link");H.destination=t,H.title=r||"",H.sourcepos=[s.startpos,this.sourcepos(this.pos)];for(var z=s.node.next,le=void 0;z;)le=z.next,z.unlink(),H.appendChild(z),z=le;if(e.appendChild(H),this.processEmphasis(s.previousDelimiter),this.removeBracket(),s.node.unlink(),!a)for(s=this.brackets;null!==s;)s.image||(s.active=!1),s=s.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:c}),!0}return this.removeBracket(),this.pos=o,e.appendChild(Ki("]",this.sourcepos(o,o))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:c}),!0},n.prototype.addBracket=function(e,t,r){null!==this.brackets&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(r?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:r,active:!0}},n.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},n.prototype.parseEntity=function(e){var t,r=this.pos+1;return!!(t=this.match(gUe))&&(e.appendChild(Ki(vD.decodeHTML(t),this.sourcepos(r,this.pos))),!0)},n.prototype.parseString=function(e){var t,r=this.pos+1;if(t=this.match(xUe)){if(this.options.smart){var i=t.replace(yUe,"\u2026").replace(bUe,function(s){var a=0,l=0;return s.length%3==0?l=s.length/3:s.length%2==0?a=s.length/2:s.length%3==2?(a=1,l=(s.length-2)/3):(a=2,l=(s.length-4)/3),ID("\u2014",l)+ID("\u2013",a)});e.appendChild(Ki(i,this.sourcepos(r,this.pos)))}else{var o=Ki(t,this.sourcepos(r,this.pos));e.appendChild(o)}return!0}return!1},n.prototype.parseNewline=function(e){this.pos+=1;var t=e.lastChild;if(t&&"text"===t.type&&" "===t.literal[t.literal.length-1]){var r=" "===t.literal[t.literal.length-2],i=t.literal.length;t.literal=t.literal.replace(_Ue,"");var o=i-t.literal.length;t.sourcepos[1][1]-=o,e.appendChild(Ai(r?"linebreak":"softbreak",this.sourcepos(this.pos-o,this.pos)))}else e.appendChild(Ai("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(AUe),!0},n.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var r=null,i=this.pos,o=this.parseLinkLabel();if(0===o)return 0;var s=this.subject.substr(0,o);if(58!==this.peek())return this.pos=i,0;this.pos++,this.spnl();var a=this.parseLinkDestination();if(null===a)return this.pos=i,0;var l=this.pos;this.spnl(),this.pos!==l&&(r=this.parseLinkTitle()),null===r&&(r="",this.pos=l);var c=!0;if(null===this.match(zW)&&(""===r?c=!1:(r="",this.pos=l,c=null!==this.match(zW))),!c)return this.pos=i,0;var b=BW(s);if(""===b)return this.pos=i,0;var x=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=x[1][0]+1;var L=Ai("refDef",x);return L.title=r,L.dest=a,L.label=b,e.insertBefore(L),t[b]?this.refDefCandidateMap[L.id]=L:t[b]=FD(L),this.pos-i},n.prototype.mergeTextNodes=function(e){for(var t,r=[];t=e.next();){var o=t.node;if(t.entering&&"text"===o.type)r.push(o);else if(1===r.length)r=[];else if(r.length>1){var s=r[0],a=r[r.length-1];s.sourcepos&&a.sourcepos&&(s.sourcepos[1]=a.sourcepos[1]),s.next=a.next,s.next&&(s.next.prev=s);for(var l=1;l<r.length;l+=1)s.literal+=r[l].literal,r[l].unlink();r=[]}}},n.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),r=!1,i=0,o={line:0,ch:0},s=0;s<t.length;s+=1){var a=t[s];if(MD.test(a))break;if(/\:/.test(a)&&0===i){if(r)break;var l=a.indexOf(":")===a.length-1?s+1:s;o={line:l,ch:t[l].length},r=!0}var c=a.match(/'|"/g);if(c&&(i+=c.length),2===i){o={line:s,ch:a.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+o.line,o.ch]]},n.prototype.parseInline=function(e){var t,r=!1,i=this.peek();if(-1===i)return!1;switch(i){case 10:r=this.parseNewline(e);break;case 92:r=this.parseBackslash(e);break;case 96:r=this.parseBackticks(e);break;case 42:case 95:case 126:case 36:r=this.handleDelim(i,e);break;case 39:case 34:r=!(null===(t=this.options)||void 0===t||!t.smart)&&this.handleDelim(i,e);break;case 91:r=this.parseOpenBracket(e);break;case 33:r=this.parseBang(e);break;case 93:r=this.parseCloseBracket(e);break;case 60:r=this.parseAutolink(e)||this.parseHtmlTag(e);break;case 38:e.disabledEntityParse||(r=this.parseEntity(e));break;default:r=this.parseString(e)}return r||(this.pos+=1,e.appendChild(Ki(xD(i),this.sourcepos(this.pos,this.pos+1)))),!0},n.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],function R5e(n){return"heading"===n.type}(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var t=this.options,r=t.extendedAutolinks,i=t.customParser;if(r&&function oUe(n,e){"boolean"==typeof e&&(e=iUe);for(var t,r=function(){var o=t.node;if(t.entering&&"text"===o.type&&"link"!==o.parent.type){var s=o.literal,a=e(s);if(!a||!a.length)return"continue";for(var l=0,c=o.sourcepos[0],b=c[0],x=c[1],L=function(Mt,St){return[[b,x+Mt],[b,x+St]]},H=[],z=0,le=a;z<le.length;z++){var de=le[z],Ce=de.range,ke=de.url,De=de.text;Ce[0]>l&&H.push(Ki(s.substring(l,Ce[0]),L(l,Ce[0]-1)));var Pe=Ai("link",L.apply(void 0,Ce));Pe.appendChild(Ki(De,L.apply(void 0,Ce))),Pe.destination=ke,Pe.extendedAutolink=!0,H.push(Pe),l=Ce[1]+1}l<s.length&&H.push(Ki(s.substring(l),L(l,s.length-1)));for(var je=0,Ye=H;je<Ye.length;je++)o.insertBefore(Ye[je]);o.unlink()}};t=n.next();)r()}(e.walker(),r),i&&e.firstChild)for(var o,s=e.firstChild.walker();o=s.next();){var a=o.node;i[a.type]&&i[a.type](a,{entering:o.entering,options:this.options})}},n}(),EUe=/^\[([ \txX])\][ \t]+/,XW=/[^ \t\f\v\r\n]/,BUe=/^(?:`{3,}|~{3,})(?= *$)/;function qW(n){for(var e=n;e;){if(e.lastLineBlank)return!0;var t=e.type;if(e.lastLineChecked||"list"!==t&&"item"!==t){e.lastLineChecked=!0;break}e.lastLineChecked=!0,e=e.lastChild}return!1}function la(n,e){return e<n.length?n.charCodeAt(e):-1}function QW(n){return!XW.test(n)}function yg(n){return 32===n||9===n}var $Ue=/^\$\$$/,e3={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},bg={document:{continue:function(){return 0},finalize:function(){},canContain:function(n){return"item"!==n},acceptsLines:!1},list:{continue:function(){return 0},finalize:function(n,e){for(var t=e.firstChild;t;){if(qW(t)&&t.next){e.listData.tight=!1;break}for(var r=t.firstChild;r;){if(qW(r)&&(t.next||r.next)){e.listData.tight=!1;break}r=r.next}t=t.next}},canContain:function(n){return"item"===n},acceptsLines:!1},blockQuote:{continue:function(n){var e=n.currentLine;return n.indented||62!==la(e,n.nextNonspace)?1:(n.advanceNextNonspace(),n.advanceOffset(1,!1),yg(la(e,n.offset))&&n.advanceOffset(1,!0),0)},finalize:function(){},canContain:function(n){return"item"!==n},acceptsLines:!1},item:{continue:function(n,e){if(n.blank){if(null===e.firstChild)return 1;n.advanceNextNonspace()}else{if(!(n.indent>=e.listData.markerOffset+e.listData.padding))return 1;n.advanceOffset(e.listData.markerOffset+e.listData.padding,!0)}return 0},finalize:function kUe(n,e){if(e.firstChild&&"paragraph"===e.firstChild.type){var t=e.firstChild,r=t.stringContent.match(EUe);if(r){var i=r[0].length;t.stringContent=t.stringContent.substring(i-1),t.sourcepos[0][1]+=i,t.lineOffsets[0]+=i,e.listData.task=!0,e.listData.checked=/[xX]/.test(r[1])}}},canContain:function(n){return"item"!==n},acceptsLines:!1},heading:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},thematicBreak:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},codeBlock:{continue:function(n,e){var t=n.currentLine,r=n.indent;if(e.isFenced){var i=r<=3&&t.charAt(n.nextNonspace)===e.fenceChar&&t.slice(n.nextNonspace).match(BUe);if(i&&i[0].length>=e.fenceLength)return n.lastLineLength=n.offset+r+i[0].length,n.finalize(e,n.lineNumber),2;for(var o=e.fenceOffset;o>0&&yg(la(t,n.offset));)n.advanceOffset(1,!0),o--}else if(r>=4)n.advanceOffset(4,!0);else{if(!n.blank)return 1;n.advanceNextNonspace()}return 0},finalize:function(n,e){var t;if(null!==e.stringContent){if(e.isFenced){var r=e.stringContent,i=r.indexOf("\n"),o=r.slice(0,i),s=r.slice(i+1),a=o.match(/^(\s*)(.*)/);e.infoPadding=a[1].length,e.info=Zy(a[2].trim()),e.literal=s}else e.literal=null===(t=e.stringContent)||void 0===t?void 0:t.replace(/(\n *)+$/,"\n");e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},htmlBlock:{continue:function(n,e){return!n.blank||6!==e.htmlBlockType&&7!==e.htmlBlockType?0:1},finalize:function(n,e){var t;e.literal=(null===(t=e.stringContent)||void 0===t?void 0:t.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},paragraph:{continue:function(n){return n.blank?1:0},finalize:function(n,e){if(null!==e.stringContent){for(var t,r=!1;91===la(e.stringContent,0)&&(t=n.inlineParser.parseReference(e,n.refMap));)e.stringContent=e.stringContent.slice(t),r=!0;r&&QW(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},table:{continue:function(){return 0},finalize:function(){},canContain:function(n){return"tableHead"===n||"tableBody"===n},acceptsLines:!1},tableBody:{continue:function(){return 0},finalize:function(){},canContain:function(n){return"tableRow"===n},acceptsLines:!1},tableHead:{continue:function(){return 1},finalize:function(){},canContain:function(n){return"tableRow"===n||"tableDelimRow"===n},acceptsLines:!1},tableRow:{continue:function(){return 1},finalize:function(){},canContain:function(n){return"tableCell"===n},acceptsLines:!1},tableCell:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},tableDelimRow:{continue:function(){return 1},finalize:function(){},canContain:function(n){return"tableDelimCell"===n},acceptsLines:!1},tableDelimCell:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},refDef:e3,customBlock:{continue:function(n,e){var t=n.currentLine,r=t.match($Ue);if(r)return n.lastLineLength=r[0].length,n.finalize(e,n.lineNumber),2;for(var i=e.offset;i>0&&yg(la(t,n.offset));)n.advanceOffset(1,!0),i--;return 0},finalize:function(n,e){if(null!==e.stringContent){var t=e.stringContent,r=t.indexOf("\n"),i=t.slice(0,r),o=t.slice(r+1),s=i.match(/^(\s*)(.*)/);e.info=Zy(s[2].trim()),e.literal=o,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},frontMatter:e3};function ND(n){for(var e=0,t=0,r=[],i=0;i<n.length;i+=1)if("|"===n[i]&&"\\"!==n[i-1]){var o=n.substring(e,i);0===e&&MW(o)?t=i+1:r.push(o),e=i+1}return e<n.length&&(MW(o=n.substring(e,n.length))||r.push(o)),[t,r]}function RD(n,e,t,r){for(var i=[],o=0,s=e;o<s.length;o++){var a=s[o],l=a.match(/^[ \t]+/),c=l?l[0].length:0,b=void 0,x=void 0;if(c===a.length)c=0,b=0,x="";else{var L=a.match(/[ \t]+$/);x=a.slice(c,a.length-(b=L?L[0].length:0))}var H=r+c,z=Ai(n,[[t,r],[t,r+a.length-1]]);z.stringContent=x.replace(/\\\|/g,"|"),z.startIdx=i.length,z.endIdx=i.length,z.lineOffsets=[H-1],z.paddingLeft=c,z.paddingRight=b,i.push(z),r+=a.length+1}return i}function qUe(n){var e=null,t=n.stringContent,r=t[0];return":"===t[t.length-1]?e=":"===r?"center":"right":":"===r&&(e="left"),{align:e}}var tze=/^(\$\$)(\s*[a-zA-Z])+/,nze=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,ize=/^`{3,}(?!.*`)|^~{3,}/,oze=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:<[A-Za-z][A-Za-z0-9-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>|</[A-Za-z][A-Za-z0-9-]*\\s*[>])\\s*$","i")],sze=/^(?:=+|-+)[ \t]*$/,aze=/^#{1,6}(?:[ \t]+|$)/,lze=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,t3=/^[*+-]/,n3=/^(\d{1,9})([.)])/;function r3(n,e){return n.options.disallowDeepHeading&&("blockQuote"===e.type||"item"===e.type)}var OD=[function(n){return n.indented||62!==la(n.currentLine,n.nextNonspace)?0:(n.advanceNextNonspace(),n.advanceOffset(1,!1),yg(la(n.currentLine,n.offset))&&n.advanceOffset(1,!0),n.closeUnmatchedBlocks(),n.addChild("blockQuote",n.nextNonspace),1)},function(n,e){var t;if(!n.indented&&!r3(n,e)&&(t=n.currentLine.slice(n.nextNonspace).match(aze))){n.advanceNextNonspace(),n.advanceOffset(t[0].length,!1),n.closeUnmatchedBlocks();var r=n.addChild("heading",n.nextNonspace);return r.level=t[0].trim().length,r.headingType="atx",r.stringContent=n.currentLine.slice(n.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),n.advanceOffset(n.currentLine.length-n.offset),2}return 0},function(n){var e;if(!n.indented&&(e=n.currentLine.slice(n.nextNonspace).match(ize))){var t=e[0].length;n.closeUnmatchedBlocks();var r=n.addChild("codeBlock",n.nextNonspace);return r.isFenced=!0,r.fenceLength=t,r.fenceChar=e[0][0],r.fenceOffset=n.indent,n.advanceNextNonspace(),n.advanceOffset(t,!1),2}return 0},function(n,e){if(!n.indented&&60===la(n.currentLine,n.nextNonspace)){var t=n.currentLine.slice(n.nextNonspace),r=n.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var o=t.match(oze[i]);if(o){if(7===i){if("paragraph"===e.type)return 0;if(r.length>0&&new RegExp("</?(?:"+r.join("|")+")","i").test(o[0]))return 0}return n.closeUnmatchedBlocks(),n.addChild("htmlBlock",n.offset).htmlBlockType=i,2}}}return 0},function(n,e){var t;if(null!==e.stringContent&&!n.indented&&"paragraph"===e.type&&!r3(n,e.parent)&&(t=n.currentLine.slice(n.nextNonspace).match(sze))){n.closeUnmatchedBlocks();for(var r=void 0;91===la(e.stringContent,0)&&(r=n.inlineParser.parseReference(e,n.refMap));)e.stringContent=e.stringContent.slice(r);if(e.stringContent.length>0){var i=Ai("heading",e.sourcepos);return i.level="="===t[0][0]?1:2,i.headingType="setext",i.stringContent=e.stringContent,e.insertAfter(i),e.unlink(),n.tip=i,n.advanceOffset(n.currentLine.length-n.offset,!1),2}return 0}return 0},function(n){return!n.indented&&lze.test(n.currentLine.slice(n.nextNonspace))?(n.closeUnmatchedBlocks(),n.addChild("thematicBreak",n.nextNonspace),n.advanceOffset(n.currentLine.length-n.offset,!1),2):0},function(n,e){var t,r=e;return n.indented&&"list"!==e.type||!(t=function cze(n,e){var r,i,t=n.currentLine.slice(n.nextNonspace),o={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:n.indent,task:!1,checked:!1};if(n.indent>=4)return null;if(r=t.match(t3))o.type="bullet",o.bulletChar=r[0][0];else{if(!(r=t.match(n3))||"paragraph"===e.type&&"1"!==r[1])return null;o.type="ordered",o.start=parseInt(r[1],10),o.delimiter=r[2]}if(-1!==(i=la(n.currentLine,n.nextNonspace+r[0].length))&&9!==i&&32!==i||"paragraph"===e.type&&!n.currentLine.slice(n.nextNonspace+r[0].length).match(XW))return null;n.advanceNextNonspace(),n.advanceOffset(r[0].length,!0);var s=n.column,a=n.offset;do{n.advanceOffset(1,!0),i=la(n.currentLine,n.offset)}while(n.column-s<5&&yg(i));var l=-1===la(n.currentLine,n.offset),c=n.column-s;return c>=5||c<1||l?(o.padding=r[0].length+1,n.column=s,n.offset=a,yg(la(n.currentLine,n.offset))&&n.advanceOffset(1,!0)):o.padding=r[0].length+c,o}(n,r))?0:(n.closeUnmatchedBlocks(),("list"!==n.tip.type||!function uze(n,e){return n.type===e.type&&n.delimiter===e.delimiter&&n.bulletChar===e.bulletChar}(r.listData,t))&&((r=n.addChild("list",n.nextNonspace)).listData=t),(r=n.addChild("item",n.nextNonspace)).listData=t,1)},function(n){return n.indented&&"paragraph"!==n.tip.type&&!n.blank?(n.advanceOffset(4,!0),n.closeUnmatchedBlocks(),n.addChild("codeBlock",n.offset),2):0},function(n,e){var t=e.stringContent;if("paragraph"===e.type&&!n.indented&&!n.blank){var r=t.length-1,i=t.lastIndexOf("\n",r-1)+1,o=t.slice(i,r),s=n.currentLine.slice(n.nextNonspace),a=ND(o),l=a[0],c=a[1],b=ND(s),x=b[0],L=b[1],H=/^[ \t]*:?-+:?[ \t]*$/;if(!c.length||!L.length||L.some(function(Mt){return!H.test(Mt)})||1===L.length&&0!==s.indexOf("|"))return 0;var z=e.lineOffsets,le=n.lineNumber-1,de=I_(z)+1,Ce=Ai("table",[[le,de],[n.lineNumber,n.offset]]);if(Ce.columns=L.map(function(){return{align:null}}),e.insertAfter(Ce),1===z.length)e.unlink();else{e.stringContent=t.slice(0,i);var ke=t.lastIndexOf("\n",i-2)+1;n.lastLineLength=z[z.length-2]+(i-ke-1),n.finalize(e,le-1)}n.advanceOffset(n.currentLine.length-n.offset,!1);var Pe=Ai("tableHead",[[le,de],[n.lineNumber,n.offset]]);Ce.appendChild(Pe);var je=Ai("tableRow",[[le,de],[le,de+o.length-1]]),Ye=Ai("tableDelimRow",[[n.lineNumber,n.nextNonspace+1],[n.lineNumber,n.offset]]);Pe.appendChild(je),Pe.appendChild(Ye),RD("tableCell",c,le,de+l).forEach(function(Mt){je.appendChild(Mt)});var mt=RD("tableDelimCell",L,n.lineNumber,n.nextNonspace+1+x);return mt.forEach(function(Mt){Ye.appendChild(Mt)}),Ce.columns=mt.map(qUe),n.tip=Ce,2}return 0},function(n,e){if("table"!==e.type&&"tableBody"!==e.type||!n.blank&&-1===n.currentLine.indexOf("|"))return 0;if(n.advanceOffset(n.currentLine.length-n.offset,!1),n.blank){var t=e;return"tableBody"===e.type&&(t=e.parent,n.finalize(e,n.lineNumber-1)),n.finalize(t,n.lineNumber-1),0}var r=e;"table"===e.type&&((r=n.addChild("tableBody",n.nextNonspace)).stringContent=null);var i=Ai("tableRow",[[n.lineNumber,n.nextNonspace+1],[n.lineNumber,n.currentLine.length]]);r.appendChild(i);var o=r.parent,a=ND(n.currentLine.slice(n.nextNonspace));return RD("tableCell",a[1],n.lineNumber,n.nextNonspace+1+a[0]).forEach(function(b,x){x>=o.columns.length&&(b.ignored=!0),i.appendChild(b)}),2},function(n){var e;if(!n.indented&&!nze.test(n.currentLine)&&(e=n.currentLine.match(tze))){var t=e[1].length;n.closeUnmatchedBlocks();var r=n.addChild("customBlock",n.nextNonspace);return r.syntaxLength=t,r.offset=n.indent,n.advanceNextNonspace(),n.advanceOffset(t,!1),2}return 0}],i3=/^(-{3}|\+{3}|;{3})$/,bze=function(n,e){var t=n.currentLine;return 1===n.lineNumber&&!n.indented&&"document"===e.type&&i3.test(t)?(n.closeUnmatchedBlocks(),n.addChild("frontMatter",n.nextNonspace).stringContent=t,n.advanceNextNonspace(),n.advanceOffset(t.length,!1),2):0},Cze={continue:function(n,e){var t=n.currentLine,r=t.match(i3);return"frontMatter"===e.type&&r?(e.stringContent+=t,n.lastLineLength=r[0].length,n.finalize(e,n.lineNumber),2):0},finalize:function(n,e){null!==e.stringContent&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},wze=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],Ize=/^[#`~*+_=<>0-9-;$]/,_ze=/\r\n|\n|\r/;function LD(){return Ai("document",[[1,1],[0,0]])}var Aze={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},Sze=function(){function n(e){this.options=ko(ko({},Aze),e),this.doc=LD(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(bg.frontMatter=Cze,OD.unshift(bze)),this.inlineParser=new TUe(this.options)}return n.prototype.advanceOffset=function(e,t){void 0===t&&(t=!1);for(var i,o,s,r=this.currentLine;e>0&&(s=r[this.offset]);)"\t"===s?(i=4-this.column%4,t?(this.partiallyConsumedTab=i>e,this.column+=o=i>e?e:i,this.offset+=this.partiallyConsumedTab?0:1,e-=o):(this.partiallyConsumedTab=!1,this.column+=i,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},n.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},n.prototype.findNextNonspace=function(){for(var i,e=this.currentLine,t=this.offset,r=this.column;""!==(i=e.charAt(t));)if(" "===i)t++,r++;else{if("\t"!==i)break;t++,r+=4-r%4}this.blank="\n"===i||"\r"===i||""===i,this.nextNonspace=t,this.nextNonspaceColumn=r,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=4},n.prototype.addLine=function(){this.partiallyConsumedTab&&(this.offset+=1,this.tip.stringContent+=ID(" ",4-this.column%4)),this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+"\n"},n.prototype.addChild=function(e,t){for(;!bg[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var i=Ai(e,[[this.lineNumber,t+1],[0,0]]);return i.stringContent="",this.tip.appendChild(i),this.tip=i,i},n.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},n.prototype.finalize=function(e,t){var r=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],bg[e.type].finalize(this,e),this.tip=r},n.prototype.processInlines=function(e){var t,r=this.options.customParser,i=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;t=i.next();){var o=t.node,s=t.entering,a=o.type;r&&r[a]&&r[a](o,{entering:s,options:this.options}),!s&&("paragraph"===a||"heading"===a||"tableCell"===a&&!o.ignored)&&this.inlineParser.parse(o)}},n.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,-1!==e.indexOf("\0")&&(e=e.replace(/\0/g,"\ufffd")),this.currentLine=e;for(var i,r=!0;(i=t.lastChild)&&i.open;){switch(t=i,this.findNextNonspace(),bg[t.type].continue(this,t)){case 0:break;case 1:r=!1;break;case 2:return void(this.lastLineLength=e.length);default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!r){t=t.parent;break}}this.allClosed=t===this.oldtip,this.lastMatchedContainer=t;for(var o="paragraph"!==t.type&&bg[t.type].acceptsLines,s=OD.length;!o;){if(this.findNextNonspace(),"table"!==t.type&&"tableBody"!==t.type&&"paragraph"!==t.type&&!this.indented&&!Ize.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var a=0;a<s;){var l=OD[a](this,t);if(1===l){t=this.tip;break}if(2===l){t=this.tip,o=!0;break}a++}if(a===s){this.advanceNextNonspace();break}}if(this.allClosed||this.blank||"paragraph"!==this.tip.type){this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);for(var c=t.type,b=this.blank&&!("blockQuote"===c||NW(t)&&t.isFenced||"item"===c&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),x=t;x;)x.lastLineBlank=b,x=x.parent;bg[c].acceptsLines?(this.addLine(),function N5e(n){return"htmlBlock"===n.type}(t)&&t.htmlBlockType>=1&&t.htmlBlockType<=5&&wze[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}else this.addLine();this.lastLineLength=e.length},n.prototype.parse=function(e,t){this.doc=LD(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var r=e.split(_ze),i=r.length;this.lines=t||r,this.options.referenceDefinition&&this.clearRefMaps(),10===e.charCodeAt(e.length-1)&&(i-=1);for(var o=0;o<i;o++)this.incorporateLine(r[o]);for(;this.tip;)this.finalize(this.tip,i);return this.processInlines(this.doc),this.doc},n.prototype.partialParseStart=function(e,t){this.doc=LD(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var r=t.length,i=0;i<r;i++)this.incorporateLine(t[i]);return this.doc},n.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},n.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},n.prototype.setRefMaps=function(e,t,r){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=r},n.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){!function aUe(n){Object.keys(n).forEach(function(e){delete n[e]})}(e)})},n}();function o3(n,e){return n[0]<e[0]?1:n[0]>e[0]?-1:n[1]<e[1]?1:n[1]>e[1]?-1:0}function xze(n,e){var t=n[0];return 1===o3(n[1],e)?1:-1===o3(t,e)?-1:0}function s3(n,e){for(var t=0,r=e;t<r.length;t++)n.insertBefore(r[t])}function a3(n,e){return n[1][0]<e?1:n[0][0]>e?-1:0}function T_(n,e){for(var t=n.firstChild;t;){var r=a3(t.sourcepos,e);if(0===r)return t;if(-1===r)return t.prev||t;t=t.next}return n.lastChild}function l3(n){return function b5e(n){return w_[n]}(n)||null}function PD(n,e,t){if(void 0===t&&(t=null),e)for(var r=e.walker();e&&e!==t;){n(e);var i=r.next();if(!i)break;e=i.node}}var c3=/\r\n|\n|\r/;function FD(n){return{id:n.id,title:n.title,sourcepos:n.sourcepos,unlinked:!1,destination:n.dest}}var u3=function(){function n(e,t){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!t?.referenceDefinition,this.parser=new Sze(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},this.lineTexts=(e=e||"").split(c3),this.root=this.parser.parse(e,this.lineTexts)}return n.prototype.updateLineTexts=function(e,t,r){var i,o=e[0],s=e[1],a=t[0],l=t[1],c=r.split(c3),b=c.length,L=this.lineTexts[a-1];c[0]=this.lineTexts[o-1].slice(0,s-1)+c[0],c[b-1]=c[b-1]+L.slice(l-1);var H=a-o+1;return(i=this.lineTexts).splice.apply(i,mD([o-1,H],c)),b-H},n.prototype.updateRootNodeState=function(){if(1===this.lineTexts.length&&""===this.lineTexts[0])return this.root.lastLineBlank=!0,void(this.root.sourcepos=[[1,1],[1,0]]);this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,t=e.length-1;""===e[t];)t-=1;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]},n.prototype.replaceRangeNodes=function(e,t,r){e?(s3(e,r),function Tze(n,e){if(n.parent===e.parent&&n!==e){for(var t=n.next;t&&t!==e;){for(var r=t.next,i=0,o=["parent","prev","next"];i<o.length;i++){var s=o[i];t[s]&&(AD(t[s].id),t[s]=null)}t=r}n.next=e.next,e.next?e.next.prev=n:n.parent.lastChild=n}}(e,t),[e.id,t.id].forEach(function(i){return AD(i)}),e.unlink()):t?(s3(t,r),AD(t.id),t.unlink()):function kze(n,e){for(var t=e.length-1;t>=0;t-=1)n.prependChild(e[t])}(this.root,r)},n.prototype.getNodeRange=function(e,t){var r=T_(this.root,e[0]),i=T_(this.root,t[0]);return i&&i.next&&t[0]+1===i.next.sourcepos[0][0]&&(i=i.next),[r,i]},n.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach(function(r){r(t)})},n.prototype.extendEndLine=function(e){for(;""===this.lineTexts[e];)e+=1;return e},n.prototype.parseRange=function(e,t,r,i){e&&e.prev&&(RW(e.prev)&&function Pze(n){var e=n.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var t=e?n.slice(e.length):n;return t3.test(t)||n3.test(t)}(this.lineTexts[r-1])||function O5e(n){return"table"===n.type}(e.prev)&&function Fze(n){return!QW(n)&&-1!==n.indexOf("|")}(this.lineTexts[r-1]))&&(r=(e=e.prev).sourcepos[0][0]);for(var o=this.lineTexts.slice(r-1,i),s=this.parser.partialParseStart(r,o),a=t?t.next:this.root.firstChild,l=s.lastChild,c=l&&NW(l)&&l.open,b=l&&OW(l)&&l.open,x=l&&RW(l);(c||b)&&a||x&&a&&("list"===a.type||a.sourcepos[0][1]>=2);){var L=this.extendEndLine(a.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(i,L)),e||(e=t),t=a,i=L,a=a.next}this.parser.partialParseFinish();var H=function Eze(n){for(var e=[],t=n.firstChild;t;)e.push(t),t=t.next;return e}(s);return{newNodes:H,extStartNode:e,extEndNode:t}},n.prototype.getRemovedNodeRange=function(e,t){return!e||e&&mg(e)||t&&mg(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},n.prototype.markDeletedRefMap=function(e,t){var r=this;if(!vg(this.refMap)){var i=function(o){if(mg(o)){var s=r.refMap[o.label];s&&o.id===s.id&&(s.unlinked=!0)}};e&&PD(i,e.parent,t),t&&PD(i,t)}},n.prototype.replaceWithNewRefDefState=function(e){var t=this;if(!vg(this.refMap)){var r=function(i){if(mg(i)){var o=i.label,s=t.refMap[o];(!s||s.unlinked)&&(t.refMap[o]=FD(i))}};e.forEach(function(i){PD(r,i)})}},n.prototype.replaceWithRefDefCandidate=function(){var e=this;vg(this.refDefCandidateMap)||__(this.refDefCandidateMap,function(t,r){var i=r.label,s=e.refMap[i];(!s||s.unlinked||s.sourcepos[0][0]>r.sourcepos[0][0])&&(e.refMap[i]=FD(r))})},n.prototype.getRangeWithRefDef=function(e,t,r,i,o){if(this.referenceDefinition&&!vg(this.refMap)){var s=T_(this.root,e-1),a=T_(this.root,t+1);s&&mg(s)&&s!==r&&s!==i&&(e=(r=s).sourcepos[0][0]),a&&mg(a)&&a!==r&&a!==i&&(t=this.extendEndLine((i=a).sourcepos[1][0]+o))}return[r,i,e,t]},n.prototype.parse=function(e,t,r){void 0===r&&(r=0);var i=this.getNodeRange(e,t),o=i[0],s=i[1],a=o?Math.min(o.sourcepos[0][0],e[0]):e[0],l=this.extendEndLine((s?Math.max(s.sourcepos[1][0],t[0]):t[0])+r),c=this.parseRange.apply(this,this.getRangeWithRefDef(a,l,o,s,r)),b=c.newNodes,x=c.extStartNode,L=c.extEndNode,H=this.getRemovedNodeRange(x,L),z=L?L.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(x,L),this.replaceRangeNodes(x,L,b),this.replaceWithNewRefDefState(b)):this.replaceRangeNodes(x,L,b),{nodes:b,removedNodeRange:H,nextNode:z}},n.prototype.parseRefLink=function(){var e=this,t=[];return vg(this.refMap)||__(this.refMap,function(r,i){i.unlinked&&delete e.refMap[r],__(e.refLinkCandidateMap,function(o,s){var a=s.node;s.refLabel===r&&t.push(e.parse(a.sourcepos[0],a.sourcepos[1]))})}),t},n.prototype.removeUnlinkedCandidate=function(){vg(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){__(e,function(t){(function Lze(n){var e=l3(n);if(!e)return!0;for(;e&&"document"!==e.type;){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1})(t)&&delete e[t]})})},n.prototype.editMarkdown=function(e,t,r){var i=this.updateLineTexts(e,t,r),o=this.parse(e,t,i),s=function sUe(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var r=ko({},n);return e.forEach(function(i){delete r[i]}),r}(o,"nextNode");(function Dze(n,e){if(n&&n.parent&&0!==e){var r,t=n.parent.walker();for(t.resumeAt(n,!0);r=t.next();){var i=r.node;r.entering&&(i.sourcepos[0][0]+=e,i.sourcepos[1][0]+=e)}}})(o.nextNode,i),this.updateRootNodeState();var a=[s];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),a=a.concat(this.parseRefLink())),this.trigger("change",a),a},n.prototype.getLineTexts=function(){return this.lineTexts},n.prototype.getRootNode=function(){return this.root},n.prototype.findNodeAtPosition=function(e){var t=function Oze(n,e){for(var t=n,r=null;t;){var i=xze(t.sourcepos,e);if(0===i){if(!t.firstChild)return t;r=t,t=t.firstChild}else{if(-1===i)return r;if(!t.next)return r;t=t.next}}return t}(this.root,e);return t&&t!==this.root?t:null},n.prototype.findFirstNodeAtLine=function(e){return function Rze(n,e){for(var t=n.firstChild,r=null;t;){var i=a3(t.sourcepos,e);if(0===i){if(t.sourcepos[0][0]===e||!t.firstChild)return t;r=t,t=t.firstChild}else{if(-1===i)break;r=t,t=t.next}}return r?function Nze(n){for(;n.parent&&"document"!==n.parent.type&&n.parent.sourcepos[0][0]===n.sourcepos[0][0];)n=n.parent;return n}(function Mze(n){for(;n.lastChild;)n=n.lastChild;return n}(r)):null}(this.root,e)},n.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},n.prototype.off=function(e,t){var r=this.eventHandlerMap[e],i=r.indexOf(t);r.splice(i,1)},n.prototype.findNodeById=function(e){return l3(e)},n.prototype.removeAllNode=function(){!function C5e(){w_={}}()},n}(),d3=new RegExp("<(/?(?:"+["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"].join("|")+")[^>]*>)","ig");function h3(n){return d3.test(n)?n.replace(d3,function(e,t){return"&lt;"+t}):n}var f3={heading:function(n,e){return{type:e.entering?"openTag":"closeTag",tagName:"h"+n.level,outerNewLine:!0}},text:function(n){return{type:"text",content:n.literal}},softbreak:function(n,e){return{type:"html",content:e.options.softbreak}},linebreak:function(){return{type:"html",content:"<br />\n"}},emph:function(n,e){return{type:e.entering?"openTag":"closeTag",tagName:"em"}},strong:function(n,e){return{type:e.entering?"openTag":"closeTag",tagName:"strong"}},paragraph:function(n,e){var t,i=null===(t=n.parent)||void 0===t?void 0:t.parent;return i&&"list"===i.type&&i.listData.tight?null:{type:e.entering?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(n,e){return{type:e.entering?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(n,e){var t=e.entering,r=n.listData,o=r.start,s="bullet"===r.type?"ul":"ol",a={};return"ol"===s&&null!==o&&1!==o&&(a.start=o.toString()),{type:t?"openTag":"closeTag",tagName:s,attributes:a,outerNewLine:!0}},item:function(n,e){return{type:e.entering?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(n,e){return{type:"html",content:e.options.tagFilter?h3(n.literal):n.literal}},htmlBlock:function(n,e){var t=e.options,r=t.tagFilter?h3(n.literal):n.literal;return t.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:r},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:r,outerNewLine:!0}},code:function(n){return[{type:"openTag",tagName:"code"},{type:"text",content:n.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(n){var e=n.info,t=e?e.split(/\s+/):[],r=[];return t.length>0&&t[0].length>0&&r.push("language-"+gg(t[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:r},{type:"text",content:n.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(n,e){if(e.entering){var i=n.title;return{type:"openTag",tagName:"a",attributes:ko({href:gg(n.destination)},i&&{title:gg(i)})}}return{type:"closeTag",tagName:"a"}},image:function(n,e){var t=e.getChildrenText,o=n.title,s=n.destination;return(0,e.skipChildren)(),{type:"openTag",tagName:"img",selfClose:!0,attributes:ko({src:gg(s),alt:t(n)},o&&{title:gg(o)})}},customBlock:function(n,e,t){var r=n.info.trim().toLowerCase(),i=t[r];if(i)try{return i(n,e)}catch(o){console.warn("[@toast-ui/editor] - The error occurred when "+r+" block node was parsed in markdown renderer: "+o)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:n.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(n){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:n.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(n,e,t){var i=n.info,o=n.firstChild,s=i.trim().toLowerCase(),a=t[s],l=e.entering;if(a)try{return a(n,e)}catch(c){console.warn("[@toast-ui/editor] - The error occurred when "+s+" inline node was parsed in markdown renderer: "+c)}return l?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+i+(o?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},p3={strike:function(n,e){return{type:e.entering?"openTag":"closeTag",tagName:"del"}},item:function(n,e){var r=n.listData;if(e.entering){var s={type:"openTag",tagName:"li",outerNewLine:!0};return r.task?[s,{type:"openTag",tagName:"input",selfClose:!0,attributes:ko(ko({},r.checked&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:s}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(n,e){return{type:e.entering?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(n,e){return{type:e.entering?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(n,e){return{type:e.entering?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(n,e){if(e.entering)return{type:"openTag",tagName:"tr",outerNewLine:!0};var r=[];if(n.lastChild)for(var i=n.parent.parent.columns.length,s=n.lastChild.endIdx+1;s<i;s+=1)r.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return r.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),r},tableCell:function(n,e){if(n.ignored)return{type:"text",content:""};var r=n.parent.parent,i="tableHead"===r.type?"th":"td",s=r.parent.columns[n.startIdx],a=s?.align?{align:s.align}:null;return e.entering?ko({type:"openTag",tagName:i,outerNewLine:!0},a&&{attributes:a}):{type:"closeTag",tagName:i,outerNewLine:!0}}},$ze={softbreak:"\n",gfm:!1,tagFilter:!1,nodeId:!1};function Hze(n){for(var e=[],t=n.walker(),r=null;r=t.next();){var i=r.node;"text"===i.type&&e.push(i.literal)}return e.join("")}var BD=function(){function n(e){this.buffer=[],this.options=ko(ko({},$ze),e),this.convertors=this.createConvertors(),delete this.options.convertors}return n.prototype.createConvertors=function(){var e=ko({},f3);if(this.options.gfm&&(e=ko(ko({},e),p3)),this.options.convertors){var t=this.options.convertors,r=Object.keys(t),i=ko(ko({},f3),p3);r.forEach(function(o){var s=e[o],a=t[o],l=-1===Object.keys(i).indexOf(o)?o.toLowerCase():o;e[l]=s?function(c,b,x){return b.origin=function(){return s(c,b,x)},a(c,b)}:a})}return e},n.prototype.getConvertors=function(){return this.convertors},n.prototype.getOptions=function(){return this.options},n.prototype.render=function(e){var t=this;this.buffer=[];for(var r=e.walker(),i=null,o=function(){var a=i.node,c=s.convertors[a.type];if(!c)return"continue";var b=!1,x={entering:i.entering,leaf:!_D(a),options:s.options,getChildrenText:Hze,skipChildren:function(){b=!0}},L=OW(a)||function L5e(n){return"customInline"===n.type}(a)?c(a,x,s.convertors):c(a,x);L&&((Array.isArray(L)?L:[L]).forEach(function(z,le){"openTag"===z.type&&t.options.nodeId&&0===le&&(z.attributes||(z.attributes={}),z.attributes["data-nodeid"]=String(a.id)),t.renderHTMLNode(z)}),b&&(r.resumeAt(a,!1),r.next()))},s=this;i=r.next();)o();return this.addNewLine(),this.buffer.join("")},n.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e)}},n.prototype.generateOpenTagString=function(e){var t=this,i=e.classNames,o=e.attributes;this.buffer.push("<"+e.tagName),i&&i.length>0&&this.buffer.push(' class="'+i.join(" ")+'"'),o&&Object.keys(o).forEach(function(s){t.buffer.push(" "+s+'="'+o[s]+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},n.prototype.generateCloseTagString=function(e){this.buffer.push("</"+e.tagName+">")},n.prototype.addNewLine=function(){this.buffer.length&&"\n"!==I_(I_(this.buffer))&&this.buffer.push("\n")},n.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},n.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},n.prototype.renderTextNode=function(e){this.buffer.push(gg(e.content))},n.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},n.prototype.renderElementNode=function(e){"openTag"===e.type?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},n}(),Gze=Object.hasOwnProperty,g3=Object.setPrototypeOf,Wze=Object.isFrozen,jze=Object.getPrototypeOf,Uze=Object.getOwnPropertyDescriptor,As=Object.freeze,hu=Object.seal,zze=Object.create,m3=typeof Reflect<"u"&&Reflect,E_=m3.apply,$D=m3.construct;E_||(E_=function(e,t,r){return e.apply(t,r)}),As||(As=function(e){return e}),hu||(hu=function(e){return e}),$D||($D=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function Vze(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}(t))))});var Zze=gl(Array.prototype.forEach),v3=gl(Array.prototype.pop),Yy=gl(Array.prototype.push),k_=gl(String.prototype.toLowerCase),y3=gl(String.prototype.match),_d=gl(String.prototype.replace),Kze=gl(String.prototype.indexOf),Yze=gl(String.prototype.trim),fu=gl(RegExp.prototype.test),b3=function Jze(n){return function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return $D(n,t)}}(TypeError);function gl(n){return function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return E_(n,e,r)}}function Fn(n,e){g3&&g3(n,null);for(var t=e.length;t--;){var r=e[t];if("string"==typeof r){var i=k_(r);i!==r&&(Wze(e)||(e[t]=i),r=i)}n[r]=!0}return n}function hf(n){var e=zze(null),t=void 0;for(t in n)E_(Gze,n,[t])&&(e[t]=n[t]);return e}function D_(n,e){for(;null!==n;){var t=Uze(n,e);if(t){if(t.get)return gl(t.get);if("function"==typeof t.value)return gl(t.value)}n=jze(n)}return function r(i){return console.warn("fallback value for",i),null}}var C3=As(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),HD=As(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),VD=As(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Xze=As(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),GD=As(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),qze=As(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),w3=As(["#text"]),I3=As(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),WD=As(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_3=As(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),M_=As(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Qze=hu(/\{\{[\s\S]*|[\s\S]*\}\}/gm),e9e=hu(/<%[\s\S]*|[\s\S]*%>/gm),t9e=hu(/^data-[\-\w.\u00B7-\uFFFF]/),n9e=hu(/^aria-[\-\w]+$/),r9e=hu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),i9e=hu(/^(?:\w+script|data):/i),o9e=hu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function uc(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}var s9e=function(){return typeof window>"u"?null:window},a9e=function(e,t){if("object"!==(typeof e>"u"?"undefined":Jy(e))||"function"!=typeof e.createPolicy)return null;var r=null,i="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(i)&&(r=t.currentScript.getAttribute(i));var o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},l9e=function A3(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s9e(),e=function(ze){return A3(ze)};if(e.version="2.3.3",e.removed=[],!n||!n.document||9!==n.document.nodeType)return e.isSupported=!1,e;var t=n.document,r=n.document,i=n.DocumentFragment,o=n.HTMLTemplateElement,s=n.Node,a=n.Element,l=n.NodeFilter,c=n.NamedNodeMap,b=void 0===c?n.NamedNodeMap||n.MozNamedAttrMap:c,x=n.Text,L=n.Comment,H=n.DOMParser,z=n.trustedTypes,le=a.prototype,de=D_(le,"cloneNode"),Ce=D_(le,"nextSibling"),ke=D_(le,"childNodes"),De=D_(le,"parentNode");if("function"==typeof o){var Pe=r.createElement("template");Pe.content&&Pe.content.ownerDocument&&(r=Pe.content.ownerDocument)}var je=a9e(z,t),Ye=je&&xg?je.createHTML(""):"",mt=r,Mt=mt.implementation,St=mt.createNodeIterator,on=mt.createDocumentFragment,_n=mt.getElementsByTagName,yr=t.importNode,ei={};try{ei=hf(r).documentMode?r.documentMode:{}}catch{}var mi={};e.isSupported="function"==typeof De&&Mt&&typeof Mt.createHTMLDocument<"u"&&9!==ei;var Ss=Qze,Si=e9e,ca=t9e,Ag=n9e,gu=i9e,pf=o9e,gf=r9e,vi=null,mf=Fn({},[].concat(uc(C3),uc(HD),uc(VD),uc(GD),uc(w3))),ci=null,Cl=Fn({},[].concat(uc(I3),uc(WD),uc(_3),uc(M_))),mu=null,Sd=null,hc=!0,vf=!0,j_=!1,fc=!1,xd=!1,Sg=!1,tb=!1,Td=!1,yf=!1,nb=!0,xg=!1,U_=!0,wl=!0,pc=!1,vu={},yu=null,Tg=Fn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),rb=null,ib=Fn({},["audio","video","img","source","image","track"]),Eg=null,ob=Fn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),uM="http://www.w3.org/1998/Math/MathML",dM="http://www.w3.org/2000/svg",Ed="http://www.w3.org/1999/xhtml",z_=Ed,hM=!1,kg=void 0,A7e=["application/xhtml+xml","text/html"],S7e="text/html",Dg=void 0,Mg=null,x7e=r.createElement("form"),fM=function(ze){Mg&&Mg===ze||((!ze||"object"!==(typeof ze>"u"?"undefined":Jy(ze)))&&(ze={}),ze=hf(ze),vi="ALLOWED_TAGS"in ze?Fn({},ze.ALLOWED_TAGS):mf,ci="ALLOWED_ATTR"in ze?Fn({},ze.ALLOWED_ATTR):Cl,Eg="ADD_URI_SAFE_ATTR"in ze?Fn(hf(ob),ze.ADD_URI_SAFE_ATTR):ob,rb="ADD_DATA_URI_TAGS"in ze?Fn(hf(ib),ze.ADD_DATA_URI_TAGS):ib,yu="FORBID_CONTENTS"in ze?Fn({},ze.FORBID_CONTENTS):Tg,mu="FORBID_TAGS"in ze?Fn({},ze.FORBID_TAGS):{},Sd="FORBID_ATTR"in ze?Fn({},ze.FORBID_ATTR):{},vu="USE_PROFILES"in ze&&ze.USE_PROFILES,hc=!1!==ze.ALLOW_ARIA_ATTR,vf=!1!==ze.ALLOW_DATA_ATTR,j_=ze.ALLOW_UNKNOWN_PROTOCOLS||!1,fc=ze.SAFE_FOR_TEMPLATES||!1,xd=ze.WHOLE_DOCUMENT||!1,Td=ze.RETURN_DOM||!1,yf=ze.RETURN_DOM_FRAGMENT||!1,nb=!1!==ze.RETURN_DOM_IMPORT,xg=ze.RETURN_TRUSTED_TYPE||!1,tb=ze.FORCE_BODY||!1,U_=!1!==ze.SANITIZE_DOM,wl=!1!==ze.KEEP_CONTENT,pc=ze.IN_PLACE||!1,gf=ze.ALLOWED_URI_REGEXP||gf,z_=ze.NAMESPACE||Ed,kg=kg=-1===A7e.indexOf(ze.PARSER_MEDIA_TYPE)?S7e:ze.PARSER_MEDIA_TYPE,Dg="application/xhtml+xml"===kg?function(kt){return kt}:k_,fc&&(vf=!1),yf&&(Td=!0),vu&&(vi=Fn({},[].concat(uc(w3))),ci=[],!0===vu.html&&(Fn(vi,C3),Fn(ci,I3)),!0===vu.svg&&(Fn(vi,HD),Fn(ci,WD),Fn(ci,M_)),!0===vu.svgFilters&&(Fn(vi,VD),Fn(ci,WD),Fn(ci,M_)),!0===vu.mathMl&&(Fn(vi,GD),Fn(ci,_3),Fn(ci,M_))),ze.ADD_TAGS&&(vi===mf&&(vi=hf(vi)),Fn(vi,ze.ADD_TAGS)),ze.ADD_ATTR&&(ci===Cl&&(ci=hf(ci)),Fn(ci,ze.ADD_ATTR)),ze.ADD_URI_SAFE_ATTR&&Fn(Eg,ze.ADD_URI_SAFE_ATTR),ze.FORBID_CONTENTS&&(yu===Tg&&(yu=hf(yu)),Fn(yu,ze.FORBID_CONTENTS)),wl&&(vi["#text"]=!0),xd&&Fn(vi,["html","head","body"]),vi.table&&(Fn(vi,["tbody"]),delete mu.tbody),As&&As(ze),Mg=ze)},b5=Fn({},["mi","mo","mn","ms","mtext"]),C5=Fn({},["foreignobject","desc","title","annotation-xml"]),Z_=Fn({},HD);Fn(Z_,VD),Fn(Z_,Xze);var pM=Fn({},GD);Fn(pM,qze);var T7e=function(ze){var kt=De(ze);(!kt||!kt.tagName)&&(kt={namespaceURI:Ed,tagName:"template"});var Kt=k_(ze.tagName),Er=k_(kt.tagName);if(ze.namespaceURI===dM)return kt.namespaceURI===Ed?"svg"===Kt:kt.namespaceURI===uM?"svg"===Kt&&("annotation-xml"===Er||b5[Er]):Boolean(Z_[Kt]);if(ze.namespaceURI===uM)return kt.namespaceURI===Ed?"math"===Kt:kt.namespaceURI===dM?"math"===Kt&&C5[Er]:Boolean(pM[Kt]);if(ze.namespaceURI===Ed){if(kt.namespaceURI===dM&&!C5[Er]||kt.namespaceURI===uM&&!b5[Er])return!1;var Xo=Fn({},["title","style","font","a","script"]);return!pM[Kt]&&(Xo[Kt]||!Z_[Kt])}return!1},bu=function(ze){Yy(e.removed,{element:ze});try{ze.parentNode.removeChild(ze)}catch{try{ze.outerHTML=Ye}catch{ze.remove()}}},w5=function(ze,kt){try{Yy(e.removed,{attribute:kt.getAttributeNode(ze),from:kt})}catch{Yy(e.removed,{attribute:null,from:kt})}if(kt.removeAttribute(ze),"is"===ze&&!ci[ze])if(Td||yf)try{bu(kt)}catch{}else try{kt.setAttribute(ze,"")}catch{}},I5=function(ze){var kt=void 0,Kt=void 0;if(tb)ze="<remove></remove>"+ze;else{var Er=y3(ze,/^[\r\n\t ]+/);Kt=Er&&Er[0]}"application/xhtml+xml"===kg&&(ze='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ze+"</body></html>");var Xo=je?je.createHTML(ze):ze;if(z_===Ed)try{kt=(new H).parseFromString(Xo,kg)}catch{}if(!kt||!kt.documentElement){kt=Mt.createDocument(z_,"template",null);try{kt.documentElement.innerHTML=hM?"":Xo}catch{}}var qo=kt.body||kt.documentElement;return ze&&Kt&&qo.insertBefore(r.createTextNode(Kt),qo.childNodes[0]||null),z_===Ed?_n.call(kt,xd?"html":"body")[0]:xd?kt.documentElement:qo},_5=function(ze){return St.call(ze.ownerDocument||ze,ze,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},E7e=function(ze){return!(ze instanceof x||ze instanceof L||"string"==typeof ze.nodeName&&"string"==typeof ze.textContent&&"function"==typeof ze.removeChild&&ze.attributes instanceof b&&"function"==typeof ze.removeAttribute&&"function"==typeof ze.setAttribute&&"string"==typeof ze.namespaceURI&&"function"==typeof ze.insertBefore)},sb=function(ze){return"object"===(typeof s>"u"?"undefined":Jy(s))?ze instanceof s:ze&&"object"===(typeof ze>"u"?"undefined":Jy(ze))&&"number"==typeof ze.nodeType&&"string"==typeof ze.nodeName},Cu=function(ze,kt,Kt){!mi[ze]||Zze(mi[ze],function(Er){Er.call(e,kt,Kt,Mg)})},A5=function(ze){var kt=void 0;if(Cu("beforeSanitizeElements",ze,null),E7e(ze)||y3(ze.nodeName,/[\u0080-\uFFFF]/))return bu(ze),!0;var Kt=Dg(ze.nodeName);if(Cu("uponSanitizeElement",ze,{tagName:Kt,allowedTags:vi}),!sb(ze.firstElementChild)&&(!sb(ze.content)||!sb(ze.content.firstElementChild))&&fu(/<[/\w]/g,ze.innerHTML)&&fu(/<[/\w]/g,ze.textContent)||"select"===Kt&&fu(/<template/i,ze.innerHTML))return bu(ze),!0;if(!vi[Kt]||mu[Kt]){if(wl&&!yu[Kt]){var Er=De(ze)||ze.parentNode,Xo=ke(ze)||ze.childNodes;if(Xo&&Er)for(var Qo=Xo.length-1;Qo>=0;--Qo)Er.insertBefore(de(Xo[Qo],!0),Ce(ze))}return bu(ze),!0}return ze instanceof a&&!T7e(ze)||("noscript"===Kt||"noembed"===Kt)&&fu(/<\/no(script|embed)/i,ze.innerHTML)?(bu(ze),!0):(fc&&3===ze.nodeType&&(kt=_d(kt=ze.textContent,Ss," "),kt=_d(kt,Si," "),ze.textContent!==kt&&(Yy(e.removed,{element:ze.cloneNode()}),ze.textContent=kt)),Cu("afterSanitizeElements",ze,null),!1)},S5=function(ze,kt,Kt){if(U_&&("id"===kt||"name"===kt)&&(Kt in r||Kt in x7e))return!1;if((!vf||Sd[kt]||!fu(ca,kt))&&(!hc||!fu(Ag,kt))){if(!ci[kt]||Sd[kt])return!1;if(!Eg[kt]&&!fu(gf,_d(Kt,pf,""))&&("src"!==kt&&"xlink:href"!==kt&&"href"!==kt||"script"===ze||0!==Kze(Kt,"data:")||!rb[ze])&&(!j_||fu(gu,_d(Kt,pf,"")))&&Kt)return!1}return!0},x5=function(ze){var kt=void 0,Kt=void 0,Er=void 0,Xo=void 0;Cu("beforeSanitizeAttributes",ze,null);var qo=ze.attributes;if(qo){var Qo={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ci};for(Xo=qo.length;Xo--;){var ab=(kt=qo[Xo]).name,T5=kt.namespaceURI;if(Kt=Yze(kt.value),Er=Dg(ab),Qo.attrName=Er,Qo.attrValue=Kt,Qo.keepAttr=!0,Qo.forceKeepAttr=void 0,Cu("uponSanitizeAttribute",ze,Qo),Kt=Qo.attrValue,!Qo.forceKeepAttr&&(w5(ab,ze),Qo.keepAttr)){if(fu(/\/>/i,Kt)){w5(ab,ze);continue}fc&&(Kt=_d(Kt,Ss," "),Kt=_d(Kt,Si," "));var D7e=Dg(ze.nodeName);if(S5(D7e,Er,Kt))try{T5?ze.setAttributeNS(T5,ab,Kt):ze.setAttribute(ab,Kt),v3(e.removed)}catch{}}}Cu("afterSanitizeAttributes",ze,null)}},k7e=function an(ze){var kt=void 0,Kt=_5(ze);for(Cu("beforeSanitizeShadowDOM",ze,null);kt=Kt.nextNode();)Cu("uponSanitizeShadowNode",kt,null),!A5(kt)&&(kt.content instanceof i&&an(kt.content),x5(kt));Cu("afterSanitizeShadowDOM",ze,null)};return e.sanitize=function(an,ze){var kt=void 0,Kt=void 0,Er=void 0,Xo=void 0,qo=void 0;if((hM=!an)&&(an="\x3c!--\x3e"),"string"!=typeof an&&!sb(an)){if("function"!=typeof an.toString)throw b3("toString is not a function");if("string"!=typeof(an=an.toString()))throw b3("dirty is not a string, aborting")}if(!e.isSupported){if("object"===Jy(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof an)return n.toStaticHTML(an);if(sb(an))return n.toStaticHTML(an.outerHTML)}return an}if(Sg||fM(ze),e.removed=[],"string"==typeof an&&(pc=!1),!pc)if(an instanceof s)1===(Kt=(kt=I5("\x3c!----\x3e")).ownerDocument.importNode(an,!0)).nodeType&&"BODY"===Kt.nodeName||"HTML"===Kt.nodeName?kt=Kt:kt.appendChild(Kt);else{if(!Td&&!fc&&!xd&&-1===an.indexOf("<"))return je&&xg?je.createHTML(an):an;if(!(kt=I5(an)))return Td?null:Ye}kt&&tb&&bu(kt.firstChild);for(var Qo=_5(pc?an:kt);Er=Qo.nextNode();)3===Er.nodeType&&Er===Xo||A5(Er)||(Er.content instanceof i&&k7e(Er.content),x5(Er),Xo=Er);if(Xo=null,pc)return an;if(Td){if(yf)for(qo=on.call(kt.ownerDocument);kt.firstChild;)qo.appendChild(kt.firstChild);else qo=kt;return nb&&(qo=yr.call(t,qo,!0)),qo}var wu=xd?kt.outerHTML:kt.innerHTML;return fc&&(wu=_d(wu,Ss," "),wu=_d(wu,Si," ")),je&&xg?je.createHTML(wu):wu},e.setConfig=function(an){fM(an),Sg=!0},e.clearConfig=function(){Mg=null,Sg=!1},e.isValidAttribute=function(an,ze,kt){Mg||fM({});var Kt=Dg(an),Er=Dg(ze);return S5(Kt,Er,kt)},e.addHook=function(an,ze){"function"==typeof ze&&(mi[an]=mi[an]||[],Yy(mi[an],ze))},e.removeHook=function(an){mi[an]&&v3(mi[an])},e.removeHooks=function(an){mi[an]&&(mi[an]=[])},e.removeAllHooks=function(){mi={}},e}(),c9e=["iframe","embed"],S3=[];function x3(n){To(c9e,n)&&S3.push(n.toLowerCase())}function ff(n,e){return l9e.sanitize(n,et({ADD_TAGS:S3,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function T3(n,e){return n.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function jD(n){var e=(n=n.match(hg)[0]).match(new RegExp(EG,"g"));return e?e.reduce(function(t,r){var i=r.trim().split("="),o=i[0],s=i.slice(1);return s.length&&(t[o]=s.join("=").replace(/'|"/g,"").trim()),t},{}):{}}function UD(n){return lc(n.attributes).reduce(function(e,t){return e[t.nodeName]=t.nodeValue,e},{})}function E3(n,e,t,r){var i=r.getToDOMNode(e)(n),o=t(i.outerHTML),s=document.createElement("div");return s.innerHTML=o,{dom:i=s.firstChild,htmlAttrs:UD(i)}}var u9e={htmlBlock:function(n,e,t){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:n,getAttrs:function(r){return{htmlAttrs:UD(r),childrenHTML:r.innerHTML}}}],toDOM:function(r){var i=E3(r,n,e,t),o=i.dom,s=i.htmlAttrs;return s.class=s.class?s.class+" html-block":"html-block",Vs([n,s],lc(o.childNodes))}}},htmlInline:function(n,e,t){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:n,getAttrs:function(r){return{htmlAttrs:UD(r)}}}],toDOM:function(r){var i=E3(r,n,e,t).htmlAttrs;return[n,i,0]}}}},h9e=/^\s*<\s*\//,f9e={paragraph:function(n,e){return e.options.nodeId?{type:e.entering?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:(0,e.origin)()},softbreak:function(n){return{type:"html",content:n.prev&&"htmlInline"===n.prev.type&&/<br ?\/?>/.test(n.prev.literal)?"\n":"<br>\n"}},item:function(n,e){if(e.entering){var r={},i=[];return n.listData.task&&(r["data-task"]="",i.push("task-list-item"),n.listData.checked&&(i.push("checked"),r["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:i,attributes:r,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(n){return[{type:"openTag",tagName:"code",attributes:{"data-backticks":String(n.tickCount)}},{type:"text",content:n.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(n){var t=n.fenceLength,r=n.info,i=r?r.split(/\s+/):[],o=[],s={};if(t>3&&(s["data-backticks"]=t),i.length>0&&i[0].length>0){var a=i[0];o.push("lang-"+a),s["data-language"]=a}return[{type:"openTag",tagName:"pre",classNames:o},{type:"openTag",tagName:"code",attributes:s},{type:"text",content:n.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(n,e){var t=e.origin,r=e.entering,i=e.skipChildren,o=n.info;return-1!==o.indexOf("widget")&&r?(i(),[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:_G(o,AG(n)).outerHTML},{type:"closeTag",tagName:"span"}]):t()}};function zD(n,e){var t=et({},f9e);return n&&(t.link=function(r,i){var o=i.entering,a=(0,i.origin)();return o&&(a.attributes=et(et({},a.attributes),n)),a}),e&&Object.keys(e).forEach(function(r){var i=t[r],o=e[r];t[r]=i&&La(o)?function(s,a){var l=et({},a);return l.origin=function(){return i(s,a)},o(s,l)}:To(["htmlBlock","htmlInline"],r)&&!La(o)?function(s,a){var l=s.literal.match(hg);if(l){var c=l[0],L=(l[1]||l[3]).toLowerCase(),H=o[L],z=T3(s,L);if(H){var le=et({},s);return le.attrs=jD(c),le.childrenHTML=z,le.type=L,a.entering=!h9e.test(s.literal),H(le,a)}}return a.origin()}:o}),t}var p9e=["list","item","blockQuote"],g9e=["UL","OL","BLOCKQUOTE"];function m9e(n,e){var t,r=n.child(e);return!r.childCount||1===r.childCount&&!(null!==(t=r.firstChild.text)&&void 0!==t&&t.trim())}function k3(n,e,t){var r=Wy(e)-1,i=n_(e)-1,o=t[r].getBoundingClientRect(),s=t[i].offsetTop-t[r].offsetTop+t[i].clientHeight;return{height:s<=0?t[r].clientHeight:s+v9e(n,t,Math.min(i+1,n.childCount-1)),rect:o}}function v9e(n,e,t){for(var r=n.childCount-1,i=0;t<=r&&m9e(n,t);)i+=e[t].clientHeight,t+=1;return i}function N_(n,e){for(var t=0;n&&n!==e&&(To(g9e,n.tagName)||(t+=n.offsetTop),n.offsetParent!==e.offsetParent);)n=n.parentElement;return t}function D3(n,e,t){return n&&e>t+n.offsetTop?D3(n.nextElementSibling,e,t)||n:null}function ZD(n,e){for(var t=n.querySelector('[data-nodeid="'+e.id+'"]');!t||aoe(e);)t=n.querySelector('[data-nodeid="'+(e=e.parent).id+'"]');return function w9e(n){for(var e=n.mdNode,t=n.el;(To(p9e,e.type)||"table"===e.type)&&e.firstChild;)e=e.firstChild,t=t.firstElementChild;return{mdNode:e,el:t}}({mdNode:e,el:t})}var ml={};function KD(n){n&&(delete ml[Number(n.getAttribute("data-nodeid"))],lc(n.children).forEach(function(e){KD(e)}))}var YD=Wt("md-preview-highlight"),M3=function(){function n(e,t){var r=document.createElement("div");this.el=r,this.eventEmitter=e,this.isViewer=!!t.isViewer,this.el.className=Wt("md-preview");var s=t.sanitizer,a=t.highlight,l=void 0!==a&&a;this.renderer=new BD({gfm:!0,nodeId:!0,convertors:zD(t.linkAttributes,t.customHTMLRenderer)}),this.cursorNodeId=null,this.sanitizer=s,this.initEvent(l),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return n.prototype.initContentSection=function(){this.previewContent=RG('<div class="'+Wt("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},n.prototype.toggleActive=function(e){Qk(this.el,"active",e)},n.prototype.initEvent=function(e){var t=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(e&&(this.eventEmitter.listen("changeToolbarState",function(r){t.updateCursorNode(r.mdNode,r.cursorPos)}),this.eventEmitter.listen("blur",function(){t.removeHighlight()})),hW(this.el,"scroll",function(r){t.eventEmitter.emit("scroll","preview",function b9e(n,e){for(var t=e,r=null;t;){var i=t.firstElementChild;if(!i)break;r=t,t=D3(i,n,N_(t,e))}var s=t||r;return s===e?null:s}(r.target.scrollTop,t.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return t.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return t.toggleActive(!1)}))},n.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&pl(e,YD)}},n.prototype.updateCursorNode=function(e,t){e&&(e=dg(e,function(s){return!function uoe(n){switch(n.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}(s)}),"tableRow"===e.type?e=function T9e(n,e){for(var t=n.firstChild;t&&t.next&&!(r_(t.next)>e+1);)t=t.next;return t}(e,t[1]):"tableBody"===e.type&&(e=null));var r=e?e.id:null;if(this.cursorNodeId!==r){var i=this.getElementByNodeId(this.cursorNodeId),o=this.getElementByNodeId(r);i&&pl(i,YD),o&&ac(o,YD),this.cursorNodeId=r}},n.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},n.prototype.update=function(e){var t=this;e.forEach(function(r){return t.replaceRangeNodes(r)}),this.eventEmitter.emit("afterPreviewRender",this)},n.prototype.replaceRangeNodes=function(e){var t=this,i=e.removedNodeRange,o=this.previewContent,s=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(e.nodes.map(function(z){return t.renderer.render(z)}).join("")));if(i){var a=i.id,c=a[1],b=this.getElementByNodeId(a[0]),x=this.getElementByNodeId(c);if(b){b.insertAdjacentHTML("beforebegin",s);for(var L=b;L&&L!==x;){var H=L.nextElementSibling;rf(L),KD(L),L=H}L?.parentNode&&(rf(L),KD(L))}}else o.insertAdjacentHTML("afterbegin",s)},n.prototype.getRenderer=function(){return this.renderer},n.prototype.destroy=function(){uW(this.el,"scroll"),this.el=null},n.prototype.getElement=function(){return this.el},n.prototype.getHTML=function(){return nD(this.previewContent.innerHTML)},n.prototype.setHTML=function(e){this.previewContent.innerHTML=e},n.prototype.setHeight=function(e){sc(this.el,{height:e+"px"})},n.prototype.setMinHeight=function(e){sc(this.el,{minHeight:e+"px"})},n}();function pu(n,e){for(var t=n.depth;t;){var r=n.node(t);if(e(r,t))return{node:r,depth:t,offset:t>0?n.before(t):0};t-=1}return null}function Cg(n){return!!pu(n,function(e){var t=e.type;return"listItem"===t.name||"bulletList"===t.name||"orderedList"===t.name})}function R_(n){return!!pu(n,function(e){var t=e.type;return"tableHeadCell"===t.name||"tableBodyCell"===t.name})}function wg(n){return pu(n,function(e){return"listItem"===e.type.name})}function O_(n){return{tag:n,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return et({},t&&{rawHTML:t})}}}function N3(n){return Object.keys(n).reduce(function(e,t){return"rawHTML"!==t&&n[t]&&(e[t="className"===t?"class":t]=n[t]),e},{})}function R3(n){return{tag:n,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce(function(t,r){var o=e.getAttribute("rawHTML"===r?"data-raw-html":r);return o&&(t[r]=To(["rawHTML","extended"],r)?o:Number(o)),t},{})}}}function Oi(n){var t=n.classNames;return et(et({},n.htmlAttrs),{class:t?t.join(" "):null})}function O3(n,e,t,r){var i=e.$from,o=e.$to,s=e.depth,a=e,l=!1;if(s>=2&&i.node(s-1).type.compatibleContent(t)&&0===e.startIndex&&i.index(s-1)){var c=n.doc.resolve(e.start-2);a=new TI(c,c,s),e.endIndex<e.parent.childCount&&(e=new TI(i,n.doc.resolve(o.end(s)),s)),l=!0}var b=function D9e(n,e,t,r){var i=function E9e(n,e){var t=n.parent,r=n.startIndex,i=n.endIndex,o=t.contentMatchAt(r).findWrapping(e);return o&&t.canReplaceWith(r,i,o.length?o[0]:e)?o:null}(n,t),o=function k9e(n,e){var t=n.parent,r=n.startIndex,i=n.endIndex,o=t.child(r),s=e.contentMatch.findWrapping(o.type);if(s){for(var l=(s.length?s[s.length-1]:e).contentMatch,c=r;l&&c<i;c+=1)l=l.matchType(t.child(c).type);if(l&&l.validEnd)return s}return null}(e,t);if(i&&o){var s=i.map(function(l){return{type:l}}),a=o.map(function(l){return{type:l,attrs:r}});return s.concat({type:t}).concat(a)}return null}(a,e,t,r);return b?function M9e(n,e,t,r,i){for(var o=e.start,s=e.end,a=e.startIndex,l=e.endIndex,c=e.parent,b=ht.empty,x=t.length-1;x>=0;x-=1)b=ht.from(t[x].type.create(t[x].attrs,b));n.step(new co(o-(r?2:0),s,o,s,new Bt(b,0,0),t.length,!0));var L=0;for(x=0;x<t.length;x+=1)if(t[x].type===i){L=x+1;break}for(var H=t.length-L,z=o+t.length-(r?2:0),le=(x=a,l);x<le;x+=1)!(x===a)&&Jp(n.doc,z,H)&&(n.split(z,H),z+=2*H),z+=c.child(x).nodeSize;return n}(n,e,b,l,t):n}function L3(n,e){for(var t=n.resolve(e);"paragraph"!==t.node().type.name;)t=n.resolve(e-=2);return wg(t)}function P3(n){return function(e,t){var r=e.selection,i=e.tr,o=r.$from,a=o.blockRange(r.$to);if(a){var l=Cg(o)?function R9e(n,e,t){var i=e.$to,o=wg(e.$from),s=wg(i);if(o&&s)for(;s;){var a=s.offset,c=s.depth;s.node.attrs.task&&n.setNodeMarkup(a,null,{task:!1,checked:!1});var b=n.doc.resolve(a);if(b.parent.type!==t){var x=b.before(c-1);n.setNodeMarkup(x,t)}if(a===o.offset)break;s=L3(n.doc,a)}return n}(i,a,n):O3(i,a,n);return t(l),!0}return!1}}function O9e(){return function(n,e){var t=n.selection,r=n.tr,i=n.schema,o=t.$from,a=o.blockRange(t.$to);if(a){var l=Cg(o)?function N9e(n,e){var r=e.$to,i=wg(e.$from),o=wg(r);if(i&&o)for(;o;){var s=o.offset;if(n.setNodeMarkup(s,null,{task:!o.node.attrs.task,checked:!1}),s===i.offset)break;o=L3(n.doc,s)}return n}(r,a):O3(r,a,i.nodes.bulletList,{task:!0});return e(l),!0}return!1}}function JD(){return{indent:function(){return function(n,e){var t=n.selection,r=n.schema,i=t.$from;return!(!i.blockRange(t.$to)||!Cg(i))&&function L9e(n){return function(e,t){var r=e.tr,i=e.selection,a=i.$from.blockRange(i.$to,function(le){return!!le.childCount&&le.firstChild.type===n});if(a&&a.startIndex>0){var l=a.parent,c=l.child(a.startIndex-1);if(c.type!==n)return!1;var b=c.lastChild&&c.lastChild.type===l.type,x=b?ht.from(n.create()):null,L=new Bt(ht.from(n.create(null,ht.from(l.type.create(null,x)))),b?3:1,0),H=a.start,z=a.end;return r.step(new co(H-(b?3:1),z,H,z,L,1,!0)),t(r),!0}return!1}}(r.nodes.listItem)(n,e)}},outdent:function(){return function(n,e){var t=n.selection,r=n.schema,i=t.$from;return!(!i.blockRange(t.$to)||!Cg(i))&&function B9e(n){return function(e,t){var r=e.tr,i=e.selection,o=i.$from,a=o.blockRange(i.$to,function(b){return!!b.childCount&&b.firstChild.type===n});if(a){var c=o.node(a.depth-1).type===n?function P9e(n,e,t){var r=e.$from,o=e.end,s=e.depth,a=e.parent,l=e.$to.end(s);return o<l&&(n.step(new co(o-1,l,o,l,new Bt(ht.from(t.create(null,a.copy())),1,0),1,!0)),e=new TI(n.doc.resolve(r.pos),n.doc.resolve(l),s)),n.lift(e,LI(e)),n}(r,a,n):function F9e(n,e){for(var t=e.parent,r=e.end,i=e.endIndex-1,o=e.startIndex;i>o;i-=1)r-=t.child(i).nodeSize,n.delete(r-1,r+1);var s=n.doc.resolve(e.start),a=s.nodeAfter,l=0===e.startIndex,c=e.endIndex===t.childCount,b=s.node(-1),x=s.index(-1),L=b.canReplace(x+(l?0:1),x+1,a?.content.append(c?ht.empty:ht.from(t)));if(a&&L){var H=s.pos,z=H+a.nodeSize;n.step(new co(H-(l?1:0),z+(c?1:0),H+1,z-1,new Bt((l?ht.empty:ht.from(t.copy(ht.empty))).append(c?ht.empty:ht.from(t.copy(ht.empty))),l?0:1,c?0:1),l?0:1))}return n}(r,a);return t(c),!0}return!1}}(r.nodes.listItem)(n,e)}}}}var F3=new Map,Do=function(){function n(e,t,r,i){this.table=e,this.tableRows=t,this.tableStartPos=r,this.rowInfo=i}return n.create=function(e){var t=pu(e,function(z){return"table"===z.type.name});if(t){var r=t.node,i=t.depth,o=t.offset,s=F3.get(r);if(s?.tableStartPos===o+1)return s;var a=[],l=e.start(i),c=r.child(0),b=r.child(1),x=XD(c,l),L=XD(b,l+c.nodeSize);c.forEach(function(z){return a.push(z)}),b.forEach(function(z){return a.push(z)});var H=new n(r,a,l,x.concat(L));return F3.set(r,H),H}return null},Object.defineProperty(n.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),n.prototype.getCellInfo=function(e,t){return this.rowInfo[e][t]},n.prototype.posAt=function(e,t){for(var r=0,i=this.tableStartPos;;r+=1){var o=i+this.tableRows[r].nodeSize;if(r===e){for(var s=t;s<this.totalColumnCount&&this.rowInfo[r][s].offset<i;)s+=1;return s===this.totalColumnCount?o:this.rowInfo[r][s].offset}i=o}},n.prototype.getNodeAndPos=function(e,t){var r=this.rowInfo[e][t];return{node:this.table.nodeAt(r.offset-this.tableStartOffset),pos:r.offset}},n.prototype.extendedRowspan=function(e,t){return!1},n.prototype.extendedColspan=function(e,t){return!1},n.prototype.getRowspanCount=function(e,t){return 0},n.prototype.getColspanCount=function(e,t){return 0},n.prototype.decreaseColspanCount=function(e,t){return 0},n.prototype.decreaseRowspanCount=function(e,t){return 0},n.prototype.getColspanStartInfo=function(e,t){return null},n.prototype.getRowspanStartInfo=function(e,t){return null},n.prototype.getCellStartOffset=function(e,t){var r=this.rowInfo[e][t].offset;return this.extendedRowspan(e,t)?this.posAt(e,t):r},n.prototype.getCellEndOffset=function(e,t){var r=this.rowInfo[e][t],i=r.offset,o=r.nodeSize;return this.extendedRowspan(e,t)?this.posAt(e,t):i+o},n.prototype.getCellIndex=function(e){for(var t=0;t<this.totalRowCount;t+=1)for(var r=this.rowInfo[t],i=0;i<this.totalColumnCount;i+=1)if(r[i].offset+1>e.pos)return[t,i];return[0,0]},n.prototype.getRectOffsets=function(e,t){var r,i,o;void 0===t&&(t=e),e.pos>t.pos&&(e=(r=[t,e])[0],t=r[1]);var s=this.getCellIndex(e),a=s[0],l=s[1],c=this.getCellIndex(t),b=c[0],x=c[1];return a=(i=vG(a,b))[0],b=i[1],o=vG(l,x),this.getSpannedOffsets({startRowIdx:a,startColIdx:l=o[0],endRowIdx:b,endColIdx:x=o[1]})},n.prototype.getSpannedOffsets=function(e){return e},n}(),XD=function(n,e){var t=[];return n.forEach(function(r,i){var o={rowspanMap:{},colspanMap:{},length:0};r.forEach(function(s,a){for(var l=s.nodeSize,c=0;o[c];)c+=1;o[c]={offset:e+i+a+2,nodeSize:l},o.length+=1}),t.push(o)}),t};function G9e(n,e){return Zk(Do.prototype,n),XD=e,Do}var qD=function(n){function e(t,r){void 0===r&&(r=t);var i=this,o=t.node(0),s=Do.create(t),a=s.getRectOffsets(t,r),l=function W9e(n,e,t){for(var i=t.startColIdx,o=t.endRowIdx,s=t.endColIdx,a=[],l=t.startRowIdx;l<=o;l+=1)for(var c=i;c<=s;c+=1){var b=e.getCellInfo(l,c),x=b.offset,L=b.nodeSize;a.push(new _H(n.resolve(x+1),n.resolve(x+L-1)))}return a}(o,s,a);return(i=n.call(this,l[0].$from,l[0].$to,l)||this).startCell=t,i.endCell=r,i.offsetMap=s,i.isCellSelection=!0,i.visible=!1,i}return Ht(e,n),e.prototype.map=function(t,r){var o=this.endCell.pos,s=t.resolve(r.map(this.startCell.pos)),a=t.resolve(r.map(o)),l=Do.create(s);if(this.offsetMap.totalColumnCount>l.totalColumnCount||this.offsetMap.totalRowCount>l.totalRowCount){var x=a.end(a.depth-{tableBody:1,tableRow:2,tableCell:3,paragraph:4}[a.parent.type.name]),L=Math.min(x-4,a.pos);return lr.create(t,L)}return new e(s,a)},e.prototype.eq=function(t){return t instanceof e&&t.startCell.pos===this.startCell.pos&&t.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var t=this.startCell.node(-2),r=this.startCell.start(-2),i=t.child(1).firstChild,o=t.child(0).type.create(),s=t.child(1).type.create(),a=Do.create(this.startCell),l=a.getRectOffsets(this.startCell,this.endCell),b=l.startColIdx,x=l.endRowIdx,L=l.endColIdx,H=!1,z=l.startRowIdx;z<=x;z+=1){for(var le=[],de=b;de<=L;de+=1){var Ce=a.getCellInfo(z,de).offset,ke=t.nodeAt(Ce-r);ke&&(H="tableHeadCell"===ke.type.name,a.extendedRowspan(z,de)||a.extendedColspan(z,de)?le.push(ke.type.create({extended:!0})):le.push(ke.copy(ke.content)))}var De=i.copy(ht.from(le)),Pe=H?o:s;Pe.content=Pe.content.append(ht.from(De))}return new Bt(function j9e(n,e){var t=[];return n.childCount&&t.push(n),e.childCount&&t.push(e),ht.from(t)}(o,s),1,1)},e.prototype.toJSON=function(){return JSON.stringify(this)},e}(zn);function B3(n,e,t,r){for(var i=t.nodes,o=i.tableRow,s=i.tableBodyCell,a=i.paragraph,l=[],c=0;c<n;c+=1){for(var b=[],x=0;x<e;x+=1){var L=r&&r[c*e+x],H=a.create(null,L?t.text(L):[]);b.push(s.create(null,H))}l.push(o.create(null,b))}return l}function L_(n,e,t,r){void 0===r&&(r=null);for(var i=t.nodes,a=i.paragraph,l=0===e?i.tableHeadCell:i.tableBodyCell,c=[],b=0;b<n;b+=1)c.push(l.create(r,a.create()));return c}function $3(n,e){for(;n&&n!==e;){if("TD"===n.nodeName||"TH"===n.nodeName)return n;n=n.parentNode}return null}function H3(n){return pu(n,function(e){var t=e.type;return"tableHeadCell"===t.name||"tableBodyCell"===t.name})}function dc(n){if(n instanceof lr){var e=n.$anchor,t=H3(e);if(t){var r=e.node(0).resolve(e.before(t.depth));return{anchor:r,head:r}}}return{anchor:n.startCell,head:n.endCell}}function V3(n){var e;if(n.size){var t=n.content,r=n.openStart,i=n.openEnd;if(1!==t.childCount)return null;for(;1===t.childCount&&(r>0&&i>0||"table"===(null===(e=t.firstChild)||void 0===e?void 0:e.type.name));)r-=1,i-=1,t=t.firstChild.content;if("tableHead"===t.firstChild.type.name||"tableBody"===t.firstChild.type.name)return t}return null}function Ig(n){return{rowCount:n.endRowIdx-n.startRowIdx+1,columnCount:n.endColIdx-n.startColIdx+1}}function z9e(n,e){return et(et({},n.attrs),e)}var Ad=new My("cellSelection"),K9e=function(){function n(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return n.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},n.prototype.handleMousedown=function(e){var t=$3(e.target,this.view.dom);if(2!==e.button){if(t){var r=this.getCellPos(e);r&&(this.startCellPos=r),this.bindEvent()}}else e.preventDefault()},n.prototype.handleMousemove=function(e){var o,t=Ad.getState(this.view.state),r=this.getCellPos(e),i=this.startCellPos;t?o=this.view.state.doc.resolve(t):i!==r&&(o=i),o&&i&&r&&this.setCellSelection(i,r)},n.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),null!==Ad.getState(this.view.state)&&this.view.dispatch(this.view.state.tr.setMeta(Ad,-1))},n.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},n.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},n.prototype.getCellPos=function(e){var i=this.view.posAtCoords({left:e.clientX,top:e.clientY});if(i){var o=this.view.state.doc,s=o.resolve(i.pos),a=H3(s);if(a){var l=s.before(a.depth);return o.resolve(l)}}return null},n.prototype.setCellSelection=function(e,t){var r=this.view.state,i=r.selection,o=r.tr,s=null===Ad.getState(this.view.state),a=new qD(e,t);if(s||!i.eq(a)){var l=o.setSelection(a);s&&l.setMeta(Ad,t.pos),this.view.dispatch(l)}},n.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},n}(),Y9e=Wt("cell-selected");function J9e(n){var e=n.selection,t=n.doc;if(e instanceof qD){var r=[];return e.ranges.forEach(function(o){r.push(Hs.node(o.$from.pos-1,o.$to.pos+1,{class:Y9e}))}),_i.create(t,r)}return null}var G3=function(){function n(){this.keys=[],this.values=[]}return n.prototype.getKeyIndex=function(e){return ef(e,this.keys)},n.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},n.prototype.set=function(e,t){var r=this.getKeyIndex(e);return r>-1?this.values[r]=t:(this.keys.push(e),this.values.push(t)),this},n.prototype.has=function(e){return this.getKeyIndex(e)>-1},n.prototype.delete=function(e){var t=this.getKeyIndex(e);return t>-1&&(this.keys.splice(t,1),this.values.splice(t,1),!0)},n.prototype.forEach=function(e,t){var r=this;void 0===t&&(t=this),this.values.forEach(function(i,o){i&&r.keys[o]&&e.call(t,i,r.keys[o],r)})},n.prototype.clear=function(){this.keys=[],this.values=[]},n}(),QD="en-US",Sn=new(function(){function n(){this.code=QD,this.langs=new G3}return n.prototype.setCode=function(e){this.code=e||QD},n.prototype.setLanguage=function(e,t){var r=this;(e=[].concat(e)).forEach(function(i){if(r.langs.has(i)){var o=r.langs.get(i);r.langs.set(i,Hk(o,t))}else r.langs.set(i,t)})},n.prototype.get=function(e,t){t||(t=this.code);var r=this.langs.get(t);r||(r=this.langs.get(QD));var i=r[e];if(!i)throw new Error('There is no text key "'+e+'" in '+t);return i},n}()),Q9e=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function eZe(n,e){return Q9e.map(function(t){return t.map(function(r){var o=r.command,s=r.payload,a=r.disableInThead,l=r.className;return{label:Sn.get(r.action),onClick:function(){n.emit("command",o,s)},disabled:e&&!!a,className:l}})}).concat()}function tZe(n){return new Bs({props:{handleDOMEvents:{contextmenu:function(e,t){var r=$3(t.target,e.dom);if(r){t.preventDefault();var o=t.clientX,s=t.clientY,a=e.dom.parentNode.getBoundingClientRect();return n.emit("contextmenu",{pos:{left:o-a.left+10+"px",top:s-a.top+30+"px"},menuGroups:eZe(n,"TH"===r.nodeName),tableCell:r}),!0}return!1}}}})}var rZe=["image","link","customBlock","frontMatter"],iZe=["strong","strike","emph","code"],W3=["bulletList","orderedList","taskList"];function lZe(n,e,t){var r=n.$from,i=n.$to,a={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(n.from,n.to,function(l,c,b){var x=function oZe(n,e){var t=n.type.name;return"listItem"===t?n.attrs.task?"taskList":e.type.name:-1!==t.indexOf("table")?"table":t}(l,b);To(rZe,x)||(To(W3,x)?(function sZe(n,e){e[n]={active:!0},W3.filter(function(t){return t!==n}).forEach(function(t){e[t]&&delete e[t]})}(x,a),a.indent.disabled=!1,a.outdent.disabled=!1):"paragraph"===x||"text"===x?function aZe(n,e,t,r){iZe.forEach(function(i){var o=t.marks[i],s=n.marksAcross(e)||[];o.isInSet(s)&&(r[i]={active:!0})})}(r,i,t,a):a[x]={active:!0})}),a}function cZe(n){return new Bs({view:function(){return{update:function(e){var t=e.state;n.emit("changeToolbarState",{toolbarState:lZe(t.selection,t.doc,t.schema)})}}}})}var uZe=function(){function n(e,t,r,i){var o=this;this.openEditor=function(){if(o.innerEditorView)throw new Error("The editor is already opened.");o.dom.draggable=!1,o.wrapper.style.display="none",o.innerViewContainer.style.display="block",o.innerEditorView=new xk(o.innerViewContainer,{state:Uh.create({doc:o.node,plugins:[Hy({"Mod-z":function(){return Gy(o.innerEditorView.state,o.innerEditorView.dispatch)},"Shift-Mod-z":function(){return Bk(o.innerEditorView.state,o.innerEditorView.dispatch)},Tab:function(s,a){return a(s.tr.insertText("\t")),!0},Enter:UV,Escape:function(){return o.cancelEditing(),!0},"Ctrl-Enter":function(){return o.saveAndFinishEditing(),!0}}),aG()]}),dispatchTransaction:function(s){return o.dispatchInner(s)},handleDOMEvents:{mousedown:function(){return o.editorView.hasFocus()&&o.innerEditorView.focus(),!0},blur:function(){return o.saveAndFinishEditing(),!0}}}),o.innerEditorView.focus()},this.node=e,this.editorView=t,this.getPos=r,this.toDOMAdaptor=i,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=Wt("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=Wt("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return n.prototype.renderToolArea=function(){var e=this,t=document.createElement("div"),r=document.createElement("span"),i=document.createElement("button");t.className="tool",r.textContent=this.node.attrs.info,r.className="info",i.type="button",i.addEventListener("click",function(){return e.openEditor()}),t.appendChild(r),t.appendChild(i),this.wrapper.appendChild(t)},n.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var t=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);t&&this.wrapper.appendChild(t),this.renderToolArea()}},n.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=Wt("custom-block-editor"),this.innerViewContainer.style.display="none"},n.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},n.prototype.saveAndFinishEditing=function(){var t=this.editorView.state;this.editorView.dispatch(t.tr.setSelection(ai(t.tr,this.editorView.state.selection.to))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},n.prototype.cancelEditing=function(){var e=function oie(n){let e=oc.getState(n);return e?e.done.eventCount:0}(this.innerEditorView.state);for(this.canceled=!0;e--;)Gy(this.innerEditorView.state,this.innerEditorView.dispatch),Gy(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var r=this.editorView.state;this.editorView.dispatch(r.tr.setSelection(lr.create(r.doc,this.editorView.state.selection.to))),this.editorView.focus(),this.closeEditor()},n.prototype.dispatchInner=function(e){var t=this.innerEditorView.state.applyTransaction(e),i=t.transactions;if(this.innerEditorView.updateState(t.state),!this.canceled&&La(this.getPos)){for(var o=this.editorView.state.tr,s=oa.offset(this.getPos()+1),a=0;a<i.length;a+=1)for(var l=i[a].steps,c=0;c<l.length;c+=1)o.step(l[c].map(s));o.docChanged&&this.editorView.dispatch(o)}},n.prototype.update=function(e){return!!e.sameMarkup(this.node)&&(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0)},n.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},n.prototype.ignoreMutation=function(){return!0},n.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},n}(),j3="image-link",dZe=function(){function n(e,t,r,i){var s,o=this;this.handleMousedown=function(a){a.preventDefault();var l=a.target,c=a.offsetX,b=a.offsetY;if(o.imageLink&&La(o.getPos)&&xG(l,j3)){var x=getComputedStyle(l,":before");if(a.stopPropagation(),qk(x,c,b)){var L=o.view.state.tr,H=o.getPos();L.setSelection(ai(L,H,H+1)),o.view.dispatch(L),o.eventEmitter.emit("openPopup","link",o.imageLink.attrs)}}},this.node=e,this.view=t,this.getPos=r,this.eventEmitter=i,this.imageLink=null!==(s=e.marks.filter(function(a){return"link"===a.type.name})[0])&&void 0!==s?s:null,this.dom=this.createElement(),this.bindEvent()}return n.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var t=document.createElement("span");return t.className=j3,t.appendChild(e),t}return e},n.prototype.createImageElement=function(e){var t=document.createElement("img"),r=e.attrs,i=r.imageUrl,o=r.altText,s=Oi(e.attrs);return t.src=i,o&&(t.alt=o),tD(s,t),t},n.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},n.prototype.stopEvent=function(){return!0},n.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},n}(),pZe=function(){function n(e,t,r,i){var o=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(s){if("none"!==getComputedStyle(s.target,":after").backgroundImage&&La(o.getPos)){var c=o.view.coordsAtPos(o.getPos());o.createLanguageEditor({top:c.top,right:c.right})}},this.handleKeydown=function(s){"Enter"===s.key&&o.input&&(s.preventDefault(),o.changeLanguage())},this.node=e,this.view=t,this.getPos=r,this.eventEmitter=i,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return n.prototype.createElement=function(){var e=this.node.attrs.language,t=document.createElement("div");t.setAttribute("data-language",e||"text"),t.className="toastui-editor-ww-code-block";var r=this.createCodeBlockElement(),i=r.firstChild;t.appendChild(r),this.dom=t,this.contentDOM=i},n.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),t=document.createElement("code"),r=this.node.attrs.language,i=Oi(this.node.attrs);return r&&t.setAttribute("data-language",r),tD(i,e),e.appendChild(t),e},n.prototype.createLanguageEditor=function(e){var t=this,r=e.top,i=e.right,o=document.createElement("span");o.className="toastui-editor-ww-code-block-language";var s=document.createElement("input");s.type="text",s.value=this.node.attrs.language,o.appendChild(s),this.view.dom.parentElement.appendChild(o);var a=o.clientWidth;sc(o,{top:r+10+"px",left:i-a-10+"px",width:a+"px"}),this.input=s,this.input.addEventListener("blur",function(){return t.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout(function(){t.input.focus()})},n.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},n.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},n.prototype.changeLanguage=function(){if(this.input&&La(this.getPos)){var e=this.input.value;this.reset();var t=this.getPos(),r=this.view.state.tr;r.setNodeMarkup(t,null,{language:e}),this.view.dispatch(r)}},n.prototype.reset=function(){var e;if(null!==(e=this.input)&&void 0!==e&&e.parentElement){var t=this.input.parentElement;this.input=null,rf(t)}},n.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype.stopEvent=function(){return!0},n.prototype.update=function(e){return!!e.sameMarkup(this.node)&&(this.node=e,!0)},n.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},n}(),gZe=/MsoListParagraph/,U3=/style=(.|\n)*mso-/,z3=/mso-list:(.*)/,mZe=/O:P/,vZe=/^(n|u|l)/;function CZe(n){for(var e=[],t=document.createTreeWalker(n,1,null,!1);t.nextNode();){var r=t.currentNode;if(s_(r)){var o=r.outerHTML,s=r.textContent,a=U3.test(o),l=z3.test(o);a&&!l&&s?e.push([r,!0]):(mZe.test(r.nodeName)||a&&!s||l)&&e.push([r,!1])}}return e.forEach(function(c){var b=c[0];c[1]?function Boe(n){for(var e=[];n.firstChild;)e.push(n.firstChild),n.parentNode&&n.parentNode.insertBefore(n.firstChild,n);rf(n)}(b):rf(b)}),n.innerHTML.trim()}function Z3(n){var t=document.createElement(n[0].unordered?"ul":"ol");return n.forEach(function(r){var i=r.children,o=r.contents,s=document.createElement("li");s.innerHTML=o,t.appendChild(s),i.length&&t.appendChild(Z3(i))}),t}function AZe(n){return Z3(function _Ze(n){var e=[];return n.forEach(function(t,r){var i=e[r-1],o=function wZe(n,e){var t=n.getAttribute("style");if(t){var o=t.match(z3)[1].trim().split(" ");return{id:e,level:parseInt(o[1].replace("level",""),10),prev:null,parent:null,children:[],unordered:vZe.test(n.textContent||""),contents:CZe(n)}}return null}(t,r);o&&(i&&function IZe(n,e){if(e.level<n.level)e.children.push(n),n.parent=e;else{for(;e&&e.level!==n.level;)e=e.parent;e&&(n.prev=e,n.parent=e.parent,n.parent&&n.parent.children.push(n))}}(o,i),e.push(o))}),e}(n).filter(function(r){return!r.parent}))}var K3="\x3c!--StartFragment--\x3e";function DZe(n){return function bZe(n){return U3.test(n)}(n=function kZe(n){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(n)&&(n="<tr>"+n+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(n)&&(n="<table>"+n+"</table>"),n}(n=function EZe(n){var e=n.indexOf(K3),t=n.lastIndexOf("\x3c!--EndFragment--\x3e");return e>-1&&t>-1&&(n=n.slice(e+K3.length,t)),n.replace(/<br[^>]*>/g,MG)}(n)))&&(n=function xZe(n){var e=document.createElement("div");e.innerHTML=n;var t=[],r=function Loe(n,e){var t=lc(n.querySelectorAll(e));return t.length?t:[]}(e,"p.MsoListParagraph");return r.forEach(function(o){var s=function SZe(n){for(;n&&!s_(n);)n=n.nextSibling;return!n||!gZe.test(n.className)}(o.nextSibling);if(t.push(o),s){var a=AZe(t),l=o.nextSibling;l?function Foe(n,e){e.parentNode&&e.parentNode.insertBefore(n,e)}(a,l):function Poe(n,e){(e=lg(e)?lc(e):[e]).forEach(function(t){n.appendChild(t)})}(e,a),t=[]}rf(o)}),(r.length?"<p></p>":"")+e.innerHTML}(n)),n}function Y3(n,e,t){for(var r=[],i=n.childCount,o=0;o<i;o+=1)if(!n.child(o).attrs.extended){var s=o<i?t.create(n.child(o).attrs,n.child(o).content):t.createAndFill();r.push(s)}return r}function J3(n,e,t){var r=t.nodes,i=r.tableRow,s=Y3(n,0,r.tableHeadCell);return i.create(null,s)}function X3(n,e,t){var r=t.nodes,i=r.tableRow,s=Y3(n,0,r.tableBodyCell);return i.create(null,s)}function q3(n){var e=[],t=[];return"tableHead"===n.firstChild.type.name&&n.firstChild.forEach(function(o){return e.push(o)}),"tableBody"===n.lastChild.type.name&&n.lastChild.forEach(function(o){return t.push(o)}),Vs(Vs([],e),t)}function RZe(n,e,t){var r=J3(n,0,t);return t.nodes.tableHead.create(null,r)}function Q3(n,e,t){var r=n.map(function(o){return X3(o,0,t)});if(!n.length){var i=function NZe(n,e){for(var t=e.nodes,r=t.tableRow,i=t.tableBodyCell,o=[],s=0;s<n;s+=1){var a=i.createAndFill();o.push(a)}return r.create({dummyRowForPasting:!0},o)}(e,t);r.push(i)}return t.nodes.tableBody.create(null,r)}function P_(n){return 4*n}var ZZe=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(Qr),KZe=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:et({},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"p"}],toDOM:function(t){return["p",Oi(t.attrs),0]}}},enumerable:!1,configurable:!0}),e}(Qr),YZe=/\s{1,4}$/,JZe=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(t,r){var i=t.selection,o=t.tr,s=i.$from,a=i.$to;return!(!s.blockRange(a)||Cg(s)||R_(s)||(r(o.insertText("    ",s.pos,a.pos)),0))}},e.prototype.removeSpaces=function(){return function(t,r){var i=t.selection,o=t.tr,s=i.$from,l=i.from;if(s.blockRange(i.$to)&&!Cg(s)&&!R_(s)){var b=s.nodeBefore;if(b&&b.isText){var x=b.text,L=x.replace(YZe,"");return r(o.delete(l-(x.length-L.length),l)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e}(Qr),XZe=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this.levels.map(function(r){return{tag:"h"+r,getAttrs:function(i){var o=i.getAttribute("data-raw-html");return et({level:r},o&&{rawHTML:o})}}});return{attrs:et({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),content:"inline*",group:"block",defining:!0,parseDOM:t,toDOM:function(r){var i=r.attrs;return["h"+i.level,Oi(i),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(r,i){return Ok(r.schema.nodes[t.level?"heading":"paragraph"],t)(r,i)}}},e}(Qr),qZe=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:et({language:{default:null},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(t){var r=t.getAttribute("data-raw-html");return et({language:t.firstElementChild?.getAttribute("data-language")||null},r&&{rawHTML:r})}}],toDOM:function(t){var r=t.attrs;return[r.rawHTML||"pre",["code",et({"data-language":r.language},Oi(r)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r){return Ok(t.schema.nodes.codeBlock)(t,r)}}},e.prototype.moveCursor=function(t){var r=this;return function(i,o){var s=i.tr,a=i.doc,l=i.schema,c=i.selection.$from;if(r.context.view.endOfTextblock(t)&&"codeBlock"===c.node().type.name){var x=c.parent.textContent.split("\n"),L="up"===t?c.start():c.end(),H="up"===t?[L,x[0].length+L]:[L-Yo(x).length,L],z=a.resolve("up"===t?c.before():c.after()),le="up"===t?z.nodeBefore:z.nodeAfter;if(function roe(n,e,t){return n>=e&&n<=t}(c.pos,H[0],H[1])&&!le){var de=Kk(s,z,l);if(de)return o(de),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e}(Qr),QZe=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:et({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[O_("ul")],toDOM:function(t){return["ul",Oi(t.attrs),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(t,r){return P3(t.schema.nodes.bulletList)(t,r)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:O9e}},e.prototype.keymaps=function(){var t=this.changeList(),r=JD(),o=r.outdent;return{"Mod-u":t,"Mod-U":t,Tab:(0,r.indent)(),"Shift-Tab":o()}},e}(Qr),e4e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:et({order:{default:1},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"ol",getAttrs:function(t){var r=t.getAttribute("start"),i=t.getAttribute("data-raw-html");return et({order:t.hasAttribute("start")?Number(r):1},i&&{rawHTML:i})}}],toDOM:function(t){var r=t.attrs;return[r.rawHTML||"ol",et({start:1===r.order?null:r.order},Oi(r)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r){return P3(t.schema.nodes.orderedList)(t,r)}}},e.prototype.keymaps=function(){var t=this.commands()(),r=JD(),o=r.outdent;return{"Mod-o":t,"Mod-O":t,Tab:(0,r.indent)(),"Shift-Tab":o()}},e}(Qr),t4e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(t){var r=t.getAttribute("data-raw-html");return et({task:t.hasAttribute("data-task"),checked:t.hasAttribute("data-task-checked")},r&&{rawHTML:r})}}],toDOM:function(t){var r=t.attrs,i=r.task,o=r.checked;if(!i)return[r.rawHTML||"li",0];var s=["task-list-item"];return o&&s.push("checked"),[r.rawHTML||"li",et({class:s.join(" "),"data-task":i},o&&{"data-task-checked":o}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(t,r){var i=t.selection,o=t.tr,a=i.$from,l=i.empty,c=t.schema.nodes.listItem,b=a.parent,x=a.node(-1);if(l&&!b.childCount&&x.type===c){if(a.index(-2)>=1)return o.delete(a.start(-1)-1,a.end(-1)),r(o),!0;if(a.node(-3).type===c)return o.delete(a.start(-2)-1,a.end(-1)),r(o),!0}return!1}},e.prototype.keymaps=function(){return{Backspace:this.liftToPrevListItem(),Enter:function(r,i){return function $9e(n){return function(e,t){var r=e.tr,i=e.selection,o=i.$from,s=i.$to;if(o.depth<2||!o.sameParent(s))return!1;var a=o.node(-1);if(a.type!==n)return!1;if(0===o.parent.content.size&&o.node(-1).childCount===o.indexAfter(-1)){if(2===o.depth||o.node(-3).type!==n||o.index(-2)!==o.node(-2).childCount-1)return!1;for(var l=o.index(-1)>0,c=ht.empty,b=o.depth-(l?1:2);b>=o.depth-3;b-=1)c=ht.from(o.node(b).copy(c));return c=c.append(ht.from(n.createAndFill())),r.replace(l?o.before():o.before(-1),o.after(-3),new Bt(c,l?3:2,2)),r.setSelection(zn.near(r.doc.resolve(o.pos+(l?3:2)))),t(r),!0}var x=s.pos===o.end()?a.contentMatchAt(0).defaultType:null,L=x&&[null,{type:x}];return r.delete(o.pos,s.pos),!!Jp(r.doc,o.pos,2,L)&&(r.split(o.pos,2,L),t(r),!0)}}(r.schema.nodes.listItem)(r,i)}}},e}(Qr),n4e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:et({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),content:"block+",group:"block",parseDOM:[O_("blockquote")],toDOM:function(t){return["blockquote",Oi(t.attrs),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r){return function Wre(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,s=i.blockRange(o),a=s&&function Dte(n,e,t=null,r=n){let i=function Mte(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.contentMatchAt(r).findWrapping(e);return o&&t.canReplaceWith(r,i,o.length?o[0]:e)?o:null}(n,e),o=i&&function Nte(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(t.child(c).type);return l&&l.validEnd?s:null}(r,e);return o?i.map(mH).concat({type:e,attrs:t}).concat(o.map(mH)):null}(s,n,e);return!!a&&(r&&r(t.tr.wrap(s,a).scrollIntoView()),!0)}}(t.schema.nodes.blockQuote)(t,r)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Alt-q":t,"Alt-Q":t}},e}(Qr),r4e={left:function d4e(n,e){var t=n[0],r=n[1],o=0===r;if(0!==t||!o){r-=1,o&&(t-=1,r=e.totalColumnCount-1);var a=e.getCellInfo(t,r);return a.offset+a.nodeSize-2}return null},right:function u4e(n,e){var t=n[0],r=n[1],o=e.totalColumnCount,s=r===o-1;if(t!==e.totalRowCount-1||!s){var l=r+1,c=e.getColspanStartInfo(t,r);return c?.count>1&&(l+=c.count-1),(s||l===o)&&(t+=1,l=0),e.getCellInfo(t,l).offset+2}return null},up:function h4e(n,e){var t=n[0];if(t>0){var i=e.getCellInfo(t-1,n[1]);return i.offset+i.nodeSize-2}return null},down:function f4e(n,e){var t=n[0],r=n[1];if(t<e.totalRowCount-1){var o=t+1,s=e.getRowspanStartInfo(t,r);return s?.count>1&&(o+=s.count-1),e.getCellInfo(o,r).offset+2}return null}};function ej(n,e,t){var r=t[0],o=e.getRowspanStartInfo(r,t[1]);return"up"===n&&0===r||"down"===n&&(o?.count>1?r+o.count-1:r)===e.totalRowCount-1}function eM(n,e,t,r){void 0===r&&(r=!1);var i=n.doc.resolve(e.tableEndOffset);return r||!i.nodeAfter?Kk(n,i,t):n.setSelection(zn.near(i,1))}function tj(n,e,t,r){var o=(0,r4e[n])(t,r);if(o){var s="right"===n||"down"===n?1:-1;return e.setSelection(zn.near(e.doc.resolve(o),s))}return null}function v4e(n,e,t){var r=n.getCellInfo(e,0).offset,i=n.getCellInfo(e,t-1);return{from:r,to:i.offset+i.nodeSize}}var y4e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:et({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[O_("table")],toDOM:function(t){return["table",Oi(t.attrs),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(t){return void 0===t&&(t={rowCount:2,columnCount:1,data:[]}),function(r,i){var o=t.rowCount,s=t.columnCount,a=t.data,l=r.schema,c=r.selection,b=r.tr;if(c.from===c.to&&!R_(c.$from)){var le=l.nodes,de=le.tableHead,Ce=le.tableBody,ke=a?.slice(0,s),De=a?.slice(s,a.length),Pe=function U9e(n,e,t){for(var r=e.nodes,i=r.tableRow,o=r.tableHeadCell,s=r.paragraph,a=[],l=0;l<n;l+=1){var c=t&&t[l],b=s.create(null,c?e.text(c):[]);a.push(o.create(null,b))}return[i.create(null,a)]}(s,l,ke),je=B3(o-1,s,l,De),Ye=l.nodes.table.create(null,[de.create(null,Pe),Ce.create(null,je)]);return i(b.replaceSelectionWith(Ye)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(t,r){var o=t.tr,s=Do.create(t.selection.$anchor);if(s){var c=s.tableStartOffset-1,b=ai(o.delete(c,s.tableEndOffset),c);return r(o.setSelection(b)),!0}return!1}}},e.prototype.addColumn=function(t){return function(){return function(r,i){var s=r.tr,a=r.schema,l=dc(r.selection),c=l.anchor,b=l.head;if(c&&b){for(var x=Do.create(c),L=x.getRectOffsets(c,b),H="left"===t?L.startColIdx:L.endColIdx+1,z=Ig(L).columnCount,le=x.totalRowCount,de=0;de<le;de+=1){var Ce=L_(z,de,a);s.insert(s.mapping.map(x.posAt(de,H)),Ce)}return i(s),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(t,r){var o=t.tr,s=dc(t.selection),a=s.anchor,l=s.head;if(a&&l){var c=Do.create(a),b=c.getRectOffsets(a,l),x=c.totalColumnCount,L=c.totalRowCount;if(Ig(b).columnCount===x)return!1;for(var le=b.startColIdx,de=b.endColIdx,Ce=o.mapping.maps.length,ke=0;ke<L;ke+=1)for(var De=de;De>=le;De-=1){var Pe=c.getCellInfo(ke,De),je=Pe.offset,Ye=Pe.nodeSize,mt=o.mapping.slice(Ce).map(je);o.delete(mt,mt+Ye)}return r(o),!0}return!1}}},e.prototype.addRow=function(t){return function(){return function(r,i){var s=r.schema,a=r.tr,l=dc(r.selection),c=l.anchor,b=l.head;if(c&&b){var x=Do.create(c),L=x.totalColumnCount,H=x.getRectOffsets(c,b),z=Ig(H).rowCount,le=function m4e(n,e,t){var r,i,o;return"up"===n?(r=t.startRowIdx,i=0,o=-1):o=e.getCellInfo(r=t.endRowIdx,i=e.totalColumnCount-1).nodeSize+1,{targetRowIdx:r,insertColIdx:i,nodeSize:o}}(t,x,H),de=le.targetRowIdx,ke=le.nodeSize;if(0!==de){for(var Pe=[],je=a.mapping.map(x.posAt(de,le.insertColIdx))+ke,Ye=[],mt=0;mt<L;mt+=1)Ye=Ye.concat(L_(1,de,s));for(var Mt=0;Mt<z;Mt+=1)Pe.push(s.nodes.tableRow.create(null,Ye));return i(a.insert(je,Pe)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(t,r){var o=t.tr,s=dc(t.selection),a=s.anchor,l=s.head;if(a&&l){var c=Do.create(a),b=c.totalRowCount,x=c.totalColumnCount,L=c.getRectOffsets(a,l),H=Ig(L).rowCount,z=L.startRowIdx;if(H===b-1||0===z)return!1;for(var ke=L.endRowIdx;ke>=z;ke-=1){var De=v4e(c,ke,x);o.delete(De.from-1,De.to+1)}return r(o),!0}return!1}}},e.prototype.alignColumn=function(){return function(t){return void 0===t&&(t={align:"center"}),function(r,i){var o=t.align,a=r.tr,l=dc(r.selection),c=l.anchor,b=l.head;if(c&&b){for(var x=Do.create(c),L=x.totalRowCount,H=x.getRectOffsets(c,b),z=H.startColIdx,le=H.endColIdx,de=0;de<L;de+=1)for(var Ce=z;Ce<=le;Ce+=1)if(!x.extendedRowspan(de,Ce)&&!x.extendedColspan(de,Ce)){var ke=x.getNodeAndPos(de,Ce),Pe=ke.pos,je=z9e(ke.node,{align:o});a.setNodeMarkup(Pe,null,je)}return i(a),!0}return!1}}},e.prototype.moveToCell=function(t){return function(r,i){var s=r.tr,a=r.schema,l=dc(r.selection),c=l.anchor;if(c&&l.head){var H,x=Do.create(c),L=x.getCellIndex(c);if(H=ej(t,x,L)?eM(s,x,a):tj(t,s,L,x))return i(H),!0}return!1}},e.prototype.moveInCell=function(t){var r=this;return function(i,o){var s=i.selection,a=i.tr,l=i.doc,c=i.schema,b=s.$from;if(!r.context.view.endOfTextblock(t))return!1;var L=pu(b,function(De){var Pe=De.type;return"tableHeadCell"===Pe.name||"tableBodyCell"===Pe.name});if(L){var H=pu(b,function(De){return"paragraph"===De.type.name}),z=L.depth;if(H&&function l4e(n,e,t,r){var i=e[0],o=e[1],s=i+3,a=o>=s,l=a?i+1:o,c=function s4e(n,e,t,r,i){var a=e[2];if("left"===n||"up"===n){if(i&&!function i4e(n,e,t){var r=t[0],i=t[1],o=e.resolve(n.before(r-1));return i===r&&!o.nodeBefore}(t,r,[e[0],e[1]]))return!1;var l=t.before(a);if(r.resolve(l).nodeBefore)return!1}return!0}(n,[o,s,l],t,r,a),b=function a4e(n,e,t,r,i){if("right"===n||"down"===n){if(i&&!function o4e(n){for(var e,r,t=n.depth;t&&"tableBodyCell"!==(r=n.node(t)).type.name;){if("listItem"===r.type.name){var i=n.node(t-1),s="paragraph"!==(null===(e=r.lastChild)||void 0===e?void 0:e.type.name);return!(i.lastChild!==r||s)}t-=1}return!1}(t))return!1;var o=t.after(e);if(r.resolve(o).nodeAfter)return!1}return!0}(n,l,t,r,a);return c&&b}(t,[z,H.depth],b,l)){var le=dc(s).anchor,de=Do.create(le),Ce=de.getCellIndex(le),ke=void 0;if(function p4e(n,e,t){if("up"===n||"down"===n)return!1;var o=e.tableStartOffset,s=e.tableEndOffset,a=e.getCellInfo(t[0],t[1]),l=a.offset;return("left"===n?o:s)===("left"===n?l-2:l+a.nodeSize+3)}(t,de,Ce)?ke=function g4e(n,e,t){var r=n.doc.resolve(e.before(t-3));return n.setSelection(new In(r))}(a,b,z):ej(t,de,Ce)?"up"===t?ke=function c4e(n,e,t){var r=n.doc.resolve(e.tableStartOffset-1);return r.nodeBefore?n.setSelection(zn.near(r,-1)):Kk(n,r,t)}(a,de,c):"down"===t&&(ke=eM(a,de,c)):ke=tj(t,a,Ce,de),ke)return o(ke),!0}}return!1}},e.prototype.deleteCells=function(){return function(t,r){var i=t.schema,o=t.selection,s=t.tr,a=dc(o),l=a.anchor,c=a.head;if(l&&c&&!(o instanceof lr)){for(var x=Do.create(l),L=x.getRectOffsets(l,c),z=L.startColIdx,le=L.endRowIdx,de=L.endColIdx,Ce=L.startRowIdx;Ce<=le;Ce+=1)for(var ke=z;ke<=de;ke+=1)if(!x.extendedRowspan(Ce,ke)&&!x.extendedColspan(Ce,ke)){var De=x.getNodeAndPos(Ce,ke),Pe=De.node,je=De.pos,Ye=L_(1,Ce,i,Pe.attrs);s.replaceWith(s.mapping.map(je),s.mapping.map(je+Pe.nodeSize),Ye)}return r(s),!0}return!1}},e.prototype.exitTable=function(){return function(t,r){var i=t.selection,o=t.tr,s=t.schema,a=i.$from;if(pu(a,function(L){var H=L.type;return"tableHeadCell"===H.name||"tableBodyCell"===H.name})&&pu(a,function(L){return"paragraph"===L.type.name})){var b=dc(i).anchor;return r(eM(o,Do.create(b),s,!0)),!0}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var t=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:t,"Mod-Backspace":t,Delete:t,"Mod-Delete":t,"Mod-Enter":this.exitTable()}},e}(Qr),b4e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:et({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[O_("thead")],toDOM:function(t){return["thead",Oi(t.attrs),0]}}},enumerable:!1,configurable:!0}),e}(Qr),C4e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:et({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"tbody",getAttrs:function(t){var i=t.querySelectorAll("tr")[0].children.length,o=t.getAttribute("data-raw-html");return!!i&&et({},o&&{rawHTML:o})}}],toDOM:function(t){return["tbody",Oi(t.attrs),0]}}},enumerable:!1,configurable:!0}),e}(Qr),w4e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:et({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"tr",getAttrs:function(t){var r=t.children.length,i=t.getAttribute("data-raw-html");return!!r&&et({},i&&{rawHTML:i})}}],toDOM:function(t){return["tr",Oi(t.attrs),0]}}},enumerable:!1,configurable:!0}),e}(Qr),I4e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:et({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),isolating:!0,parseDOM:[R3("th")],toDOM:function(t){var r=t.attrs,i=N3(r);return["th",et(et({},i),Oi(r)),0]}}},enumerable:!1,configurable:!0}),e}(Qr),_4e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[R3("td")],toDOM:function(t){return["td",N3(t.attrs),0]}}},enumerable:!1,configurable:!0}),e}(Qr),A4e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:et({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(t){var r=ff(t,{RETURN_DOM_FRAGMENT:!0}).firstChild,i=r.getAttribute("src")||"",o=r.getAttribute("data-raw-html"),s=r.getAttribute("alt");return et({imageUrl:i,altText:s},o&&{rawHTML:o})}}],toDOM:function(t){var r=t.attrs;return[r.rawHTML||"img",et(et({src:ug(r.imageUrl)},r.altText&&{alt:r.altText}),Oi(r))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(t){return function(r,i){var s=r.tr,l=t.imageUrl,c=t.altText;if(!l)return!1;var b=r.schema.nodes.image.createAndFill(et({imageUrl:l},c&&{altText:c}));return i(s.replaceSelectionWith(b).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e}(Qr),S4e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:et({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(t){var r=t.attrs;return["div",Oi(r),[r.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var t=this;return function(){return function(r,i){var o,s=r.selection,a=s.$from;if(a===s.$to){var c=r.doc,b=r.schema.nodes,L=b.paragraph,H=[b.thematicBreak.create()],z=a.node(1),le=c.child(c.childCount-1)===z,de=c.resolve(a.after(1)),Ce=(null===(o=a.nodeAfter)||void 0===o?void 0:o.type.name)===t.name;return(le||Ce)&&H.push(L.create()),i(r.tr.insert(de.pos,H).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(Qr),x4e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["b","strong"].map(function(r){return{tag:r,getAttrs:function(i){var o=i.getAttribute("data-raw-html");return et({},o&&{rawHTML:o})}}});return{attrs:et({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:t,toDOM:function(r){var i=r.attrs;return[i.rawHTML||"strong",Oi(i)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(t,r){return Vy(t.schema.marks.strong)(t,r)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(li),T4e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["i","em"].map(function(r){return{tag:r,getAttrs:function(i){var o=i.getAttribute("data-raw-html");return et({},o&&{rawHTML:o})}}});return{attrs:et({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:t,toDOM:function(r){var i=r.attrs;return[i.rawHTML||"em",Oi(i)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(t,r){return Vy(t.schema.marks.emph)(t,r)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(li),E4e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["s","del"].map(function(r){return{tag:r,getAttrs:function(i){var o=i.getAttribute("data-raw-html");return et({},o&&{rawHTML:o})}}});return{attrs:et({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:t,toDOM:function(r){var i=r.attrs;return[i.rawHTML||"del",Oi(i)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r){return Vy(t.schema.marks.strike)(t,r)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(li),k4e=function(n){function e(t){var r=n.call(this)||this;return r.linkAttributes=t,r}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this;return{attrs:et({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(r){var i=ff(r,{RETURN_DOM_FRAGMENT:!0}).firstChild,o=i.getAttribute("href")||"",s=i.getAttribute("title")||"",a=i.getAttribute("data-raw-html");return et({linkUrl:o,title:s},a&&{rawHTML:a})}}],toDOM:function(r){var i=r.attrs;return[i.rawHTML||"a",et(et({href:ug(i.linkUrl)},t.linkAttributes),Oi(i))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(t){return function(r,i){var s=t.linkUrl,a=t.linkText,l=void 0===a?"":a,c=r.schema,b=r.tr,x=r.selection,L=x.empty,H=x.from,z=x.to;if(H&&z&&s){var de=c.mark("link",{linkUrl:s});if(L&&l){var Ce=Eo(c,l,de);b.replaceRangeWith(H,z,Ce)}else b.addMark(H,z,de);return i(b.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(t){return function(r,i){return Vy(r.schema.marks.link,t)(r,i)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e}(li),D4e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:et({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"code",getAttrs:function(t){var r=t.getAttribute("data-raw-html");return et({},r&&{rawHTML:r})}}],toDOM:function(t){var r=t.attrs;return[r.rawHTML||"code",Oi(r)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r){return Vy(t.schema.marks.code)(t,r)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(li),M4e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(t){return{info:t.getAttribute("data-custom-info")}}}],toDOM:function(t){return["div",{"data-custom-info":t.attrs.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(r,i){return!!t?.info&&Ok(r.schema.nodes.customBlock,t)(r,i)}}},e}(Qr),N4e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r,i){var o=t.selection.$from;return!(!i.endOfTextblock("down")||"frontMatter"!==o.node().type.name)&&Rk(t,r)}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(Qr),R4e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r,i){var o=t.selection.$from;return!(!i.endOfTextblock("down")||"htmlComment"!==o.node().type.name)&&Rk(t,r)}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(Qr),L4e=Wt("contents"),P4e=function(n){function e(t,r){var i=n.call(this,t)||this,o=r.toDOMAdaptor,s=r.htmlSchemaMap,a=void 0===s?{}:s,l=r.linkAttributes,c=void 0===l?{}:l,b=r.useCommandShortcut,x=void 0===b||b,L=r.wwPlugins,H=void 0===L?[]:L,z=r.wwNodeViews,le=void 0===z?{}:z;return i.editorType="wysiwyg",i.el.classList.add("ww-mode"),i.toDOMAdaptor=o,i.linkAttributes=c,i.extraPlugins=H,i.pluginNodeViews=le,i.specs=i.createSpecs(),i.schema=i.createSchema(a),i.context=i.createContext(),i.keymaps=i.createKeymaps(x),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(et(et({},i.context),{view:i.view})),i.initEvent(),i}return Ht(e,n),e.prototype.createSpecs=function(){return function O4e(n){return new VG([new ZZe,new KZe,new JZe,new XZe,new qZe,new QZe,new e4e,new t4e,new n4e,new y4e,new b4e,new C4e,new w4e,new I4e,new _4e,new A4e,new S4e,new x4e,new T4e,new E4e,new k4e(n),new D4e,new M4e,new N4e,new $G,new R4e])}(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(t){return new nH({nodes:et(et({},this.specs.nodes),t.nodes),marks:et(et({},this.specs.marks),t.marks)})},e.prototype.createPlugins=function(){return Vs([new Bs({key:Ad,state:{init:function(){return null},apply:function(n,e){var t=n.getMeta(Ad);if(t)return-1===t?null:t;if(JI(e)||!n.docChanged)return e;var r=n.mapping.mapResult(e);return r.deleted?null:r.pos}},props:{decorations:J9e,createSelectionBetween:function(n){var e=n.state;return JI(Ad.getState(e))?null:e.selection}},view:function(n){return new K9e(n)}}),tZe(this.eventEmitter),new Bs({props:{handleDOMEvents:{mousedown:function(n,e){var o=n.posAtCoords({left:e.clientX,top:e.clientY});if(o){var s=n.state,l=s.tr,c=s.doc.resolve(o.pos),b=wg(c),L=getComputedStyle(e.target,":before");if(!b||!qk(L,e.offsetX,e.offsetY))return!1;e.preventDefault();var de=c.before(b.depth),Ce=b.node.attrs;return l.setNodeMarkup(de,null,et(et({},Ce),{checked:!Ce.checked})),n.dispatch(l),!0}return!1}}}}),cZe(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createPluginNodeViews=function(){var r=this.eventEmitter,i=this.pluginNodeViews,o={};return i&&Object.keys(i).forEach(function(s){o[s]=function(a,l,c){return i[s](a,l,c,r)}}),o},e.prototype.createView=function(){var t=this,i=this.toDOMAdaptor,o=this.eventEmitter;return new xk(this.el,{state:this.createState(),attributes:{class:L4e},nodeViews:et({customBlock:function(s,a,l){return new uZe(s,a,l,i)},image:function(s,a,l){return new dZe(s,a,l,o)},codeBlock:function(s,a,l){return new pZe(s,a,l,o)},widget:BG},this.createPluginNodeViews()),dispatchTransaction:function(s){var a=t.view.state.applyTransaction(s).state;t.view.updateState(a),t.emitChangeEvent(s.scrollIntoView()),t.eventEmitter.emit("setFocusedNode",a.selection.$from.node(1))},transformPastedHTML:DZe,transformPasted:function(s){return function LZe(n,e,t){var r=[],o=n.openStart,s=n.openEnd;return n.content.forEach(function(a){if("table"===a.type.name){var l=V3(new Bt(ht.from(a),0,0));if(l){var x=function OZe(n,e,t,r){var i=function MZe(n){return n.reduce(function(t,r){return t.childCount>r.childCount?t:r}).childCount}(n);if(t&&r)return e.nodes.table.create(null,[Q3(n,i,e)]);var o=n[0],s=n.slice(1),a=[RZe(o,0,e)];return s.length&&a.push(Q3(s,i,e)),e.nodes.table.create(null,a)}(q3(l),e,"tableBody"===l.firstChild.type.name,t);r.push(x)}}else r.push(a)}),new Bt(ht.from(r),o,s)}(s,t.schema,R_(t.view.state.selection.$from))},handlePaste:function(s,a,l){return function jZe(n,e){var t=n.state,i=t.schema,o=t.tr,s=dc(t.selection),a=s.anchor,l=s.head;if(a&&l){var c=V3(e);if(!c)return!1;var b=Do.create(a),x=b.getRectOffsets(a,l),L=function BZe(n,e,t){var r=[],i=q3(n),a=0===e.startRowIdx,l=i.slice(0,i.length);if(a){var c=l.shift();if(c){var b=J3(c,0,t).content;r.push(b)}}return l.forEach(function(x){if(!x.attrs.dummyRowForPasting){var L=X3(x,0,t).content;r.push(L)}}),r}(c,x,i),H=function $Ze(n,e,t){for(var r=e.startRowIdx,i=e.startColIdx,o=t.length,s=0,a=function(H){var z=t[H].childCount;t[H].forEach(function(le){var Ce=le.attrs.colspan;Ce>1&&(z+=Ce-1)}),s=Math.max(s,z)},l=0;l<o;l+=1)a(l);var c=r+o-1,b=i+s-1;return{startRowIdx:r,startColIdx:i,endRowIdx:c,endColIdx:b,addedRowCount:Math.max(c+1-n.totalRowCount,0),addedColumnCount:Math.max(b+1-n.totalColumnCount,0)}}(b,x,L),z=[];return function zZe(n,e){var r=Ig(n.getSpannedOffsets(e)),i=r.rowCount,o=r.columnCount,s=Ig(e);return i===s.rowCount&&o===s.columnCount}(b,H)&&(function HZe(n,e){for(var r=n.startColIdx,i=n.endRowIdx,o=n.endColIdx,s=n.addedRowCount,a=n.addedColumnCount,l=n.startRowIdx;l<=i-s;l+=1)e.push({rowIdx:l,startColIdx:r,endColIdx:o-a})}(H,z),H.addedColumnCount&&function VZe(n,e,t,r,i){for(var o=r.startRowIdx,s=r.startColIdx,a=r.endRowIdx,l=r.endColIdx,c=r.addedRowCount,b=r.addedColumnCount,x=t.totalRowCount,L=0,H=0;H<x;H+=1){var z=t.getCellInfo(H,l-b),Ce=n.mapping.map(z.offset+z.nodeSize),ke=L_(b,H,e);if(n.insert(Ce,ke),H>=o&&H<=a-c){var De=t.getCellInfo(H,l-b),Pe=n.mapping.map(De.offset),je=Ce+P_(b);i[L]={rowIdx:H,startColIdx:s,endColIdx:l,dummyOffsets:[Pe,je]},L+=1}}}(o,i,b,H,z),H.addedRowCount&&function GZe(n,e,t,r,i){var o=r.addedRowCount,s=r.addedColumnCount,a=r.startColIdx,l=r.endColIdx,c=n.mapping.maps.length,b=t.tableEndOffset-2,x=B3(o,t.totalColumnCount+s,e),L=b;n.insert(n.mapping.slice(c).map(L),x);for(var H=0;H<o;H+=1){var z=L+P_(a)+1,le=L+P_(l+1)+1,de=L+P_(t.totalColumnCount+s)+2;i.push({rowIdx:H+t.totalRowCount,startColIdx:a,endColIdx:l,dummyOffsets:[z,le]}),L=de}}(o,i,b,H,z),function WZe(n,e,t,r){var i=n.mapping.maps.length;t.forEach(function(o,s){var a=o.rowIdx,l=o.startColIdx,c=o.endColIdx,b=o.dummyOffsets,x=n.mapping.slice(i),L=new Bt(e[s],0,0),H=b?b[0]:r.getCellStartOffset(a,l),z=b?b[1]:r.getCellEndOffset(a,c);n.replace(x.map(H),x.map(z),L)})}(o,L,z,b),n.dispatch(o),function UZe(n,e,t){var r=n.state,i=r.tr,o=r.doc,s=Do.create(o.resolve(t)),a=e[0],l=a.rowIdx,c=a.startColIdx,b=Yo(e),x=b.rowIdx,L=b.endColIdx,H=s.getCellInfo(l,c).offset,z=s.getCellInfo(x,L).offset;n.dispatch(i.setSelection(new qD(o.resolve(H),o.resolve(z))))}(n,z,b.getCellInfo(0,0).offset)),!0}return!1}(s,l)},handleKeyDown:function(s,a){return t.eventEmitter.emit("keydown",t.editorType,a),!1},handleDOMEvents:{paste:function(s,a){var c=(a.clipboardData||window.clipboardData)?.items;if(c&&!lc(c).some(function(L){return"string"===L.kind&&"text/rtf"===L.type})){var x=FG(c);x&&(a.preventDefault(),rD(t.eventEmitter,x,a.type))}return!1},keyup:function(s,a){return t.eventEmitter.emit("keyup",t.editorType,a),!1},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,JD())},e.prototype.getHTML=function(){return nD(this.view.dom.innerHTML)},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var t=this.view.state.selection;return[t.from,t.to]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(t,r,i){var o=this.view.state,s=o.schema,a=o.tr,c=t.split("\n").map(function(L){return e_(s,nf(L,s))}),b=new Bt(ht.from(c),1,1),x=lu(r)&&lu(i)?a.replaceRange(r,i,b):a.replaceSelection(b);this.view.dispatch(x),this.focus()},e.prototype.deleteSelection=function(t,r){var i=this.view.state.tr,o=lu(t)&&lu(r)?i.deleteRange(t,r):i.deleteSelection();this.view.dispatch(o.scrollIntoView())},e.prototype.getSelectedText=function(t,r){var i=this.view.state,o=i.doc,s=i.selection,a=s.from,l=s.to;return lu(t)&&lu(r)&&(a=t,l=r),o.textBetween(a,l,"\n")},e.prototype.setModel=function(t,r){void 0===r&&(r=!1);var i=this.view.state;this.view.dispatch(i.tr.replaceWith(0,i.doc.content.size,t)),r&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(t,r){void 0===r&&(r=t);var i=this.view.state.tr,o=ai(i,t,r);this.view.dispatch(i.setSelection(o).scrollIntoView())},e.prototype.addWidget=function(t,r,i){var o=this.view,a=o.state;(0,o.dispatch)(a.tr.setMeta("widget",{pos:i??a.selection.to,node:t,style:r}))},e.prototype.replaceWithWidget=function(t,r,i){var o=this.view.state,s=o.tr,l=nf(i,o.schema);this.view.dispatch(s.replaceWith(t,r,l))},e.prototype.getRangeInfoOfNode=function(t){var r=this.view.state,o=r.selection,s=t?r.doc.resolve(t):o.$from,a=s.marks(),l=s.node(),c=s.start(),b=s.end(),x=l.type.name;if(a.length||"paragraph"===x){var L=a[a.length-1];x=L?L.type.name:"text",l.forEach(function(z,le){var Ce=z.nodeSize,De=s.pos-c;z.isText&&le<=De&&le+Ce>=De&&function(z){return!z.length||To(z,L)}(z.marks)&&(b=(c+=le)+Ce)})}return{range:[c,b],type:x}},e}(HG),F4e=fl,B4e=JI,j4e=function G4e(n){return function $4e(n){return!F4e(n)&&!B4e(n)}(n)&&!1!==n},z4e=function U4e(n){return!j4e(n)},rj=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],ij=function(){function n(){var e=this;this.events=new G3,this.eventTypes=rj.reduce(function(t,r){return et(et({},t),{type:r})},{}),this.hold=!1,rj.forEach(function(t){e.addEventType(t)})}return n.prototype.listen=function(e,t){var r=this.getTypeInfo(e),i=this.events.get(r.type)||[];if(!this.hasEventType(r.type))throw new Error("There is no event type "+r.type);r.namespace&&(t.namespace=r.namespace),i.push(t),this.events.set(r.type,i)},n.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=this.getTypeInfo(e),o=this.events.get(i.type),s=[];return!this.hold&&o&&o.forEach(function(a){var l=a.apply(void 0,t);fl(l)||s.push(l)}),s},n.prototype.emitReduce=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=this.events.get(e);return!this.hold&&o&&o.forEach(function(s){var a=s.apply(void 0,Vs([t],r));z4e(a)||(t=a)}),t},n.prototype.getTypeInfo=function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}},n.prototype.hasEventType=function(e){return!fl(this.eventTypes[this.getTypeInfo(e).type])},n.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},n.prototype.removeEventHandler=function(e,t){var r=this,i=this.getTypeInfo(e),o=i.type,s=i.namespace;o&&t?this.removeEventHandlerWithHandler(o,t):o&&!s?this.events.delete(o):!o&&s?this.events.forEach(function(a,l){r.removeEventHandlerWithTypeInfo(l,s)}):o&&s&&this.removeEventHandlerWithTypeInfo(o,s)},n.prototype.removeEventHandlerWithHandler=function(e,t){var r=this.events.get(e);if(r){var i=r.indexOf(t);r.indexOf(t)>=0&&r.splice(i,1)}},n.prototype.removeEventHandlerWithTypeInfo=function(e,t){var r=[],i=this.events.get(e);!i||(i.map(function(o){return o.namespace!==t&&r.push(o),null}),this.events.set(e,r))},n.prototype.getEvents=function(){return this.events},n.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},n}(),Z4e=function(){function n(e,t,r,i){this.eventEmitter=e,this.mdCommands=t,this.wwCommands=r,this.getEditorType=i,this.initEvent()}return n.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",function(t,r){e.exec(t,r)})},n.prototype.addCommand=function(e,t,r){"markdown"===e?this.mdCommands[t]=r:this.wwCommands[t]=r},n.prototype.deleteCommand=function(e,t){"markdown"===e?delete this.mdCommands[t]:delete this.wwCommands[t]},n.prototype.exec=function(e,t){"markdown"===this.getEditorType()?this.mdCommands[e](t):this.wwCommands[e](t)},n}();function F_(n){return"\n"===n[n.length-1]?n.slice(0,n.length-1):n}function tM(n,e){var t=n.schema,i=e.literal.match(hg);if(i){var a=(i[1]||i[3]).toLowerCase();return"htmlInline"===e.type&&!(!t.marks[a]&&!t.nodes[a])}return!1}function nM(n){return To(["text","strong","emph","strike","image","link","code"],n.type)}function oj(n){return"softbreak"===n?.type}function Xy(n){var r="htmlInline"===n.type&&n.literal.match(hg);if(r){var s=r[1]||r[3];if(s)return To(["ul","ol","li"],s.toLowerCase())}return!1}function sj(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var r=document.createElement("div");r.innerHTML=ff(n);var i=r.firstChild;return e.map(function(o){return i.getAttribute(o)||""})}var X4e=function Y4e(n){var e={};return Object.keys(n).forEach(function(t){t.split(", ").forEach(function(i){var o=i.toLowerCase();e[o]=n[t]})}),e}({"b, strong":function(n,e,t){var r=n.schema.marks.strong;t?n.openMark(r.create({rawHTML:t})):n.closeMark(r)},"i, em":function(n,e,t){var r=n.schema.marks.emph;t?n.openMark(r.create({rawHTML:t})):n.closeMark(r)},"s, del":function(n,e,t){var r=n.schema.marks.strike;t?n.openMark(r.create({rawHTML:t})):n.closeMark(r)},code:function(n,e,t){var r=n.schema.marks.code;t?n.openMark(r.create({rawHTML:t})):n.closeMark(r)},a:function(n,e,t){var i=n.schema.marks.link;if(t){var o=sj(e.literal,"href")[0];n.openMark(i.create({linkUrl:o,rawHTML:t}))}else n.closeMark(i)},img:function(n,e,t){if(t){var i=sj(e.literal,"src","alt"),s=i[1];n.addNode(n.schema.nodes.image,et({rawHTML:t,imageUrl:i[0]},s&&{altText:s}))}},hr:function(n,e,t){n.addNode(n.schema.nodes.thematicBreak,{rawHTML:t})},br:function(n,e){var t=n.schema.nodes.paragraph,r=e.parent,i=e.prev,o=e.next;"paragraph"===r?.type?(oj(i)&&n.openNode(t),oj(o)?n.closeNode():o&&(n.closeNode(),n.openNode(t))):"tableCell"===r?.type&&(i&&(nM(i)||tM(n,i))&&n.closeNode(),o&&(nM(o)||tM(n,o))&&n.openNode(t))},pre:function(n,e,t){var r,i,o=document.createElement("div");o.innerHTML=e.literal;var s=null===(i=null===(r=o.firstChild)||void 0===r?void 0:r.firstChild)||void 0===i?void 0:i.textContent;n.openNode(n.schema.nodes.codeBlock,{rawHTML:t}),n.addText(F_(s)),n.closeNode()},"ul, ol":function(n,e,t){if("tableCell"===e.parent.type){var r=n.schema.nodes,s=r.paragraph,a="ul"===t?r.bulletList:r.orderedList;t?(e.prev&&!Xy(e.prev)&&n.closeNode(),n.openNode(a,{rawHTML:t})):(n.closeNode(),e.next&&!Xy(e.next)&&n.openNode(s))}},li:function(n,e,t){var r;if("tableCell"===(null===(r=e.parent)||void 0===r?void 0:r.type)){var i=n.schema.nodes,o=i.listItem,s=i.paragraph;if(t){var a=function K4e(n){var e=n.literal;return{task:/data-task/.test(e),checked:/data-task-checked/.test(e)}}(e);e.prev&&!Xy(e.prev)&&n.closeNode(),n.openNode(o,et({rawHTML:t},a)),e.next&&!Xy(e.next)&&n.openNode(s)}else e.prev&&!Xy(e.prev)&&n.closeNode(),n.closeNode()}}});function aj(n){return"htmlInline"===n.type&&Xk.test(n.literal)}function lj(n){lc(n.childNodes).forEach(function(e){if(s_(e)){var t=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",t),e.childNodes&&lj(e)}})}var cj={text:function(n,e){n.addText(e.literal||"")},paragraph:function(n,e,t,r){var i;if(t.entering){var s=n.schema.nodes.paragraph;"paragraph"===(null===(i=e.prev)||void 0===i?void 0:i.type)&&(n.openNode(s,r),n.closeNode()),n.openNode(s,r)}else n.closeNode()},heading:function(n,e,t,r){t.entering?n.openNode(n.schema.nodes.heading,et({level:e.level,headingType:e.headingType},r)):n.closeNode()},codeBlock:function(n,e,t){var s=e.literal;n.openNode(n.schema.nodes.codeBlock,et({language:e.info},t)),n.addText(F_(s||"")),n.closeNode()},list:function(n,e,t,r){if(t.entering){var o=n.schema.nodes,a=o.orderedList,l=e.listData,b=l.start;"bullet"===l.type?n.openNode(o.bulletList,r):n.openNode(a,et({order:b},r))}else n.closeNode()},item:function(n,e,t,r){var o=n.schema.nodes.listItem,s=e.listData,a=s.task,l=s.checked;if(t.entering){var c=et(et(et({},a&&{task:a}),l&&{checked:l}),r);n.openNode(o,c)}else n.closeNode()},blockQuote:function(n,e,t,r){t.entering?n.openNode(n.schema.nodes.blockQuote,r):n.closeNode()},image:function(n,e,t,r){var o=t.skipChildren,s=n.schema.nodes.image,l=e.destination,c=e.firstChild;t.entering&&o&&o(),n.addNode(s,et(et({imageUrl:l},c&&{altText:c.literal}),r))},thematicBreak:function(n,e,t,r){n.addNode(n.schema.nodes.thematicBreak,r)},strong:function(n,e,t,r){var o=n.schema.marks.strong;t.entering?n.openMark(o.create(r)):n.closeMark(o)},emph:function(n,e,t,r){var o=n.schema.marks.emph;t.entering?n.openMark(o.create(r)):n.closeMark(o)},link:function(n,e,t,r){var o=n.schema.marks.link;if(t.entering){var c=et({linkUrl:e.destination,title:e.title},r);n.openMark(o.create(c))}else n.closeMark(o)},softbreak:function(n,e){if("paragraph"===e.parent.type){var t=e.prev,r=e.next;t&&!aj(t)&&n.closeNode(),r&&!aj(r)&&n.openNode(n.schema.nodes.paragraph)}},table:function(n,e,t,r){t.entering?n.openNode(n.schema.nodes.table,r):n.closeNode()},tableHead:function(n,e,t,r){t.entering?n.openNode(n.schema.nodes.tableHead,r):n.closeNode()},tableBody:function(n,e,t,r){t.entering?n.openNode(n.schema.nodes.tableBody,r):n.closeNode()},tableRow:function(n,e,t,r){t.entering?n.openNode(n.schema.nodes.tableRow,r):n.closeNode()},tableCell:function(n,e,t){if(!e.ignored){var i=function(z){return z&&(nM(z)||tM(n,z))};if(t.entering){var o=n.schema.nodes,l=o.paragraph,c=e.parent.parent,b="tableHead"===c.type?o.tableHeadCell:o.tableBodyCell,L=(c.parent.columns[e.startIdx]||{}).align,H=et({},e.attrs);L&&(H.align=L),n.openNode(b,H),i(e.firstChild)&&n.openNode(l)}else i(e.lastChild)&&n.closeNode(),n.closeNode()}},strike:function(n,e,t,r){var o=n.schema.marks.strike;t.entering?n.openMark(o.create(r)):n.closeMark(o)},code:function(n,e,t,r){var i=n.schema.marks.code;n.openMark(i.create(r)),n.addText(F_(e.literal||"")),n.closeMark(i)},customBlock:function(n,e){var t=n.schema.nodes,i=t.paragraph,a=e.literal;n.openNode(t.customBlock,{info:e.info}),n.addText(F_(a||"")),n.closeNode(),e.next||(n.openNode(i),n.closeNode())},frontMatter:function(n,e){n.openNode(n.schema.nodes.frontMatter),n.addText(e.literal),n.closeNode()},htmlInline:function(n,e){var t=e.literal,r=t.match(hg),i=r[1],s=(i||r[3]).toLowerCase(),a=n.schema.marks[s],l=ff(t);if(a?.spec.attrs.htmlInline)if(i){var c=jD(l);n.openMark(a.create({htmlAttrs:c}))}else n.closeMark(a);else{var b=X4e[s];b&&b(n,e,i)}},htmlBlock:function(n,e){var t=e.literal,r=document.createElement("div");if(Roe.test(t))n.openNode(n.schema.nodes.htmlComment),n.addText(e.literal),n.closeNode();else{var o=t.match(hg),l=(o[1]||o[3]).toLowerCase(),c=n.schema.nodes[l],b=ff(t);if(c?.spec.attrs.htmlBlock){var x=jD(b),L=T3(e,l);n.addNode(c,{htmlAttrs:x,childrenHTML:L})}else r.innerHTML=b,lj(r),n.convertByDOMParser(r)}},customInline:function(n,e,t){var r=t.entering,i=t.skipChildren,s=e.info,a=e.firstChild,l=n.schema;if(-1!==s.indexOf("widget")&&r){var c=AG(e);i(),n.addNode(l.nodes.widget,{info:s},[l.text(IG(s,c))])}else{var b="$$";r&&(b+=a?s+" ":s),n.addText(b)}}},eKe=function(){function n(e,t){this.schema=e,this.convertors=t,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=mr.none}return n.prototype.top=function(){return Yo(this.stack)},n.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},n.prototype.addText=function(e){if(e){var t=this.top().content,r=Yo(t),i=this.schema.text(e,this.marks),o=r&&function Q4e(n,e){return!!(n.isText&&e.isText&&mr.sameSet(n.marks,e.marks))&&n.withText(n.text+e.text)}(r,i);o?t[t.length-1]=o:t.push(i)}},n.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},n.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},n.prototype.addNode=function(e,t,r){var i=e.createAndFill(t,r,this.marks);return i?(this.push(i),i):null},n.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},n.prototype.closeNode=function(){this.marks.length&&(this.marks=mr.none);var e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)},n.prototype.convertByDOMParser=function(e){var t=this;jh.fromSchema(this.schema).parse(e).content.forEach(function(i){return t.push(i)})},n.prototype.closeUnmatchedHTMLInline=function(e,t){var r;if(!t&&"htmlInline"!==e.type)for(var o=this.stack.length-1;o>=0;o-=1){var s=this.stack[o];if(null===(r=s.attrs)||void 0===r||!r.rawHTML)break;s.content.length?this.closeNode():this.stack.pop()}},n.prototype.convert=function(e,t){for(var r=e.walker(),i=r.next(),o=function(){var a=i.node,l=i.entering,c=s.convertors[a.type],b=!1;if(c){var x={entering:l,leaf:!foe(a),getChildrenText:poe,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:"\n"},skipChildren:function(){b=!0}};if(s.closeUnmatchedHTMLInline(a,l),c(s,a,x),t?.node===a){var L=s.stack.reduce(function(H,z){return H+z.content.reduce(function(le,de){return le+de.nodeSize},0)},0)+1;t.setMappedPos(L)}}b&&(r.resumeAt(a,!1),r.next()),i=r.next()},s=this;i;)o()},n.prototype.convertNode=function(e,t){return this.convert(e,t),this.stack.length?this.closeNode():null},n}(),rM={text:function(n,e){var t,r=e.node,i=null!==(t=r.text)&&void 0!==t?t:"";(r.marks||[]).some(function(o){return"link"===o.type.name})?n.text(qI(i),!1):n.text(i)},paragraph:function(n,e){var t=e.node,r=e.parent,i=e.index,o=void 0===i?0:i;if(n.stopNewline)n.convertInline(t);else{var s=0===o,a=!s&&r.child(o-1),l=a&&0===a.childCount,c=o<r.childCount-1&&r.child(o+1),b=c&&"paragraph"===c.type.name,x=0===t.childCount;if(x&&l)n.write("<br>\n");else if(!x||l||s)n.convertInline(t),b?n.write("\n"):n.closeBlock(t);else{if("listItem"===r?.type.name){var L=n.getDelim();n.setDelim(""),n.write("<br>"),n.setDelim(L)}n.write("\n")}}},heading:function(n,e,t){var r=e.node,i=t.delim;"atx"===r.attrs.headingType?(n.write(i+" "),n.convertInline(r),n.closeBlock(r)):(n.convertInline(r),n.ensureNewLine(),n.write(i),n.closeBlock(r))},codeBlock:function(n,e,t){var r=e.node,i=t.delim,o=t.text,l=i[1];n.write(i[0]),n.ensureNewLine(),n.text(o,!1),n.ensureNewLine(),n.write(l),n.closeBlock(r)},blockQuote:function(n,e,t){var r=e.node,o=t.delim;e.parent?.type.name===r.type.name&&n.flushClose(1),n.wrapBlock(o,null,r,function(){return n.convertNode(r)})},bulletList:function(n,e,t){var i=t.delim;n.convertList(e.node,XI(" ",4),function(){return i+" "})},orderedList:function(n,e){var t=e.node,r=t.attrs.order||1;n.convertList(t,XI(" ",4),function(i){return String(r+i)+". "})},listItem:function(n,e){var t=e.node,r=t.attrs;r.task&&n.write("["+(r.checked?"x":" ")+"] "),n.convertNode(t)},image:function(n,e,t){var r=t.attrs;n.write("!["+r?.altText+"]("+r?.imageUrl+")")},thematicBreak:function(n,e,t){var r=e.node;n.write(t.delim),n.closeBlock(r)},table:function(n,e){var t=e.node;n.convertNode(t),n.closeBlock(t)},tableHead:function(n,e,t){var r=e.node,i=t.delim,o=r.firstChild;n.convertNode(r);var s=i??"";!i&&o&&o.forEach(function(a){var b=function rKe(n,e){var t=n.length,r="",i="";return"left"===e?(r=":",t-=1):"right"===e?(i=":",t-=1):"center"===e&&(r=":",i=":",t-=2),""+r+XI("-",Math.max(t,3))+i}(a.textContent,a.attrs.align);s+="| "+b+" "}),n.write(s+"|"),n.ensureNewLine()},tableBody:function(n,e){n.convertNode(e.node)},tableRow:function(n,e){n.convertNode(e.node),n.write("|"),n.ensureNewLine()},tableHeadCell:function(n,e,t){var r=e.node,i=t.delim;n.write(void 0===i?"| ":i),n.convertTableCell(r),n.write(" ")},tableBodyCell:function(n,e,t){var r=e.node,i=t.delim;n.write(void 0===i?"| ":i),n.convertTableCell(r),n.write(" ")},customBlock:function(n,e,t){var r=e.node,i=t.delim,o=t.text,l=i[1];n.write(i[0]),n.ensureNewLine(),n.text(o,!1),n.ensureNewLine(),n.write(l),n.closeBlock(r)},frontMatter:function(n,e,t){var r=e.node;n.text(t.text,!1),n.closeBlock(r)},widget:function(n,e,t){n.write(t.text)},html:function(n,e,t){var r=e.node;n.write(t.text),r.attrs.htmlBlock&&n.closeBlock(r)},htmlComment:function(n,e,t){var r=e.node;n.write(t.text),n.closeBlock(r)}};function uj(n,e){var t=n.text,r=/`+/g,i=0;if(n.isText&&t)for(var o=r.exec(t);o;)i=Math.max(i,o[0].length),o=r.exec(t);for(var s=i>0&&e>0?" `":"`",a=0;a<i;a+=1)s+="`";return i>0&&e<0&&(s+=" "),s}function vl(n){return n?["<"+n+">","</"+n+">"]:null}function qy(n){return n?"<"+n+">":null}function Qy(n){return n?"</"+n+">":null}var eb={heading:function(n){var t=n.node.attrs,r=t.level,i=XI("#",r);return"setext"===t.headingType&&(i=1===r?"===":"---"),{delim:i,rawHTML:vl(t.rawHTML)}},codeBlock:function(n){var e=n.node,r=e.attrs,i=e.textContent;return{delim:["```"+(r.language||""),"```"],rawHTML:vl(r.rawHTML),text:i}},blockQuote:function(n){return{delim:"> ",rawHTML:vl(n.node.attrs.rawHTML)}},bulletList:function(n,e){var i=n.node.attrs.rawHTML;return e.inTable&&(i=i||"ul"),{delim:"*",rawHTML:vl(i)}},orderedList:function(n,e){var i=n.node.attrs.rawHTML;return e.inTable&&(i=i||"ol"),{rawHTML:vl(i)}},listItem:function(n,e){var t=n.node,i=t.attrs,o=i.task,s=i.checked,a=t.attrs.rawHTML;return e.inTable&&(a=a||"li"),{rawHTML:a?["<"+a+(o?' class="task-list-item'+(s?" checked":"")+'"':"")+(o?" data-task"+(s?" data-task-checked":""):"")+">","</"+a+">"]:null}},table:function(n){return{rawHTML:vl(n.node.attrs.rawHTML)}},tableHead:function(n){return{rawHTML:vl(n.node.attrs.rawHTML)}},tableBody:function(n){return{rawHTML:vl(n.node.attrs.rawHTML)}},tableRow:function(n){return{rawHTML:vl(n.node.attrs.rawHTML)}},tableHeadCell:function(n){return{rawHTML:vl(n.node.attrs.rawHTML)}},tableBodyCell:function(n){return{rawHTML:vl(n.node.attrs.rawHTML)}},image:function(n){var t=n.node.attrs,r=t.rawHTML,i=t.altText,o=t.imageUrl.replace(/&amp;/g,"&"),s=i?' alt="'+ug(i)+'"':"";return{rawHTML:r?"<"+r+' src="'+ug(o)+'"'+s+">":null,attrs:{altText:qI(i||""),imageUrl:o}}},thematicBreak:function(n){return{delim:"***",rawHTML:qy(n.node.attrs.rawHTML)}},customBlock:function(n){var e=n.node;return{delim:["$$"+e.attrs.info,"$$"],text:e.textContent}},frontMatter:function(n){return{text:n.node.textContent}},widget:function(n){return{text:n.node.textContent}},strong:function(n,e){var i=n.node.attrs.rawHTML;return{delim:"**",rawHTML:e.entering?qy(i):Qy(i)}},emph:function(n,e){var i=n.node.attrs.rawHTML;return{delim:"*",rawHTML:e.entering?qy(i):Qy(i)}},strike:function(n,e){var i=n.node.attrs.rawHTML;return{delim:"~~",rawHTML:e.entering?qy(i):Qy(i)}},link:function(n,e){var r=e.entering,i=n.node.attrs,o=i.title,s=i.rawHTML,a=i.linkUrl.replace(/&amp;/g,"&"),l=o?' title="'+ug(o)+'"':"";return r?{delim:"[",rawHTML:s?"<"+s+' href="'+ug(a)+'"'+l+">":null}:{delim:"]("+a+(o?" "+noe(qI(o)):"")+")",rawHTML:Qy(s)}},code:function(n,e){var t=n.node,r=n.parent,i=n.index,o=void 0===i?0:i,s=e.entering;return{delim:s?uj(r.child(o),-1):uj(r.child(o-1),1),rawHTML:s?qy(t.attrs.rawHTML):Qy(t.attrs.rawHTML)}},htmlComment:function(n){return{text:n.node.textContent}},html:function(n,e){var t=n.node,r=e.entering,i=t.type.name,o=t.attrs.htmlAttrs,s="<"+i,a="</"+i+">";return Object.keys(o).forEach(function(l){s+=" "+l+'="'+o[l].replace(/"/g,"'")+'"'}),s+=">",t.attrs.htmlInline?{rawHTML:r?s:a}:{text:""+s+t.attrs.childrenHTML+a}}},dj={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function aKe(n){Object.keys(n).forEach(function(i){var o=eb[i],s=n[i];eb[i]=o?function(a,l){return l.origin=function(){return o(a,l)},s(a,l)}:s,delete n[i]});var t=function oKe(n){var e={};return Object.keys(rM).forEach(function(r){e[r]=function(i,o){if(rM[r]){var a=n[r],l=a?a(o,{inTable:i.inTable}):{};!function iKe(n,e){var t=e.state,r=e.nodeInfo,i=e.params,o=i.rawHTML;o?ef(n,["heading","codeBlock"])>-1?function tKe(n,e,t){var i=t[1];n.write(t[0]),n.convertInline(e),n.write(i)}(t,r.node,o):ef(n,["image","thematicBreak"])>-1?t.write(o):function nKe(n,e,t){var r=e.node,i=e.parent,o=t[0],s=t[1];n.stopNewline=!0,n.write(o),n.convertNode(r),n.write(s),"doc"===i?.type.name&&(n.closeBlock(r),n.stopNewline=!1)}(t,r,o):rM[n](t,r,i)}(r,{state:i,nodeInfo:o,params:l})}}}),e}(eb),r=function sKe(n){var e={};return Object.keys(dj).forEach(function(r){e[r]=function(i,o){var s=dj[r],a=n[r],c=a&&i&&!fl(o)?a(i,{entering:o}):{};return et(et({},c),s)}}),e}(eb);return{nodeTypeConvertors:t,markTypeConvertors:r}}var lKe=function(){function n(e){var r=e.markTypeConvertors;this.nodeTypeConvertors=e.nodeTypeConvertors,this.markTypeConvertors=r,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return n.prototype.getMarkConvertor=function(e){return this.markTypeConvertors[e.attrs.htmlInline?"html":e.type.name]},n.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},n.prototype.markText=function(e,t,r,i){var o=this.getMarkConvertor(e);if(o){var s=o({node:e,parent:r,index:i},t);return s.rawHTML||s.delim}return""},n.prototype.setDelim=function(e){this.delim=e},n.prototype.getDelim=function(){return this.delim},n.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+="\n"),e||(e=2),e>1){var t=this.delim,r=/\s+$/.exec(t);r&&(t=t.slice(0,t.length-r[0].length));for(var i=1;i<e;i+=1)this.result+=t+"\n"}this.closed=!1}},n.prototype.wrapBlock=function(e,t,r,i){var o=this.getDelim();this.write(t||e),this.setDelim(this.getDelim()+e),i(),this.setDelim(o),this.closeBlock(r)},n.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+="\n")},n.prototype.write=function(e){void 0===e&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},n.prototype.closeBlock=function(e){this.closed=e},n.prototype.text=function(e,t){void 0===t&&(t=!0);for(var r=e.split("\n"),i=0;i<r.length;i+=1)this.write(),this.result+=t?toe(r[i]):r[i],i!==r.length-1&&(this.result+="\n")},n.prototype.convertBlock=function(e,t,r){var o=this.nodeTypeConvertors[e.type.name],s={node:e,parent:t,index:r};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,s):o&&o(this,s)},n.prototype.convertInline=function(e){var t=this,r=[],i="",o=function(s,a,l){var c=s?s.marks:[],b=i;if(i="",s&&s.isText&&c.some(function(on){var _n=t.getMarkConvertor(on),yr=_n&&_n();return yr&&yr.removedEnclosingWhitespace})&&s&&s.text){var L=/^(\s*)(.*?)(\s*)$/m.exec(s.text),H=L[1],z=L[2],le=L[3];b+=H,i=le,(H||le)&&((s=z?s.withText(z):null)||(c=r))}for(var de=c.length&&Yo(c),Ce=de&&t.getMarkConvertor(de),ke=Ce&&Ce(),De=ke&&!1===ke.escape,Pe=c.length-(De?1:0),je=0;je<Pe&&(z=c[je],!ke||ke.mixable);je+=1)for(var Ye=0;Ye<r.length;Ye+=1){var mt=r[Ye];if(ke&&!ke.mixable)break;if(z.eq(mt)){je>Ye?c=c.slice(0,Ye).concat(z).concat(c.slice(Ye,je)).concat(c.slice(je+1,Pe)):Ye>je&&(c=c.slice(0,je).concat(c.slice(je+1,Ye)).concat(z).concat(c.slice(Ye,Pe)));break}}for(var Mt=0;Mt<Math.min(r.length,Pe)&&c[Mt].eq(r[Mt]);)Mt+=1;for(;Mt<r.length;){var St=r.pop();St&&t.text(t.markText(St,!1,e,l),!1)}if(b&&t.text(b),s){for(;r.length<Pe;)r.push(z=c[r.length]),t.text(t.markText(z,!0,e,l),!1);De&&s.isText?t.text(t.markText(de,!0,e,l)+s.text+t.markText(de,!1,e,l+1),!1):t.convertBlock(s,e,l)}};e.forEach(o),o(null,0,e.childCount)},n.prototype.convertList=function(e,t,r){var o,i=this;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var s=null===(o=e.attrs.tight)||void 0===o||o,a=this.tightList;this.tightList=s,e.forEach(function(l,c,b){b&&s&&i.flushClose(1),i.wrapBlock(t,r(b),e,function(){return i.convertBlock(l,e,b)})}),this.tightList=a},n.prototype.convertTableCell=function(e){var t=this;this.stopNewline=!0,this.inTable=!0,e.forEach(function(r,i,o){To(["bulletList","orderedList"],r.type.name)?(t.convertBlock(r,e,o),t.closed=!1):(t.convertInline(r),o<e.childCount-1&&"paragraph"===e.child(o+1).type.name&&t.write("<br>"))}),this.stopNewline=!1,this.inTable=!1},n.prototype.convertNode=function(e,t){var r=this;return e.forEach(function(i,o,s){if(r.convertBlock(i,e,s),t?.node===i){var a=r.result.split("\n");t.setMappedPos([a.length,Yo(a).length+1])}}),this.result},n}(),cKe=function(){function n(e,t,r,i){var o=this;this.setMappedPos=function(s){o.mappedPosWhenConverting=s},this.schema=e,this.eventEmitter=i,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=function q4e(n){var e=Object.keys(n),t=et({},cj),i=new BD({gfm:!0,nodeId:!0,convertors:n}).getConvertors();return e.forEach(function(o){var s=cj[o];s&&!To(["htmlBlock","htmlInline"],o)&&(t[o]=function(a,l,c){c.origin=function(){return i[o](l,c,i)};var x,b=n[o](l,c);if(b){var L=Array.isArray(b)?b[0]:b;x={htmlAttrs:L.attributes,classNames:L.classNames}}s(a,l,c,x)})}),t}(r),this.toMdConvertors=aKe(t||{}),this.eventEmitter.listen("setFocusedNode",function(s){return o.focusedNode=s})}return n.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},n.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},n.prototype.toWysiwygModel=function(e){return new eKe(this.schema,this.toWwConvertors).convertNode(e,this.getInfoForPosSync())},n.prototype.toMarkdownText=function(e){var r=new lKe(this.toMdConvertors).convertNode(e,this.getInfoForPosSync());return this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",r)},n}();function hj(n){var e=n.plugins,t=n.eventEmitter,r=n.usageStatistics,i=n.instance;return t.listen("mixinTableOffsetMapPrototype",G9e),(e??[]).reduce(function(o,s){var a=function uKe(n){var e=n.plugin,b={eventEmitter:n.eventEmitter,usageStatistics:n.usageStatistics,instance:n.instance,pmState:{Plugin:Bs,PluginKey:My,Selection:zn,TextSelection:lr},pmView:{Decoration:Hs,DecorationSet:_i},pmModel:{Fragment:ht},pmRules:{InputRule:rc,inputRules:QV,undoInputRule:Kre},pmKeymap:{keymap:Hy},i18n:Sn};if(lg(e)){var L=e[1];return(0,e[0])(b,void 0===L?{}:L)}return e(b)}({plugin:s,eventEmitter:t,usageStatistics:r,instance:i});if(!a)throw new Error("The return value of the executed plugin is empty.");var l=a.markdownParsers,c=a.toHTMLRenderers,b=a.toMarkdownRenderers,x=a.markdownPlugins,L=a.wysiwygPlugins,H=a.wysiwygNodeViews,z=a.markdownCommands,le=a.wysiwygCommands,de=a.toolbarItems;return c&&(o.toHTMLRenderers=QI(o.toHTMLRenderers,c)),b&&(o.toMarkdownRenderers=QI(o.toMarkdownRenderers,b)),x&&(o.mdPlugins=o.mdPlugins.concat(x)),L&&(o.wwPlugins=o.wwPlugins.concat(L)),H&&(o.wwNodeViews=et(et({},o.wwNodeViews),H)),z&&(o.mdCommands=et(et({},o.mdCommands),z)),le&&(o.wwCommands=et(et({},o.wwCommands),le)),de&&(o.toolbarItems=o.toolbarItems.concat(de)),l&&(o.markdownParsers=et(et({},o.markdownParsers),l)),o},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var fj=function(){function n(e){var t=this;this.options=Hk({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new ij;var r=mG(this.options.linkAttributes),i=hj({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},s=i.markdownParsers,a=this.options,l=a.customHTMLRenderer,c=a.extendedAutolinks,b=a.referenceDefinition,x=a.frontMatter,L=a.customHTMLSanitizer,H={linkAttributes:r,customHTMLRenderer:et(et({},i.toHTMLRenderers),l),extendedAutolinks:c,referenceDefinition:b,frontMatter:x,sanitizer:L||ff};(function pKe(n){["htmlBlock","htmlInline"].forEach(function(e){n[e]&&Object.keys(n[e]).forEach(function(t){return x3(t)})})})(H.customHTMLRenderer),this.options.events&&ag(this.options.events,function(De,Pe){t.on(Pe,De)});var z=this.options,le=z.el,de=z.initialValue,Ce=z.theme,ke=le.innerHTML;"light"!==Ce&&le.classList.add(Wt(Ce)),le.innerHTML="",this.toastMark=new u3("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:c,referenceDefinition:b,disallowDeepHeading:!0,frontMatter:x,customParser:s}),this.preview=new M3(this.eventEmitter,et(et({},H),{isViewer:!0})),hW(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),de?this.setMarkdown(de):ke&&this.preview.setHTML(ke),le.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return n.prototype.toggleTask=function(e){var t=e.target,r=getComputedStyle(t,":before");!t.hasAttribute("data-task-disabled")&&t.hasAttribute("data-task")&&qk(r,e.offsetX,e.offsetY)&&(Qk(t,"checked"),this.eventEmitter.emit("change",{source:"viewer",date:e}))},n.prototype.setMarkdown=function(e){var t=this.toastMark.getLineTexts(),r=t.length,i=Yo(t),s=this.toastMark.editMarkdown([1,1],[r,i.length+1],e||"");this.eventEmitter.emit("updatePreview",s)},n.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},n.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},n.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},n.prototype.destroy=function(){uW(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},n.prototype.isViewer=function(){return!0},n.prototype.isMarkdownMode=function(){return!1},n.prototype.isWysiwygMode=function(){return!1},n}();function B_(n){return n instanceof cl}function pj(n){return To(["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"],n)}var mKe={openTag:function(n,e){var i=n.classNames,o=n.attributes,s=document.createElement(n.tagName),a={};i&&(s.className=i.join(" ")),o&&(a=et(et({},a),o)),tD(a,s),e.push(s)},closeTag:function(n,e){if(e.length>1){var t=e.pop();Yo(e).appendChild(t)}},html:function(n,e){Yo(e).insertAdjacentHTML("beforeend",n.content)},text:function(n,e){var t=document.createTextNode(n.content);Yo(e).appendChild(t)}},vKe=function(){function n(e,t){var r=zD(e,t),i=et(et({},t.htmlBlock),t.htmlInline);this.customConvertorKeys=Object.keys(t).concat(Object.keys(i)),this.renderer=new BD({gfm:!0,convertors:et(et({},r),i)}),this.convertors=this.renderer.getConvertors()}return n.prototype.generateTokens=function(e){var t=function gKe(n){var e=n.attrs,r=n.type.name,i={type:r,wysiwygNode:!0,literal:!pj(r)&&B_(n)?n.textContent:null},s={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}}[r],a=et(et({},i),s),l=n.attrs,c=l.htmlAttrs,b=l.childrenHTML;return c?et(et({},a),{attrs:c,childrenHTML:b}):a}(e),r={entering:!0,leaf:!!B_(e)&&e.isLeaf,options:this.renderer.getOptions(),getChildrenText:function(){return B_(e)?e.textContent:""},skipChildren:function(){return!1}},i=this.convertors[e.type.name],o=i(t,r,this.convertors),s=lg(o)?o:[o];return(pj(e.type.name)||e.attrs.htmlInline)&&(r.entering=!1,s.push({type:"text",content:B_(e)?e.textContent:""}),s=s.concat(i(t,r,this.convertors))),s},n.prototype.toDOMNode=function(e){var t=this.generateTokens(e),r=[];return t.forEach(function(i){return mKe[i.type](i,r)}),r[0]},n.prototype.getToDOMNode=function(e){return To(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},n}(),$_=null,iM=null;function gj(n,e){var t=e.syncScrollTop,r=e.releaseEventBlock;iM&&clearTimeout(iM),t(n),iM=setTimeout(function(){r()},15)}var IKe=function(){function n(e,t,r){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var o=t.el;this.previewRoot=t.previewContent,this.previewEl=o,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=r,this.addScrollSyncEvent()}return n.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",function(){e.clearTimer(),e.timer=setTimeout(function(){e.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(t,r){e.active&&("editor"===t&&"editor"!==e.blockedScroll?e.syncPreviewScrollTop():"preview"===t&&"preview"!==e.blockedScroll&&e.syncEditorScrollTop(r))}),this.eventEmitter.listen("toggleScrollSync",function(t){e.active=t})},n.prototype.getMdNodeAtPos=function(e,t){var r=e.content.findIndex(t.pos);return this.toastMark.findFirstNodeAtLine(r.index+1)},n.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),t=this.toastMark.findFirstNodeAtLine(e[0][0]),r=this.previewEl.clientHeight,i=ZD(this.previewRoot,t).el,a=(N_(i,this.previewRoot)||i.offsetTop)+i.clientHeight-.5*r;return this.latestEditorScrollTop=null,i.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top<r?null:a},n.prototype.syncPreviewScrollTop=function(e){void 0===e&&(e=!1);var t=this,r=t.editorView,i=t.previewEl,o=t.previewRoot,s=r.dom.getBoundingClientRect(),l=s.top,c=r.posAtCoords({left:s.left,top:l}),b=r.state.doc,x=this.getMdNodeAtPos(b,c);if(x&&!function soe(n){var e=n.type;return"htmlBlock"===e||"htmlInline"===e}(x)){var L=i.scrollTop,H=r.dom,z=H.scrollTop,Ce=H.children,ke=H.scrollHeight-z<=H.clientHeight+18,De=ke?i.scrollHeight:0;if(z&&!ke){if(e){var Pe=this.getScrollTopByCaretPos();if(!Pe)return;De=Pe}else{var je=ZD(this.previewRoot,x),Ye=je.el,Mt=k3(b,je.mdNode,Ce),St=Mt.height,on=Mt.rect;De=(N_(Ye,o)||Ye.offsetTop)+Ye.clientHeight*(l>on.top?Math.min((l-on.top)/St,1):0)}De=this.getResolvedScrollTop("editor",z,De,L),this.latestEditorScrollTop=z}De!==L&&this.run("editor",De,L)}},n.prototype.syncEditorScrollTop=function(e){var t=this,r=t.toastMark,i=t.editorView,o=t.previewRoot,s=t.previewEl,a=i.dom,l=i.state,c=s.scrollTop,L=s.scrollHeight-c<=s.clientHeight,H=a.scrollTop,z=L?a.scrollHeight:0;if(c&&e&&!L){if(e=function y9e(n,e){for(;!n.getAttribute("data-nodeid")&&n.parentElement!==e;)n=n.parentElement;return n}(e,o),!e.getAttribute("data-nodeid"))return;var le=a.children,de=Number(e.getAttribute("data-nodeid")),Ce=ZD(this.previewRoot,r.findNodeById(de)),ke=Ce.mdNode,De=Ce.el;z=le[Wy(ke)-1].offsetTop;var je=k3(l.doc,ke,le).height,Ye=function x9e(n,e,t){var r=function A9e(n){return ml[n]&&ml[n].height}(t),i=function S9e(n){return ml[n]&&ml[n].offsetTop}(t),o=r||n.clientHeight,s=i||N_(n,e)||n.offsetTop;return r||function I9e(n,e){ml[n]=ml[n]||{},ml[n].height=e}(t,o),i||function _9e(n,e){ml[n]=ml[n]||{},ml[n].offsetTop=e}(t,s),{nodeHeight:o,offsetTop:s}}(De,o,de);z+=function C9e(n,e,t,r){return Math.min((n-e)/t,1)*r}(c,Ye.offsetTop,Ye.nodeHeight,je),z=this.getResolvedScrollTop("preview",c,z,H),this.latestPreviewScrollTop=c}z!==H&&this.run("preview",z,H)},n.prototype.getResolvedScrollTop=function(e,t,r,i){var o="editor"===e?this.latestEditorScrollTop:this.latestPreviewScrollTop;return null===o?r:o<t?Math.max(r,i):Math.min(r,i)},n.prototype.run=function(e,t,r){var o,i=this;"editor"===e?(o=this.previewEl,this.blockedScroll="preview"):(o=this.editorView.dom,this.blockedScroll="editor"),function CKe(n,e,t){var r=e-n,i=Date.now(),o=function(){var l,a=(Date.now()-i)/100;$_&&clearTimeout($_),a<1?(l=n+r*Math.cos((1-a)*Math.PI/2),gj(Math.ceil(l),t),$_=setTimeout(o,1)):(gj(e,t),$_=null)};o()}(r,t,{syncScrollTop:function(a){return o.scrollTop=a},releaseEventBlock:function(){return i.blockedScroll=null}})},n.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},n}(),_Ke={getPopupInitialValues:function(n,e){return"link"===e.popupName?{linkText:n.getSelectedText()}:{}}},mj=function(){function n(e){var t=this;this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=Hk({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var r=this.options,i=r.customHTMLRenderer,o=r.extendedAutolinks,s=r.referenceDefinition,a=r.frontMatter,l=r.customMarkdownRenderer,c=r.useCommandShortcut,x=r.widgetRules,L=r.customHTMLSanitizer;this.mode=r.initialEditType||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=Sn,this.i18n.setCode(this.options.language),this.eventEmitter=new ij,function moe(n){(jy=n).forEach(function(e,t){CG["widget"+t]=e})}(x);var H=mG(this.options.linkAttributes);this.pluginInfo=hj({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var z=this.pluginInfo,de=z.toMarkdownRenderers,Ce=z.mdPlugins,ke=z.wwPlugins,De=z.wwNodeViews,Pe=z.mdCommands,je=z.wwCommands,Ye=z.markdownParsers,mt={linkAttributes:H,customHTMLRenderer:QI(z.toHTMLRenderers,i),extendedAutolinks:o,referenceDefinition:s,frontMatter:a,sanitizer:L||ff},Mt=new vKe(H,mt.customHTMLRenderer),St=function d9e(n,e,t){var r={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach(function(i){n[i]&&Object.keys(n[i]).forEach(function(o){var s="htmlBlock"===i?"nodes":"marks";x3(o),r[s][o]=u9e[i](o,e,t)})}),r}(mt.customHTMLRenderer,mt.sanitizer,Mt);this.toastMark=new u3("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:o,referenceDefinition:s,disallowDeepHeading:!0,frontMatter:a,customParser:Ye}),this.mdEditor=new yae(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:c,mdPlugins:Ce}),this.preview=new M3(this.eventEmitter,et(et({},mt),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new P4e(this.eventEmitter,{toDOMAdaptor:Mt,useCommandShortcut:c,htmlSchemaMap:St,linkAttributes:H,wwPlugins:ke,wwNodeViews:De}),this.convertor=new cKe(this.wwEditor.getSchema(),et(et({},de),l),zD(H,mt.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new Z4e(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return t.mode}),this.options.usageStatistics&&function Xie(){jie("editor","UA-129966929-1")}(),this.scrollSync=new IKe(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(Pe,je),function AKe(n){n.eventEmitter.listen("query",function(e,t){return _Ke[e](n,t)})}(this),this.options.hooks&&ag(this.options.hooks,function(on,_n){return t.addHook(_n,on)}),this.options.events&&ag(this.options.events,function(on,_n){return t.on(_n,on)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return n.prototype.addInitEvent=function(){var e=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",function(){if("auto"!==e.height){var t=Math.min(parseInt(e.minHeight,10),parseInt(e.height,10)-75)+"px";e.setMinHeight(t)}}),function Goe(n){n.listen("addImageBlobHook",function(e,t){var r=new FileReader;r.onload=function(i){return t(i.target.result)},r.readAsDataURL(e)})}(this.eventEmitter)},n.prototype.addInitCommand=function(e,t){var r=this,i=function(o,s){Object.keys(s).forEach(function(a){r.addCommand(o,a,s[a])})};this.addCommand("markdown","toggleScrollSync",function(o){return r.eventEmitter.emit("toggleScrollSync",o.active),!0}),i("markdown",e),i("wysiwyg",t)},n.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},n.factory=function(e){return e.viewer?new fj(e):new n(e)},n.setLanguage=function(e,t){Sn.setLanguage(e,t)},n.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},n.prototype.exec=function(e,t){this.commandManager.exec(e,t)},n.prototype.addCommand=function(e,t,r){var i=this;this.commandManager.addCommand(e,t,function(s){void 0===s&&(s={});var a=("markdown"===e?i.mdEditor:i.wwEditor).view;r(s,a.state,a.dispatch,a)})},n.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},n.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},n.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},n.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},n.prototype.focus=function(){this.getCurrentModeEditor().focus()},n.prototype.blur=function(){this.getCurrentModeEditor().blur()},n.prototype.moveCursorToEnd=function(e){void 0===e&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},n.prototype.moveCursorToStart=function(e){void 0===e&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},n.prototype.setMarkdown=function(e,t){if(void 0===e&&(e=""),void 0===t&&(t=!0),this.mdEditor.setMarkdown(e,t),this.isWysiwygMode()){var r=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(r);this.wwEditor.setModel(i,t)}},n.prototype.setHTML=function(e,t){void 0===e&&(e=""),void 0===t&&(t=!0);var r=document.createElement("div");r.innerHTML=function $oe(n){var e=n.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),t=new RegExp(DG,"ig"),r=e.match(t);return r?.forEach(function(i,o){if(Xk.test(i)){var s=MG;if(o){var l=r[o-1].match(kG);if(l&&!/br/i.test(l[1])){var c=l[1];s="</"+c+"><"+c+">"}}e=e.replace(Xk,s)}}),e}(e);var i=jh.fromSchema(this.wwEditor.schema).parse(r);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),t):this.wwEditor.setModel(i,t)},n.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},n.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke(function(){if(e.isMarkdownMode()){var i=e.toastMark.getRootNode(),o=e.convertor.toWysiwygModel(i);e.wwEditor.setModel(o)}});var t=nD(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var r=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return t.replace(r,"")}return t},n.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},n.prototype.setSelection=function(e,t){this.getCurrentModeEditor().setSelection(e,t)},n.prototype.replaceSelection=function(e,t,r){this.getCurrentModeEditor().replaceSelection(e,t,r)},n.prototype.deleteSelection=function(e,t){this.getCurrentModeEditor().deleteSelection(e,t)},n.prototype.getSelectedText=function(e,t){return this.getCurrentModeEditor().getSelectedText(e,t)},n.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},n.prototype.addWidget=function(e,t,r){this.getCurrentModeEditor().addWidget(e,t,r)},n.prototype.replaceWithWidget=function(e,t,r){this.getCurrentModeEditor().replaceWithWidget(e,t,r)},n.prototype.setHeight=function(e){var t=this.options.el;au(e)&&("auto"===e?ac(t,"auto-height"):pl(t,"auto-height"),this.setMinHeight(this.getMinHeight())),sc(t,{height:e}),this.height=e},n.prototype.getHeight=function(){return this.height},n.prototype.setMinHeight=function(e){if(e!==this.minHeight){var t=this.height||this.options.height;"auto"!==t&&this.options.el.querySelector("."+Wt("main"))&&(e=Math.min(parseInt(e,10),parseInt(t,10)-75)+"px");var r=parseInt(e,10);this.minHeight=e,this.wwEditor.setMinHeight(r),this.mdEditor.setMinHeight(r),this.preview.setMinHeight(r)}},n.prototype.getMinHeight=function(){return this.minHeight},n.prototype.isMarkdownMode=function(){return"markdown"===this.mode},n.prototype.isWysiwygMode=function(){return"wysiwyg"===this.mode},n.prototype.isViewer=function(){return!1},n.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},n.prototype.changeMode=function(e,t){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var r=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(r);this.wwEditor.setModel(i)}else i=this.wwEditor.getModel(),this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),!t);if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!t){var o=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&lu(o)?this.wwEditor.setSelection(o):Array.isArray(o)&&this.mdEditor.setSelection(o)}}},n.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(t,r){return e.off(r)})},n.prototype.hide=function(){this.eventEmitter.emit("hide")},n.prototype.show=function(){this.eventEmitter.emit("show")},n.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},n.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},n.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},n.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},n.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},n.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},n.prototype.convertPosToMatchEditorMode=function(e,t,r){var i,o;void 0===t&&(t=e),void 0===r&&(r=this.mode);var s=this.mdEditor.view.state.doc,a=Array.isArray(e),l=Array.isArray(t),c=e,b=t;if(a!==l)throw new Error("Types of arguments must be same");return"markdown"!==r||a||l?"wysiwyg"===r&&a&&l&&(c=(o=sf(s,e,t))[0],b=o[1]):(c=(i=l_(s,e,t))[0],b=i[1]),[c,b]},n}(),EKe=function(){function n(e){this.current=e,this.root=e,this.entering=!0}return n.prototype.walk=function(){var t=this.entering,r=this.current;return r?(t?r.firstChild?(this.current=r.firstChild,this.entering=!0):this.entering=!1:r===this.root?this.current=null:r.next?(this.current=r.next,this.entering=!0):(this.current=r.parent,this.entering=!1),{vnode:r,entering:t}):null},n}(),yl=function(){function n(e,t,r){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=t,this.children=r,this.props.children=r,t.ref&&(this.ref=t.ref,delete t.ref),t.key&&(this.key=t.key,delete t.key)}return n.prototype.walker=function(){return new EKe(this)},n.removalNodes=[],n}();function vj(n,e){var t=n;!function xKe(n){return"boolean"==typeof n||n instanceof Boolean}(n)&&null!=n?(au(n)||lu(n))&&(t=function kKe(n){return new yl("TEXT_NODE",{nodeValue:n},[])}(String(n))):t=null,t&&e.push(t)}var Qn=function SKe(n){for(var e,t,r=arguments,i=1,o="",s="",a=[0],l=function(b){1===i&&(b||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?a.push(b?r[b]:o):3===i&&(b||o)?(a[1]=b?r[b]:o,i=2):2===i&&"..."===o&&b?a[2]=Zk(a[2]||{},r[b]):2===i&&o&&!b?(a[2]=a[2]||{})[o]=!0:i>=5&&(5===i?((a[2]=a[2]||{})[t]=b?o?o+r[b]:r[b]:o,i=6):(b||o)&&(a[2][t]+=b?o+r[b]:o)),o=""},c=0;c<n.length;c++){c&&(1===i&&l(),l(c));for(let b=0;b<n[c].length;b++)e=n[c][b],1===i?"<"===e?(l(),a=[a,"",null],i=3):o+=e:4===i?"--"===o&&">"===e?(i=1,o=""):o=e+o[0]:s?e===s?s="":o+=e:'"'===e||"'"===e?s=e:">"===e?(l(),i=1):i&&("="===e?(i=5,t=o,o=""):"/"===e&&(i<5||">"===n[c][b+1])?(l(),3===i&&(a=a[0]),i=a,(a=a[0]).push(this.apply(null,i.slice(1))),i=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(l(),i=2):o+=e),3===i&&"!--"===o&&(i=4,a=a[0])}return l(),a.length>2?a.slice(1):a[1]}.bind(function DKe(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i=[];return t.forEach(function(o){Array.isArray(o)?o.forEach(function(s){vj(s,i)}):vj(o,i)}),new yl(n,e||{},i)});function RKe(n){var e;return"TEXT_NODE"===n.type?e=document.createTextNode(n.props.nodeValue):bj(e=document.createElement(n.type),{},n.props),e}function yj(n,e){n.node?e.removeChild(n.node):yj(n.firstChild,e)}var LKe=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function bj(n,e,t,r){Object.keys(t).forEach(function(i){if(!r||r(i))if(/^on/.test(i)){var o=i.slice(2).toLowerCase();n.addEventListener(o,t[i])}else"nodeValue"===i?n[i]=t[i]:"style"===i&&function MKe(n){return n===Object(n)}(t[i])?function PKe(n,e,t){e&&Object.keys(e).forEach(function(r){n.style[r]=""}),Object.keys(t).forEach(function(r){var i=t[r];n.style[r]=lu(i)&&!LKe.test(r)?i+"px":i})}(n,e[i],t[i]):"children"!==i&&(!1===t[i]?n.removeAttribute(i):n.setAttribute(i,t[i]))})}function oM(n){if(yl.removalNodes.forEach(function(o){return wj(o)}),n)for(var e=void 0,t=n.walker();e=t.walk();)if(n=e.vnode,e.entering)wj(n);else if(La(n.type)){var r=n.component;!n.old&&r.mounted&&r.mounted(),n.old&&r.updated&&r.updated(r.prevProps||{})}}function Cj(n){for(var e=n.parent;!e.node;)e=e.parent;return e.node}function wj(n){if(n&&n.parent){if(n.node){var e=Cj(n);"A"===n.effect?e.appendChild(n.node):"U"===n.effect&&function OKe(n,e,t){Object.keys(e).forEach(function(r){if(/^on/.test(r)){if(!t[r]||e[r]!==t[r]){var i=r.slice(2).toLowerCase();n.removeEventListener(i,e[r])}}else"children"!==r&&!t[r]&&!function Ooe(n){return n?.nodeType===Node.TEXT_NODE}(n)&&n.removeAttribute(r)}),bj(n,e,t,function(r){return!Wk(e[r],t[r])})}(n.node,n.old.props,n.props)}if("D"===n.effect)for(var t=void 0,r=n.walker();t=r.walk();)if(n=t.vnode,!t.entering)if(La(n.type)){var i=n.component;i.beforeDestroy&&i.beforeDestroy()}else yj(n,e=Cj(n));n.ref&&(n.component?n.ref(n.component):n.node&&n.ref(n.node))}}function FKe(n,e){var t=e.props,r=e.component;return r?(r.prevProps=r.props,r.props=e.props,r):new n(t)}function Ij(n){for(var e=n;n&&!n.skip;){if(La(n.type)){var t=FKe(n.type,n);t.vnode=n,n.component=t,n.props.children=n.children=[t.render()],_j(n)}else n.node||(n.node=RKe(n)),_j(n);if(n.firstChild)n=n.firstChild;else{for(;n&&n.parent&&!n.next&&(n=n.parent)!==e;);n=n.next}}}function _j(n){var e=n.children,t=n.old?n.old.firstChild:null,r=null;e.forEach(function(o,s){var a=function BKe(n,e){return n&&e&&e.type===n.type&&(!e.key||e.key===n.key)}(t,o);a&&(o.old=t,o.parent=n,o.node=t.node,o.component=t.component,o.effect="U"),o&&!a&&(o.old=null,o.parent=n,o.node=null,o.effect="A"),t&&!a&&(yl.removalNodes.push(t),t.effect="D"),t&&(t=t.next),0===s?n.firstChild=o:o&&(r.next=o),r=o});var i=Yo(e);if(!e.length)for(;t;)yl.removalNodes.push(t),t.effect="D",t=t.next;for(;t&&i;)t&&i.old!==t&&(yl.removalNodes.push(t),t.effect="D",t=t.next)}var Aj,Jo=function(){function n(e){this.props=e,this.state={},this.refs={}}return n.prototype.setState=function(e){var t=et(et({},this.state),e);Wk(this.state,t)||(this.state=t,function HKe(n){var e=n.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),yl.removalNodes=[],Ij(e),oM(e),e.next&&(e.next.skip=!1)}(this))},n}(),GKe=function(n){function e(t){var r=n.call(this,t)||this;return r.state={hide:!1},r}return Ht(e,n),e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var t=this.props,r=t.editorType,i=t.eventEmitter;return Qn(Aj||(Aj=qn(['\n      <div class="','" style="display: ','">\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ",'\n        </div>\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ","\n        </div>\n      </div>\n    "],['\n      <div class="','" style="display: ','">\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ",'\n        </div>\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ","\n        </div>\n      </div>\n    "])),Wt("mode-switch"),this.state.hide?"none":"block","markdown"===r?" active":"",function(){i.emit("needChangeMode","markdown")},Sn.get("Markdown"),"wysiwyg"===r?" active":"",function(){i.emit("needChangeMode","wysiwyg")},Sn.get("WYSIWYG"))},e}(Jo),ZKe=function zKe(n,e){var t,o,s,a,r=!0,i=function(b){n.apply(null,b),t=null};function l(){if(a=Array.prototype.slice.call(arguments),r)return i(a),void(r=!1);s=Number(new Date),t=t||s,o(a),s-t>=e&&i(a)}return o=function WKe(n,e){var t,r;return e=e||0,function i(){r=Array.prototype.slice.call(arguments),window.clearTimeout(t),t=window.setTimeout(function(){n.apply(null,r)},e)}}(i,e=e||0),l.reset=function c(){r=!0,t=null},l},Sj=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(i,o){return i[0]===t&&(r=o,!0)}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){void 0===r&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];t.call(r,s[1],s[0])}},e}()}(),sM=typeof window<"u"&&typeof document<"u"&&window.document===document,H_=typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),KKe="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(H_):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)},qKe=["top","right","bottom","left","width","height","size","weight"],QKe=typeof MutationObserver<"u",e8e=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function JKe(n,e){var t=!1,r=!1,i=0;function o(){t&&(t=!1,n()),r&&a()}function s(){KKe(o)}function a(){var l=Date.now();if(t){if(l-i<2)return;r=!0}else t=!0,r=!1,setTimeout(s,e);i=l}return a}(this.refresh.bind(this),20)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!sM||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),QKe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!sM||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;qKe.some(function(o){return!!~r.indexOf(o)})&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),xj=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},_g=function(n){return n&&n.ownerDocument&&n.ownerDocument.defaultView||H_},Tj=G_(0,0,0,0);function V_(n){return parseFloat(n)||0}function Ej(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){return r+V_(n["border-"+i+"-width"])},0)}var i8e=typeof SVGGraphicsElement<"u"?function(n){return n instanceof _g(n).SVGGraphicsElement}:function(n){return n instanceof _g(n).SVGElement&&"function"==typeof n.getBBox};function s8e(n){return sM?i8e(n)?function n8e(n){var e=n.getBBox();return G_(0,0,e.width,e.height)}(n):function r8e(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return Tj;var r=_g(n).getComputedStyle(n),i=function t8e(n){for(var t={},r=0,i=["top","right","bottom","left"];r<i.length;r++){var o=i[r];t[o]=V_(n["padding-"+o])}return t}(r),o=i.left+i.right,s=i.top+i.bottom,a=V_(r.width),l=V_(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==e&&(a-=Ej(r,"left","right")+o),Math.round(l+s)!==t&&(l-=Ej(r,"top","bottom")+s)),!function o8e(n){return n===_g(n).document.documentElement}(n)){var c=Math.round(a+o)-e,b=Math.round(l+s)-t;1!==Math.abs(c)&&(a-=c),1!==Math.abs(b)&&(l-=b)}return G_(i.left,i.top,a,l)}(n):Tj}function G_(n,e,t,r){return{x:n,y:e,width:t,height:r}}var l8e=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=G_(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=s8e(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),c8e=function n(e,t){var r=function a8e(n){var e=n.x,t=n.y,r=n.width,i=n.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return xj(s,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),s}(t);xj(this,{target:e,contentRect:r})},u8e=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new Sj,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u")&&Element instanceof Object){if(!(e instanceof _g(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new l8e(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u")&&Element instanceof Object){if(!(e instanceof _g(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;!t.has(e)||(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new c8e(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),kj=typeof WeakMap<"u"?new WeakMap:new Sj,Dj=function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=e8e.getInstance(),r=new u8e(e,t,this);kj.set(this,r)};["observe","unobserve","disconnect"].forEach(function(n){Dj.prototype[n]=function(){var e;return(e=kj.get(this))[n].apply(e,arguments)}});var Mj,Nj,Oj,Lj,Pj,Fj,Uj,zj,Zj,Kj,Yj,d8e=typeof H_.ResizeObserver<"u"?H_.ResizeObserver:Dj,h8e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),e.prototype.execCommand=function(t){var r=cc(t.target,"li");this.props.execCommand("heading",{level:Number(r.getAttribute("data-level"))})},e.prototype.render=function(){var t=this;return Qn(Nj||(Nj=qn(["\n      <ul\n        onClick=",'\n        aria-role="menu"\n        aria-label="','"\n      >\n        ','\n        <li data-type="Paragraph" aria-role="menuitem">\n          <div>',"</div>\n        </li>\n      </ul>\n    "],["\n      <ul\n        onClick=",'\n        aria-role="menu"\n        aria-label="','"\n      >\n        ','\n        <li data-type="Paragraph" aria-role="menuitem">\n          <div>',"</div>\n        </li>\n      </ul>\n    "])),function(r){return t.execCommand(r)},Sn.get("Headings"),[1,2,3,4,5,6].map(function(r){return Qn(Mj||(Mj=qn(['\n              <li data-level="','" data-type="Heading" aria-role="menuitem">\n                <',">"," ","</$>\n              </li>\n            "],['\n              <li data-level="','" data-type="Heading" aria-role="menuitem">\n                <',">"," ","</$>\n              </li>\n            "])),r,"h"+r,Sn.get("Heading"),r)}),Sn.get("Paragraph"))},e}(Jo),Rj=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),e.prototype.toggleTab=function(t,r){this.props.onClick(t,r)},e.prototype.render=function(){var t=this;return Qn(Lj||(Lj=qn(['\n      <div class="','" aria-role="tabpanel">\n        ',"\n      </div>\n    "],['\n      <div class="','" aria-role="tabpanel">\n        ',"\n      </div>\n    "])),Wt("tabs"),this.props.tabs.map(function(r){var i=r.name,o=r.text,s=t.props.activeTab===i;return Qn(Oj||(Oj=qn(['\n            <div\n              class="tab-item','"\n              onClick=','\n              aria-role="tab"\n              aria-label="','"\n              aria-selected="','"\n              tabindex="','"\n            >\n              ',"\n            </div>\n          "],['\n            <div\n              class="tab-item','"\n              onClick=','\n              aria-role="tab"\n              aria-label="','"\n              aria-selected="','"\n              tabindex="','"\n            >\n              ',"\n            </div>\n          "])),s?" active":"",function(a){return t.toggleTab(a,i)},Sn.get(o),s?"true":"false",s?"0":"-1",Sn.get(o))}))},e}(Jo),p8e=function(n){function e(t){var r=n.call(this,t)||this;return r.initialize=function(i){void 0===i&&(i="file");var o=r.refs.url;o.value="",r.refs.altText.value="",r.refs.file.value="",pl(o,"wrong"),r.setState({activeTab:i,file:null,fileNameElClassName:""})},r.execCommand=function(){"file"===r.state.activeTab?r.emitAddImageBlob():r.emitAddImage()},r.toggleTab=function(i,o){o!==r.state.activeTab&&r.initialize(o)},r.showFileSelectBox=function(){r.refs.file.click()},r.changeFile=function(i){var o=i.target.files;o?.length&&r.setState({file:o[0]})},r.state={activeTab:"file",file:null,fileNameElClassName:""},r.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],r}return Ht(e,n),e.prototype.emitAddImageBlob=function(){var t=this,r=this.refs.file.files,i=this.refs.altText,o=" wrong";if(r?.length){o="";var s=r.item(0);this.props.eventEmitter.emit("addImageBlobHook",s,function(l,c){return t.props.execCommand("addImage",{imageUrl:l,altText:c||i.value})},"ui")}this.setState({fileNameElClassName:o})},e.prototype.emitAddImage=function(){var t=this.refs.url,i=t.value,o=this.refs.altText.value||"image";pl(t,"wrong"),i.length?i&&this.props.execCommand("addImage",{imageUrl:i,altText:o}):ac(t,"wrong")},e.prototype.preventSelectStart=function(t){t.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var t=this,r=this.state,i=r.activeTab,o=r.file,s=r.fileNameElClassName;return Qn(Pj||(Pj=qn(['\n      <div aria-label="','">\n        <'," tabs="," activeTab="," onClick=",' />\n        <div style="display:','">\n          <label for="toastuiImageUrlInput">','</label>\n          <input\n            id="toastuiImageUrlInput"\n            type="text"\n            ref=','\n          />\n        </div>\n        <div style="display:',';position: relative;">\n          <label for="toastuiImageFileInput">','</label>\n          <span\n            class="',"",'"\n            onClick=',"\n            onSelectstart=","\n          >\n            ",'\n          </span>\n          <button\n            type="button"\n            class="','"\n            onClick=',"\n          >\n            ",'\n          </button>\n          <input\n            id="toastuiImageFileInput"\n            type="file"\n            accept="image/*"\n            onChange=',"\n            ref=",'\n          />\n        </div>\n        <label for="toastuiAltTextInput">','</label>\n        <input\n          id="toastuiAltTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "],['\n      <div aria-label="','">\n        <'," tabs="," activeTab="," onClick=",' />\n        <div style="display:','">\n          <label for="toastuiImageUrlInput">','</label>\n          <input\n            id="toastuiImageUrlInput"\n            type="text"\n            ref=','\n          />\n        </div>\n        <div style="display:',';position: relative;">\n          <label for="toastuiImageFileInput">','</label>\n          <span\n            class="',"",'"\n            onClick=',"\n            onSelectstart=","\n          >\n            ",'\n          </span>\n          <button\n            type="button"\n            class="','"\n            onClick=',"\n          >\n            ",'\n          </button>\n          <input\n            id="toastuiImageFileInput"\n            type="file"\n            accept="image/*"\n            onChange=',"\n            ref=",'\n          />\n        </div>\n        <label for="toastuiAltTextInput">','</label>\n        <input\n          id="toastuiAltTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "])),Sn.get("Insert image"),Rj,this.tabs,i,this.toggleTab,"url"===i?"block":"none",Sn.get("Image URL"),function(a){return t.refs.url=a},"file"===i?"block":"none",Sn.get("Select image file"),Wt("file-name"),o?" has-file":s,this.showFileSelectBox,this.preventSelectStart,o?o.name:Sn.get("No file"),Wt("file-select-button"),this.showFileSelectBox,Sn.get("Choose a file"),this.changeFile,function(a){return t.refs.file=a},Sn.get("Description"),function(a){return t.refs.altText=a},Wt("button-container"),Wt("close-button"),this.props.hidePopup,Sn.get("Cancel"),Wt("ok-button"),this.execCommand,Sn.get("OK"))},e}(Jo),g8e=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.execCommand=function(){var r=t.refs.url,i=t.refs.text;pl(r,"wrong"),pl(i,"wrong"),r.value.length<1?ac(r,"wrong"):fl(t.props.initialValues.linkUrl)&&i.value.length<1?ac(i,"wrong"):t.props.execCommand("addLink",{linkUrl:r.value,linkText:i.value})},t}return Ht(e,n),e.prototype.initialize=function(){var t=this.props.initialValues,r=t.linkUrl,i=t.linkText,o=this.refs.url,s=this.refs.text;pl(o,"wrong"),pl(s,"wrong","disabled"),s.removeAttribute("disabled"),r&&(ac(s,"disabled"),s.setAttribute("disabled","disabled")),o.value=r||"",s.value=i||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(t){!t.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var t=this;return Qn(Fj||(Fj=qn(['\n      <div aria-label="','">\n        <label for="toastuiLinkUrlInput">','</label>\n        <input\n          id="toastuiLinkUrlInput"\n          type="text"\n          ref=','\n        />\n        <label for="toastuiLinkTextInput">','</label>\n        <input\n          id="toastuiLinkTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "],['\n      <div aria-label="','">\n        <label for="toastuiLinkUrlInput">','</label>\n        <input\n          id="toastuiLinkUrlInput"\n          type="text"\n          ref=','\n        />\n        <label for="toastuiLinkTextInput">','</label>\n        <input\n          id="toastuiLinkTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "])),Sn.get("Insert link"),Sn.get("URL"),function(r){return t.refs.url=r},Sn.get("Link text"),function(r){return t.refs.text=r},Wt("button-container"),Wt("close-button"),this.props.hidePopup,Sn.get("Cancel"),Wt("ok-button"),this.execCommand,Sn.get("OK"))},e}(Jo),y8e=function(n){function e(t){var r=n.call(this,t)||this;return r.extendSelectionRange=function(i){var c=r.getSelectionRangeByOffset(i.pageX-r.offsetRect.left,i.pageY-r.offsetRect.top);r.setState(et({},c))},r.execCommand=function(){r.props.execCommand("addTable",{rowCount:r.state.rowIdx+1,columnCount:r.state.colIdx+1})},r.state={rowIdx:-1,colIdx:-1},r}return Ht(e,n),e.prototype.getDescription=function(){return-1===this.state.colIdx?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(t,r){return{width:20*(t+1),height:20*(r+1)}},e.prototype.getRangeByOffset=function(t,r){return{colIdx:Math.floor(t/20),rowIdx:Math.floor(r/20)}},e.prototype.getTableRange=function(){var t=this.state,r=t.colIdx,i=t.rowIdx,o=Math.max(r,5),s=Math.max(i,5);return r>=5&&o<9&&(o+=1),i>=5&&s<14&&(s+=1),{colIdx:o+1,rowIdx:s+1}},e.prototype.getSelectionAreaBound=function(){var t=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),r=t.width,i=t.height;return r||i?{width:r-1,height:i-1,display:"block"}:{display:"none"}},e.prototype.getSelectionRangeByOffset=function(t,r){var i=this.getRangeByOffset(t,r);return i.rowIdx=Math.min(Math.max(i.rowIdx,1),14),i.colIdx=Math.min(Math.max(i.colIdx,1),9),i},e.prototype.updated=function(){if(this.props.show){if(-1===this.state.colIdx&&-1===this.state.rowIdx){var t=this.refs.tableEl.getBoundingClientRect();this.offsetRect={left:window.pageXOffset+t.left,top:window.pageYOffset+t.top}}}else this.setState({colIdx:-1,rowIdx:-1})},e.prototype.createTableArea=function(t){for(var r=t.colIdx,i=t.rowIdx,o=[],s=0;s<i;s+=1){for(var a=[],l=0;l<r;l+=1){var c=Wt("table-cell")+(s>0?"":" header");a.push(Qn(Uj||(Uj=qn(['<div class="','"></div>'],['<div class="','"></div>'])),c))}o.push(Qn(zj||(zj=qn(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Wt("table-row"),a))}return Qn(Zj||(Zj=qn(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Wt("table"),o)},e.prototype.render=function(){var t=this,r=this.getTableRange(),i=this.getSelectionAreaBound();return Qn(Kj||(Kj=qn(['\n      <div aria-label="','">\n        <div\n          class="','"\n          ref=',"\n          onMousemove=","\n          onClick=","\n        >\n          ",'\n          <div class="','" style=','></div>\n        </div>\n        <p class="','">',"</p>\n      </div>\n    "],['\n      <div aria-label="','">\n        <div\n          class="','"\n          ref=',"\n          onMousemove=","\n          onClick=","\n        >\n          ",'\n          <div class="','" style=','></div>\n        </div>\n        <p class="','">',"</p>\n      </div>\n    "])),Sn.get("Insert table"),Wt("table-selection"),function(o){return t.refs.tableEl=o},this.extendSelectionRange,this.execCommand,this.createTableArea(r),Wt("table-selection-layer"),i,Wt("table-description"),this.getDescription())},e}(Jo),b8e=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(t){this.refs.el.replaceChild(this.props.body,t.body)},e.prototype.render=function(){var t=this;return Qn(Yj||(Yj=qn(["<div ref=","></div>"],["<div ref=","></div>"])),function(r){return t.refs.el=r})},e}(Jo);function aM(n){return au(n)?function w8e(n){var e;switch(n){case"heading":e={name:"heading",className:"heading",tooltip:Sn.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:Sn.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:Sn.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:Sn.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:Sn.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:Sn.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:Sn.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:Sn.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:Sn.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:Sn.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:Sn.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:Sn.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:Sn.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:Sn.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:Sn.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:Sn.get("Outdent"),state:"outdent"};break;case"scrollSync":e=function C8e(){var n=document.createElement("label"),e=document.createElement("input"),t=document.createElement("span");n.className="scroll-sync active",e.type="checkbox",e.checked=!0,t.className="switch";return n.appendChild(e),n.appendChild(t),{name:"scrollSync",el:n,onMounted:function(i){return e.addEventListener("change",function(o){var s=o.target.checked;s?ac(n,"active"):pl(n,"active"),i("toggleScrollSync",{active:s})})}}}();break;case"more":e={name:"more",className:"more",tooltip:Sn.get("More")}}return"scrollSync"!==e.name&&(e.className+=" "+Wt("toolbar-icons")),e}(n):n}function lM(n,e){var t=e.el,r=e.pos,i=e.popup,o=e.initialValues;switch(n){case"heading":return{render:function(s){return Qn(Jj||(Jj=qn(["<"," ..."," />"],["<"," ..."," />"])),h8e,s)},className:Wt("popup-add-heading"),fromEl:t,pos:r};case"link":return{render:function(s){return Qn(Xj||(Xj=qn(["<"," ..."," />"],["<"," ..."," />"])),g8e,s)},className:Wt("popup-add-link"),fromEl:t,pos:r,initialValues:o};case"image":return{render:function(s){return Qn(qj||(qj=qn(["<"," ..."," />"],["<"," ..."," />"])),p8e,s)},className:Wt("popup-add-image"),fromEl:t,pos:r};case"table":return{render:function(s){return Qn(Qj||(Qj=qn(["<"," ..."," />"],["<"," ..."," />"])),y8e,s)},className:Wt("popup-add-table"),fromEl:t,pos:r};case"customPopupBody":return i?et({render:function(s){return Qn(e5||(e5=qn(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),b8e,s,i.body)},fromEl:t,pos:r},i):null;default:return null}}function W_(n){n.hidden=n.length===n.filter(function(e){return e.hidden}).length}var Jj,Xj,qj,Qj,e5,t5,S8e=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.handleMousedown=function(r){!cc(r.target,"."+Wt("popup"))&&!cc(r.target,t.props.info.fromEl)&&t.props.hidePopup()},t}return Ht(e,n),e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(t){var r=this.props,i=r.show,o=r.info;if(i&&o.pos&&t.show!==i){var s=et({},o.pos),a=this.refs.el.offsetWidth,c=cc(this.refs.el,"."+Wt("toolbar")).offsetWidth;s.left+a>=c&&(s.left=c-a-20),Wk(this.state.popupPos,s)||this.setState({popupPos:s})}},e.prototype.render=function(){var t=this,r=this.props,o=r.show,s=r.hidePopup,a=r.eventEmitter,l=r.execCommand,c=r.info||{},b=c.className,x=void 0===b?"":b,H=c.render,z=c.initialValues,le=void 0===z?{}:z,de=et(et({display:o?"block":"none"},c.style),this.state.popupPos);return Qn(t5||(t5=qn(['\n      <div\n        class="'," ",'"\n        style=',"\n        ref=",'\n        aria-role="dialog"\n      >\n        <div class="','">\n          ',"\n        </div>\n      </div>\n    "],['\n      <div\n        class="'," ",'"\n        style=',"\n        ref=",'\n        aria-role="dialog"\n      >\n        <div class="','">\n          ',"\n        </div>\n      </div>\n    "])),Wt("popup"),x,de,function(Ce){return t.refs.el=Ce},Wt("popup-body"),H&&H({eventEmitter:a,show:o,hidePopup:s,execCommand:l,initialValues:le}))},e}(Jo);function cM(n){return function(e){function t(r){var i=e.call(this,r)||this;return i.showTooltip=function(o){var s=i.props.item.tooltip;if(!i.props.disabled&&s){var a=i.getBound(o);sc(i.props.tooltipRef.current,{display:"block",left:a.left+6+"px",top:a.top+6+"px"}),i.props.tooltipRef.current.querySelector(".text").textContent=s}},i.hideTooltip=function(){sc(i.props.tooltipRef.current,"display","none")},i.state={active:!1,disabled:r.disabled},i.addEvent(),i}return Ht(t,e),t.prototype.addEvent=function(){var r=this,i=this.props,o=i.item;o.state&&i.eventEmitter.listen("changeToolbarState",function(a){var l,b=null!==(l=a.toolbarState[o.state])&&void 0!==l?l:{};r.setState({active:!!b.active,disabled:b.disabled??r.props.disabled})})},t.prototype.getBound=function(r){var i=OG(r,cc(r,"."+Wt("toolbar")));return{left:i.offsetLeft,top:r.offsetHeight+i.offsetTop}},t.prototype.render=function(){return Qn(r5||(r5=qn(["\n        <","\n          ...","\n          active=","\n          showTooltip=","\n          hideTooltip=","\n          getBound=","\n          disabled=","\n        />\n      "],["\n        <","\n          ...","\n          active=","\n          showTooltip=","\n          hideTooltip=","\n          getBound=","\n          disabled=","\n        />\n      "])),n,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},t}(Jo)}var r5,i5,o5,a5,l5,c5,u5,d5,h5,f5,p5,g5,m5,v5,y5,E8e=cM(function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.execCommand=function(){var r=t.props,i=r.item,s=r.setPopupInfo,a=r.getBound,l=r.eventEmitter,c=i.command,b=i.name,x=i.popup;if(c)(0,r.execCommand)(c);else{var L=x?"customPopupBody":b,H=l.emit("query","getPopupInitialValues",{popupName:L})[0],z=lM(L,{el:t.refs.el,pos:a(t.refs.el),popup:x,initialValues:H});z&&s(z)}},t}return Ht(e,n),e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(t){t.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var t=this.props,r=t.setItemWidth,i=t.item;r&&r(i.name,eD(this.refs.el)+(i.hidden?80:0))},e.prototype.render=function(){var t=this,r=this.props,i=r.hideTooltip,o=r.disabled,s=r.item,a=r.active,l=et({display:s.hidden?"none":null},s.style),c=(s.className||"")+(a?" active":"");return Qn(i5||(i5=qn(["\n      <button\n        ref=",'\n        type="button"\n        style=',"\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n        disabled=","\n        aria-label=","\n      >\n        ","\n      </button>\n    "],["\n      <button\n        ref=",'\n        type="button"\n        style=',"\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n        disabled=","\n        aria-label=","\n      >\n        ","\n      </button>\n    "])),function(b){return t.refs.el=b},l,c,this.execCommand,this.showTooltip,i,!!o,s.text||s.tooltip||"",s.text||"")},e}(Jo)),D8e=cM(function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.showPopup=function(){var r=lM("customPopupBody",{el:t.refs.el,pos:t.props.getBound(t.refs.el),popup:t.props.item.popup});r&&t.props.setPopupInfo(r)},t}return Ht(e,n),e.prototype.mounted=function(){var t=this.props,r=t.setItemWidth,i=t.item;this.refs.el.appendChild(i.el),r&&r(i.name,eD(this.refs.el)),i.onMounted&&i.onMounted(this.props.execCommand)},e.prototype.updated=function(t){var r,i=this.props,o=i.item,s=i.active,a=i.disabled;(t.active!==s||t.disabled!==a)&&(null===(r=o.onUpdated)||void 0===r||r.call(o,{active:s,disabled:a}))},e.prototype.render=function(){var t=this,r=this.props,i=r.disabled,s={display:r.item.hidden?"none":"inline-block"},a=function(l){return i?null:l};return Qn(o5||(o5=qn(["\n      <div\n        ref=","\n        style=","\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n      ></div>\n    "],["\n      <div\n        ref=","\n        style=","\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n      ></div>\n    "])),function(l){return t.refs.el=l},s,Wt("toolbar-item-wrapper"),a(this.showPopup),a(this.showTooltip),a(this.props.hideTooltip))},e}(Jo)),s5=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ht(e,n),e.prototype.render=function(){var t=this,r=this.props,i=r.group,s=i.hidden?{display:"none"}:null,a=r.hiddenDivider?{display:"none"}:null;return Qn(l5||(l5=qn(['\n      <div class="','" style=',">\n        ",'\n        <div class="','" style=',"></div>\n      </div>\n    "],['\n      <div class="','" style=',">\n        ",'\n        <div class="','" style=',"></div>\n      </div>\n    "])),Wt("toolbar-group"),s,i.map(function(l){var c=l.el?D8e:E8e;return Qn(a5||(a5=qn(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),c,l.name,t.props,l)}),Wt("toolbar-divider"),a)},e}(Jo),R8e=cM(function(n){function e(t){var r=n.call(this,t)||this;return r.handleClickDocument=function(i){var o=i.target;!cc(o,"."+Wt("dropdown-toolbar"))&&!cc(o,".more")&&r.setState({showDropdown:!1,dropdownPos:null})},r.showTooltip=function(){r.props.showTooltip(r.refs.el)},r.state={showDropdown:!1,dropdownPos:null},r}return Ht(e,n),e.prototype.getBound=function(){var t=this.props.getBound(this.refs.el);return t.top+=4,et(et({},t),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var t=this,r=this.state,i=r.showDropdown,o=r.dropdownPos,s=this.props,a=s.disabled,l=s.item,b=s.hideTooltip,x=s.items.filter(function(z){return!z.hidden}),L=x.length?null:{display:"none"},H=i?null:{display:"none"};return Qn(u5||(u5=qn(['\n      <div class="','" style=',">\n        <button\n          ref=",'\n          type="button"\n          class=',"\n          onClick=","\n          onMouseover=","\n          onMouseout=","\n          disabled=",'\n        ></button>\n        <div\n          class="','"\n          style=',"\n          ref=","\n        >\n          ","\n        </div>\n      </div>\n    "],['\n      <div class="','" style=',">\n        <button\n          ref=",'\n          type="button"\n          class=',"\n          onClick=","\n          onMouseover=","\n          onMouseout=","\n          disabled=",'\n        ></button>\n        <div\n          class="','"\n          style=',"\n          ref=","\n        >\n          ","\n        </div>\n      </div>\n    "])),Wt("toolbar-group"),L,function(z){return t.refs.el=z},l.className,function(){return t.setState({showDropdown:!0})},this.showTooltip,b,a,Wt("dropdown-toolbar"),et(et({},H),o),function(z){return t.refs.dropdownEl=z},x.length?x.map(function(z,le){var de;return Qn(c5||(c5=qn(["\n                  <","\n                    group=","\n                    hiddenDivider=","\n                    ...","\n                  />\n                "],["\n                  <","\n                    group=","\n                    hiddenDivider=","\n                    ...","\n                  />\n                "])),s5,z,le===x.length-1||(null===(de=x[le+1])||void 0===de?void 0:de.hidden),t.props)}):null)},e}(Jo)),L8e=function(n){function e(t){var r=n.call(this,t)||this;return r.toggleTab=function(i,o){r.state.activeTab!==o&&(r.props.eventEmitter.emit("write"===o?"changePreviewTabWrite":"changePreviewTabPreview"),r.setState({activeTab:o}))},r.setItemWidth=function(i,o){r.itemWidthMap[i]=o},r.setPopupInfo=function(i){r.setState({showPopup:!0,popupInfo:i})},r.openPopup=function(i,o){void 0===o&&(o={});var s=r.refs.el.querySelector("."+Wt("toolbar-group")+" ."+i);if(s){var a=OG(s,cc(s,"."+Wt("toolbar"))),b=lM(i,{el:s,pos:{left:a.offsetLeft,top:s.offsetHeight+a.offsetTop},initialValues:o});b&&r.setPopupInfo(b)}},r.hidePopup=function(){r.state.showPopup&&r.setState({showPopup:!1})},r.execCommand=function(i,o){r.props.eventEmitter.emit("command",i,o),r.hidePopup()},r.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],r.itemWidthMap={},r.initialItems=function I8e(n,e){return n.reduce(function(r,i){r.push(i.map(function(s){return function(r){return r.hidden="scrollSync"===r.name&&e,r}(aM(s))}));var o=r[(r.length||1)-1];return o&&W_(o),r},[])}(t.toolbarItems||[],r.hiddenScrollSync()),r.state={items:r.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},r.tooltipRef={current:null},r.resizeObserver=new d8e(function(){return r.handleResize()}),r.addEvent(),r}return Ht(e,n),e.prototype.insertToolbarItem=function(t,r){var o=t.itemIndex,s=this.initialItems[t.groupIndex];r=aM(r),s?s.splice(o,0,r):this.initialItems.push([r]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(t){var r=this;cg(this.initialItems,function(i){var o=!1;return cg(i,function(s,a){return s.name!==t||(o=!0,i.splice(a,1),r.setState(r.classifyToolbarItems()),!1)}),!o})},e.prototype.addEvent=function(){var t=this,r=this.props.eventEmitter;this.handleResize=ZKe(function(){t.setState({items:t.initialItems,dropdownItems:[]}),t.setState(t.classifyToolbarItems())},200),r.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var t='<div class="'+Wt("tooltip")+'" style="display:none">\n        <div class="arrow"></div>\n        <span class="text"></span>\n      </div>';this.tooltipRef.current=RG(t,this.refs.el)},e.prototype.hiddenScrollSync=function(){return"wysiwyg"===this.props.editorType||"tab"===this.props.previewStyle},e.prototype.movePrevItemToDropdownToolbar=function(t,r,i,o){var s=function(l){var c=l.pop();c&&o.push(c)};if(t>1)s(i);else{var a=Yo(r);a&&s(a)}},e.prototype.classifyToolbarItems=function(){var t=this,r=0,i=this.refs.el.clientWidth,o=this.refs.el.querySelector("."+Wt("toolbar-divider")),s=o?eD(o):0,a=[],l=[],c=!1;return this.initialItems.forEach(function(b,x){var L=[],H=[];b.forEach(function(z,le){z.hidden||((r+=t.itemWidthMap[z.name])>i-50?(c||(t.movePrevItemToDropdownToolbar(le,a,L,H),c=!0),H.push(z)):L.push(z))}),L.length&&(W_(L),a.push(L)),H.length&&(W_(H),l.push(H)),x<t.state.items.length-1&&(r+=s)}),{items:a,dropdownItems:l}},e.prototype.mounted=function(){"tab"===this.props.previewStyle&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(t){var r=this.props,i=r.editorType,o=r.previewStyle,s=r.eventEmitter,a=o!==t.previewStyle;if(a||i!==t.editorType){!function _8e(n,e){n.forEach(function(t){t.forEach(function(r){return r.hidden="scrollSync"===r.name&&e}),W_(t)})}(this.initialItems,this.hiddenScrollSync());var c=this.classifyToolbarItems();(a||"tab"===o&&"markdown"===i)&&(s.emit("changePreviewTabWrite"),c.activeTab="write"),this.setState(c)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),rf(this.tooltipRef.current)},e.prototype.render=function(){var t=this,r=this.props,i=r.previewStyle,o=r.eventEmitter,s=r.editorType,a=this.state,l=a.popupInfo,c=a.showPopup,b=a.activeTab,x=a.items,L=a.dropdownItems,H={eventEmitter:o,tooltipRef:this.tooltipRef,disabled:"markdown"===s&&"tab"===i&&"preview"===b,execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},z="tab"===i?{borderTopLeftRadius:0}:null;return Qn(h5||(h5=qn(['\n      <div class="','">\n        <div\n          class="','"\n          style="display: ','"\n        >\n          <'," tabs="," activeTab="," onClick=",' />\n        </div>\n        <div\n          class="','"\n          ref=',"\n          style=","\n        >\n          ","\n          <","\n            item=","\n            items=","\n            ...","\n          />\n        </div>\n        <","\n          info=","\n          show=","\n          eventEmitter=","\n          hidePopup=","\n          execCommand=","\n        />\n      </div>\n    "],['\n      <div class="','">\n        <div\n          class="','"\n          style="display: ','"\n        >\n          <'," tabs="," activeTab="," onClick=",' />\n        </div>\n        <div\n          class="','"\n          ref=',"\n          style=","\n        >\n          ","\n          <","\n            item=","\n            items=","\n            ...","\n          />\n        </div>\n        <","\n          info=","\n          show=","\n          eventEmitter=","\n          hidePopup=","\n          execCommand=","\n        />\n      </div>\n    "])),Wt("toolbar"),Wt("md-tab-container"),"wysiwyg"===s||"vertical"===i?"none":"block",Rj,this.tabs,b,this.toggleTab,Wt("defaultUI-toolbar"),function(le){return t.refs.el=le},z,x.map(function(le,de){var Ce;return Qn(d5||(d5=qn(["\n              <","\n                group=","\n                hiddenDivider=","\n                setItemWidth=","\n                ...","\n              />\n            "],["\n              <","\n                group=","\n                hiddenDivider=","\n                setItemWidth=","\n                ...","\n              />\n            "])),s5,le,de===x.length-1||(null===(Ce=x[de+1])||void 0===Ce?void 0:Ce.hidden),t.setItemWidth,H)}),R8e,aM("more"),L,H,S8e,l,c,o,this.hidePopup,this.execCommand)},e}(Jo),P8e=function(n){function e(t){var r=n.call(this,t)||this;return r.handleClickDocument=function(i){cc(i.target,"."+Wt("context-menu"))||r.setState({pos:null})},r.state={pos:null,menuGroups:[]},r.addEvent(),r}return Ht(e,n),e.prototype.addEvent=function(){var t=this;this.props.eventEmitter.listen("contextmenu",function(r){t.setState({pos:r.pos,menuGroups:r.menuGroups})})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var t=this,r=this.state;return r.pos?r.menuGroups.reduce(function(s,a){var l=[];return a.forEach(function(c){var b=c.label,x=c.className,L=void 0!==x&&x,H=c.disabled,z=c.onClick;l.push(Qn(f5||(f5=qn(["\n                <li\n                  onClick=",'\n                  class="menu-item','"\n                  aria-role="menuitem"\n                >\n                  <span class="','">',"</span>\n                </li>\n              "],["\n                <li\n                  onClick=",'\n                  class="menu-item','"\n                  aria-role="menuitem"\n                >\n                  <span class="','">',"</span>\n                </li>\n              "])),function(){H||(z(),t.setState({pos:null}))},H?" disabled":"",L,b))}),s.push(Qn(p5||(p5=qn(['<ul class="menu-group">\n              ',"\n            </ul>"],['<ul class="menu-group">\n              ',"\n            </ul>"])),l)),s},[]):[]},e.prototype.render=function(){var t=et({display:this.state.pos?"block":"none"},this.state.pos);return Qn(g5||(g5=qn(['<div class="','" style=',' aria-role="menu">\n      ',"\n    </div>"],['<div class="','" style=',' aria-role="menu">\n      ',"\n    </div>"])),Wt("context-menu"),t,this.getMenuGroupElements())},e}(Jo),F8e=function(n){function e(t){var r=n.call(this,t)||this;return r.changeMode=function(s){s!==r.state.editorType&&r.setState({editorType:s})},r.changePreviewStyle=function(s){s!==r.state.previewStyle&&r.setState({previewStyle:s})},r.hide=function(){r.setState({hide:!0})},r.show=function(){r.setState({hide:!1})},r.state={editorType:t.editorType,previewStyle:t.previewStyle,hide:!1},r.addEvent(),r}return Ht(e,n),e.prototype.mounted=function(){var t=this.props.slots,i=t.mdEditor,o=t.mdPreview;this.refs.wwContainer.appendChild(t.wwEditor),this.refs.mdContainer.insertAdjacentElement("afterbegin",i),this.refs.mdContainer.appendChild(o)},e.prototype.insertToolbarItem=function(t,r){this.toolbar.insertToolbarItem(t,r)},e.prototype.removeToolbarItem=function(t){this.toolbar.removeToolbarItem(t)},e.prototype.render=function(){var t=this,r=this.props,i=r.eventEmitter,o=r.hideModeSwitch,s=r.toolbarItems,a=r.theme,l=this.state,b=l.previewStyle,x=l.editorType,L=l.hide?" hidden":"",H=Wt("markdown"===x?"md-mode":"ww-mode"),z=Wt("md")+"-"+b+"-style",le=Wt(["light"!==a,a+" "]);return Qn(v5||(v5=qn(['\n      <div\n        class="',"","",'"\n        ref=',"\n      >\n        <","\n          ref=","\n          eventEmitter=","\n          previewStyle=","\n          toolbarItems=","\n          editorType=",'\n        />\n        <div\n          class="'," ",'"\n          ref=','\n        >\n          <div class="','">\n            <div\n              class="'," ",'"\n              ref=','\n            >\n              <div class="','"></div>\n            </div>\n            <div\n              class="','"\n              ref=',"\n            />\n          </div>\n        </div>\n        ","\n        <"," eventEmitter="," />\n      </div>\n    "],['\n      <div\n        class="',"","",'"\n        ref=',"\n      >\n        <","\n          ref=","\n          eventEmitter=","\n          previewStyle=","\n          toolbarItems=","\n          editorType=",'\n        />\n        <div\n          class="'," ",'"\n          ref=','\n        >\n          <div class="','">\n            <div\n              class="'," ",'"\n              ref=','\n            >\n              <div class="','"></div>\n            </div>\n            <div\n              class="','"\n              ref=',"\n            />\n          </div>\n        </div>\n        ","\n        <"," eventEmitter="," />\n      </div>\n    "])),le,Wt("defaultUI"),L,function(de){return t.refs.el=de},L8e,function(de){return t.toolbar=de},i,b,s,x,Wt("main"),H,function(de){return t.refs.editorSection=de},Wt("main-container"),Wt("md-container"),z,function(de){return t.refs.mdContainer=de},Wt("md-splitter"),Wt("ww-container"),function(de){return t.refs.wwContainer=de},!o&&Qn(m5||(m5=qn(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),GKe,i,x),P8e,i)},e.prototype.addEvent=function(){var t=this.props.eventEmitter;t.listen("hide",this.hide),t.listen("show",this.show),t.listen("changeMode",this.changeMode),t.listen("changePreviewStyle",this.changePreviewStyle)},e}(Jo),B8e=function(n){function e(t){var r,o,i=n.call(this,t)||this,s=function VKe(n,e){var t=new yl(n.tagName.toLowerCase(),{},[e]);return t.node=n,yl.removalNodes=[],Ij(t),oM(t),function(){return function $Ke(n){n.effect="D",yl.removalNodes=[n],oM(),yl.removalNodes=[]}(t.firstChild)}}(i.options.el,Qn(y5||(y5=qn(["\n        <","\n          ref=","\n          eventEmitter=","\n          slots=","\n          hideModeSwitch=","\n          toolbarItems=","\n          previewStyle=","\n          editorType=","\n          theme=","\n        />\n      "],["\n        <","\n          ref=","\n          eventEmitter=","\n          slots=","\n          hideModeSwitch=","\n          toolbarItems=","\n          previewStyle=","\n          editorType=","\n          theme=","\n        />\n      "])),F8e,function(a){return o=a},i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:o.insertToolbarItem.bind(o),removeToolbarItem:o.removeToolbarItem.bind(o),destroy:s},null===(r=i.pluginInfo.toolbarItems)||void 0===r||r.forEach(function(a){i.defaultUI.insertToolbarItem({groupIndex:a.groupIndex,itemIndex:a.itemIndex},a.item)}),i.eventEmitter.emit("loadUI",i),i}return Ht(e,n),e.factory=function(t){return t.viewer?new fj(t):new e(t)},e.prototype.insertToolbarItem=function(t,r){this.defaultUI.insertToolbarItem(t,r)},e.prototype.removeToolbarItem=function(t){this.defaultUI.removeToolbarItem(t)},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.defaultUI.destroy()},e}(mj);mj.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});const $8e=["markdondeditor"];let H8e=(()=>{class n{constructor(){this.onChangeValue=t=>{},this.onTouched=()=>{}}validate(t){return this.control=t,t.value?null:t.errors}registerOnValidatorChange(t){}writeValue(t){this._value=t}registerOnChange(t){this.onChangeValue=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){}ngOnInit(){new B8e({el:this.editorEle.nativeElement,height:"500px",initialEditType:"markdown",previewStyle:"tab",usageStatistics:!1,hideModeSwitch:!0,initialValue:this.value||"",theme:"dark",events:{change:()=>{this.contentChange()},load:r=>{this.load(r)}}}).getMarkdown()}contentChange(){let t=this.editor.getMarkdown();this.control.setValue(t)}load(t){this.editor=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yi({type:n,selectors:[["app-markdown-editor"]],viewQuery:function(t,r){if(1&t&&Qa($8e,7),2&t){let i;sr(i=ar())&&(r.editorEle=i.first)}},inputs:{value:"value"},features:[gr([{provide:ms,useExisting:yn(()=>n),multi:!0},{provide:io,useExisting:yn(()=>n),multi:!0}])],decls:2,vars:0,consts:[["id","editor",1,"custom-markdown-editor","custom-markdown-editor-edit-mode"],["markdondeditor",""]],template:function(t,r){1&t&&Fr(0,"div",0,1)},styles:[".custom-markdown-editor-edit-mode[_ngcontent-%COMP%]     .toastui-editor-dark .toastui-editor-md-tab-container{background:#222e3e!important}.custom-markdown-editor-edit-mode[_ngcontent-%COMP%]     .toastui-editor-dark .toastui-editor-md-tab-container .tab-item.active{background:#2f4055!important}.custom-markdown-editor-edit-mode[_ngcontent-%COMP%]     .toastui-editor-dark .toastui-editor-defaultUI-toolbar{background:#222e3e!important}.custom-markdown-editor-edit-mode[_ngcontent-%COMP%]     .toastui-editor-dark .toastui-editor-md-container, .custom-markdown-editor-edit-mode[_ngcontent-%COMP%]     .toastui-editor-dark .toastui-editor-dark .toastui-editor-ww-container{background:#323b47!important}.custom-markdown-editor-edit-mode[_ngcontent-%COMP%]     .toastui-editor-dark .toastui-editor-contents table{border-color:gray!important}.custom-markdown-editor-edit-mode[_ngcontent-%COMP%]     .toastui-editor-dark .toastui-editor-contents table th{border-color:gray!important}.custom-markdown-editor-edit-mode[_ngcontent-%COMP%]     .toastui-editor-dark .toastui-editor-contents table td{border-color:gray!important}.custom-markdown-editor-edit-mode[_ngcontent-%COMP%]     .toastui-editor-dark .toastui-editor-md-delimiter{color:gray!important}.custom-markdown-editor-edit-mode[_ngcontent-%COMP%]     .toastui-editor-dark .toastui-editor-md-code.toastui-editor-md-delimiter{color:gray!important}.custom-markdown-editor-edit-mode[_ngcontent-%COMP%]     .toastui-editor-dark .toastui-editor-md-thematic-break{color:gray!important}.custom-markdown-editor-edit-mode[_ngcontent-%COMP%]     .toastui-editor-dark .toastui-editor-md-link{color:gray!important}.custom-markdown-editor-edit-mode[_ngcontent-%COMP%]     .toastui-editor-dark .toastui-editor-md-table, .custom-markdown-editor-edit-mode[_ngcontent-%COMP%]     .toastui-editor-dark .toastui-editor-dark .toastui-editor-md-block-quote{color:gray!important}.custom-markdown-editor-edit-mode[_ngcontent-%COMP%]     .toastui-editor-dark .toastui-editor-md-block-quote{color:gray!important}.custom-markdown-editor-edit-mode[_ngcontent-%COMP%]     .toastui-editor-dark.toastui-editor-defaultUI{border-color:#323b47!important}"]}),n})();const V8e=["htmleditor"];function G8e(n,e){if(1&n&&(Pt(0,"div",14)(1,"h5",15),Or(2),Rt()()),2&n){const t=It();ut(2),xa(t.configData.input.schema.title)}}function W8e(n,e){1&n&&(Pt(0,"div",16),Fr(1,"div",17),Rt())}function j8e(n,e){if(1&n&&(Pt(0,"div",18)(1,"div",19)(2,"p"),Or(3),Rt()()()),2&n){const t=It();it("id","form-success-message"),ut(3),xa(t.successMsg)}}function U8e(n,e){if(1&n&&(Pt(0,"div",18)(1,"div",20)(2,"h1",21),Or(3,"Server Error"),Rt(),Pt(4,"div",22)(5,"p"),Or(6),Rt()()()()),2&n){const t=It();it("id","form-error-message"),ut(6),xa(t.messageConfig.errorMsg)}}function z8e(n,e){1&n&&(Pt(0,"span",30),Or(1,"*"),Rt())}function Z8e(n,e){if(1&n&&(Pt(0,"label"),Or(1),gt(2,z8e,2,0,"span",29),Rt()),2&n){const t=It().$implicit;ut(1),zl("",t.label," "),ut(1),it("ngIf",t.required)}}const bl=function(n){return{"is-invalid":n}};function K8e(n,e){if(1&n&&Fr(0,"textarea",42),2&n){const t=It(3).$implicit,r=It(2);it("id",t.name)("ngClass",ps(3,bl,r.myForm.controls[t.name].touched&&r.myForm.controls[t.name].errors))("formControlName",t.name)}}function Y8e(n,e){if(1&n&&Fr(0,"input",43),2&n){const t=It(3).$implicit,r=It(2);it("id",t.name)("type",t.dataType)("ngClass",ps(4,bl,r.myForm.controls[t.name].touched&&r.myForm.controls[t.name].errors))("formControlName",t.name)}}function J8e(n,e){if(1&n&&Fr(0,"app-markdown-editor",44),2&n){const t=It(3).$implicit;it("id",t.name)("value",t.defaultValue)("formControlName",t.name)}}function X8e(n,e){if(1&n&&Fr(0,"editor",45,46),2&n){const t=It(3).$implicit;it("id",t.name)("formControlName",t.name)}}function q8e(n,e){if(1&n&&(Pt(0,"div"),gt(1,K8e,1,5,"textarea",38),gt(2,Y8e,1,6,"input",39),gt(3,J8e,1,3,"app-markdown-editor",40),gt(4,X8e,2,2,"editor",41),Rt()),2&n){const t=It(2).$implicit;ut(1),it("ngIf","textarea"===t.formType),ut(1),it("ngIf","textarea"!==t.formType&&"richtext"!==t.formType&&"html"!==t.formType),ut(1),it("ngIf","richtext"===t.formType),ut(1),it("ngIf","html"===t.formType)}}function Q8e(n,e){if(1&n&&Fr(0,"input",43),2&n){const t=It(2).$implicit,r=It(2);it("id",t.name)("type",r.text)("ngClass",ps(4,bl,r.myForm.controls[t.name].touched&&r.myForm.controls[t.name].errors))("formControlName",t.name)}}function e7e(n,e){if(1&n&&Fr(0,"input",43),2&n){const t=It(2).$implicit,r=It(2);it("id",t.name)("type",t.dataType)("ngClass",ps(4,bl,r.myForm.controls[t.name].touched&&r.myForm.controls[t.name].errors))("formControlName",t.name)}}function t7e(n,e){if(1&n&&Fr(0,"input",47),2&n){const t=It(2).$implicit,r=It(2);it("id",t.name)("ngClass",ps(3,bl,r.myForm.controls[t.name].touched&&r.myForm.controls[t.name].errors))("formControlName",t.name)}}function n7e(n,e){if(1&n&&Fr(0,"input",47),2&n){const t=It(2).$implicit,r=It(2);it("id",t.name)("ngClass",ps(3,bl,r.myForm.controls[t.name].touched&&r.myForm.controls[t.name].errors))("formControlName",t.name)}}function r7e(n,e){if(1&n&&Fr(0,"input",48),2&n){const t=It(2).$implicit,r=It(2);it("id",t.name)("ngClass",ps(3,bl,r.myForm.controls[t.name].touched&&r.myForm.controls[t.name].errors))("formControlName",t.name)}}function i7e(n,e){if(1&n&&Fr(0,"json-editor",49),2&n){const t=It(2).$implicit,r=It(2);it("id",t.name)("options",r.editorOptions)("ngClass",ps(5,bl,r.myForm.controls[t.name].touched&&r.myForm.controls[t.name].errors))("formControlName",t.name)("data",t.defaultValue)}}function o7e(n,e){if(1&n&&(Pt(0,"option",55),Or(1),Rt()),2&n){const t=e.$implicit;it("ngValue",t),ut(1),zl(" ",t," ")}}function s7e(n,e){if(1&n&&(Pt(0,"select",52)(1,"option",53),Or(2,"Select"),Rt(),gt(3,o7e,2,2,"option",54),Rt()),2&n){const t=It(3).$implicit,r=It(2);it("ngClass",ps(3,bl,r.myForm.controls[t.name].touched&&r.myForm.controls[t.name].errors))("formControlName",t.name),ut(3),it("ngForOf",t.options)}}function a7e(n,e){if(1&n&&(Pt(0,"option",55),Or(1),Rt()),2&n){const t=e.$implicit;it("ngValue",t),ut(1),zl(" ",t," ")}}function l7e(n,e){if(1&n&&(Pt(0,"select",56)(1,"option",53),Or(2,"Select"),Rt(),gt(3,a7e,2,2,"option",54),Rt()),2&n){const t=It(3).$implicit,r=It(2);it("ngClass",ps(3,bl,r.myForm.controls[t.name].touched&&r.myForm.controls[t.name].errors))("formControlName",t.name),ut(3),it("ngForOf",t.options)}}function c7e(n,e){if(1&n&&(Pt(0,"div"),gt(1,s7e,4,5,"select",50),gt(2,l7e,4,5,"select",51),Rt()),2&n){const t=It(2).$implicit;ut(1),it("ngIf",!t.isMultiple),ut(1),it("ngIf",t.isMultiple)}}function u7e(n,e){if(1&n){const t=hs();Pt(0,"div",57)(1,"input",58,59),Dn("dateSelect",function(i){Vr(t);const o=It(2).$implicit;return $i(It(2).onDateSelect(i,o.name))}),Rt(),Pt(3,"button",60),Dn("click",function(){return Vr(t),$i(Ja(2).toggle())}),Rt()()}if(2&n){const t=It(2).$implicit,r=It(2);ut(1),M0("name",t.name),it("name",t.name)("id",t.name)("ngClass",ps(5,bl,r.myForm.controls[t.name].touched&&r.myForm.controls[t.name].errors))("formControlName",t.name)}}function d7e(n,e){1&n&&(Pt(0,"div"),Or(1," This Field is required "),Rt())}function h7e(n,e){1&n&&(Pt(0,"div"),Or(1," Not a valid email "),Rt())}function f7e(n,e){1&n&&(Pt(0,"div"),Or(1," Not a valid phone number "),Rt())}function p7e(n,e){if(1&n&&(Pt(0,"div",30),gt(1,d7e,2,0,"div",27),gt(2,h7e,2,0,"div",27),gt(3,f7e,2,0,"div",27),Rt()),2&n){const t=It(2).$implicit,r=It(2);ut(1),it("ngIf",r.myForm.controls[t.name].errors.required),ut(1),it("ngIf",r.myForm.controls[t.name].errors.email),ut(1),it("ngIf",r.myForm.controls[t.name].errors.pattern)}}function g7e(n,e){if(1&n&&(Pt(0,"div",31),gt(1,q8e,5,4,"div",32),gt(2,Q8e,1,6,"input",33),gt(3,e7e,1,6,"input",33),gt(4,t7e,1,5,"input",34),gt(5,n7e,1,5,"input",34),gt(6,r7e,1,5,"input",35),gt(7,i7e,1,7,"json-editor",36),gt(8,c7e,3,2,"div",32),gt(9,u7e,4,7,"div",37),gt(10,p7e,4,3,"div",29),Rt()),2&n){const t=It().$implicit,r=It(2);it("ngSwitch",t.dataType),ut(1),it("ngSwitchCase","text"),ut(1),it("ngSwitchCase","phone"),ut(1),it("ngSwitchCase","email"),ut(1),it("ngSwitchCase","integer"),ut(1),it("ngSwitchCase","decimal"),ut(1),it("ngSwitchCase","checkbox"),ut(1),it("ngSwitchCase","object"),ut(1),it("ngSwitchCase","dynamicList"),ut(1),it("ngSwitchCase","datetime"),ut(1),it("ngIf",r.myForm.controls[t.name].touched&&r.myForm.controls[t.name].errors)}}function m7e(n,e){if(1&n&&(Pt(0,"div",26),gt(1,Z8e,3,2,"label",27),gt(2,g7e,11,11,"div",28),Rt()),2&n){const t=e.$implicit;ut(1),it("ngIf",t.visible),ut(1),it("ngIf",t.visible)}}function v7e(n,e){if(1&n&&(Pt(0,"form",23),Fr(1,"p",24),gt(2,m7e,3,2,"div",25),Rt()),2&n){const t=It();it("formGroup",t.myForm),ut(1),it("innerHTML",t.description,gn),ut(1),it("ngForOf",t.configData.input.schema.inputVariables)}}const y7e=function(n,e,t){return{"margin-left-md":n,"btn-primary":e,"btn-default":t}};function b7e(n,e){if(1&n){const t=hs();Pt(0,"div")(1,"button",63),Dn("click",function(){const o=Vr(t).$implicit;return $i(It(2).save(o.step_iri))}),Or(2),Rt()()}if(2&n){const t=e.$implicit,r=e.index,i=It(2);ut(1),it("type",t)("ngClass",$0(4,y7e,r>0,t.primary,!t.primary))("disabled",!i.myForm.valid),ut(1),xa(t.option)}}function C7e(n,e){if(1&n&&(Pt(0,"div",61),gt(1,b7e,3,8,"div",62),Rt()),2&n){const t=It();it("id","form-modal-footer"),ut(1),it("ngForOf",t.buttons)}}let w7e=(()=>{class n{constructor(t,r,i,o){this.fb=t,this.route=r,this.http=i,this.manualInputService=o,this.processing=!1,this.configInput={},this.messageConfig={showErrorMsg:!1,successMsg:!1,errorMsg:""},this.updatedFieldValues=[],this.myForm=this.fb.group({}),this.editorOptions=new G2,this.editorOptions.modes=["code","view"]}getValidators(t){let r=[];return t.required&&r.push(aT.required),"email"===t.dataType&&r.push(aT.email),"phone"===t.dataType&&r.push(aT.pattern("^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-s./0-9]*$")),"object"===t.dataType&&(t.defaultValue=t.defaultValue),r}createControls(t){for(let r of t){const i=new Np;i.setValidators(this.getValidators(r)),i.setValue(r.defaultValue),this.myForm.addControl(r.name,i),this.configInput.input[r.name]=r.defaultValue}}setHeaders(){return{headers:(new Jl).set("Authorization",this.token).set("Content-Type","application/json; charset=utf-8").set("Accept","application/json")}}evaluateFilter(t){var r,i=this.configInput.input[t.field];switch(r="notlike_pattern"===t.operator?"notlike":t.operator){case"eq":return!t.value&&!i||(0,dy.isEqual)(i,t.value);case"neq":return!(!t.value&&!i||(0,dy.isEqual)(i,t.value));case"like":case"notlike":if(null==i)return!1;var s=("like"===t.operator||"notlike"===t.operator?"%"+t.value+"%":t.value).replace(/%/g,".*").replace(/_/g,".{1}"),a=new RegExp("\\b"+s+"\\b","gi"),l=document.createElement("div");l.innerHTML=i;var b=null!==(l.textContent||l.innerText||i).trim().match(a);return"like"===r?b:!b;case"lt":return i<t.value;case"lte":return i<=t.value;case"gt":return i>t.value;case"gte":return i>=t.value;case"isnull":var x=null==i;return"false"===t.value.toString()?!x:x;case"in":if("object"==typeof t.value){let L=!1;return t.value.forEach(H=>{i&&-1!==i.indexOf(H)&&(L=!0)}),L}return-1!==t.value.indexOf(i);case"nin":if("object"==typeof t.value){let L=!0;return t.value.forEach(H=>{i&&-1!==i.indexOf(H)&&(L=!1)}),L}return!(-1!==t.value.indexOf(i)||!i)}}evaluate(t){var r=[];return t.filters.forEach(o=>{if(!o)return!1;if(!(0,dy.isUndefined)(o.filters)&&o.filters.length>0){var s=this.evaluate(o);r.push(s)}else{if(!o.field||!(o.field in this.configInput.input))return r.push(!1),!1;var a=this.evaluateFilter(o);r.push(a)}}),"OR"===t.logic?(0,dy.some)(r):(0,dy.every)(r)}evaluateVisible(){this.configData.input.schema.inputVariables.forEach(t=>{t.visible=!0,t.visibilityQuery&&t.visibilityQuery.filters&&t.visibilityQuery.filters.length>0&&(t.visible=this.evaluate(t.visibilityQuery),t.visible?this.myForm.controls[t.name].setValidators(this.getValidators(t)):this.myForm.controls[t.name].clearValidators(),this.myForm.controls[t.name].updateValueAndValidity({emitEvent:!1}))})}save(t){this.configInput.step_iri=t,this.updatedFieldValues.forEach((i,o)=>{this.configInput[o]=i});const r=JSON.stringify(this.configInput);this.manualInputService.save("input",r,this.setHeaders()).subscribe(i=>{this.messageConfig.successMsg=!0,this.showForm=!1})}onDateSelect(t,r){let o=new Date(t.year,t.month,t.day).getTime();this.configInput.input[r]=o,this.updatedFieldValues[r]=this.configInput.input[r],this.evaluateVisible()}ngOnInit(){this.route.queryParams.subscribe(t=>{if(Object.keys(t).length){this.token=t.token;let r=`manual-input?inputId=${t.inputId}`;this.processing=!0,this.manualInputService.getManualInputDetails(r,this.setHeaders()).subscribe(i=>{this.processing=!1,this.configInput={step_id:i.data.step_id,manual_input_id:i.data.id,workflow_id:i.data.workflow,input:{}},this.configData=i.data,this.buttons=i.data.response_mapping.options,this.successMsg=i.data&&i.data.response_mapping&&i.data.response_mapping.customSuccessMessage&&""!==i.data.response_mapping.customSuccessMessage?i.data.response_mapping.customSuccessMessage:"Manual Input executed successfully.",this.createControls(this.configData.input.schema.inputVariables),this.evaluateVisible(),this.showForm=!0,this.description=dn.parse(this.configData.input.schema.description)},i=>{this.processing=!1,this.messageConfig.showErrorMsg=!0,this.messageConfig.errorMsg=404===i.status?"Manual Input details already provided.":401===i.status?"Token Provided is not valid or expired.":"We are sorry, but the server encountered an error handling your request. Please contact your administrator for assistance."})}}),this.myForm?.valueChanges.pipe(Q(t=>t)).subscribe(t=>{this.configInput.input=t,this.updatedFieldValues.forEach((r,i)=>{this.configInput.input[i]=r}),this.evaluateVisible()})}}return n.\u0275fac=function(t){return new(t||n)(Be(v7),Be(rd),Be(lE),Be(wX))},n.\u0275cmp=yi({type:n,selectors:[["app-root"]],viewQuery:function(t,r){if(1&t&&(Qa(V8e,7),Qa(W2,5)),2&t){let i;sr(i=ar())&&(r.editorEle=i.first),sr(i=ar())&&(r.editor=i.first)}},decls:15,vars:7,consts:[[1,"manual-input-container","container"],[1,"row","padding-top-5-per"],[1,"col-md-12"],[1,"form-height"],[1,"logo-container"],[1,"custom-logo"],[1,"form-container"],["class","modal-header",4,"ngIf"],[1,"form-body"],[1,"modal-body","panel-body","control-label",3,"id"],["class","loader",4,"ngIf"],[3,"id",4,"ngIf"],[3,"formGroup",4,"ngIf"],["class","modal-footer",3,"id",4,"ngIf"],[1,"modal-header"],[1,"modal-title"],[1,"loader"],[1,"cs-spinner"],[3,"id"],[1,"success-message-container"],[1,"error-container","text-align-center"],[1,"beta"],[1,"error-body"],[3,"formGroup"],[1,"imageContainer",3,"innerHTML"],["class","form-group padding-top-md",4,"ngFor","ngForOf"],[1,"form-group","padding-top-md"],[4,"ngIf"],[3,"ngSwitch",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","form-control",3,"id","type","ngClass","formControlName",4,"ngSwitchCase"],["class","form-control","type","number",3,"id","ngClass","formControlName",4,"ngSwitchCase"],["type","checkbox",3,"id","ngClass","formControlName",4,"ngSwitchCase"],["class","form-control",3,"id","options","ngClass","formControlName","data",4,"ngSwitchCase"],["class","input-group",4,"ngSwitchCase"],["class","form-control","cols","30",3,"id","ngClass","formControlName",4,"ngIf"],["class","form-control",3,"id","type","ngClass","formControlName",4,"ngIf"],[3,"id","value","formControlName",4,"ngIf"],["class","custom-html-editor",3,"id","formControlName",4,"ngIf"],["cols","30",1,"form-control",3,"id","ngClass","formControlName"],[1,"form-control",3,"id","type","ngClass","formControlName"],[3,"id","value","formControlName"],[1,"custom-html-editor",3,"id","formControlName"],["htmleditor",""],["type","number",1,"form-control",3,"id","ngClass","formControlName"],["type","checkbox",3,"id","ngClass","formControlName"],[1,"form-control",3,"id","options","ngClass","formControlName","data"],["class","cs-select",3,"ngClass","formControlName",4,"ngIf"],["class","cs-select height-auto","multiple","",3,"ngClass","formControlName",4,"ngIf"],[1,"cs-select",3,"ngClass","formControlName"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["multiple","",1,"cs-select","height-auto",3,"ngClass","formControlName"],[1,"input-group"],["placeholder","yyyy-mm-dd","ngbDatepicker","",3,"name","id","ngClass","formControlName","dateSelect"],["d","ngbDatepicker"],["type","button",1,"btn","btn-outline-secondary","calendar",3,"click"],[1,"modal-footer",3,"id"],[4,"ngFor","ngForOf"],[1,"btn",3,"type","ngClass","disabled","click"]],template:function(t,r){1&t&&(Pt(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),Fr(5,"div",5),Rt(),Pt(6,"div",6),gt(7,G8e,3,1,"div",7),Pt(8,"div",8)(9,"div",9),gt(10,W8e,2,0,"div",10),gt(11,j8e,4,2,"div",11),gt(12,U8e,7,2,"div",11),gt(13,v7e,3,3,"form",12),Rt()(),gt(14,C7e,2,2,"div",13),Rt()()()()()),2&t&&(ut(7),it("ngIf",r.showForm&&!r.processing),ut(2),it("id","form-container"),ut(1),it("ngIf",r.processing),ut(1),it("ngIf",r.messageConfig.successMsg),ut(1),it("ngIf",r.messageConfig.showErrorMsg),ut(1),it("ngIf",r.showForm&&!r.processing),ut(1),it("ngIf",r.showForm&&!r.processing))},dependencies:[SL,Kl,qc,sw,DL,YP,ST,xT,fw,CT,sT,Sw,xw,MP,NP,Aw,AT,mee,W2,HE,H8e],styles:[".form-container[_ngcontent-%COMP%]{border-top:2px solid #22a6af!important;text-align:left;background:#1b2430}.manual-input-container[_ngcontent-%COMP%]{width:100vh;height:100vh}.margin-top-sm[_ngcontent-%COMP%]{margin-top:5px}.margin-left-md[_ngcontent-%COMP%]{margin-left:10px}.margin-top-md[_ngcontent-%COMP%]{margin-top:10px}.padding-top-5-per[_ngcontent-%COMP%]{padding-top:5%}.form-height[_ngcontent-%COMP%]{min-height:100px;max-height:500px;background:#1b2430}.logo-container[_ngcontent-%COMP%]{background-color:#1f3443;padding-top:10px;padding-bottom:10px}.custom-logo[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARIAAAAhCAYAAAAVriSUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACrFJREFUeNrsXdt12zgQpXz8v0wFpisIU8FSFZipIHQFlisIXYHsCmhVILkC0hWQrkDqQNoKtIQ8WGMRDJ5DWkqEcxjFEh94zNyZuQCGk0go+/1+1n/c9EcCx1Cl6Y9NfzxMJpON68V9PdP+Y05cp0Vfl+foXFj/srEv4M9V3y+dxz2y/iNT/LTrj66/Z0Nc57j/SJFnstLBczcj9B+rw0/k56e+DquAe8+hnbaFtfsf0LfOZiyRZyz64wf8/57fpz+3YlhxKQxCDRd3cNGQ5ao/cnb0z556CGqsERjf8nqGkIMsMACphK9+9t8992N0a6nMzBjdwRjpzmWAsgIAbwLAowABTy2v2cBznwYElR8G+VwF3Dt1lP1M0X6m38+a9que8Sp8x4BmCoBZ/A+B9u+lGNPq9UfbH1sQCCfE39OX8nfyKFh7hCOzvC7V9E9huDaHsfQpSxcZYOdCu7aBY16B90XqGVk8Nwm4f00k71uIQEw6VgvfiYX9vuZ/iCdUnyDwmQ+AnYHEWdhKy+tKTf/UOi+GSLBTS7BbE467VqE8+n5m8cz5EQDJXqf3GiDZSp+HsbgQrNXCF4F9OwVc2s3AfMyfWLIRQSuTQiHfEgN/Ygq7WmJ5Yc+dExrSO4tz8iOSlcLRiHbAcXK9f2D/XBJUpAaeY+d5PXWcOj2SenyWN5IGXL7x4JAqw/1WQPZxbixDgEAXs6u4G11pFDF/bKFQkQ0XZABVG5BjoWceQrqq+g9xBljb/zaA111fn0cHHX6AcXz8T2YEFybzEVq4tvX1TMBVK10HDPPTzmTpgavwDtsQ11k5voaQZmao41oKL2JP7kbkO3LDPeYWvEoZ0PeVCy9EHNqUlpyk1XhBf9ViGCb/LZ7nDCRwfqUYkBaIptiF8zgDCTmQlKHKAXF+zccGU3KN4thyMoUJAOA8nQKsXYwgyOfSoOSpR7/HCEjVmuclYwGJoY5aDsxVKbPAAagkK9VakmdnIBmWaB2MSNYIdTIwMO4JPOHKh1g2gKLS0mt+K8cEErh+jgFyyDhd2qJt9LHOhMegC4h/txDf3ipiM9bo+99poReAI7OgX6W4m8WXb6xvXNZFKAB8I3MFwgKxr/DVm4pTgLqpwPsKMRQ7eQ0P3OMX5UTapDQ+xOszMPKS9fetLzfH5FXTX8xQZY7rW7B6rqCuKn6HrTcpRxbhl+h9rc8vvM2gHgl4Iq0QyxYywiHxaGvjKp6KRwJWxXbacW0b3iHTkbHQ93NdW+H31nPqr7a1eEjdsf7ICft8sOl6A/dSEdyntvCAcsc6h3okg+jOhcU5fLksQ9WpwrtYyCAEVo7NnnBrt9wHTBN/sgcSg0BUDqjNzqs8Xe/DUm/BC8RIy07w/NJP6h7M86gCZ494udF4I4+hNwc5xWZOCodbYd7IQvIEXNo4VMFkuBkMSKQlsOL6+hhQmAt7DbFgzAUIXM7vMOiJRiGOGkSgfZnnLVhfrD04gxSAK/VQ4jFLpwHDlmDlKNbvq4DlBjplN4WdmIzkCNitBNBaIWNWjGxkbxzHksQj4Zt0GskTYcrVAj8SC57LFgQoF2LlJ+lep1RqgzI3wqHzMFyn+u4i86KlN5MijFBMzy4ASFswNNaggnE1UCj3RTUeQCaWHKmnCuwovJ8gGkMjVy9DAkmOCIzJGoroxl3QhMjdtYkBXQ5sanOmARHWpi+9oEz5wf6OYJWfysNwjOltFK4DsGak66FE+GK8h4m6TEP62hAayB7WXAIVkxWOPTwhnzbsNPL8l8Utfjgo5sIxNKLUi5nGoDXBu7ExshUWsPASS9+LJFup2LA1QwiiGUIelZ51pigZ8oy158IfbK/FFjnfuC9DtOQQUmaO/VI69G3tQsRJZLzPprnYsR/3AyhZ7TMNLOmI1VSqpq+ywLpWCiOZg36uQ/c4mcqljVWUXLS1hGQlNDASEI8Jf8x/ExD/JAhXCM1UXsFGaBNm4R776+8U1x8W6jlOhd/K5/vkBhmyMNlgWyRg7F25JObSM2G/VSwXPwVZ0U356sLBFPFsQryCwjNEuqeQqQsDmcdc9XtNWJNI7qtING2kv0+pYITUk+X12Hl/O9Th8VTW3zAwgTDpu4cyHDgkny0aR1AKDznBQCYfmXRl+vmNSsYuNMJxsL7MwkrfXwudwcMcNsMgZoS6liqYnpiAJIGxeafhCmzLw6lpFfMqAFCugUdysXTyEoFOF06N1KSdpg4F4jVps7DBbysEUPORAOQBQITMu700uPgFWNFXCGM2CoVIFMiccssEg86tTTNCRzUEwpIhQtBYKlSDhPKpg1KemhcnK8s95xGgP28MisKznT1aeLEpsSxh3tCbh9dqM4v2gvQFC5WG9kJXpvCcHEiij5RxBQgFj9kb+H4nKMcGDiYQnbCUnAvEjjpPJyLE0+hcjg1UmMw8A6hUGsW9EYCkGwNIDETjBrkm0YDilQW5jc0GMSI99fQUngUQSyI83eMM0iXckw60ZtYmtkm1J7DQqeF6LBPT0S2Rp7i37T0o2/EZszae9VzatFsz29AS1qV0TYlouGaQjGWm8VGNsWE2jZSTujC4exvBMsxVsWmPbN9gTUKncM3FWDCj2oNxLidfbK3hSmO5qRQBWwey0XAdQy6upCRddUmaKkquSQckHRCrfJk7X/bsQhi+Cm7qIjqdLGSdhxssu77WrvIfGu7YFB3f8JPAG5lFOLH+hFyTR8OmBiUjXcG4Y6R9QtGHRiDhgw2f0+hjz0wLrl2i6OQYdmzyzWosbvsCXkt5bGsgXGPjyJ4sTV0A6k8rGkvYKRQB40KykKTNYBQwRdpFOOk5xlYPsmcAsYrJ84zKs7uwrIy8m5cNAF/uzDNpsVWA2+hjs1kF6wtOcfYB28thu1PzxvG+pwoIPF1E6xi25g5AqwuD5j5gAiBSR/iityeV3BpI1unEsUTv0+QYSFJ6PcOHOB6pFguLJbelbeWOlGyNfUkqQ44LlRc3Btk6d7iHSz6SVvF+msSif7Yu787R5WQR0hkmluNqIkpbXShEnV1MQ4jOXcbHYuvGnCL3ChmQSAJRCC9h8nKTjjWxkSYRDbo3wfDOFWzWagwgWSvqGYcAiUEhK9jnEUvP1L3Uau2pcHLqxVKx52RmkafVuO9EM7Yh76lx3ZvlCySxwQHIPwVICBV2faRAEhsyjlccPOGzMghoMgKQxAarXQqCWPsCCWxWC33LnZMgB24O3BOASDbQm/Nil7cbBiZ/zgztj0OV5rd50x5x/XIiIS0MfU/WDkdlmwV4JHNCJa4clK4eG0QMHmpLIGfL0FSYBMmfvV+Robp5MSKIcAtD+u7fAepZBFrfwgLEKYEkd1SgOIAjyQk8k7lHG2eEHpGRbHT1GjxlzMrbIQCSQUKcCb959JENjDHnLwPjyJXAfk9dp4UhDKuRGabJELMT0XtiHpfwj7Xp1tQ2TElD2gEW3kbAm/74Ls5QgBXMbOsDssM8m7vIbev/Bvqn8TVEns/lZQWzM40NcMH4q8oXiplJ4ERU7XgQ98Zg4yOf56s/0fvU93VQm4QXIw1dgvJ5ftZ7bYSXg6012eMrF1Qfqh2G2bWlJjmS9xJ58FB0We1b1/5xeG5l8SKtpWvKRw3Juqb04Pe/vn0QI8qDPBJLT9uZ5vhXgAEAa0FtfaqxX4UAAAAASUVORK5CYII=) no-repeat;margin:10px auto;height:20px;text-align:center;background-size:contain!important;width:210px}.modal-header[_ngcontent-%COMP%]{padding:15px;border-bottom:1px solid #0d1218;display:flex;align-items:center;justify-content:center}.modal-title[_ngcontent-%COMP%]{color:#22a6af;font-size:1.2em;font-weight:500;font-family:Lato,sans-serif}.form-body[_ngcontent-%COMP%]{padding:15px;max-height:calc(100vh - 270px);overflow:auto}.form-control[_ngcontent-%COMP%]{color:#fff;border-color:#171f27;background:#29323e}.control-label[_ngcontent-%COMP%]{font-weight:400;color:#ccc;font-size:.8em}.modal-footer[_ngcontent-%COMP%]{text-align:left;border-top:1px solid #0d1218;display:flex;justify-content:left;padding:10px 15px}.height-auto[_ngcontent-%COMP%]{height:auto!important}.cs-select[_ngcontent-%COMP%]{width:30%;height:35px;background:#29323e;color:#fff;border-color:#171f27}button.calendar[_ngcontent-%COMP%], button.calendar[_ngcontent-%COMP%]:active{width:2.75rem;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAcCAYAAAAEN20fAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEUSURBVEiJ7ZQxToVAEIY/YCHGxN6XGOIpnpaEsBSeQC9ArZbm9TZ6ADyBNzAhQGGl8Riv4BLAWAgmkpBYkH1b8FWT2WK/zJ8ZJ4qiI6XUI3ANnGKWBnht2/ZBDRK3hgVGNsCd7/ui+JkEIrKtqurLpEWaphd933+IyI3LEIdpCYCiKD6HcuOa/nwOa0ScJEnk0BJg0UTUWJRl6RxCYEzEmomsIlPU3IPW+grIAbquy+q6fluy/28RIBeRMwDXdXMgXLj/B2uimRXpui4D9sBeRLKl+1N+L+t6RwbWrZliTTTr1oxYtzVWiTQAcRxvTX+eJMnlUDaO1vpZRO5NS0x48sIwfPc87xg4B04MCzQi8hIEwe4bl1DnFMCN2zsAAAAASUVORK5CYII=)!important;background-repeat:no-repeat;background-size:23px;background-position:center}.cs-spinner[_ngcontent-%COMP%]{margin:50px;height:28px;width:28px;animation:spinner .8s infinite linear;border:3px solid #22a6af;border-right-color:transparent;border-radius:50%;margin:0 auto!important}@keyframes spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-container[_ngcontent-%COMP%]{padding:0 20px;color:#fff;font-family:Lato,sans-serif}.success-message-container[_ngcontent-%COMP%]{justify-content:center;display:flex;align-items:center;color:#fff}.text-align-center[_ngcontent-%COMP%]{text-align:center}.padding-top-md[_ngcontent-%COMP%]{padding-top:10px}.btn[_ngcontent-%COMP%]{color:#fff}.btn-default[_ngcontent-%COMP%]{border-color:#fff}  .jsoneditor{max-height:800px!important;overflow:auto!important}  .jsoneditor, .jsoneditor-menu[_ngcontent-%COMP%]{border-color:#000!important}  div.jsoneditor-menu{background-color:#323c47!important;position:sticky!important;top:0;z-index:9}  div.jsoneditor-tree, .jsoneditor[_ngcontent-%COMP%]   textarea.jsoneditor-text[_ngcontent-%COMP%]{background-color:#1b2431!important;color:#c5d5e8!important}  div.jsoneditor-field{color:#fff}  div.jsoneditor-value{color:#fff}  tr.jsoneditor-highlight, tr.jsoneditor-selected[_ngcontent-%COMP%]{background-color:#000}  div.jsoneditor-field .jsoneditor-empty:after, div.jsoneditor-value.jsoneditor-empty[_ngcontent-%COMP%]:after{color:#acacac;padding:0 5px}  div.jsoneditor-readonly{color:#acacac}  div.jsoneditor td.jsoneditor-separator{color:#acacac}  div.jsoneditor-value.jsoneditor-string{color:#0f8}  div.jsoneditor-value.jsoneditor-object, .jsoneditor-value.jsoneditor-array[_ngcontent-%COMP%]{color:#bababa}  div.jsoneditor-value.jsoneditor-number{color:#ff4040}  div.jsoneditor-value.jsoneditor-boolean{color:#ff8048}  div.jsoneditor-value.jsoneditor-null{color:#49a7fc}  div.jsoneditor-value.jsoneditor-invalid{color:#fff}  .jsoneditor-menu>button:hover, .jsoneditor-menu[_ngcontent-%COMP%] > .jsoneditor-modes[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;border:1px solid rgba(255,255,255,.2)}  .ace-jsoneditor .ace_scroller{background-color:#fbf9f9;color:#29323e!important}  .jsoneditor-contextmenu ul li button.jsoneditor-selected, .jsoneditor-contextmenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.jsoneditor-selected[_ngcontent-%COMP%]:focus, .jsoneditor-contextmenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.jsoneditor-selected[_ngcontent-%COMP%]:hover{background-color:#323b47!important;border:1px solid #8D8D8D!important}  .jsoneditor-menu>button, .jsoneditor-menu[_ngcontent-%COMP%] > .jsoneditor-modes[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{color:#29323e!important;font-family:Lato,sans-serif!important}  .jsoneditor-outer{background:#323c47!important}  .jsoneditor{border:1px solid #323b47!important}  .jsoneditor-menu>button, .jsoneditor-menu[_ngcontent-%COMP%] > .jsoneditor-modes[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{color:#c5d5e8!important}  .jsoneditor-frame{background:#000000;color:#c5d5e8}  .jsoneditor .jsoneditor-search input{background:#000000;color:#c5d5e8}  .jsoneditor-contextmenu .jsoneditor-text{color:#c5d5e8!important}  .jsoneditor-contextmenu ul{background:#1b2430!important;border:1px solid #323b47!important;box-shadow:none!important}  .ace_content{background:rgba(69,71,78,.6)!important}  .ace-jsoneditor .ace_variable{color:#c5d5e8!important}  .jsoneditor-menu>button.jsoneditor-collapse-all{color:#c5d5e8!important}  table.jsoneditor-search .jsoneditor-results{color:#c5d5e8!important}  .ace_gutter-layer{color:#c5d5e8!important;background:#444242}  a.jsoneditor-value.jsoneditor-url, .jsoneditor-value.jsoneditor-url[_ngcontent-%COMP%]{color:green}  .highlight{background-color:#dada06;border:1px solid #000000;border-radius:2px;color:#000!important}  .highlight-active{border:1px solid #FF0000;background-color:#ff0}  .search-icon{position:absolute;top:13px;left:10px;font-size:14px}  .jsoneditor-poweredBy{display:none}  .ace_content{background:#29323e!important}  .tox .tox-statusbar{display:none}  .tox .tox-edit-area__iframe{background-color:#323b47}  .tox-tinymce{border-radius:0!important}  .tox-tinymce-inline{display:flex!important}  .imageContainer p img{width:100%!important}"]}),n})(),I7e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Gn({imports:[Wo,HE]}),n})(),_7e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n,bootstrap:[w7e]}),n.\u0275inj=Gn({imports:[a8,HJ,Tw,fF,Zee,eX,rX,I7e]}),n})();(function EZ(){XO=!1})(),s8().bootstrapModule(_7e).catch(n=>console.error(n))},623:Li=>{self,Li.exports=function(){return fo={897:function(me,k,ue){"use strict";ue.d(k,{x:function(){return ye}});var we=ue(2602),V=ue(9791),ne=ue(7907);function fe(oe){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(J){return typeof J}:function(J){return J&&"function"==typeof Symbol&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J})(oe)}function he(oe,J){for(var B=0;B<J.length;B++){var M=J[B];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(oe,(Z=function(O,D){if("object"!==fe(O)||null===O)return O;var _=O[Symbol.toPrimitive];if(void 0===_)return String(O);if("object"!==fe(_=_.call(O,D)))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}(Z=M.key,"string"),"symbol"===fe(Z)?Z:String(Z)),M)}var Z}var ye=function(){function oe(Z,_){if(!(this instanceof oe))throw new TypeError("Cannot call a class as a function");this.dom={};var D=this,C=this.dom,I=((this.anchor=void 0,this.items=Z,this.eventListeners={},this.selection=void 0,this.onClose=_?_.close:void 0,this.limitHeight=!!_&&_.limitHeight,_=document.createElement("div")).className="jsoneditor-contextmenu-root",C.root=_,document.createElement("div"));(I.className="jsoneditor-contextmenu",C.menu=I,_.appendChild(I),_=document.createElement("ul")).className="jsoneditor-menu",I.appendChild(_),C.list=_,C.items=[],((I=document.createElement("button")).type="button",C.focusButton=I,C=document.createElement("li")).style.overflow="hidden",C.style.height="0",C.appendChild(I),_.appendChild(C),function f(m,p,g){g.forEach(function(y){var h,d,v,A,E,T;"separator"===y.type?((E=document.createElement("div")).className="jsoneditor-separator",(d=document.createElement("li")).appendChild(E),m.appendChild(d)):(h={},E=document.createElement("li"),m.appendChild(E),(d=document.createElement("button")).type="button",d.className=y.className,h.button=d,y.title&&(d.title=y.title),y.click&&(d.onclick=function(F){F.preventDefault(),D.hide(),y.click()}),E.appendChild(d),y.submenu?((A=document.createElement("div")).className="jsoneditor-icon",d.appendChild(A),(A=document.createElement("div")).className="jsoneditor-text"+(y.click?"":" jsoneditor-right-margin"),A.appendChild(document.createTextNode(y.text)),d.appendChild(A),(v=y.click?(d.className+=" jsoneditor-default",(A=document.createElement("button")).type="button",(h.buttonExpand=A).className="jsoneditor-expand",(T=document.createElement("div")).className="jsoneditor-expand",A.appendChild(T),E.appendChild(A),y.submenuTitle&&(A.title=y.submenuTitle),A):((T=document.createElement("div")).className="jsoneditor-expand",d.appendChild(T),d)).onclick=function(F){F.preventDefault(),D._onExpandItem(h),v.focus()},h.subItems=A=[],T=document.createElement("ul"),(h.ul=T).className="jsoneditor-menu",T.style.height="0",E.appendChild(T),f(T,A,y.submenu)):((E=document.createElement("div")).className="jsoneditor-icon",d.appendChild(E),(T=document.createElement("div")).className="jsoneditor-text",T.appendChild(document.createTextNode((0,ne.Iu)(y.text))),d.appendChild(T)),p.push(h))})}(_,this.dom.items,Z),this.maxHeight=0,Z.forEach(function(f){f=24*(Z.length+(f.submenu?f.submenu.length:0)),D.maxHeight=Math.max(D.maxHeight,f)})}var J,B;return J=oe,(B=[{key:"_getVisibleButtons",value:function(){var Z=[],O=this;return this.dom.items.forEach(function(D){Z.push(D.button),D.buttonExpand&&Z.push(D.buttonExpand),D.subItems&&D===O.expandedItem&&D.subItems.forEach(function(_){Z.push(_.button),_.buttonExpand&&Z.push(_.buttonExpand)})}),Z}},{key:"show",value:function(Z,p,D){this.hide();var _=!0,C=Z.parentNode,I=Z.getBoundingClientRect(),f=(C=C.getBoundingClientRect(),p.getBoundingClientRect()),m=this;this.dom.absoluteAnchor=(0,we.w)(Z,p,function(){m.hide()}),I.bottom+this.maxHeight<f.bottom||I.top-this.maxHeight>f.top&&(_=!1),p=D?0:I.top-C.top,_?(D=Z.offsetHeight,this.dom.menu.style.left="0",this.dom.menu.style.top=p+D+"px",this.dom.menu.style.bottom=""):(this.dom.menu.style.left="0",this.dom.menu.style.top="",this.dom.menu.style.bottom="0px"),this.limitHeight&&(this.dom.list.style.maxHeight=(C=_?f.bottom-I.bottom-10:I.top-f.top-10)+"px",this.dom.list.style.overflowY="auto"),this.dom.absoluteAnchor.appendChild(this.dom.root),this.selection=(0,V.getSelection)(),this.anchor=Z,setTimeout(function(){m.dom.focusButton.focus()},0),oe.visibleMenu&&oe.visibleMenu.hide(),oe.visibleMenu=this}},{key:"hide",value:function(){this.dom.absoluteAnchor&&(this.dom.absoluteAnchor.destroy(),delete this.dom.absoluteAnchor),this.dom.root.parentNode&&(this.dom.root.parentNode.removeChild(this.dom.root),this.onClose)&&this.onClose(),oe.visibleMenu===this&&(oe.visibleMenu=void 0)}},{key:"_onExpandItem",value:function(Z){var O,D=this,_=Z===this.expandedItem,I=this.expandedItem;I&&(I.ul.style.height="0",I.ul.style.padding="",setTimeout(function(){D.expandedItem!==I&&(I.ul.style.display="",V.removeClassName)(I.ul.parentNode,"jsoneditor-selected")},300),this.expandedItem=void 0),_||((O=Z.ul).style.display="block",setTimeout(function(){if(D.expandedItem===Z){for(var C=0,f=0;f<O.childNodes.length;f++)C+=O.childNodes[f].clientHeight;O.style.height=C+"px",O.style.padding="5px 10px"}},0),(0,V.addClassName)(O.parentNode,"jsoneditor-selected"),this.expandedItem=Z)}},{key:"_onKeyDown",value:function(Z){var O,D,_,I,C=Z.target,f=Z.which,m=!1;27===f?(this.selection&&(0,V.setSelection)(this.selection),this.anchor&&this.anchor.focus(),this.hide(),m=!0):9===f?Z.shiftKey?0===(D=(O=this._getVisibleButtons()).indexOf(C))&&(O[O.length-1].focus(),m=!0):(D=(O=this._getVisibleButtons()).indexOf(C))===O.length-1&&(O[0].focus(),m=!0):37===f?("jsoneditor-expand"===C.className&&(D=(O=this._getVisibleButtons()).indexOf(C),_=O[D-1])&&_.focus(),m=!0):38===f?(D=(O=this._getVisibleButtons()).indexOf(C),(_=(_=(_=O[D-1])&&"jsoneditor-expand"===_.className?O[D-2]:_)||O[O.length-1])&&_.focus(),m=!0):39===f?(D=(O=this._getVisibleButtons()).indexOf(C),(I=O[D+1])&&"jsoneditor-expand"===I.className&&I.focus(),m=!0):40===f&&(D=(O=this._getVisibleButtons()).indexOf(C),(I=(I=(I=O[D+1])&&"jsoneditor-expand"===I.className?O[D+2]:I)||O[0])&&(I.focus(),m=!0),m=!0),m&&(Z.stopPropagation(),Z.preventDefault())}}])&&he(J.prototype,B),Object.defineProperty(J,"prototype",{writable:!1}),oe}();ye.visibleMenu=void 0},6436:function(me,k,ue){"use strict";function we(fe){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(he){return typeof he}:function(he){return he&&"function"==typeof Symbol&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he})(fe)}function V(fe,he){for(var ye=0;ye<he.length;ye++){var oe=he[ye];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(fe,(J=function(B,M){if("object"!==we(B)||null===B)return B;var Z=B[Symbol.toPrimitive];if(void 0===Z)return String(B);if("object"!==we(Z=Z.call(B,M)))return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}(J=oe.key,"string"),"symbol"===we(J)?J:String(J)),oe)}var J}ue.d(k,{Q:function(){return ne}});var ne=function(){function fe(B){if(!(this instanceof fe))throw new TypeError("Cannot call a class as a function");var M;this.errorTableVisible=B.errorTableVisible,this.onToggleVisibility=B.onToggleVisibility,this.onFocusLine=B.onFocusLine||function(){},this.onChangeHeight=B.onChangeHeight,this.dom={},((B=document.createElement("div")).className="jsoneditor-validation-errors-container",this.dom.validationErrorsContainer=B,M=document.createElement("div")).style.display="none",M.className="jsoneditor-additional-errors fadein",M.textContent="Scroll for more \u25bf",this.dom.additionalErrorsIndication=M,B.appendChild(M),((B=document.createElement("span")).className="jsoneditor-validation-error-icon",B.style.display="none",this.dom.validationErrorIcon=B,M=document.createElement("span")).className="jsoneditor-validation-error-count",M.style.display="none",this.dom.validationErrorCount=M,this.dom.parseErrorIndication=document.createElement("span"),this.dom.parseErrorIndication.className="jsoneditor-parse-error-icon",this.dom.parseErrorIndication.style.display="none"}var he,ye;return he=fe,(ye=[{key:"getErrorTable",value:function(){return this.dom.validationErrorsContainer}},{key:"getErrorCounter",value:function(){return this.dom.validationErrorCount}},{key:"getWarningIcon",value:function(){return this.dom.validationErrorIcon}},{key:"getErrorIcon",value:function(){return this.dom.parseErrorIndication}},{key:"toggleTableVisibility",value:function(){this.errorTableVisible=!this.errorTableVisible,this.onToggleVisibility(this.errorTableVisible)}},{key:"setErrors",value:function(J,B){var M,Z,O=this,D=(this.dom.validationErrors&&(this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors),this.dom.validationErrors=null,this.dom.additionalErrorsIndication.style.display="none"),this.errorTableVisible&&0<J.length?((D=document.createElement("div")).className="jsoneditor-validation-errors",(Z=document.createElement("table")).className="jsoneditor-text-errors",D.appendChild(Z),M=document.createElement("tbody"),Z.appendChild(M),J.forEach(function(_){isNaN(_.line)?_.dataPath&&(C=B.find(function(p){return p.path===_.dataPath}))&&(I=C.line+1):I=_.line;var I,m,C=document.createElement("tr"),f=(C.className=isNaN(I)?"":"jump-to-line",C.className+="error"===_.type?" parse-error":" validation-error",document.createElement("td"));((m=document.createElement("button")).className="jsoneditor-schema-error",f.appendChild(m),C.appendChild(f),m=document.createElement("td")).style="white-space: nowrap;",m.textContent=isNaN(I)?"":"Ln "+I,C.appendChild(m),"string"==typeof _?((f=document.createElement("td")).colSpan=2,(m=document.createElement("pre")).appendChild(document.createTextNode(_)),f.appendChild(m),C.appendChild(f)):((m=document.createElement("td")).appendChild(document.createTextNode(_.dataPath||"")),C.appendChild(m),f=document.createElement("td"),(m=document.createElement("pre")).appendChild(document.createTextNode(_.message.replace(/<br>/gi,"\n"))),f.appendChild(m),C.appendChild(f)),C.onclick=function(){O.onFocusLine(I)},M.appendChild(C)}),this.dom.validationErrors=D,this.dom.validationErrorsContainer.appendChild(D),this.dom.additionalErrorsIndication.title=J.length+" errors total",this.dom.validationErrorsContainer.clientHeight<this.dom.validationErrorsContainer.scrollHeight?(this.dom.additionalErrorsIndication.style.display="block",this.dom.validationErrorsContainer.onscroll=function(){O.dom.additionalErrorsIndication.style.display=0<O.dom.validationErrorsContainer.clientHeight&&0===O.dom.validationErrorsContainer.scrollTop?"block":"none"}):this.dom.validationErrorsContainer.onscroll=void 0,this.onChangeHeight(Z=this.dom.validationErrorsContainer.clientHeight+(this.dom.statusBar?this.dom.statusBar.clientHeight:0))):this.onChangeHeight(0),J.filter(function(_){return"error"!==_.type}).length);0<D?(this.dom.validationErrorCount.style.display="inline",this.dom.validationErrorCount.innerText=D,this.dom.validationErrorCount.onclick=this.toggleTableVisibility.bind(this),this.dom.validationErrorIcon.style.display="inline",this.dom.validationErrorIcon.title=D+" schema validation error(s) found",this.dom.validationErrorIcon.onclick=this.toggleTableVisibility.bind(this)):(this.dom.validationErrorCount.style.display="none",this.dom.validationErrorIcon.style.display="none"),J.some(function(_){return"error"===_.type})?(Z=J[0].line,this.dom.parseErrorIndication.style.display="block",this.dom.parseErrorIndication.title=isNaN(Z)?"parse error - check that the json is valid":"parse error on line "+Z,this.dom.parseErrorIndication.onclick=this.toggleTableVisibility.bind(this)):this.dom.parseErrorIndication.style.display="none"}}])&&V(he.prototype,ye),Object.defineProperty(he,"prototype",{writable:!1}),fe}()},2474:function(me,k,ue){"use strict";function we(fe){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(he){return typeof he}:function(he){return he&&"function"==typeof Symbol&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he})(fe)}function V(fe,he){for(var ye=0;ye<he.length;ye++){var oe=he[ye];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(fe,(J=function(B,M){if("object"!==we(B)||null===B)return B;var Z=B[Symbol.toPrimitive];if(void 0===Z)return String(B);if("object"!==we(Z=Z.call(B,M)))return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}(J=oe.key,"string"),"symbol"===we(J)?J:String(J)),oe)}var J}ue.d(k,{R:function(){return ne}});var ne=function(){function fe(J){if(!(this instanceof fe))throw new TypeError("Cannot call a class as a function");if(this.target=J.target||null,!this.target)throw new Error('FocusTracker constructor called without a "target" to track.');this.onFocus="function"==typeof J.onFocus?J.onFocus:null,this.onBlur="function"==typeof J.onBlur?J.onBlur:null,this._onClick=this._onEvent.bind(this),this._onKeyUp=function(B){9!==B.which&&9!==B.keyCode||this._onEvent(B)}.bind(this),this._onBlur=this._onEvent.bind(this),this.focusFlag=!1,this.firstEventFlag=!0,(this.onFocus||this.onBlur)&&(document.addEventListener("click",this._onClick),document.addEventListener("keyup",this._onKeyUp),document.addEventListener("blur",this._onBlur))}var he,ye;return he=fe,(ye=[{key:"destroy",value:function(){document.removeEventListener("click",this._onClick),document.removeEventListener("keyup",this._onKeyUp),document.removeEventListener("blur",this._onBlur),this._onEvent({target:document.body})}},{key:"_onEvent",value:function(J){(J=(J=J.target)===this.target||!(!this.target.contains(J)&&!this.target.contains(document.activeElement)))?this.focusFlag||(this.onFocus&&this.onFocus({type:"focus",target:this.target}),this.focusFlag=!0):(this.focusFlag||this.firstEventFlag)&&(this.onBlur&&this.onBlur({type:"blur",target:this.target}),this.focusFlag=!1,this.firstEventFlag)&&(this.firstEventFlag=!1)}}])&&V(he.prototype,ye),Object.defineProperty(he,"prototype",{writable:!1}),fe}()},3161:function(me,k,ue){"use strict";var we=ue(8170),V=ue(8037),ne=ue(8038).treeModeMixins,fe=ue(8458).textModeMixins,he=ue(341).previewModeMixins,ye=(Z=ue(9791)).clear,oe=Z.extend,J=Z.getInnerText,B=Z.getInternetExplorerVersion,M=Z.parse,Z=ue(2744).tryRequireAjv,O=ue(2558).showTransformModal,D=ue(6210).showSortModal,_=Z();function I(C,f,m){if(!(this instanceof I))throw new Error('JSONEditor constructor called without "new".');var p=B();if(-1!==p&&p<9)throw new Error("Unsupported browser, IE9 or newer required. Please install the newest version of your browser.");f&&(f.error&&(console.warn('Option "error" has been renamed to "onError"'),f.onError=f.error,delete f.error),f.change&&(console.warn('Option "change" has been renamed to "onChange"'),f.onChange=f.change,delete f.change),f.editable&&(console.warn('Option "editable" has been renamed to "onEditable"'),f.onEditable=f.editable,delete f.editable),f.onChangeJSON&&("text"===f.mode||"code"===f.mode||f.modes&&(-1!==f.modes.indexOf("text")||-1!==f.modes.indexOf("code")))&&console.warn('Option "onChangeJSON" is not applicable to modes "text" and "code". Use "onChangeText" or "onChange" instead.'),f)&&Object.keys(f).forEach(function(g){-1===I.VALID_OPTIONS.indexOf(g)&&console.warn('Unknown option "'+g+'". This option will be ignored')}),arguments.length&&this._create(C,f,m)}typeof Promise>"u"&&console.error("Promise undefined. Please load a Promise polyfill in the browser in order to use JSONEditor"),I.modes={},I.prototype.DEBOUNCE_INTERVAL=150,I.VALID_OPTIONS=["ajv","schema","schemaRefs","templates","ace","theme","autocomplete","onChange","onChangeJSON","onChangeText","onExpand","onEditable","onError","onEvent","onModeChange","onNodeName","onValidate","onCreateMenu","onSelectionChange","onTextSelectionChange","onClassName","onFocus","onBlur","colorPicker","onColorPicker","timestampTag","timestampFormat","escapeUnicode","history","search","mode","modes","name","indentation","sortObjectKeys","navigationBar","statusBar","mainMenuBar","languages","language","enableSort","enableTransform","limitDragging","maxVisibleChilds","onValidationError","modalAnchor","popupAnchor","createQuery","executeQuery","queryDescription","allowSchemaSuggestions","showErrorTable"],I.prototype._create=function(C,f,m){this.container=C,this.options=f||{},this.json=m||{},this.setMode(C=this.options.mode||this.options.modes&&this.options.modes[0]||"tree")},I.prototype.destroy=function(){},I.prototype.set=function(C){this.json=C},I.prototype.get=function(){return this.json},I.prototype.setText=function(C){this.json=M(C)},I.prototype.getText=function(){return JSON.stringify(this.json)},I.prototype.setName=function(C){this.options||(this.options={}),this.options.name=C},I.prototype.getName=function(){return this.options&&this.options.name},I.prototype.setMode=function(C){if(C!==this.options.mode||!this.create){var f=this.container,m=oe({},this.options),p=m.mode,g=(m.mode=C,I.modes[C]);if(!g)throw new Error('Unknown mode "'+m.mode+'"');var y="text"===g.data,h=this.getName(),d=this[y?"getText":"get"]();if(this.destroy(),ye(this),oe(this,g.mixin),this.create(f,m),this.setName(h),this[y?"setText":"set"](d),"function"==typeof g.load)try{g.load.call(this)}catch(v){console.error(v)}if("function"==typeof m.onModeChange&&C!==p)try{m.onModeChange(C,p)}catch(v){console.error(v)}}},I.prototype.getMode=function(){return this.options.mode},I.prototype._onError=function(C){this.options&&"function"==typeof this.options.onError?this.options.onError(C):window.alert(C.toString())},I.prototype.setSchema=function(C,f){if(C){var m;try{this.options.ajv?m=this.options.ajv:((m=_({allErrors:!0,verbose:!0,schemaId:"auto",$data:!0})).addMetaSchema(ue(7171)),m.addMetaSchema(ue(6273)))}catch{console.warn("Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.")}if(m){if(f){for(var p in f)m.removeSchema(p),f[p]&&m.addSchema(f[p],p);this.options.schemaRefs=f}this.validateSchema=m.compile(C),this.options.schema=C,this.options.schemaRefs=f,this.validate()}}else this.validateSchema=null,this.options.schema=null,this.options.schemaRefs=null,this.validate();this.refresh(),"function"==typeof this._onSchemaChange&&this._onSchemaChange(C,f)},I.prototype.validate=function(){},I.prototype.refresh=function(){},(I.registerMode=function(C){var f;if(Array.isArray(C))for(g=0;g<C.length;g++)I.registerMode(C[g]);else{if(!("mode"in C))throw new Error('Property "mode" missing');if(!("mixin"in C))throw new Error('Property "mixin" missing');if(!("data"in C))throw new Error('Property "data" missing');var m=C.mode;if(m in I.modes)throw new Error('Mode "'+m+'" already registered');if("function"!=typeof C.mixin.create)throw new Error('Required function "create" missing on mixin');for(var p=["setMode","registerMode","modes"],g=0;g<p.length;g++)if((f=p[g])in C.mixin)throw new Error('Reserved property "'+f+'" not allowed in mixin');I.modes[m]=C}})(ne),I.registerMode(fe),I.registerMode(he),I.ace=we,I.Ajv=_,I.VanillaPicker=V,I.showTransformModal=O,I.showSortModal=D,I.getInnerText=J,me.exports=I.default=I},6617:function(me,k,ue){"use strict";ue.d(k,{x:function(){return he}});var we=ue(897),V=ue(7907);function ne(ye){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(oe){return typeof oe}:function(oe){return oe&&"function"==typeof Symbol&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe})(ye)}function fe(ye,oe){for(var J=0;J<oe.length;J++){var B=oe[J];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(ye,(M=function(Z,O){if("object"!==ne(Z)||null===Z)return Z;var D=Z[Symbol.toPrimitive];if(void 0===D)return String(Z);if("object"!==ne(D=D.call(Z,O)))return D;throw new TypeError("@@toPrimitive must return a primitive value.")}(M=B.key,"string"),"symbol"===ne(M)?M:String(M)),B)}var M}var he=function(){function ye(M,Z,O,D){if(!(this instanceof ye))throw new TypeError("Cannot call a class as a function");for(var _={code:{text:(0,V.Iu)("modeCodeText"),title:(0,V.Iu)("modeCodeTitle"),click:function(){D("code")}},form:{text:(0,V.Iu)("modeFormText"),title:(0,V.Iu)("modeFormTitle"),click:function(){D("form")}},text:{text:(0,V.Iu)("modeTextText"),title:(0,V.Iu)("modeTextTitle"),click:function(){D("text")}},tree:{text:(0,V.Iu)("modeTreeText"),title:(0,V.Iu)("modeTreeTitle"),click:function(){D("tree")}},view:{text:(0,V.Iu)("modeViewText"),title:(0,V.Iu)("modeViewTitle"),click:function(){D("view")}},preview:{text:(0,V.Iu)("modePreviewText"),title:(0,V.Iu)("modePreviewTitle"),click:function(){D("preview")}}},I=[],C=0;C<Z.length;C++){var f=Z[C],m=_[f];if(!m)throw new Error('Unknown mode "'+f+'"');m.className="jsoneditor-type-modes"+(O===f?" jsoneditor-selected":""),I.push(m)}if(!(g=_[O]))throw new Error('Unknown mode "'+O+'"');var g=g.text,p=document.createElement("button");(p.type="button",p.className="jsoneditor-modes jsoneditor-separator",p.textContent=g+" \u25be",p.title=(0,V.Iu)("modeEditorTitle"),p.onclick=function(){new we.x(I).show(p,M)},g=document.createElement("div")).className="jsoneditor-modes",g.style.position="relative",g.appendChild(p),M.appendChild(g),this.dom={container:M,box:p,frame:g}}var oe,J;return oe=ye,(J=[{key:"focus",value:function(){this.dom.box.focus()}},{key:"destroy",value:function(){this.dom&&this.dom.frame&&this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom=null}}])&&fe(oe.prototype,J),Object.defineProperty(oe,"prototype",{writable:!1}),ye}()},8170:function(me,k,ue){var we;if(window.ace)we=window.ace;else try{we=ue(6225),ue(4091),ue(3330),ue(4317);var V=ue(7923);we.config.setModuleUrl("ace/mode/json_worker",V)}catch{}me.exports=we},4864:function(){window.ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],function(me,k,ue){k.isDark=!1,k.cssClass="ace-jsoneditor",k.cssText='.ace-jsoneditor .ace_gutter {\nbackground: #ebebeb;\ncolor: #333\n}\n\n.ace-jsoneditor.ace_editor {\nline-height: 1.3;\nbackground-color: #fff;\n}\n.ace-jsoneditor .ace_print-margin {\nwidth: 1px;\nbackground: #e8e8e8\n}\n.ace-jsoneditor .ace_scroller {\nbackground-color: #FFFFFF\n}\n.ace-jsoneditor .ace_text-layer {\ncolor: gray\n}\n.ace-jsoneditor .ace_variable {\ncolor: #1a1a1a\n}\n.ace-jsoneditor .ace_cursor {\nborder-left: 2px solid #000000\n}\n.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {\nborder-left: 0px;\nborder-bottom: 1px solid #000000\n}\n.ace-jsoneditor .ace_marker-layer .ace_selection {\nbackground: lightgray\n}\n.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {\nbox-shadow: 0 0 3px 0px #FFFFFF;\nborder-radius: 2px\n}\n.ace-jsoneditor .ace_marker-layer .ace_step {\nbackground: rgb(255, 255, 0)\n}\n.ace-jsoneditor .ace_marker-layer .ace_bracket {\nmargin: -1px 0 0 -1px;\nborder: 1px solid #BFBFBF\n}\n.ace-jsoneditor .ace_marker-layer .ace_active-line {\nbackground: #FFFBD1\n}\n.ace-jsoneditor .ace_gutter-active-line {\nbackground-color : #dcdcdc\n}\n.ace-jsoneditor .ace_marker-layer .ace_selected-word {\nborder: 1px solid lightgray\n}\n.ace-jsoneditor .ace_invisible {\ncolor: #BFBFBF\n}\n.ace-jsoneditor .ace_keyword,\n.ace-jsoneditor .ace_meta,\n.ace-jsoneditor .ace_support.ace_constant.ace_property-value {\ncolor: #AF956F\n}\n.ace-jsoneditor .ace_keyword.ace_operator {\ncolor: #484848\n}\n.ace-jsoneditor .ace_keyword.ace_other.ace_unit {\ncolor: #96DC5F\n}\n.ace-jsoneditor .ace_constant.ace_language {\ncolor: darkorange\n}\n.ace-jsoneditor .ace_constant.ace_numeric {\ncolor: red\n}\n.ace-jsoneditor .ace_constant.ace_character.ace_entity {\ncolor: #BF78CC\n}\n.ace-jsoneditor .ace_invalid {\ncolor: #FFFFFF;\nbackground-color: #FF002A;\n}\n.ace-jsoneditor .ace_fold {\nbackground-color: #AF956F;\nborder-color: #000000\n}\n.ace-jsoneditor .ace_storage,\n.ace-jsoneditor .ace_support.ace_class,\n.ace-jsoneditor .ace_support.ace_function,\n.ace-jsoneditor .ace_support.ace_other,\n.ace-jsoneditor .ace_support.ace_type {\ncolor: #C52727\n}\n.ace-jsoneditor .ace_string {\ncolor: green\n}\n.ace-jsoneditor .ace_comment {\ncolor: #BCC8BA\n}\n.ace-jsoneditor .ace_entity.ace_name.ace_tag,\n.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {\ncolor: #606060\n}\n.ace-jsoneditor .ace_markup.ace_underline {\ntext-decoration: underline\n}\n.ace-jsoneditor .ace_indent-guide {\nbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y\n}',me("../lib/dom").importCssString(k.cssText,k.cssClass)})},6589:function(me,k){var ue;(ue={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(we,V,ne,fe,he,ye,oe){var J=ye.length-1;switch(he){case 1:this.$=we.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(we);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=ye[J-1];case 13:this.$={};break;case 14:case 19:this.$=ye[J-1];break;case 15:this.$=[ye[J-2],ye[J]];break;case 16:this.$={},this.$[ye[J][0]]=ye[J][1];break;case 17:this.$=ye[J-2],ye[J-2][ye[J][0]]=ye[J][1];break;case 18:this.$=[];break;case 20:this.$=[ye[J]];break;case 21:this.$=ye[J-2],ye[J-2].push(ye[J])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(we,V){throw new Error(we)},parse:function(we){var V=this,ne=[0],fe=[null],he=[],ye=this.table,oe="",J=0,B=0,M=0,Z=(this.lexer.setInput(we),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={}),this.lexer.yylloc);function O(){var v=V.lexer.lex()||1;return"number"!=typeof v&&V.symbols_[v]||v}he.push(Z),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var D,_,I,C,f,m,p,g,h={};;){if(void 0===(C=this.defaultActions[I=ne[ne.length-1]]||(null==D&&(D=O()),ye[I]&&ye[I][D]))||!C.length||!C[0]){if(!M){for(f in g=[],ye[I])this.terminals_[f]&&2<f&&g.push("'"+this.terminals_[f]+"'");var d="";d=this.lexer.showPosition?"Parse error on line "+(J+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+g.join(", ")+", got '"+this.terminals_[D]+"'":"Parse error on line "+(J+1)+": Unexpected "+(1==D?"end of input":"'"+(this.terminals_[D]||D)+"'"),this.parseError(d,{text:this.lexer.match,token:this.terminals_[D]||D,line:this.lexer.yylineno,loc:Z,expected:g})}if(3==M){if(1==D)throw new Error(d||"Parsing halted.");B=this.lexer.yyleng,oe=this.lexer.yytext,J=this.lexer.yylineno,Z=this.lexer.yylloc,D=O()}for(;!(2..toString()in ye[I]);){if(0==I)throw new Error(d||"Parsing halted.");ne.length=ne.length-2*1,fe.length=fe.length-1,he.length=he.length-1,I=ne[ne.length-1]}_=D,D=2,C=ye[I=ne[ne.length-1]]&&ye[I][2],M=3}if(C[0]instanceof Array&&1<C.length)throw new Error("Parse Error: multiple actions possible at state: "+I+", token: "+D);switch(C[0]){case 1:ne.push(D),fe.push(this.lexer.yytext),he.push(this.lexer.yylloc),ne.push(C[1]),D=null,_?(D=_,_=null):(B=this.lexer.yyleng,oe=this.lexer.yytext,J=this.lexer.yylineno,Z=this.lexer.yylloc,0<M&&M--);break;case 2:if(h.$=fe[fe.length-(m=this.productions_[C[1]][1])],h._$={first_line:he[he.length-(m||1)].first_line,last_line:he[he.length-1].last_line,first_column:he[he.length-(m||1)].first_column,last_column:he[he.length-1].last_column},void 0!==(p=this.performAction.call(h,oe,B,J,this.yy,C[1],fe,he)))return p;m&&(ne=ne.slice(0,-1*m*2),fe=fe.slice(0,-1*m),he=he.slice(0,-1*m)),ne.push(this.productions_[C[1]][0]),fe.push(h.$),he.push(h._$),ne.push(p=ye[ne[ne.length-2]][ne[ne.length-1]]);break;case 3:return!0}}return!0}}).lexer={EOF:1,parseError:function(we,V){if(!this.yy.parseError)throw new Error(we);this.yy.parseError(we,V)},setInput:function(we){return this._input=we,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var we=this._input[0];return this.yytext+=we,this.yyleng++,this.match+=we,this.matched+=we,we.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),we},unput:function(we){return this._input=we+this._input,this},more:function(){return this._more=!0,this},less:function(we){this._input=this.match.slice(we)+this._input},pastInput:function(){var we=this.matched.substr(0,this.matched.length-this.match.length);return(20<we.length?"...":"")+we.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var we=this.match;return we.length<20&&(we+=this._input.substr(0,20-we.length)),(we.substr(0,20)+(20<we.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var we=this.pastInput(),V=new Array(we.length+1).join("-");return we+this.upcomingInput()+"\n"+V+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var we,V,ne,fe,he=this._currentRules(),ye=0;ye<he.length&&(!(V=this._input.match(this.rules[he[ye]]))||we&&!(V[0].length>we[0].length)||(we=V,ne=ye,this.options.flex));ye++);return we?((fe=we[0].match(/\n.*/g))&&(this.yylineno+=fe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:fe?fe[fe.length-1].length-1:this.yylloc.last_column+we[0].length},this.yytext+=we[0],this.match+=we[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(we[0].length),this.matched+=we[0],fe=this.performAction.call(this,this.yy,this,he[ne],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),fe||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var we=this.next();return void 0!==we?we:this.lex()},begin:function(we){this.conditionStack.push(we)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(we){this.begin(we)},options:{},performAction:function(we,V,ne,fe){switch(ne){case 0:break;case 1:return 6;case 2:return V.yytext=V.yytext.substr(1,V.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}},k.parser=ue,k.parse=ue.parse.bind(ue)},3879:function(me){"use strict";function k(){}k.prototype={on:function(J,B){this._events=this._events||{},this._events[J]=this._events[J]||[],this._events[J].push(B)},off:function(J,B){this._events=this._events||{},J in this._events&&this._events[J].splice(this._events[J].indexOf(B),1)},emit:function(J){if(this._events=this._events||{},J in this._events)for(var B=0;B<this._events[J].length;B++)this._events[J][B].apply(this,Array.prototype.slice.call(arguments,1))}},k.mixin=function(J){for(var B=["on","off","emit"],M=0;M<B.length;M++)"function"==typeof J?J.prototype[B[M]]=k.prototype[B[M]]:J[B[M]]=k.prototype[B[M]];return J};var ue={escapeRegExp:function(J){var B=/[\\^$.*+?()[\]{}|]/g,M=new RegExp(B.source);return J&&M.test(J)?J.replace(B,"\\$&"):J},extend:function(J,B){for(var M in B){var Z;B.hasOwnProperty(M)&&((Z=B[M])&&"[object Object]"===Object.prototype.toString.call(Z)?(J[M]=J[M]||{},ue.extend(J[M],Z)):J[M]=Z)}return J},each:function(J,B,M){if("[object Object]"===Object.prototype.toString.call(J))for(var Z in J)Object.prototype.hasOwnProperty.call(J,Z)&&B.call(M,Z,J[Z],J);else for(var O=0,D=J.length;O<D;O++)B.call(M,O,J[O],J)},createElement:function(J,B){var M,Z=document.createElement(J);if(B&&"[object Object]"===Object.prototype.toString.call(B))for(M in B)M in Z?Z[M]=B[M]:"html"===M?Z.innerHTML=B[M]:Z.setAttribute(M,B[M]);return Z},hasClass:function(J,B){if(J)return J.classList?J.classList.contains(B):!!J.className&&!!J.className.match(new RegExp("(\\s|^)"+B+"(\\s|$)"))},addClass:function(J,B){ue.hasClass(J,B)||(J.classList?J.classList.add(B):J.className=J.className.trim()+" "+B)},removeClass:function(J,B){ue.hasClass(J,B)&&(J.classList?J.classList.remove(B):J.className=J.className.replace(new RegExp("(^|\\s)"+B.split(" ").join("|")+"(\\s|$)","gi")," "))},closest:function(J,B){return J&&J!==document.body&&(B(J)?J:ue.closest(J.parentNode,B))},isInt:function(J){return"number"==typeof J&&isFinite(J)&&Math.floor(J)===J},debounce:function(J,B,M){var Z;return function(){var O=this,D=arguments,_=M&&!Z;clearTimeout(Z),Z=setTimeout(function(){Z=null,M||J.apply(O,D)},B),_&&J.apply(O,D)}},rect:function(Z,D){var M=window,O=(Z=Z.getBoundingClientRect(),D?M.pageXOffset:0);return{bottom:Z.bottom+(D=D?M.pageYOffset:0),height:Z.height,left:Z.left+O,right:Z.right+O,top:Z.top+D,width:Z.width}},includes:function(J,B){return-1<J.indexOf(B)},startsWith:function(J,B){return J.substr(0,B.length)===B},truncate:function(J){for(;J.firstChild;)J.removeChild(J.firstChild)}};function we(J,B){return J.hasOwnProperty(B)&&(!0===J[B]||J[B].length)}function V(J,B,M){J.parentNode?J.parentNode.parentNode||B.appendChild(J.parentNode):B.appendChild(J),ue.removeClass(J,"excluded"),M||(J.textContent=J.textContent)}function ne(){var J,B;this.items.length&&(J=document.createDocumentFragment(),this.config.pagination?(B=this.pages.slice(0,this.pageIndex),ue.each(B,function(M,Z){ue.each(Z,function(O,D){V(D,J,this.customOption)},this)},this)):ue.each(this.items,function(M,Z){V(Z,J,this.customOption)},this),J.childElementCount&&(ue.removeClass(this.items[this.navIndex],"active"),this.navIndex=(J.querySelector(".selectr-option.selected")||J.querySelector(".selectr-option")).idx,ue.addClass(this.items[this.navIndex],"active")),this.tree.appendChild(J))}function fe(J,B){B=B||J;var M={class:"selectr-option",role:"treeitem","aria-selected":!1};return this.customOption?M.html=this.config.renderOption(B):M.textContent=J.textContent,(B=ue.createElement("li",M)).idx=J.idx,this.items.push(B),J.defaultSelected&&this.defaultSelected.push(J.idx),J.disabled&&(B.disabled=!0,ue.addClass(B,"disabled")),B}function he(){var J,B=this.tree;B.scrollHeight-B.offsetHeight<=B.scrollTop&&this.pageIndex<this.pages.length&&(J=document.createDocumentFragment(),ue.each(this.pages[this.pageIndex],function(Z,O){V(O,J,this.customOption)},this),B.appendChild(J),this.pageIndex++,this.emit("selectr.paginate",{items:this.items.length,total:this.data.length,page:this.pageIndex,pages:this.pages.length}))}function ye(){(this.config.searchable||this.config.taggable)&&(this.input.value=null,this.searching=!1,this.config.searchable&&ue.removeClass(this.inputContainer,"active"),ue.hasClass(this.container,"notice")&&(ue.removeClass(this.container,"notice"),ue.addClass(this.container,"open"),this.input.focus()),ue.each(this.items,function(J,B){ue.removeClass(B,"excluded"),this.customOption||(B.textContent=B.textContent)},this))}function oe(J,B){if(!J)throw new Error("You must supply either a HTMLSelectElement or a CSS3 selector string.");if("string"==typeof(this.el=J)&&(this.el=document.querySelector(J)),null===this.el)throw new Error("The element you passed to Selectr can not be found.");if("select"!==this.el.nodeName.toLowerCase())throw new Error("The element you passed to Selectr is not a HTMLSelectElement.");this.render(B)}oe.prototype.render=function(J){var B;this.rendered||((this.el.selectr=this).config=ue.extend({defaultSelected:!0,width:"auto",disabled:!1,disabledMobile:!1,searchable:!0,clearable:!1,sortSelected:!1,allowDeselect:!1,closeOnScroll:!1,nativeDropdown:!1,nativeKeyboard:!1,placeholder:"Select an option...",taggable:!1,tagPlaceholder:"Enter a tag...",messages:{noResults:"No results.",noOptions:"No options available.",maxSelections:"A maximum of {max} items can be selected.",tagDuplicate:"That tag is already in use.",searchPlaceholder:"Search options..."}},J),this.originalType=this.el.type,this.originalIndex=this.el.tabIndex,this.defaultSelected=[],this.originalOptionCount=this.el.options.length,(this.config.multiple||this.config.taggable)&&(this.el.multiple=!0),this.disabled=we(this.config,"disabled"),this.opened=!1,this.config.taggable&&(this.config.searchable=!1),this.navigating=!1,this.mobileDevice=!1,!this.config.disabledMobile&&/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)&&(this.mobileDevice=!0),this.customOption=this.config.hasOwnProperty("renderOption")&&"function"==typeof this.config.renderOption,this.customSelected=this.config.hasOwnProperty("renderSelection")&&"function"==typeof this.config.renderSelection,this.supportsEventPassiveOption=this.detectEventPassiveOption(),k.mixin(this),function(){this.requiresPagination=this.config.pagination&&0<this.config.pagination,we(this.config,"width")&&(ue.isInt(this.config.width)?this.width=this.config.width+"px":"auto"===this.config.width?this.width="100%":ue.includes(this.config.width,"%")&&(this.width=this.config.width)),this.container=ue.createElement("div",{class:"selectr-container"}),this.config.customClass&&ue.addClass(this.container,this.config.customClass),ue.addClass(this.container,this.mobileDevice?"selectr-mobile":"selectr-desktop"),this.el.tabIndex=-1,ue.addClass(this.el,this.config.nativeDropdown||this.mobileDevice?"selectr-visible":"selectr-hidden"),this.selected=ue.createElement("div",{class:"selectr-selected",disabled:this.disabled,tabIndex:0,"aria-expanded":!1}),this.label=ue.createElement(this.el.multiple?"ul":"span",{class:"selectr-label"});var M=ue.createElement("div",{class:"selectr-options-container"});if(this.tree=ue.createElement("ul",{class:"selectr-options",role:"tree","aria-hidden":!0,"aria-expanded":!1}),this.notice=ue.createElement("div",{class:"selectr-notice"}),this.el.setAttribute("aria-hidden",!0),this.disabled&&(this.el.disabled=!0),this.el.multiple?(ue.addClass(this.label,"selectr-tags"),ue.addClass(this.container,"multiple"),this.tags=[],this.selectedValues=this.config.defaultSelected?this.getSelectedProperties("value"):[],this.selectedIndexes=this.getSelectedProperties("idx")):(this.selectedValue=null,this.selectedIndex=-1),this.selected.appendChild(this.label),this.config.clearable&&(this.selectClear=ue.createElement("button",{class:"selectr-clear",type:"button"}),this.container.appendChild(this.selectClear),ue.addClass(this.container,"clearable")),this.config.taggable){var Z=ue.createElement("li",{class:"input-tag"});if(this.input=ue.createElement("input",{class:"selectr-tag-input",placeholder:this.config.tagPlaceholder,tagIndex:0,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),Z.appendChild(this.input),this.label.appendChild(Z),ue.addClass(this.container,"taggable"),this.tagSeperators=[","],this.config.tagSeperators){this.tagSeperators=this.tagSeperators.concat(this.config.tagSeperators);for(var O=[],D=0;D<this.tagSeperators.length;D++)O.push(ue.escapeRegExp(this.tagSeperators[D]));this.tagSeperatorsRegex=new RegExp(O.join("|"),"i")}else this.tagSeperatorsRegex=new RegExp(",","i")}this.config.searchable&&(this.input=ue.createElement("input",{class:"selectr-input",tagIndex:-1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search",placeholder:this.config.messages.searchPlaceholder}),this.inputClear=ue.createElement("button",{class:"selectr-input-clear",type:"button"}),this.inputContainer=ue.createElement("div",{class:"selectr-input-container"}),this.inputContainer.appendChild(this.input),this.inputContainer.appendChild(this.inputClear),M.appendChild(this.inputContainer)),M.appendChild(this.notice),M.appendChild(this.tree),this.items=[],this.options=[],this.el.options.length&&(this.options=[].slice.call(this.el.options));var _,I,C,f=!1,m=0;this.el.children.length&&ue.each(this.el.children,function(g,y){"OPTGROUP"===y.nodeName?(f=ue.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+y.label+"</li>"}),ue.each(y.children,function(h,d){d.idx=m,f.appendChild(fe.call(this,d,f)),m++},this)):(y.idx=m,fe.call(this,y),m++)},this),this.config.data&&Array.isArray(this.config.data)&&(_=!(this.data=[]),f=!1,m=0,ue.each(this.config.data,function(g,y){we(y,"children")?(_=ue.createElement("optgroup",{label:y.text}),f=ue.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+y.text+"</li>"}),ue.each(y.children,function(h,d){(I=new Option(d.text,d.value,!1,d.hasOwnProperty("selected")&&!0===d.selected)).disabled=we(d,"disabled"),this.options.push(I),_.appendChild(I),I.idx=m,f.appendChild(fe.call(this,I,d)),this.data[m]=d,m++},this),this.el.appendChild(_)):((I=new Option(y.text,y.value,!1,y.hasOwnProperty("selected")&&!0===y.selected)).disabled=we(y,"disabled"),this.options.push(I),I.idx=m,fe.call(this,I,y),this.data[m]=y,m++)},this)),this.setSelected(!0);for(var p=this.navIndex=0;p<this.items.length;p++)if(!ue.hasClass(C=this.items[p],"disabled")){ue.addClass(C,"active"),this.navIndex=p;break}this.requiresPagination&&(this.pageIndex=1,this.paginate()),this.container.appendChild(this.selected),this.container.appendChild(M),this.placeEl=ue.createElement("div",{class:"selectr-placeholder"}),this.setPlaceholder(),this.selected.appendChild(this.placeEl),this.disabled&&this.disable(),this.el.parentNode.insertBefore(this.container,this.el),this.container.appendChild(this.el)}.call(this),this.bindEvents(),this.update(),this.optsRect=ue.rect(this.tree),this.rendered=!0,this.el.multiple||(this.el.selectedIndex=this.selectedIndex),B=this,setTimeout(function(){B.emit("selectr.init")},20))},oe.prototype.getSelected=function(){return this.el.querySelectorAll("option:checked")},oe.prototype.getSelectedProperties=function(J){var B=this.getSelected();return[].slice.call(B).map(function(M){return M[J]}).filter(function(M){return null!=M})},oe.prototype.detectEventPassiveOption=function(){var J=!1;try{var B=Object.defineProperty({},"passive",{get:function(){J=!0}});window.addEventListener("test",null,B)}catch{}return J},oe.prototype.bindEvents=function(){var J,B=this;this.events={},this.events.dismiss=function(M){this.container.contains(M=M.target)||!this.opened&&!ue.hasClass(this.container,"notice")||this.close()}.bind(this),this.events.navigate=function(M){if(M=M||window.event,this.items.length&&this.opened&&ue.includes([13,38,40],M.which)){if(M.preventDefault(),13===M.which)return!(this.noResults||this.config.taggable&&0<this.input.value.length)&&this.change(this.navIndex);var Z,O=this.items[this.navIndex],D=this.navIndex;switch(M.which){case 38:(Z=0)<this.navIndex&&this.navIndex--;break;case 40:this.navIndex<this.items.length-(Z=1)&&this.navIndex++}for(this.navigating=!0;ue.hasClass(this.items[this.navIndex],"disabled")||ue.hasClass(this.items[this.navIndex],"excluded");){if(!(0<this.navIndex&&this.navIndex<this.items.length-1)){this.navIndex=D;break}if(Z?this.navIndex++:this.navIndex--,this.searching){if(this.navIndex>this.tree.lastElementChild.idx){this.navIndex=this.tree.lastElementChild.idx;break}if(this.navIndex<this.tree.firstElementChild.idx){this.navIndex=this.tree.firstElementChild.idx;break}}}M=ue.rect(this.items[this.navIndex]),Z?(0===this.navIndex?this.tree.scrollTop=0:M.top+M.height>this.optsRect.top+this.optsRect.height&&(this.tree.scrollTop=this.tree.scrollTop+(M.top+M.height-(this.optsRect.top+this.optsRect.height))),this.navIndex===this.tree.childElementCount-1&&this.requiresPagination&&he.call(this)):0===this.navIndex?this.tree.scrollTop=0:M.top-this.optsRect.top<0&&(this.tree.scrollTop=this.tree.scrollTop+(M.top-this.optsRect.top)),O&&ue.removeClass(O,"active"),ue.addClass(this.items[this.navIndex],"active")}else this.navigating=!1}.bind(this),this.events.reset=this.reset.bind(this),(this.config.nativeDropdown||this.mobileDevice)&&(this.container.addEventListener("touchstart",function(M){M.changedTouches[0].target===B.el&&B.toggle()},!!this.supportsEventPassiveOption&&{passive:!0}),this.container.addEventListener("click",function(M){M.target===B.el&&B.toggle()}),this.el.addEventListener("change",function(M){M.__selfTriggered||(B.el.multiple?(M=B.getSelectedProperties("idx"),M=function(Z,O){for(var D,_=[],I=Z.slice(0),C=0;C<O.length;C++)-1<(D=I.indexOf(O[C]))?I.splice(D,1):_.push(O[C]);return[_,I]}(B.selectedIndexes,M),ue.each(M[0],function(Z,O){B.select(O)},B),ue.each(M[1],function(Z,O){B.deselect(O)},B)):-1<B.el.selectedIndex&&B.select(B.el.selectedIndex))})),this.config.nativeDropdown&&this.container.addEventListener("keydown",function(M){"Enter"===M.key&&B.selected===document.activeElement&&(B.toggle(),setTimeout(function(){B.el.focus()},200))}),this.selected.addEventListener("click",function(M){B.disabled||B.toggle(),M.preventDefault()}),this.config.nativeKeyboard&&(J="",this.selected.addEventListener("keydown",function(M){var Z;B.disabled||B.selected!==document.activeElement||M.altKey||M.ctrlKey||M.metaKey||(" "===M.key||!B.opened&&-1<["Enter","ArrowUp","ArrowDown"].indexOf(M.key)?(B.toggle(),M.preventDefault(),M.stopPropagation()):M.key.length<=2&&String[String.fromCodePoint?"fromCodePoint":"fromCharCode"](M.key[String.codePointAt?"codePointAt":"charCodeAt"](0))===M.key&&(B.config.multiple?(B.open(),B.config.searchable&&(B.input.value=M.key,B.input.focus(),B.search(null,!0))):((Z=B.search(J+=M.key,!0))&&Z.length&&(B.clear(),B.setValue(Z[0].value)),setTimeout(function(){J=""},1e3)),M.preventDefault(),M.stopPropagation()))}),this.container.addEventListener("keyup",function(M){B.opened&&"Escape"===M.key&&(B.close(),M.stopPropagation(),B.selected.focus())})),this.label.addEventListener("click",function(M){ue.hasClass(M.target,"selectr-tag-remove")&&B.deselect(M.target.parentNode.idx)}),this.selectClear&&this.selectClear.addEventListener("click",this.clear.bind(this)),this.tree.addEventListener("mousedown",function(M){M.preventDefault()}),this.tree.addEventListener("click",function(M){var Z=ue.closest(M.target,function(O){return O&&ue.hasClass(O,"selectr-option")});Z&&!ue.hasClass(Z,"disabled")&&(ue.hasClass(Z,"selected")?(B.el.multiple||!B.el.multiple&&B.config.allowDeselect)&&B.deselect(Z.idx):B.select(Z.idx),B.opened&&!B.el.multiple)&&B.close(),M.preventDefault(),M.stopPropagation()}),this.tree.addEventListener("mouseover",function(M){!ue.hasClass(M.target,"selectr-option")||ue.hasClass(M.target,"disabled")||(ue.removeClass(B.items[B.navIndex],"active"),ue.addClass(M.target,"active"),B.navIndex=[].slice.call(B.items).indexOf(M.target))}),this.config.searchable&&(this.input.addEventListener("focus",function(M){B.searching=!0}),this.input.addEventListener("blur",function(M){B.searching=!1}),this.input.addEventListener("keyup",function(M){B.search(),B.config.taggable||(this.value.length?ue.addClass(this.parentNode,"active"):ue.removeClass(this.parentNode,"active"))}),this.inputClear.addEventListener("click",function(M){B.input.value=null,ye.call(B),B.tree.childElementCount||ne.call(B)})),this.config.taggable&&this.input.addEventListener("keyup",function(M){var Z,O;B.search(),B.config.taggable&&this.value.length&&(Z=this.value.trim()).length&&(13===M.which||B.tagSeperatorsRegex.test(Z))&&(M=Z.replace(B.tagSeperatorsRegex,""),(O=(M=(M=ue.escapeRegExp(M)).trim()).length?B.add({value:M,textContent:M,selected:!0},!0):O)?(B.close(),ye.call(B)):(this.value="",B.setMessage(B.config.messages.tagDuplicate)))}),this.update=ue.debounce(function(){B.opened&&B.config.closeOnScroll&&B.close(),B.width&&(B.container.style.width=B.width),B.invert()},50),this.requiresPagination&&(this.paginateItems=ue.debounce(function(){he.call(this)},50),this.tree.addEventListener("scroll",this.paginateItems.bind(this))),document.addEventListener("click",this.events.dismiss),window.addEventListener("keydown",this.events.navigate),window.addEventListener("resize",this.update),window.addEventListener("scroll",this.update),this.on("selectr.destroy",function(){document.removeEventListener("click",this.events.dismiss),window.removeEventListener("keydown",this.events.navigate),window.removeEventListener("resize",this.update),window.removeEventListener("scroll",this.update)}),this.el.form&&(this.el.form.addEventListener("reset",this.events.reset),this.on("selectr.destroy",function(){this.el.form.removeEventListener("reset",this.events.reset)}))},oe.prototype.setSelected=function(J){var B;this.config.data||this.el.multiple||!this.el.options.length||(0!==this.el.selectedIndex||this.el.options[0].defaultSelected||this.config.defaultSelected||(this.el.selectedIndex=-1),this.selectedIndex=this.el.selectedIndex,-1<this.selectedIndex&&this.select(this.selectedIndex)),this.config.multiple&&"select-one"===this.originalType&&!this.config.data&&this.el.options[0].selected&&!this.el.options[0].defaultSelected&&(this.el.options[0].selected=!1),ue.each(this.options,function(M,Z){Z.selected&&Z.defaultSelected&&this.select(Z.idx)},this),this.config.selectedValue&&this.setValue(this.config.selectedValue),this.config.data&&(!this.el.multiple&&this.config.defaultSelected&&this.el.selectedIndex<0&&0<this.config.data.length&&this.select(0),B=0,ue.each(this.config.data,function(M,Z){we(Z,"children")?ue.each(Z.children,function(O,D){D.hasOwnProperty("selected")&&!0===D.selected&&this.select(B),B++},this):(Z.hasOwnProperty("selected")&&!0===Z.selected&&this.select(B),B++)},this))},oe.prototype.destroy=function(){this.rendered&&(this.emit("selectr.destroy"),"select-one"===this.originalType&&(this.el.multiple=!1),this.config.data&&(this.el.innerHTML=""),ue.removeClass(this.el,"selectr-hidden"),this.container.parentNode.replaceChild(this.el,this.container),this.rendered=!1,delete this.el.selectr)},oe.prototype.change=function(J){var M=this.options[J];M.disabled||(M.selected&&ue.hasClass(this.items[J],"selected")?this.deselect(J):this.select(J),this.opened&&!this.el.multiple&&this.close())},oe.prototype.select=function(J){var B=this.items[J],M=[].slice.call(this.el.options),Z=this.options[J];if(this.el.multiple){if(ue.includes(this.selectedIndexes,J))return!1;if(this.config.maxSelections&&this.tags.length===this.config.maxSelections)return this.setMessage(this.config.messages.maxSelections.replace("{max}",this.config.maxSelections),!0),!1;this.selectedValues.push(Z.value),this.selectedIndexes.push(J),function(D){var _,I=this,C=document.createDocumentFragment(),f=this.options[D.idx],m=this.data?this.data[D.idx]:f,p={class:"selectr-tag"};this.customSelected?p.html=this.config.renderSelection(m):p.textContent=f.textContent,m=ue.createElement("li",p),p=ue.createElement("button",{class:"selectr-tag-remove",type:"button"}),m.appendChild(p),m.idx=D.idx,m.tag=f.value,this.tags.push(m),this.config.sortSelected?(p=this.tags.slice(),_=function(g,y){g.replace(/(\d+)|(\D+)/g,function(h,d,v){y.push([d||1/0,v||""])})},p.sort(function(g,y){var h,d,v=[],A=[];for(!0===I.config.sortSelected?(h=g.tag,d=y.tag):"text"===I.config.sortSelected&&(h=g.textContent,d=y.textContent),_(h,v),_(d,A);v.length&&A.length;){var T=v.shift(),E=A.shift();if(T=T[0]-E[0]||T[1].localeCompare(E[1]))return T}return v.length-A.length}),ue.each(p,function(g,y){C.appendChild(y)}),this.label.innerHTML=""):C.appendChild(m),this.config.taggable?this.label.insertBefore(C,this.input.parentNode):this.label.appendChild(C)}.call(this,B)}else{var O=this.data?this.data[J]:Z;this.customSelected?this.label.innerHTML=this.config.renderSelection(O):this.label.textContent=Z.textContent,this.selectedValue=Z.value,this.selectedIndex=J,ue.each(this.options,function(D,_){var I=this.items[D];D!==J&&(I&&ue.removeClass(I,"selected"),_.selected=!1,_.removeAttribute("selected"))},this)}ue.includes(M,Z)||this.el.add(Z),B.setAttribute("aria-selected",!0),ue.addClass(B,"selected"),ue.addClass(this.container,"has-selected"),Z.selected=!0,Z.setAttribute("selected",""),this.emit("selectr.change",Z),this.emit("selectr.select",Z),"createEvent"in document?((O=document.createEvent("HTMLEvents")).initEvent("change",!0,!0),O.__selfTriggered=!0,this.el.dispatchEvent(O)):this.el.fireEvent("onchange")},oe.prototype.deselect=function(J,B){var M=this.items[J],Z=this.options[J];if(this.el.multiple){var O=this.selectedIndexes.indexOf(J);this.selectedIndexes.splice(O,1),O=this.selectedValues.indexOf(Z.value),this.selectedValues.splice(O,1),function(D){var _=!1;ue.each(this.tags,function(I,C){C.idx===D.idx&&(_=C)},this),_&&(this.label.removeChild(_),this.tags.splice(this.tags.indexOf(_),1))}.call(this,M),this.tags.length||ue.removeClass(this.container,"has-selected")}else{if(!B&&!this.config.clearable&&!this.config.allowDeselect)return!1;this.label.innerHTML="",this.selectedValue=null,this.el.selectedIndex=this.selectedIndex=-1,ue.removeClass(this.container,"has-selected")}this.items[J].setAttribute("aria-selected",!1),ue.removeClass(this.items[J],"selected"),Z.selected=!1,Z.removeAttribute("selected"),this.emit("selectr.change",null),this.emit("selectr.deselect",Z),"createEvent"in document?((O=document.createEvent("HTMLEvents")).initEvent("change",!0,!0),O.__selfTriggered=!0,this.el.dispatchEvent(O)):this.el.fireEvent("onchange")},oe.prototype.setValue=function(J){var B=Array.isArray(J);if(B||(J=J.toString().trim()),!this.el.multiple&&B)return!1;ue.each(this.options,function(M,Z){(B&&-1<J.indexOf(Z.value)||Z.value===J)&&this.change(Z.idx)},this)},oe.prototype.getValue=function(J,B){var M,Z;return this.el.multiple?J?this.selectedIndexes.length&&(Z={values:[]},ue.each(this.selectedIndexes,function(O,D){Z.values[O]={value:(D=this.options[D]).value,text:D.textContent}},this)):Z=this.selectedValues.slice():Z=J?{value:(M=this.options[this.selectedIndex]).value,text:M.textContent}:this.selectedValue,Z=J&&B?JSON.stringify(Z):Z},oe.prototype.add=function(J,B){if(J){if(this.data=this.data||[],this.items=this.items||[],this.options=this.options||[],Array.isArray(J))ue.each(J,function(O,D){this.add(D,B)},this);else if("[object Object]"===Object.prototype.toString.call(J)){if(B){var M=!1;if(ue.each(this.options,function(O,D){D.value.toLowerCase()===J.value.toLowerCase()&&(M=!0)}),M)return!1}var Z=ue.createElement("option",J);return this.data.push(J),this.mobileDevice&&this.el.add(Z),this.options.push(Z),Z.idx=0<this.options.length?this.options.length-1:0,fe.call(this,Z),J.selected&&this.select(Z.idx),this.setPlaceholder(),Z}return this.config.pagination&&this.paginate(),!0}},oe.prototype.remove=function(J){var B,M=[];Array.isArray(J)?ue.each(J,function(Z,O){ue.isInt(O)?M.push(this.getOptionByIndex(O)):"string"==typeof O&&M.push(this.getOptionByValue(O))},this):ue.isInt(J)?M.push(this.getOptionByIndex(J)):"string"==typeof J&&M.push(this.getOptionByValue(J)),M.length&&(ue.each(M,function(Z,O){B=O.idx,this.el.remove(O),this.options.splice(B,1),(O=this.items[B].parentNode)&&O.removeChild(this.items[B]),this.items.splice(B,1),ue.each(this.options,function(D,_){_.idx=D,this.items[D].idx=D},this)},this),this.setPlaceholder(),this.config.pagination)&&this.paginate()},oe.prototype.removeAll=function(){this.clear(!0),ue.each(this.el.options,function(J,B){this.el.remove(B)},this),ue.truncate(this.tree),this.items=[],this.options=[],this.data=[],this.navIndex=0,this.requiresPagination&&(this.requiresPagination=!1,this.pageIndex=1,this.pages=[]),this.setPlaceholder()},oe.prototype.search=function(J,B){var M,Z,O,D,_;if(!this.navigating)return M=!1,J||(J=this.input.value,M=!0,this.removeMessage(),ue.truncate(this.tree)),Z=[],O=document.createDocumentFragment(),0<(J=J.trim().toLowerCase()).length?(D=B?ue.startsWith:ue.includes,ue.each(this.options,function(I,C){var f,m,p,g,y=this.items[C.idx];D(C.textContent.trim().toLowerCase(),J)&&!C.disabled?(Z.push({text:C.textContent,value:C.value}),M&&(V(y,O,this.customOption),ue.removeClass(y,"excluded"),!this.customOption)&&(f=J,p=C.textContent,g=(f=new RegExp(f,"ig")).exec(p))&&(C.innerHTML="",(m=document.createElement("span")).classList.add("selectr-match"),m.textContent=g[0],C.appendChild(document.createTextNode(p.substring(0,g.index))),C.appendChild(m),C.appendChild(document.createTextNode(p.substring(f.lastIndex))))):M&&ue.addClass(y,"excluded")},this),M&&(O.childElementCount?(B=this.items[this.navIndex],_=O.querySelector(".selectr-option:not(.excluded)"),this.noResults=!1,ue.removeClass(B,"active"),this.navIndex=_.idx,ue.addClass(_,"active")):this.config.taggable||(this.noResults=!0,this.setMessage(this.config.messages.noResults)),this.tree.appendChild(O))):ne.call(this),Z},oe.prototype.toggle=function(){this.disabled||(this.opened?this.close():this.open())},oe.prototype.open=function(){var J=this;if(!this.options.length)return!1;this.opened||this.emit("selectr.open"),this.opened=!0,this.mobileDevice||this.config.nativeDropdown?(ue.addClass(this.container,"native-open"),this.config.data&&ue.each(this.options,function(B,M){this.el.add(M)},this)):(ue.addClass(this.container,"open"),ne.call(this),this.invert(),this.tree.scrollTop=0,ue.removeClass(this.container,"notice"),this.selected.setAttribute("aria-expanded",!0),this.tree.setAttribute("aria-hidden",!1),this.tree.setAttribute("aria-expanded",!0),this.config.searchable&&!this.config.taggable&&setTimeout(function(){J.input.focus(),J.input.tabIndex=0},10))},oe.prototype.close=function(){var J;this.opened&&this.emit("selectr.close"),this.opened=!1,this.navigating=!1,this.mobileDevice||this.config.nativeDropdown?ue.removeClass(this.container,"native-open"):(J=ue.hasClass(this.container,"notice"),this.config.searchable&&!J&&(this.input.blur(),this.input.tabIndex=-1,this.searching=!1),J&&(ue.removeClass(this.container,"notice"),this.notice.textContent=""),ue.removeClass(this.container,"open"),ue.removeClass(this.container,"native-open"),this.selected.setAttribute("aria-expanded",!1),this.tree.setAttribute("aria-hidden",!0),this.tree.setAttribute("aria-expanded",!1),ue.truncate(this.tree),ye.call(this))},oe.prototype.enable=function(){this.disabled=!1,this.el.disabled=!1,this.selected.tabIndex=this.originalIndex,this.el.multiple&&ue.each(this.tags,function(J,B){B.lastElementChild.tabIndex=0}),ue.removeClass(this.container,"selectr-disabled")},oe.prototype.disable=function(J){J||(this.el.disabled=!0),this.selected.tabIndex=-1,this.el.multiple&&ue.each(this.tags,function(B,M){M.lastElementChild.tabIndex=-1}),this.disabled=!0,ue.addClass(this.container,"selectr-disabled")},oe.prototype.reset=function(){this.disabled||(this.clear(),this.setSelected(!0),ue.each(this.defaultSelected,function(J,B){this.select(B)},this),this.emit("selectr.reset"))},oe.prototype.clear=function(J,B){var M;this.el.multiple?this.selectedIndexes.length&&(M=this.selectedIndexes.slice(),B?this.deselect(M.slice(-1)[0]):ue.each(M,function(Z,O){this.deselect(O)},this)):-1<this.selectedIndex&&this.deselect(this.selectedIndex,J),this.emit("selectr.clear")},oe.prototype.serialise=function(J){var B=[];return ue.each(this.options,function(M,Z){var O={value:Z.value,text:Z.textContent};Z.selected&&(O.selected=!0),Z.disabled&&(O.disabled=!0),B[M]=O}),J?JSON.stringify(B):B},oe.prototype.serialize=function(J){return this.serialise(J)},oe.prototype.setPlaceholder=function(J){J=J||this.config.placeholder||this.el.getAttribute("placeholder"),this.options.length||(J=this.config.messages.noOptions),this.placeEl.innerHTML=J},oe.prototype.paginate=function(){var J;if(this.items.length)return(J=this).pages=this.items.map(function(B,M){return M%J.config.pagination==0?J.items.slice(M,M+J.config.pagination):null}).filter(function(B){return B}),this.pages},oe.prototype.setMessage=function(J,B){B&&this.close(),ue.addClass(this.container,"notice"),this.notice.textContent=J},oe.prototype.removeMessage=function(){ue.removeClass(this.container,"notice"),this.notice.innerHTML=""},oe.prototype.invert=function(){var J=ue.rect(this.selected),M=window.innerHeight;J.top+J.height+this.tree.parentNode.offsetHeight>M?(ue.addClass(this.container,"inverted"),this.isInverted=!0):(ue.removeClass(this.container,"inverted"),this.isInverted=!1),this.optsRect=ue.rect(this.tree)},oe.prototype.getOptionByIndex=function(J){return this.options[J]},oe.prototype.getOptionByValue=function(J){for(var B=!1,M=0,Z=this.options.length;M<Z;M++)if(this.options[M].value.trim()===J.toString().trim()){B=this.options[M];break}return B},me.exports=oe},4188:function(me,k,ue){"use strict";ue.d(k,{EX:function(){return V},WF:function(){return ne},oW:function(){return fe},qD:function(){return we}});var we=document.body,V=10485760,ne=2e4,fe=2147483648},2602:function(me,k,ue){"use strict";ue.d(k,{w:function(){return V}});var we=ue(9791);function V(ne,fe,he){var ye,oe=3<arguments.length&&void 0!==arguments[3]&&arguments[3],J="function"==typeof(M=ne).getRootNode?M.getRootNode():window,B={},M=ne.getBoundingClientRect(),Z=fe.getBoundingClientRect(),O=document.createElement("div");function D(){if(O&&O.parentNode){for(var I in O.parentNode.removeChild(O),B)C=I,Object.prototype.hasOwnProperty.call(B,C)&&((C=B[I])&&(0,we.removeEventListener)(J,I,C),delete B[I]);"function"==typeof he&&he(ne)}var C}function _(I){(I=I.target)===O||(0,we.isChildOf)(I,O)||D()}return O.className="jsoneditor-anchor",O.style.position="absolute",O.style.left=M.left-Z.left+"px",O.style.top=M.top-Z.top+"px",O.style.width=M.width-2+"px",O.style.height=M.height-2+"px",O.style.boxSizing="border-box",fe.appendChild(O),B.mousedown=(0,we.addEventListener)(J,"mousedown",_),B.mousewheel=(0,we.addEventListener)(J,"mousewheel",_),oe&&(ye=null,O.onmouseover=function(){clearTimeout(ye),ye=null},O.onmouseout=function(){ye=ye||setTimeout(D,200)}),O.destroy=D,O}},7923:function(me){me.exports="data:application/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyICYmIGVyci5kYXRhLAogICAgICAgIGZpbGU6IGZpbGUsCiAgICAgICAgbGluZTogbGluZSwgCiAgICAgICAgY29sOiBjb2wsCiAgICAgICAgc3RhY2s6IGVyciAmJiBlcnIuc3RhY2sKICAgIH19KTsKfTsKCndpbmRvdy5ub3JtYWxpemVNb2R1bGUgPSBmdW5jdGlvbihwYXJlbnRJZCwgbW9kdWxlTmFtZSkgewogICAgLy8gbm9ybWFsaXplIHBsdWdpbiByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuaW5kZXhPZigiISIpICE9PSAtMSkgewogICAgICAgIHZhciBjaHVua3MgPSBtb2R1bGVOYW1lLnNwbGl0KCIhIik7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsIGNodW5rc1swXSkgKyAiISIgKyB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMV0pOwogICAgfQogICAgLy8gbm9ybWFsaXplIHJlbGF0aXZlIHJlcXVpcmVzCiAgICBpZiAobW9kdWxlTmFtZS5jaGFyQXQoMCkgPT0gIi4iKSB7CiAgICAgICAgdmFyIGJhc2UgPSBwYXJlbnRJZC5zcGxpdCgiLyIpLnNsaWNlKDAsIC0xKS5qb2luKCIvIik7CiAgICAgICAgbW9kdWxlTmFtZSA9IChiYXNlID8gYmFzZSArICIvIiA6ICIiKSArIG1vZHVsZU5hbWU7CiAgICAgICAgCiAgICAgICAgd2hpbGUgKG1vZHVsZU5hbWUuaW5kZXhPZigiLiIpICE9PSAtMSAmJiBwcmV2aW91cyAhPSBtb2R1bGVOYW1lKSB7CiAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IG1vZHVsZU5hbWU7CiAgICAgICAgICAgIG1vZHVsZU5hbWUgPSBtb2R1bGVOYW1lLnJlcGxhY2UoL15cLlwvLywgIiIpLnJlcGxhY2UoL1wvXC5cLy8sICIvIikucmVwbGFjZSgvW15cL10rXC9cLlwuXC8vLCAiIik7CiAgICAgICAgfQogICAgfQogICAgCiAgICByZXR1cm4gbW9kdWxlTmFtZTsKfTsKCndpbmRvdy5yZXF1aXJlID0gZnVuY3Rpb24gcmVxdWlyZShwYXJlbnRJZCwgaWQpIHsKICAgIGlmICghaWQpIHsKICAgICAgICBpZCA9IHBhcmVudElkOwogICAgICAgIHBhcmVudElkID0gbnVsbDsKICAgIH0KICAgIGlmICghaWQuY2hhckF0KQogICAgICAgIHRocm93IG5ldyBFcnJvcigid29ya2VyLmpzIHJlcXVpcmUoKSBhY2NlcHRzIG9ubHkgKHBhcmVudElkLCBpZCkgYXMgYXJndW1lbnRzIik7CgogICAgaWQgPSB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBpZCk7CgogICAgdmFyIG1vZHVsZSA9IHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdOwogICAgaWYgKG1vZHVsZSkgewogICAgICAgIGlmICghbW9kdWxlLmluaXRpYWxpemVkKSB7CiAgICAgICAgICAgIG1vZHVsZS5pbml0aWFsaXplZCA9IHRydWU7CiAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbW9kdWxlLmZhY3RvcnkoKS5leHBvcnRzOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7CiAgICB9CiAgIAogICAgaWYgKCF3aW5kb3cucmVxdWlyZS50bG5zKQogICAgICAgIHJldHVybiBjb25zb2xlLmxvZygidW5hYmxlIHRvIGxvYWQgIiArIGlkKTsKICAgIAogICAgdmFyIHBhdGggPSByZXNvbHZlTW9kdWxlSWQoaWQsIHdpbmRvdy5yZXF1aXJlLnRsbnMpOwogICAgaWYgKHBhdGguc2xpY2UoLTMpICE9ICIuanMiKSBwYXRoICs9ICIuanMiOwogICAgCiAgICB3aW5kb3cucmVxdWlyZS5pZCA9IGlkOwogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7fTsgLy8gcHJldmVudCBpbmZpbml0ZSBsb29wIG9uIGJyb2tlbiBtb2R1bGVzCiAgICBpbXBvcnRTY3JpcHRzKHBhdGgpOwogICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKHBhcmVudElkLCBpZCk7Cn07CmZ1bmN0aW9uIHJlc29sdmVNb2R1bGVJZChpZCwgcGF0aHMpIHsKICAgIHZhciB0ZXN0UGF0aCA9IGlkLCB0YWlsID0gIiI7CiAgICB3aGlsZSAodGVzdFBhdGgpIHsKICAgICAgICB2YXIgYWxpYXMgPSBwYXRoc1t0ZXN0UGF0aF07CiAgICAgICAgaWYgKHR5cGVvZiBhbGlhcyA9PSAic3RyaW5nIikgewogICAgICAgICAgICByZXR1cm4gYWxpYXMgKyB0YWlsOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMpIHsKICAgICAgICAgICAgcmV0dXJuICBhbGlhcy5sb2NhdGlvbi5yZXBsYWNlKC9cLyokLywgIi8iKSArICh0YWlsIHx8IGFsaWFzLm1haW4gfHwgYWxpYXMubmFtZSk7CiAgICAgICAgfSBlbHNlIGlmIChhbGlhcyA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgICB2YXIgaSA9IHRlc3RQYXRoLmxhc3RJbmRleE9mKCIvIik7CiAgICAgICAgaWYgKGkgPT09IC0xKSBicmVhazsKICAgICAgICB0YWlsID0gdGVzdFBhdGguc3Vic3RyKGkpICsgdGFpbDsKICAgICAgICB0ZXN0UGF0aCA9IHRlc3RQYXRoLnNsaWNlKDAsIGkpOwogICAgfQogICAgcmV0dXJuIGlkOwp9CndpbmRvdy5yZXF1aXJlLm1vZHVsZXMgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9OwoKd2luZG93LmRlZmluZSA9IGZ1bmN0aW9uKGlkLCBkZXBzLCBmYWN0b3J5KSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgZmFjdG9yeSA9IGRlcHM7CiAgICAgICAgaWYgKHR5cGVvZiBpZCAhPSAic3RyaW5nIikgewogICAgICAgICAgICBkZXBzID0gaWQ7CiAgICAgICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICAgICAgfQogICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgICBmYWN0b3J5ID0gaWQ7CiAgICAgICAgZGVwcyA9IFtdOwogICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICB9CiAgICAKICAgIGlmICh0eXBlb2YgZmFjdG9yeSAhPSAiZnVuY3Rpb24iKSB7CiAgICAgICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgICAgIGV4cG9ydHM6IGZhY3RvcnksCiAgICAgICAgICAgIGluaXRpYWxpemVkOiB0cnVlCiAgICAgICAgfTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKCFkZXBzLmxlbmd0aCkKICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBkZXBlbmRlbmNpZXMsIHdlIGluamVjdCAicmVxdWlyZSIsICJleHBvcnRzIiBhbmQKICAgICAgICAvLyAibW9kdWxlIiBhcyBkZXBlbmRlbmNpZXMsIHRvIHByb3ZpZGUgQ29tbW9uSlMgY29tcGF0aWJpbGl0eS4KICAgICAgICBkZXBzID0gWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAibW9kdWxlIl07CgogICAgdmFyIHJlcSA9IGZ1bmN0aW9uKGNoaWxkSWQpIHsKICAgICAgICByZXR1cm4gd2luZG93LnJlcXVpcmUoaWQsIGNoaWxkSWQpOwogICAgfTsKCiAgICB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXSA9IHsKICAgICAgICBleHBvcnRzOiB7fSwKICAgICAgICBmYWN0b3J5OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIG1vZHVsZSA9IHRoaXM7CiAgICAgICAgICAgIHZhciByZXR1cm5FeHBvcnRzID0gZmFjdG9yeS5hcHBseSh0aGlzLCBkZXBzLnNsaWNlKDAsIGZhY3RvcnkubGVuZ3RoKS5tYXAoZnVuY3Rpb24oZGVwKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRlcCkgewogICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kICJtb2R1bGUiIGFyZW4ndCBhY3R1YWwKICAgICAgICAgICAgICAgICAgICAvLyBkZXBlbmRlbmNpZXMsIHdlIG11c3QgaGFuZGxlIHRoZW0gc2VwZXJhdGVseS4KICAgICAgICAgICAgICAgICAgICBjYXNlICJyZXF1aXJlIjogcmV0dXJuIHJlcTsKICAgICAgICAgICAgICAgICAgICBjYXNlICJleHBvcnRzIjogcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgICAgICAgICAgICAgICAgIGNhc2UgIm1vZHVsZSI6ICByZXR1cm4gbW9kdWxlOwogICAgICAgICAgICAgICAgICAgIC8vIEJ1dCBmb3IgYWxsIG90aGVyIGRlcGVuZGVuY2llcywgd2UgY2FuIGp1c3QgZ28gYWhlYWQgYW5kCiAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZSB0aGVtLgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICByZXR1cm4gcmVxKGRlcCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgaWYgKHJldHVybkV4cG9ydHMpCiAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHJldHVybkV4cG9ydHM7CiAgICAgICAgICAgIHJldHVybiBtb2R1bGU7CiAgICAgICAgfQogICAgfTsKfTsKd2luZG93LmRlZmluZS5hbWQgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHRoaXMucmVxdWlyZS50bG5zW2ldID0gdG9wTGV2ZWxOYW1lc3BhY2VzW2ldOwp9OwoKd2luZG93LmluaXRTZW5kZXIgPSBmdW5jdGlvbiBpbml0U2VuZGVyKCkgewoKICAgIHZhciBFdmVudEVtaXR0ZXIgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwogICAgdmFyIG9vcCA9IHdpbmRvdy5yZXF1aXJlKCJhY2UvbGliL29vcCIpOwogICAgCiAgICB2YXIgU2VuZGVyID0gZnVuY3Rpb24oKSB7fTsKICAgIAogICAgKGZ1bmN0aW9uKCkgewogICAgICAgIAogICAgICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTsKICAgICAgICAgICAgICAgIAogICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhLCBjYWxsYmFja0lkKSB7CiAgICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJjYWxsIiwKICAgICAgICAgICAgICAgIGlkOiBjYWxsYmFja0lkLAogICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgCiAgICAgICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24obmFtZSwgZGF0YSkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXZlbnQiLAogICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICAKICAgIH0pLmNhbGwoU2VuZGVyLnByb3RvdHlwZSk7CiAgICAKICAgIHJldHVybiBuZXcgU2VuZGVyKCk7Cn07Cgp2YXIgbWFpbiA9IHdpbmRvdy5tYWluID0gbnVsbDsKdmFyIHNlbmRlciA9IHdpbmRvdy5zZW5kZXIgPSBudWxsOwoKd2luZG93Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHsKICAgIHZhciBtc2cgPSBlLmRhdGE7CiAgICBpZiAobXNnLmV2ZW50ICYmIHNlbmRlcikgewogICAgICAgIHNlbmRlci5fc2lnbmFsKG1zZy5ldmVudCwgbXNnLmRhdGEpOwogICAgfQogICAgZWxzZSBpZiAobXNnLmNvbW1hbmQpIHsKICAgICAgICBpZiAobWFpblttc2cuY29tbWFuZF0pCiAgICAgICAgICAgIG1haW5bbXNnLmNvbW1hbmRdLmFwcGx5KG1haW4sIG1zZy5hcmdzKTsKICAgICAgICBlbHNlIGlmICh3aW5kb3dbbXNnLmNvbW1hbmRdKQogICAgICAgICAgICB3aW5kb3dbbXNnLmNvbW1hbmRdLmFwcGx5KHdpbmRvdywgbXNnLmFyZ3MpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbW1hbmQ6IiArIG1zZy5jb21tYW5kKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5pbml0KSB7CiAgICAgICAgd2luZG93LmluaXRCYXNlVXJscyhtc2cudGxucyk7CiAgICAgICAgc2VuZGVyID0gd2luZG93LnNlbmRlciA9IHdpbmRvdy5pbml0U2VuZGVyKCk7CiAgICAgICAgdmFyIGNsYXp6ID0gdGhpcy5yZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdOwogICAgICAgIG1haW4gPSB3aW5kb3cubWFpbiA9IG5ldyBjbGF6eihzZW5kZXIpOwogICAgfQp9Owp9KSh0aGlzKTsKCmFjZS5kZWZpbmUoImFjZS9saWIvb29wIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CmV4cG9ydHMuaW5oZXJpdHMgPSBmdW5jdGlvbiAoY3Rvciwgc3VwZXJDdG9yKSB7CiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjsKICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7CiAgICAgICAgY29uc3RydWN0b3I6IHsKICAgICAgICAgICAgdmFsdWU6IGN0b3IsCiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgfQogICAgfSk7Cn07CmV4cG9ydHMubWl4aW4gPSBmdW5jdGlvbiAob2JqLCBtaXhpbikgewogICAgZm9yICh2YXIga2V5IGluIG1peGluKSB7CiAgICAgICAgb2JqW2tleV0gPSBtaXhpbltrZXldOwogICAgfQogICAgcmV0dXJuIG9iajsKfTsKZXhwb3J0cy5pbXBsZW1lbnQgPSBmdW5jdGlvbiAocHJvdG8sIG1peGluKSB7CiAgICBleHBvcnRzLm1peGluKHByb3RvLCBtaXhpbik7Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hcHBseV9kZWx0YSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpmdW5jdGlvbiB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIGVycm9yVGV4dCkgewogICAgY29uc29sZS5sb2coIkludmFsaWQgRGVsdGE6IiwgZGVsdGEpOwogICAgdGhyb3cgIkludmFsaWQgRGVsdGE6ICIgKyBlcnJvclRleHQ7Cn0KZnVuY3Rpb24gcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBwb3NpdGlvbikgewogICAgcmV0dXJuIHBvc2l0aW9uLnJvdyA+PSAwICYmIHBvc2l0aW9uLnJvdyA8IGRvY0xpbmVzLmxlbmd0aCAmJgogICAgICAgIHBvc2l0aW9uLmNvbHVtbiA+PSAwICYmIHBvc2l0aW9uLmNvbHVtbiA8PSBkb2NMaW5lc1twb3NpdGlvbi5yb3ddLmxlbmd0aDsKfQpmdW5jdGlvbiB2YWxpZGF0ZURlbHRhKGRvY0xpbmVzLCBkZWx0YSkgewogICAgaWYgKGRlbHRhLmFjdGlvbiAhPSAiaW5zZXJ0IiAmJiBkZWx0YS5hY3Rpb24gIT0gInJlbW92ZSIpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuYWN0aW9uIG11c3QgYmUgJ2luc2VydCcgb3IgJ3JlbW92ZSciKTsKICAgIGlmICghKGRlbHRhLmxpbmVzIGluc3RhbmNlb2YgQXJyYXkpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmxpbmVzIG11c3QgYmUgYW4gQXJyYXkiKTsKICAgIGlmICghZGVsdGEuc3RhcnQgfHwgIWRlbHRhLmVuZCkKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5zdGFydC9lbmQgbXVzdCBiZSBhbiBwcmVzZW50Iik7CiAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDsKICAgIGlmICghcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBkZWx0YS5zdGFydCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQgbXVzdCBiZSBjb250YWluZWQgaW4gZG9jdW1lbnQiKTsKICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7CiAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmICFwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIGVuZCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuZW5kIG11c3QgY29udGFpbmVkIGluIGRvY3VtZW50IGZvciAncmVtb3ZlJyBhY3Rpb25zIik7CiAgICB2YXIgbnVtUmFuZ2VSb3dzID0gZW5kLnJvdyAtIHN0YXJ0LnJvdzsKICAgIHZhciBudW1SYW5nZUxhc3RMaW5lQ2hhcnMgPSAoZW5kLmNvbHVtbiAtIChudW1SYW5nZVJvd3MgPT0gMCA/IHN0YXJ0LmNvbHVtbiA6IDApKTsKICAgIGlmIChudW1SYW5nZVJvd3MgIT0gZGVsdGEubGluZXMubGVuZ3RoIC0gMSB8fCBkZWx0YS5saW5lc1tudW1SYW5nZVJvd3NdLmxlbmd0aCAhPSBudW1SYW5nZUxhc3RMaW5lQ2hhcnMpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEucmFuZ2UgbXVzdCBtYXRjaCBkZWx0YSBsaW5lcyIpOwp9CmV4cG9ydHMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkb2NMaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7CiAgICB2YXIgc3RhcnRDb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICB2YXIgbGluZSA9IGRvY0xpbmVzW3Jvd10gfHwgIiI7CiAgICBzd2l0Y2ggKGRlbHRhLmFjdGlvbikgewogICAgICAgIGNhc2UgImluc2VydCI6CiAgICAgICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgICAgICBpZiAobGluZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZGVsdGEubGluZXNbMF0gKyBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtyb3csIDFdLmNvbmNhdChkZWx0YS5saW5lcyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW3Jvd107CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3cgKyBkZWx0YS5saW5lcy5sZW5ndGggLSAxXSArPSBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmVtb3ZlIjoKICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IGRlbHRhLmVuZC5jb2x1bW47CiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkZWx0YS5lbmQucm93OwogICAgICAgICAgICBpZiAocm93ID09PSBlbmRSb3cpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBsaW5lLnN1YnN0cmluZyhlbmRDb2x1bW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZG9jTGluZXMuc3BsaWNlKHJvdywgZW5kUm93IC0gcm93ICsgMSwgbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZG9jTGluZXNbZW5kUm93XS5zdWJzdHJpbmcoZW5kQ29sdW1uKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgRXZlbnRFbWl0dGVyID0ge307CnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7IHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfTsKdmFyIHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9OwpFdmVudEVtaXR0ZXIuX2VtaXQgPQogICAgRXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZSkgewogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwgKHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB7fSk7CiAgICAgICAgdGhpcy5fZGVmYXVsdEhhbmRsZXJzIHx8ICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7fSk7CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSB8fCBbXTsKICAgICAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycy5sZW5ndGggJiYgIWRlZmF1bHRIYW5kbGVyKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHR5cGVvZiBlICE9ICJvYmplY3QiIHx8ICFlKQogICAgICAgICAgICBlID0ge307CiAgICAgICAgaWYgKCFlLnR5cGUpCiAgICAgICAgICAgIGUudHlwZSA9IGV2ZW50TmFtZTsKICAgICAgICBpZiAoIWUuc3RvcFByb3BhZ2F0aW9uKQogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjsKICAgICAgICBpZiAoIWUucHJldmVudERlZmF1bHQpCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdDsKICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBsaXN0ZW5lcnNbaV0oZSwgdGhpcyk7CiAgICAgICAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBpZiAoZGVmYXVsdEhhbmRsZXIgJiYgIWUuZGVmYXVsdFByZXZlbnRlZCkKICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyKGUsIHRoaXMpOwogICAgfTsKRXZlbnRFbWl0dGVyLl9zaWduYWwgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBlKSB7CiAgICB2YXIgbGlzdGVuZXJzID0gKHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge30pW2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKQogICAgICAgIGxpc3RlbmVyc1tpXShlLCB0aGlzKTsKfTsKRXZlbnRFbWl0dGVyLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHRoaXMub24oZXZlbnROYW1lLCBmdW5jdGlvbiBuZXdDYWxsYmFjaygpIHsKICAgICAgICBfc2VsZi5vZmYoZXZlbnROYW1lLCBuZXdDYWxsYmFjayk7CiAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH0pOwogICAgaWYgKCFjYWxsYmFjaykgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICBjYWxsYmFjayA9IHJlc29sdmU7CiAgICAgICAgfSk7CiAgICB9Cn07CkV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0geyBfZGlzYWJsZWRfOiB7fSB9OwogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0pIHsKICAgICAgICB2YXIgb2xkID0gaGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAgICAgaWYgKCFkaXNhYmxlZCkKICAgICAgICAgICAgaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdID0gZGlzYWJsZWQgPSBbXTsKICAgICAgICBkaXNhYmxlZC5wdXNoKG9sZCk7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQogICAgaGFuZGxlcnNbZXZlbnROYW1lXSA9IGNhbGxiYWNrOwp9OwpFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzOwogICAgaWYgKCFoYW5kbGVycykKICAgICAgICByZXR1cm47CiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICBpZiAoaGFuZGxlcnNbZXZlbnROYW1lXSA9PSBjYWxsYmFjaykgewogICAgICAgIGlmIChkaXNhYmxlZCkKICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0SGFuZGxlcihldmVudE5hbWUsIGRpc2FibGVkLnBvcCgpKTsKICAgIH0KICAgIGVsc2UgaWYgKGRpc2FibGVkKSB7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQp9OwpFdmVudEVtaXR0ZXIub24gPQogICAgRXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaywgY2FwdHVyaW5nKSB7CiAgICAgICAgdGhpcy5fZXZlbnRSZWdpc3RyeSA9IHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge307CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107CiAgICAgICAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PSAtMSkKICAgICAgICAgICAgbGlzdGVuZXJzW2NhcHR1cmluZyA/ICJ1bnNoaWZ0IiA6ICJwdXNoIl0oY2FsbGJhY2spOwogICAgICAgIHJldHVybiBjYWxsYmFjazsKICAgIH07CkV2ZW50RW1pdHRlci5vZmYgPQogICAgRXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyID0KICAgICAgICBFdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwogICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOwogICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKQogICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfTsKRXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudE5hbWUpIHsKICAgIGlmICghZXZlbnROYW1lKQogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZXZlbnRSZWdpc3RyeSkKICAgICAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZGVmYXVsdEhhbmRsZXJzKQogICAgICAgIHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdID0gdW5kZWZpbmVkOwp9OwpleHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3JhbmdlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBjb21wYXJlUG9pbnRzID0gZnVuY3Rpb24gKHAxLCBwMikgewogICAgcmV0dXJuIHAxLnJvdyAtIHAyLnJvdyB8fCBwMS5jb2x1bW4gLSBwMi5jb2x1bW47Cn07CnZhciBSYW5nZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBlbmRDb2x1bW4pIHsKICAgICAgICB0aGlzLnN0YXJ0ID0gewogICAgICAgICAgICByb3c6IHN0YXJ0Um93LAogICAgICAgICAgICBjb2x1bW46IHN0YXJ0Q29sdW1uCiAgICAgICAgfTsKICAgICAgICB0aGlzLmVuZCA9IHsKICAgICAgICAgICAgcm93OiBlbmRSb3csCiAgICAgICAgICAgIGNvbHVtbjogZW5kQ29sdW1uCiAgICAgICAgfTsKICAgIH0KICAgIFJhbmdlLnByb3RvdHlwZS5pc0VxdWFsID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5lbmQucm93ID09PSByYW5nZS5lbmQucm93ICYmCiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID09PSByYW5nZS5zdGFydC5jb2x1bW4gJiYKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID09PSByYW5nZS5lbmQuY29sdW1uOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gKCJSYW5nZTogWyIgKyB0aGlzLnN0YXJ0LnJvdyArICIvIiArIHRoaXMuc3RhcnQuY29sdW1uICsKICAgICAgICAgICAgIl0gLT4gWyIgKyB0aGlzLmVuZC5yb3cgKyAiLyIgKyB0aGlzLmVuZC5jb2x1bW4gKyAiXSIpOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDA7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNvbXBhcmVSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAsIGVuZCA9IHJhbmdlLmVuZCwgc3RhcnQgPSByYW5nZS5zdGFydDsKICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoZW5kLnJvdywgZW5kLmNvbHVtbik7CiAgICAgICAgaWYgKGNtcCA9PSAxKSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoY21wID09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiAtMjsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDQyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNvbXBhcmVQb2ludCA9IGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShwLnJvdywgcC5jb2x1bW4pOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jb250YWluc1JhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLnN0YXJ0KSA9PSAwICYmIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLmVuZCkgPT0gMDsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7CiAgICAgICAgcmV0dXJuIChjbXAgPT0gLTEgfHwgY21wID09IDAgfHwgY21wID09IDEpOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5pc0VuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW47CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmlzU3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbjsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuc2V0U3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93LnJvdzsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLnNldEVuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0eXBlb2Ygcm93ID09ICJvYmplY3QiKSB7CiAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuZW5kLnJvdyA9IHJvdy5yb3c7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3c7CiAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmluc2lkZSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDApIHsKICAgICAgICAgICAgaWYgKHRoaXMuaXNFbmQocm93LCBjb2x1bW4pIHx8IHRoaXMuaXNTdGFydChyb3csIGNvbHVtbikpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuaW5zaWRlU3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5pbnNpZGVFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzU3RhcnQocm93LCBjb2x1bW4pKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAoIXRoaXMuaXNNdWx0aUxpbmUoKSkgewogICAgICAgICAgICBpZiAocm93ID09PSB0aGlzLnN0YXJ0LnJvdykgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8IHRoaXMuc3RhcnQuY29sdW1uID8gLTEgOiAoY29sdW1uID4gdGhpcy5lbmQuY29sdW1uID8gMSA6IDApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChyb3cgPCB0aGlzLnN0YXJ0LnJvdykKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIGlmIChyb3cgPiB0aGlzLmVuZC5yb3cpCiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgIGlmICh0aGlzLnN0YXJ0LnJvdyA9PT0gcm93KQogICAgICAgICAgICByZXR1cm4gY29sdW1uID49IHRoaXMuc3RhcnQuY29sdW1uID8gMCA6IC0xOwogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT09IHJvdykKICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8PSB0aGlzLmVuZC5jb2x1bW4gPyAwIDogMTsKICAgICAgICByZXR1cm4gMDsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuY29tcGFyZVN0YXJ0ID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jb21wYXJlRW5kID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PSByb3cgJiYgdGhpcy5lbmQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pOwogICAgICAgIH0KICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuY29tcGFyZUluc2lkZSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jbGlwUm93cyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgZW5kID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLmVuZC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIGVuZCA9IHsgcm93OiBmaXJzdFJvdywgY29sdW1uOiAwIH07CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID4gbGFzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA8IGZpcnN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7IHJvdzogZmlyc3RSb3csIGNvbHVtbjogMCB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pOwogICAgICAgIGlmIChjbXAgPT0gMCkKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7IHJvdzogcm93LCBjb2x1bW46IGNvbHVtbiB9OwogICAgICAgIGVsc2UKICAgICAgICAgICAgdmFyIGVuZCA9IHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH07CiAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnQgfHwgdGhpcy5zdGFydCwgZW5kIHx8IHRoaXMuZW5kKTsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gKHRoaXMuc3RhcnQucm93ID09PSB0aGlzLmVuZC5yb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT09IHRoaXMuZW5kLmNvbHVtbik7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmlzTXVsdGlMaW5lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgIT09IHRoaXMuZW5kLnJvdyk7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHRoaXMuc3RhcnQsIHRoaXMuZW5kKTsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuY29sbGFwc2VSb3dzID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh0aGlzLmVuZC5jb2x1bW4gPT0gMCkKICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywgMCwgTWF0aC5tYXgodGhpcy5zdGFydC5yb3csIHRoaXMuZW5kLnJvdyAtIDEpLCAwKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy5zdGFydC5yb3csIDAsIHRoaXMuZW5kLnJvdywgMCk7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLnRvU2NyZWVuUmFuZ2UgPSBmdW5jdGlvbiAoc2Vzc2lvbikgewogICAgICAgIHZhciBzY3JlZW5Qb3NTdGFydCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpOwogICAgICAgIHZhciBzY3JlZW5Qb3NFbmQgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmVuZCk7CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzY3JlZW5Qb3NTdGFydC5yb3csIHNjcmVlblBvc1N0YXJ0LmNvbHVtbiwgc2NyZWVuUG9zRW5kLnJvdywgc2NyZWVuUG9zRW5kLmNvbHVtbik7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLm1vdmVCeSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHRoaXMuc3RhcnQucm93ICs9IHJvdzsKICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiArPSBjb2x1bW47CiAgICAgICAgdGhpcy5lbmQucm93ICs9IHJvdzsKICAgICAgICB0aGlzLmVuZC5jb2x1bW4gKz0gY29sdW1uOwogICAgfTsKICAgIHJldHVybiBSYW5nZTsKfSgpKTsKUmFuZ2UuZnJvbVBvaW50cyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7CiAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uLCBlbmQucm93LCBlbmQuY29sdW1uKTsKfTsKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGNvbXBhcmVQb2ludHM7ClJhbmdlLmNvbXBhcmVQb2ludHMgPSBmdW5jdGlvbiAocDEsIHAyKSB7CiAgICByZXR1cm4gcDEucm93IC0gcDIucm93IHx8IHAxLmNvbHVtbiAtIHAyLmNvbHVtbjsKfTsKZXhwb3J0cy5SYW5nZSA9IFJhbmdlOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvYW5jaG9yIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBvb3AgPSByZXF1aXJlKCIuL2xpYi9vb3AiKTsKdmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXI7CnZhciBBbmNob3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBBbmNob3IoZG9jLCByb3csIGNvbHVtbikgewogICAgICAgIHRoaXMuJG9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpOwogICAgICAgIHRoaXMuYXR0YWNoKGRvYyk7CiAgICAgICAgaWYgKHR5cGVvZiBjb2x1bW4gPT0gInVuZGVmaW5lZCIpCiAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocm93LnJvdywgcm93LmNvbHVtbik7CiAgICAgICAgZWxzZQogICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdywgY29sdW1uKTsKICAgIH0KICAgIEFuY2hvci5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQodGhpcy5yb3csIHRoaXMuY29sdW1uKTsKICAgIH07CiAgICBBbmNob3IucHJvdG90eXBlLmdldERvY3VtZW50ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50OwogICAgfTsKICAgIEFuY2hvci5wcm90b3R5cGUub25DaGFuZ2UgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICBpZiAoZGVsdGEuc3RhcnQucm93ID09IGRlbHRhLmVuZC5yb3cgJiYgZGVsdGEuc3RhcnQucm93ICE9IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKGRlbHRhLnN0YXJ0LnJvdyA+IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIHBvaW50ID0gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHsgcm93OiB0aGlzLnJvdywgY29sdW1uOiB0aGlzLmNvbHVtbiB9LCB0aGlzLiRpbnNlcnRSaWdodCk7CiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihwb2ludC5yb3csIHBvaW50LmNvbHVtbiwgdHJ1ZSk7CiAgICB9OwogICAgQW5jaG9yLnByb3RvdHlwZS5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbiwgbm9DbGlwKSB7CiAgICAgICAgdmFyIHBvczsKICAgICAgICBpZiAobm9DbGlwKSB7CiAgICAgICAgICAgIHBvcyA9IHsKICAgICAgICAgICAgICAgIHJvdzogcm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4KICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvcyA9IHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQocm93LCBjb2x1bW4pOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5yb3cgPT0gcG9zLnJvdyAmJiB0aGlzLmNvbHVtbiA9PSBwb3MuY29sdW1uKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIG9sZCA9IHsKICAgICAgICAgICAgcm93OiB0aGlzLnJvdywKICAgICAgICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbgogICAgICAgIH07CiAgICAgICAgdGhpcy5yb3cgPSBwb3Mucm93OwogICAgICAgIHRoaXMuY29sdW1uID0gcG9zLmNvbHVtbjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZSIsIHsKICAgICAgICAgICAgb2xkOiBvbGQsCiAgICAgICAgICAgIHZhbHVlOiBwb3MKICAgICAgICB9KTsKICAgIH07CiAgICBBbmNob3IucHJvdG90eXBlLmRldGFjaCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9mZigiY2hhbmdlIiwgdGhpcy4kb25DaGFuZ2UpOwogICAgfTsKICAgIEFuY2hvci5wcm90b3R5cGUuYXR0YWNoID0gZnVuY3Rpb24gKGRvYykgewogICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2MgfHwgdGhpcy5kb2N1bWVudDsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9uKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgQW5jaG9yLnByb3RvdHlwZS4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBwb3MgPSB7fTsKICAgICAgICBpZiAocm93ID49IHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgcG9zLnJvdyA9IE1hdGgubWF4KDAsIHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcG9zLnJvdyA9IDA7CiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcG9zLnJvdyA9IHJvdzsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IE1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsIE1hdGgubWF4KDAsIGNvbHVtbikpOwogICAgICAgIH0KICAgICAgICBpZiAoY29sdW1uIDwgMCkKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IDA7CiAgICAgICAgcmV0dXJuIHBvczsKICAgIH07CiAgICByZXR1cm4gQW5jaG9yOwp9KCkpOwpBbmNob3IucHJvdG90eXBlLiRpbnNlcnRSaWdodCA9IGZhbHNlOwpvb3AuaW1wbGVtZW50KEFuY2hvci5wcm90b3R5cGUsIEV2ZW50RW1pdHRlcik7CmZ1bmN0aW9uICRwb2ludHNJbk9yZGVyKHBvaW50MSwgcG9pbnQyLCBlcXVhbFBvaW50c0luT3JkZXIpIHsKICAgIHZhciBiQ29sSXNBZnRlciA9IGVxdWFsUG9pbnRzSW5PcmRlciA/IHBvaW50MS5jb2x1bW4gPD0gcG9pbnQyLmNvbHVtbiA6IHBvaW50MS5jb2x1bW4gPCBwb2ludDIuY29sdW1uOwogICAgcmV0dXJuIChwb2ludDEucm93IDwgcG9pbnQyLnJvdykgfHwgKHBvaW50MS5yb3cgPT0gcG9pbnQyLnJvdyAmJiBiQ29sSXNBZnRlcik7Cn0KZnVuY3Rpb24gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHBvaW50LCBtb3ZlSWZFcXVhbCkgewogICAgdmFyIGRlbHRhSXNJbnNlcnQgPSBkZWx0YS5hY3Rpb24gPT0gImluc2VydCI7CiAgICB2YXIgZGVsdGFSb3dTaGlmdCA9IChkZWx0YUlzSW5zZXJ0ID8gMSA6IC0xKSAqIChkZWx0YS5lbmQucm93IC0gZGVsdGEuc3RhcnQucm93KTsKICAgIHZhciBkZWx0YUNvbFNoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5jb2x1bW4gLSBkZWx0YS5zdGFydC5jb2x1bW4pOwogICAgdmFyIGRlbHRhU3RhcnQgPSBkZWx0YS5zdGFydDsKICAgIHZhciBkZWx0YUVuZCA9IGRlbHRhSXNJbnNlcnQgPyBkZWx0YVN0YXJ0IDogZGVsdGEuZW5kOyAvLyBDb2xsYXBzZSBpbnNlcnQgcmFuZ2UuCiAgICBpZiAoJHBvaW50c0luT3JkZXIocG9pbnQsIGRlbHRhU3RhcnQsIG1vdmVJZkVxdWFsKSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHJvdzogcG9pbnQucm93LAogICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbgogICAgICAgIH07CiAgICB9CiAgICBpZiAoJHBvaW50c0luT3JkZXIoZGVsdGFFbmQsIHBvaW50LCAhbW92ZUlmRXF1YWwpKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcm93OiBwb2ludC5yb3cgKyBkZWx0YVJvd1NoaWZ0LAogICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbiArIChwb2ludC5yb3cgPT0gZGVsdGFFbmQucm93ID8gZGVsdGFDb2xTaGlmdCA6IDApCiAgICAgICAgfTsKICAgIH0KICAgIHJldHVybiB7CiAgICAgICAgcm93OiBkZWx0YVN0YXJ0LnJvdywKICAgICAgICBjb2x1bW46IGRlbHRhU3RhcnQuY29sdW1uCiAgICB9Owp9CmV4cG9ydHMuQW5jaG9yID0gQW5jaG9yOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvZG9jdW1lbnQiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpeyJ1c2Ugc3RyaWN0IjsKdmFyIG9vcCA9IHJlcXVpcmUoIi4vbGliL29vcCIpOwp2YXIgYXBwbHlEZWx0YSA9IHJlcXVpcmUoIi4vYXBwbHlfZGVsdGEiKS5hcHBseURlbHRhOwp2YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcjsKdmFyIFJhbmdlID0gcmVxdWlyZSgiLi9yYW5nZSIpLlJhbmdlOwp2YXIgQW5jaG9yID0gcmVxdWlyZSgiLi9hbmNob3IiKS5BbmNob3I7CnZhciBEb2N1bWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIERvY3VtZW50KHRleHRPckxpbmVzKSB7CiAgICAgICAgdGhpcy4kbGluZXMgPSBbIiJdOwogICAgICAgIGlmICh0ZXh0T3JMaW5lcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgdGhpcy4kbGluZXMgPSBbIiJdOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRleHRPckxpbmVzKSkgewogICAgICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiAwLCBjb2x1bW46IDAgfSwgdGV4dE9yTGluZXMpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0T3JMaW5lcyk7CiAgICAgICAgfQogICAgfQogICAgRG9jdW1lbnQucHJvdG90eXBlLnNldFZhbHVlID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgbGVuID0gdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdGhpcy5yZW1vdmUobmV3IFJhbmdlKDAsIDAsIGxlbiwgdGhpcy5nZXRMaW5lKGxlbikubGVuZ3RoKSk7CiAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0IHx8ICIiKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsTGluZXMoKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuY3JlYXRlQW5jaG9yID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIG5ldyBBbmNob3IodGhpcywgcm93LCBjb2x1bW4pOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS4kZGV0ZWN0TmV3TGluZSA9IGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgdmFyIG1hdGNoID0gdGV4dC5tYXRjaCgvXi4qPyhcclxufFxyfFxuKS9tKTsKICAgICAgICB0aGlzLiRhdXRvTmV3TGluZSA9IG1hdGNoID8gbWF0Y2hbMV0gOiAiXG4iOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuZ2V0TmV3TGluZUNoYXJhY3RlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBzd2l0Y2ggKHRoaXMuJG5ld0xpbmVNb2RlKSB7CiAgICAgICAgICAgIGNhc2UgIndpbmRvd3MiOgogICAgICAgICAgICAgICAgcmV0dXJuICJcclxuIjsKICAgICAgICAgICAgY2FzZSAidW5peCI6CiAgICAgICAgICAgICAgICByZXR1cm4gIlxuIjsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRhdXRvTmV3TGluZSB8fCAiXG4iOwogICAgICAgIH0KICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuc2V0TmV3TGluZU1vZGUgPSBmdW5jdGlvbiAobmV3TGluZU1vZGUpIHsKICAgICAgICBpZiAodGhpcy4kbmV3TGluZU1vZGUgPT09IG5ld0xpbmVNb2RlKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdGhpcy4kbmV3TGluZU1vZGUgPSBuZXdMaW5lTW9kZTsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmdldE5ld0xpbmVNb2RlID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLiRuZXdMaW5lTW9kZTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuaXNOZXdMaW5lID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICByZXR1cm4gKHRleHQgPT0gIlxyXG4iIHx8IHRleHQgPT0gIlxyIiB8fCB0ZXh0ID09ICJcbiIpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5nZXRMaW5lID0gZnVuY3Rpb24gKHJvdykgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lc1tyb3ddIHx8ICIiOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5nZXRMaW5lcyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lcy5zbGljZShmaXJzdFJvdywgbGFzdFJvdyArIDEpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5nZXRBbGxMaW5lcyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRMaW5lcygwLCB0aGlzLmdldExlbmd0aCgpKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuZ2V0TGVuZ3RoID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lcy5sZW5ndGg7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmdldFRleHRSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzRm9yUmFuZ2UocmFuZ2UpLmpvaW4odGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5nZXRMaW5lc0ZvclJhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgdmFyIGxpbmVzOwogICAgICAgIGlmIChyYW5nZS5zdGFydC5yb3cgPT09IHJhbmdlLmVuZC5yb3cpIHsKICAgICAgICAgICAgbGluZXMgPSBbdGhpcy5nZXRMaW5lKHJhbmdlLnN0YXJ0LnJvdykuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LmNvbHVtbiwgcmFuZ2UuZW5kLmNvbHVtbildOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgbGluZXMgPSB0aGlzLmdldExpbmVzKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2UuZW5kLnJvdyk7CiAgICAgICAgICAgIGxpbmVzWzBdID0gKGxpbmVzWzBdIHx8ICIiKS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICAgICAgdmFyIGwgPSBsaW5lcy5sZW5ndGggLSAxOwogICAgICAgICAgICBpZiAocmFuZ2UuZW5kLnJvdyAtIHJhbmdlLnN0YXJ0LnJvdyA9PSBsKQogICAgICAgICAgICAgICAgbGluZXNbbF0gPSBsaW5lc1tsXS5zdWJzdHJpbmcoMCwgcmFuZ2UuZW5kLmNvbHVtbik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBsaW5lczsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuaW5zZXJ0TGluZXMgPSBmdW5jdGlvbiAocm93LCBsaW5lcykgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50Lmluc2VydExpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgaW5zZXJ0RnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydEZ1bGxMaW5lcyhyb3csIGxpbmVzKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucmVtb3ZlTGluZXMgPSBmdW5jdGlvbiAoZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5yZW1vdmVMaW5lcyBpcyBkZXByZWNhdGVkLiBVc2UgdGhlIHJlbW92ZUZ1bGxMaW5lcyBtZXRob2QgaW5zdGVhZC4iKTsKICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVGdWxsTGluZXMoZmlyc3RSb3csIGxhc3RSb3cpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5pbnNlcnROZXdMaW5lID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TmV3TGluZSBpcyBkZXByZWNhdGVkLiBVc2UgaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsnJywgJyddKSBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLCBbIiIsICIiXSk7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIGlmICh0aGlzLmdldExlbmd0aCgpIDw9IDEpCiAgICAgICAgICAgIHRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCk7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIHRoaXMuJHNwbGl0KHRleHQpKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuaW5zZXJ0SW5MaW5lID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB0ZXh0KSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5wb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4gKyB0ZXh0Lmxlbmd0aCk7CiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgICBlbmQ6IGVuZCwKICAgICAgICAgICAgYWN0aW9uOiAiaW5zZXJ0IiwKICAgICAgICAgICAgbGluZXM6IFt0ZXh0XQogICAgICAgIH0sIHRydWUpOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKGVuZCk7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmNsaXBwZWRQb3MgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTsKICAgICAgICBpZiAocm93ID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgcm93ID0gbGVuZ3RoOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChyb3cgPCAwKSB7CiAgICAgICAgICAgIHJvdyA9IDA7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA+PSBsZW5ndGgpIHsKICAgICAgICAgICAgcm93ID0gbGVuZ3RoIC0gMTsKICAgICAgICAgICAgY29sdW1uID0gdW5kZWZpbmVkOwogICAgICAgIH0KICAgICAgICB2YXIgbGluZSA9IHRoaXMuZ2V0TGluZShyb3cpOwogICAgICAgIGlmIChjb2x1bW4gPT0gdW5kZWZpbmVkKQogICAgICAgICAgICBjb2x1bW4gPSBsaW5lLmxlbmd0aDsKICAgICAgICBjb2x1bW4gPSBNYXRoLm1pbihNYXRoLm1heChjb2x1bW4sIDApLCBsaW5lLmxlbmd0aCk7CiAgICAgICAgcmV0dXJuIHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH07CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmNsb25lUG9zID0gZnVuY3Rpb24gKHBvcykgewogICAgICAgIHJldHVybiB7IHJvdzogcG9zLnJvdywgY29sdW1uOiBwb3MuY29sdW1uIH07CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLnBvcyA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB7IHJvdzogcm93LCBjb2x1bW46IGNvbHVtbiB9OwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS4kY2xpcFBvc2l0aW9uID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7CiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuZ2V0TGVuZ3RoKCk7CiAgICAgICAgaWYgKHBvc2l0aW9uLnJvdyA+PSBsZW5ndGgpIHsKICAgICAgICAgICAgcG9zaXRpb24ucm93ID0gTWF0aC5tYXgoMCwgbGVuZ3RoIC0gMSk7CiAgICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA9IHRoaXMuZ2V0TGluZShsZW5ndGggLSAxKS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBwb3NpdGlvbi5yb3cgPSBNYXRoLm1heCgwLCBwb3NpdGlvbi5yb3cpOwogICAgICAgICAgICBwb3NpdGlvbi5jb2x1bW4gPSBNYXRoLm1pbihNYXRoLm1heChwb3NpdGlvbi5jb2x1bW4sIDApLCB0aGlzLmdldExpbmUocG9zaXRpb24ucm93KS5sZW5ndGgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcG9zaXRpb247CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmluc2VydEZ1bGxMaW5lcyA9IGZ1bmN0aW9uIChyb3csIGxpbmVzKSB7CiAgICAgICAgcm93ID0gTWF0aC5taW4oTWF0aC5tYXgocm93LCAwKSwgdGhpcy5nZXRMZW5ndGgoKSk7CiAgICAgICAgdmFyIGNvbHVtbiA9IDA7CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgbGluZXMgPSBsaW5lcy5jb25jYXQoWyIiXSk7CiAgICAgICAgICAgIGNvbHVtbiA9IDA7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IFsiIl0uY29uY2F0KGxpbmVzKTsKICAgICAgICAgICAgcm93LS07CiAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoOwogICAgICAgIH0KICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH0sIGxpbmVzKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuaW5zZXJ0TWVyZ2VkTGluZXMgPSBmdW5jdGlvbiAocG9zaXRpb24sIGxpbmVzKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gewogICAgICAgICAgICByb3c6IHN0YXJ0LnJvdyArIGxpbmVzLmxlbmd0aCAtIDEsCiAgICAgICAgICAgIGNvbHVtbjogKGxpbmVzLmxlbmd0aCA9PSAxID8gc3RhcnQuY29sdW1uIDogMCkgKyBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXS5sZW5ndGgKICAgICAgICB9OwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogImluc2VydCIsCiAgICAgICAgICAgIGxpbmVzOiBsaW5lcwogICAgICAgIH0pOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKGVuZCk7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyYW5nZS5zdGFydC5yb3csIHJhbmdlLnN0YXJ0LmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHRoaXMuY2xpcHBlZFBvcyhyYW5nZS5lbmQucm93LCByYW5nZS5lbmQuY29sdW1uKTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHsgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZCB9KQogICAgICAgIH0pOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucmVtb3ZlSW5MaW5lID0gZnVuY3Rpb24gKHJvdywgc3RhcnRDb2x1bW4sIGVuZENvbHVtbikgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIHN0YXJ0Q29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJvdywgZW5kQ29sdW1uKTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHsgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZCB9KQogICAgICAgIH0sIHRydWUpOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucmVtb3ZlRnVsbExpbmVzID0gZnVuY3Rpb24gKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgZmlyc3RSb3cgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBmaXJzdFJvdyksIHRoaXMuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICBsYXN0Um93ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgbGFzdFJvdyksIHRoaXMuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICB2YXIgZGVsZXRlRmlyc3ROZXdMaW5lID0gbGFzdFJvdyA9PSB0aGlzLmdldExlbmd0aCgpIC0gMSAmJiBmaXJzdFJvdyA+IDA7CiAgICAgICAgdmFyIGRlbGV0ZUxhc3ROZXdMaW5lID0gbGFzdFJvdyA8IHRoaXMuZ2V0TGVuZ3RoKCkgLSAxOwogICAgICAgIHZhciBzdGFydFJvdyA9IChkZWxldGVGaXJzdE5ld0xpbmUgPyBmaXJzdFJvdyAtIDEgOiBmaXJzdFJvdyk7CiAgICAgICAgdmFyIHN0YXJ0Q29sID0gKGRlbGV0ZUZpcnN0TmV3TGluZSA/IHRoaXMuZ2V0TGluZShzdGFydFJvdykubGVuZ3RoIDogMCk7CiAgICAgICAgdmFyIGVuZFJvdyA9IChkZWxldGVMYXN0TmV3TGluZSA/IGxhc3RSb3cgKyAxIDogbGFzdFJvdyk7CiAgICAgICAgdmFyIGVuZENvbCA9IChkZWxldGVMYXN0TmV3TGluZSA/IDAgOiB0aGlzLmdldExpbmUoZW5kUm93KS5sZW5ndGgpOwogICAgICAgIHZhciByYW5nZSA9IG5ldyBSYW5nZShzdGFydFJvdywgc3RhcnRDb2wsIGVuZFJvdywgZW5kQ29sKTsKICAgICAgICB2YXIgZGVsZXRlZExpbmVzID0gdGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csIGxhc3RSb3cgKyAxKTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogcmFuZ2Uuc3RhcnQsCiAgICAgICAgICAgIGVuZDogcmFuZ2UuZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBkZWxldGVkTGluZXM7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLnJlbW92ZU5ld0xpbmUgPSBmdW5jdGlvbiAocm93KSB7CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuZ2V0TGVuZ3RoKCkgLSAxICYmIHJvdyA+PSAwKSB7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgICAgICBzdGFydDogdGhpcy5wb3Mocm93LCB0aGlzLmdldExpbmUocm93KS5sZW5ndGgpLAogICAgICAgICAgICAgICAgZW5kOiB0aGlzLnBvcyhyb3cgKyAxLCAwKSwKICAgICAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgICAgICBsaW5lczogWyIiLCAiIl0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5yZXBsYWNlID0gZnVuY3Rpb24gKHJhbmdlLCB0ZXh0KSB7CiAgICAgICAgaWYgKCEocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZSkpCiAgICAgICAgICAgIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhyYW5nZS5zdGFydCwgcmFuZ2UuZW5kKTsKICAgICAgICBpZiAodGV4dC5sZW5ndGggPT09IDAgJiYgcmFuZ2UuaXNFbXB0eSgpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2Uuc3RhcnQ7CiAgICAgICAgaWYgKHRleHQgPT0gdGhpcy5nZXRUZXh0UmFuZ2UocmFuZ2UpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2UuZW5kOwogICAgICAgIHRoaXMucmVtb3ZlKHJhbmdlKTsKICAgICAgICB2YXIgZW5kOwogICAgICAgIGlmICh0ZXh0KSB7CiAgICAgICAgICAgIGVuZCA9IHRoaXMuaW5zZXJ0KHJhbmdlLnN0YXJ0LCB0ZXh0KTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGVuZCA9IHJhbmdlLnN0YXJ0OwogICAgICAgIH0KICAgICAgICByZXR1cm4gZW5kOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5hcHBseURlbHRhcyA9IGZ1bmN0aW9uIChkZWx0YXMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlbHRhcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGFzW2ldKTsKICAgICAgICB9CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLnJldmVydERlbHRhcyA9IGZ1bmN0aW9uIChkZWx0YXMpIHsKICAgICAgICBmb3IgKHZhciBpID0gZGVsdGFzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICAgIHRoaXMucmV2ZXJ0RGVsdGEoZGVsdGFzW2ldKTsKICAgICAgICB9CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmFwcGx5RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgICAgICB2YXIgaXNJbnNlcnQgPSBkZWx0YS5hY3Rpb24gPT0gImluc2VydCI7CiAgICAgICAgaWYgKGlzSW5zZXJ0ID8gZGVsdGEubGluZXMubGVuZ3RoIDw9IDEgJiYgIWRlbHRhLmxpbmVzWzBdCiAgICAgICAgICAgIDogIVJhbmdlLmNvbXBhcmVQb2ludHMoZGVsdGEuc3RhcnQsIGRlbHRhLmVuZCkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoaXNJbnNlcnQgJiYgZGVsdGEubGluZXMubGVuZ3RoID4gMjAwMDApIHsKICAgICAgICAgICAgdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGEoZGVsdGEsIDIwMDAwKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGFwcGx5RGVsdGEodGhpcy4kbGluZXMsIGRlbHRhLCBkb05vdFZhbGlkYXRlKTsKICAgICAgICAgICAgdGhpcy5fc2lnbmFsKCJjaGFuZ2UiLCBkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS4kc2FmZUFwcGx5RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICB2YXIgZG9jTGVuZ3RoID0gdGhpcy4kbGluZXMubGVuZ3RoOwogICAgICAgIGlmIChkZWx0YS5hY3Rpb24gPT0gInJlbW92ZSIgJiYgZGVsdGEuc3RhcnQucm93IDwgZG9jTGVuZ3RoICYmIGRlbHRhLmVuZC5yb3cgPCBkb2NMZW5ndGgKICAgICAgICAgICAgfHwgZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiICYmIGRlbHRhLnN0YXJ0LnJvdyA8PSBkb2NMZW5ndGgpIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKGRlbHRhKTsKICAgICAgICB9CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLiRzcGxpdEFuZGFwcGx5TGFyZ2VEZWx0YSA9IGZ1bmN0aW9uIChkZWx0YSwgTUFYKSB7CiAgICAgICAgdmFyIGxpbmVzID0gZGVsdGEubGluZXM7CiAgICAgICAgdmFyIGwgPSBsaW5lcy5sZW5ndGggLSBNQVggKyAxOwogICAgICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7CiAgICAgICAgdmFyIGNvbHVtbiA9IGRlbHRhLnN0YXJ0LmNvbHVtbjsKICAgICAgICBmb3IgKHZhciBmcm9tID0gMCwgdG8gPSAwOyBmcm9tIDwgbDsgZnJvbSA9IHRvKSB7CiAgICAgICAgICAgIHRvICs9IE1BWCAtIDE7CiAgICAgICAgICAgIHZhciBjaHVuayA9IGxpbmVzLnNsaWNlKGZyb20sIHRvKTsKICAgICAgICAgICAgY2h1bmsucHVzaCgiIik7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgICAgICBzdGFydDogdGhpcy5wb3Mocm93ICsgZnJvbSwgY29sdW1uKSwKICAgICAgICAgICAgICAgIGVuZDogdGhpcy5wb3Mocm93ICsgdG8sIGNvbHVtbiA9IDApLAogICAgICAgICAgICAgICAgYWN0aW9uOiBkZWx0YS5hY3Rpb24sCiAgICAgICAgICAgICAgICBsaW5lczogY2h1bmsKICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgfQogICAgICAgIGRlbHRhLmxpbmVzID0gbGluZXMuc2xpY2UoZnJvbSk7CiAgICAgICAgZGVsdGEuc3RhcnQucm93ID0gcm93ICsgZnJvbTsKICAgICAgICBkZWx0YS5zdGFydC5jb2x1bW4gPSBjb2x1bW47CiAgICAgICAgdGhpcy5hcHBseURlbHRhKGRlbHRhLCB0cnVlKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucmV2ZXJ0RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICB0aGlzLiRzYWZlQXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLmNsb25lUG9zKGRlbHRhLnN0YXJ0KSwKICAgICAgICAgICAgZW5kOiB0aGlzLmNsb25lUG9zKGRlbHRhLmVuZCksCiAgICAgICAgICAgIGFjdGlvbjogKGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiA/ICJyZW1vdmUiIDogImluc2VydCIpLAogICAgICAgICAgICBsaW5lczogZGVsdGEubGluZXMuc2xpY2UoKQogICAgICAgIH0pOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5pbmRleFRvUG9zaXRpb24gPSBmdW5jdGlvbiAoaW5kZXgsIHN0YXJ0Um93KSB7CiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpOwogICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoOwogICAgICAgIGZvciAodmFyIGkgPSBzdGFydFJvdyB8fCAwLCBsID0gbGluZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgICAgIGluZGV4IC09IGxpbmVzW2ldLmxlbmd0aCArIG5ld2xpbmVMZW5ndGg7CiAgICAgICAgICAgIGlmIChpbmRleCA8IDApCiAgICAgICAgICAgICAgICByZXR1cm4geyByb3c6IGksIGNvbHVtbjogaW5kZXggKyBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoIH07CiAgICAgICAgfQogICAgICAgIHJldHVybiB7IHJvdzogbCAtIDEsIGNvbHVtbjogaW5kZXggKyBsaW5lc1tsIC0gMV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aCB9OwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5wb3NpdGlvblRvSW5kZXggPSBmdW5jdGlvbiAocG9zLCBzdGFydFJvdykgewogICAgICAgIHZhciBsaW5lcyA9IHRoaXMuJGxpbmVzIHx8IHRoaXMuZ2V0QWxsTGluZXMoKTsKICAgICAgICB2YXIgbmV3bGluZUxlbmd0aCA9IHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aDsKICAgICAgICB2YXIgaW5kZXggPSAwOwogICAgICAgIHZhciByb3cgPSBNYXRoLm1pbihwb3Mucm93LCBsaW5lcy5sZW5ndGgpOwogICAgICAgIGZvciAodmFyIGkgPSBzdGFydFJvdyB8fCAwOyBpIDwgcm93OyArK2kpCiAgICAgICAgICAgIGluZGV4ICs9IGxpbmVzW2ldLmxlbmd0aCArIG5ld2xpbmVMZW5ndGg7CiAgICAgICAgcmV0dXJuIGluZGV4ICsgcG9zLmNvbHVtbjsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuJHNwbGl0ID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICByZXR1cm4gdGV4dC5zcGxpdCgvXHJcbnxccnxcbi8pOwogICAgfTsKICAgIHJldHVybiBEb2N1bWVudDsKfSgpKTsKRG9jdW1lbnQucHJvdG90eXBlLiRhdXRvTmV3TGluZSA9ICIiOwpEb2N1bWVudC5wcm90b3R5cGUuJG5ld0xpbmVNb2RlID0gImF1dG8iOwpvb3AuaW1wbGVtZW50KERvY3VtZW50LnByb3RvdHlwZSwgRXZlbnRFbWl0dGVyKTsKZXhwb3J0cy5Eb2N1bWVudCA9IERvY3VtZW50OwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbGliL2RlZXBfY29weSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7ZXhwb3J0cy5kZWVwQ29weSA9IGZ1bmN0aW9uIGRlZXBDb3B5KG9iaikgewogICAgaWYgKHR5cGVvZiBvYmogIT09ICJvYmplY3QiIHx8ICFvYmopCiAgICAgICAgcmV0dXJuIG9iajsKICAgIHZhciBjb3B5OwogICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkgewogICAgICAgIGNvcHkgPSBbXTsKICAgICAgICBmb3IgKHZhciBrZXkgPSAwOyBrZXkgPCBvYmoubGVuZ3RoOyBrZXkrKykgewogICAgICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBjb3B5OwogICAgfQogICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopICE9PSAiW29iamVjdCBPYmplY3RdIikKICAgICAgICByZXR1cm4gb2JqOwogICAgY29weSA9IHt9OwogICAgZm9yICh2YXIga2V5IGluIG9iaikKICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICByZXR1cm4gY29weTsKfTsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL2xpYi9sYW5nIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CmV4cG9ydHMubGFzdCA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gYVthLmxlbmd0aCAtIDFdOwp9OwpleHBvcnRzLnN0cmluZ1JldmVyc2UgPSBmdW5jdGlvbiAoc3RyaW5nKSB7CiAgICByZXR1cm4gc3RyaW5nLnNwbGl0KCIiKS5yZXZlcnNlKCkuam9pbigiIik7Cn07CmV4cG9ydHMuc3RyaW5nUmVwZWF0ID0gZnVuY3Rpb24gKHN0cmluZywgY291bnQpIHsKICAgIHZhciByZXN1bHQgPSAnJzsKICAgIHdoaWxlIChjb3VudCA+IDApIHsKICAgICAgICBpZiAoY291bnQgJiAxKQogICAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nOwogICAgICAgIGlmIChjb3VudCA+Pj0gMSkKICAgICAgICAgICAgc3RyaW5nICs9IHN0cmluZzsKICAgIH0KICAgIHJldHVybiByZXN1bHQ7Cn07CnZhciB0cmltQmVnaW5SZWdleHAgPSAvXlxzXHMqLzsKdmFyIHRyaW1FbmRSZWdleHAgPSAvXHNccyokLzsKZXhwb3J0cy5zdHJpbmdUcmltTGVmdCA9IGZ1bmN0aW9uIChzdHJpbmcpIHsKICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSh0cmltQmVnaW5SZWdleHAsICcnKTsKfTsKZXhwb3J0cy5zdHJpbmdUcmltUmlnaHQgPSBmdW5jdGlvbiAoc3RyaW5nKSB7CiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUVuZFJlZ2V4cCwgJycpOwp9OwpleHBvcnRzLmNvcHlPYmplY3QgPSBmdW5jdGlvbiAob2JqKSB7CiAgICB2YXIgY29weSA9IHt9OwogICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGNvcHlba2V5XSA9IG9ialtrZXldOwogICAgfQogICAgcmV0dXJuIGNvcHk7Cn07CmV4cG9ydHMuY29weUFycmF5ID0gZnVuY3Rpb24gKGFycmF5KSB7CiAgICB2YXIgY29weSA9IFtdOwogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcnJheS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICBpZiAoYXJyYXlbaV0gJiYgdHlwZW9mIGFycmF5W2ldID09ICJvYmplY3QiKQogICAgICAgICAgICBjb3B5W2ldID0gdGhpcy5jb3B5T2JqZWN0KGFycmF5W2ldKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIGNvcHlbaV0gPSBhcnJheVtpXTsKICAgIH0KICAgIHJldHVybiBjb3B5Owp9OwpleHBvcnRzLmRlZXBDb3B5ID0gcmVxdWlyZSgiLi9kZWVwX2NvcHkiKS5kZWVwQ29weTsKZXhwb3J0cy5hcnJheVRvTWFwID0gZnVuY3Rpb24gKGFycikgewogICAgdmFyIG1hcCA9IHt9OwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBtYXBbYXJyW2ldXSA9IDE7CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmNyZWF0ZU1hcCA9IGZ1bmN0aW9uIChwcm9wcykgewogICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICBmb3IgKHZhciBpIGluIHByb3BzKSB7CiAgICAgICAgbWFwW2ldID0gcHJvcHNbaV07CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmFycmF5UmVtb3ZlID0gZnVuY3Rpb24gKGFycmF5LCB2YWx1ZSkgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodmFsdWUgPT09IGFycmF5W2ldKSB7CiAgICAgICAgICAgIGFycmF5LnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICB9Cn07CmV4cG9ydHMuZXNjYXBlUmVnRXhwID0gZnVuY3Rpb24gKHN0cikgewogICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7Cn07CmV4cG9ydHMuZXNjYXBlSFRNTCA9IGZ1bmN0aW9uIChzdHIpIHsKICAgIHJldHVybiAoIiIgKyBzdHIpLnJlcGxhY2UoLyYvZywgIiYjMzg7IikucmVwbGFjZSgvIi9nLCAiJiMzNDsiKS5yZXBsYWNlKC8nL2csICImIzM5OyIpLnJlcGxhY2UoLzwvZywgIiYjNjA7Iik7Cn07CmV4cG9ydHMuZ2V0TWF0Y2hPZmZzZXRzID0gZnVuY3Rpb24gKHN0cmluZywgcmVnRXhwKSB7CiAgICB2YXIgbWF0Y2hlcyA9IFtdOwogICAgc3RyaW5nLnJlcGxhY2UocmVnRXhwLCBmdW5jdGlvbiAoc3RyKSB7CiAgICAgICAgbWF0Y2hlcy5wdXNoKHsKICAgICAgICAgICAgb2Zmc2V0OiBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDJdLAogICAgICAgICAgICBsZW5ndGg6IHN0ci5sZW5ndGgKICAgICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIG1hdGNoZXM7Cn07CmV4cG9ydHMuZGVmZXJyZWRDYWxsID0gZnVuY3Rpb24gKGZjbikgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgdmFyIGRlZmVycmVkID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICBkZWZlcnJlZC5jYW5jZWwoKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgMCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLnNjaGVkdWxlID0gZGVmZXJyZWQ7CiAgICBkZWZlcnJlZC5jYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwogICAgZGVmZXJyZWQuaXNQZW5kaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aW1lcjsKICAgIH07CiAgICByZXR1cm4gZGVmZXJyZWQ7Cn07CmV4cG9ydHMuZGVsYXllZENhbGwgPSBmdW5jdGlvbiAoZmNuLCBkZWZhdWx0VGltZW91dCkgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgdmFyIF9zZWxmID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICBpZiAodGltZXIgPT0gbnVsbCkKICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IGRlZmF1bHRUaW1lb3V0KTsKICAgIH07CiAgICBfc2VsZi5kZWxheSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7CiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpOwogICAgfTsKICAgIF9zZWxmLnNjaGVkdWxlID0gX3NlbGY7CiAgICBfc2VsZi5jYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgX3NlbGYuY2FuY2VsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRpbWVyICYmIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgfTsKICAgIF9zZWxmLmlzUGVuZGluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGltZXI7CiAgICB9OwogICAgcmV0dXJuIF9zZWxmOwp9OwpleHBvcnRzLnN1cHBvcnRzTG9va2JlaGluZCA9IGZ1bmN0aW9uICgpIHsKICAgIHRyeSB7CiAgICAgICAgbmV3IFJlZ0V4cCgnKD88PS4pJyk7CiAgICB9CiAgICBjYXRjaCAoZSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHJldHVybiB0cnVlOwp9OwpleHBvcnRzLnN1cHBvcnRzVW5pY29kZUZsYWcgPSBmdW5jdGlvbiAoKSB7CiAgICB0cnkgewogICAgICAgIG5ldyBSZWdFeHAoJ14uJCcsICd1Jyk7CiAgICB9CiAgICBjYXRjaCAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKfTsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3dvcmtlci9taXJyb3IiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIERvY3VtZW50ID0gcmVxdWlyZSgiLi4vZG9jdW1lbnQiKS5Eb2N1bWVudDsKdmFyIGxhbmcgPSByZXF1aXJlKCIuLi9saWIvbGFuZyIpOwogICAgCnZhciBNaXJyb3IgPSBleHBvcnRzLk1pcnJvciA9IGZ1bmN0aW9uKHNlbmRlcikgewogICAgdGhpcy5zZW5kZXIgPSBzZW5kZXI7CiAgICB2YXIgZG9jID0gdGhpcy5kb2MgPSBuZXcgRG9jdW1lbnQoIiIpOwogICAgCiAgICB2YXIgZGVmZXJyZWRVcGRhdGUgPSB0aGlzLmRlZmVycmVkVXBkYXRlID0gbGFuZy5kZWxheWVkQ2FsbCh0aGlzLm9uVXBkYXRlLmJpbmQodGhpcykpOwogICAgCiAgICB2YXIgX3NlbGYgPSB0aGlzOwogICAgc2VuZGVyLm9uKCJjaGFuZ2UiLCBmdW5jdGlvbihlKSB7CiAgICAgICAgdmFyIGRhdGEgPSBlLmRhdGE7CiAgICAgICAgaWYgKGRhdGFbMF0uc3RhcnQpIHsKICAgICAgICAgICAgZG9jLmFwcGx5RGVsdGFzKGRhdGEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gMikgewogICAgICAgICAgICAgICAgdmFyIGQsIGVycjsgCiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhW2krMV0pKSB7CiAgICAgICAgICAgICAgICAgICAgZCA9IHthY3Rpb246ICJpbnNlcnQiLCBzdGFydDogZGF0YVtpXSwgbGluZXM6IGRhdGFbaSsxXX07CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGQgPSB7YWN0aW9uOiAicmVtb3ZlIiwgc3RhcnQ6IGRhdGFbaV0sIGVuZDogZGF0YVtpKzFdfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKChkLmFjdGlvbiA9PSAiaW5zZXJ0IiA/IGQuc3RhcnQgOiBkLmVuZCkucm93ID49IGRvYy4kbGluZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgZXJyID0gbmV3IEVycm9yKCJJbnZhbGlkIGRlbHRhIik7CiAgICAgICAgICAgICAgICAgICAgZXJyLmRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IF9zZWxmLiRwYXRoLAogICAgICAgICAgICAgICAgICAgICAgICBsaW5lc0xlbmd0aDogZG9jLiRsaW5lcy5sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBkLnN0YXJ0LAogICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IGQuZW5kCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZG9jLmFwcGx5RGVsdGEoZCwgdHJ1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKF9zZWxmLiR0aW1lb3V0KQogICAgICAgICAgICByZXR1cm4gZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUoX3NlbGYuJHRpbWVvdXQpOwogICAgICAgIF9zZWxmLm9uVXBkYXRlKCk7CiAgICB9KTsKfTsKCihmdW5jdGlvbigpIHsKICAgIAogICAgdGhpcy4kdGltZW91dCA9IDUwMDsKICAgIAogICAgdGhpcy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24odGltZW91dCkgewogICAgICAgIHRoaXMuJHRpbWVvdXQgPSB0aW1lb3V0OwogICAgfTsKICAgIAogICAgdGhpcy5zZXRWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgdGhpcy5kb2Muc2V0VmFsdWUodmFsdWUpOwogICAgICAgIHRoaXMuZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUodGhpcy4kdGltZW91dCk7CiAgICB9OwogICAgCiAgICB0aGlzLmdldFZhbHVlID0gZnVuY3Rpb24oY2FsbGJhY2tJZCkgewogICAgICAgIHRoaXMuc2VuZGVyLmNhbGxiYWNrKHRoaXMuZG9jLmdldFZhbHVlKCksIGNhbGxiYWNrSWQpOwogICAgfTsKICAgIAogICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgfTsKICAgIAogICAgdGhpcy5pc1BlbmRpbmcgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdGhpcy5kZWZlcnJlZFVwZGF0ZS5pc1BlbmRpbmcoKTsKICAgIH07CiAgICAKfSkuY2FsbChNaXJyb3IucHJvdG90eXBlKTsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL21vZGUvanNvbi9qc29uX3BhcnNlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCiAgICB2YXIgYXQsICAgICAvLyBUaGUgaW5kZXggb2YgdGhlIGN1cnJlbnQgY2hhcmFjdGVyCiAgICAgICAgY2gsICAgICAvLyBUaGUgY3VycmVudCBjaGFyYWN0ZXIKICAgICAgICBlc2NhcGVlID0gewogICAgICAgICAgICAnIic6ICAnIicsCiAgICAgICAgICAgICdcXCc6ICdcXCcsCiAgICAgICAgICAgICcvJzogICcvJywKICAgICAgICAgICAgYjogICAgJ1xiJywKICAgICAgICAgICAgZjogICAgJ1xmJywKICAgICAgICAgICAgbjogICAgJ1xuJywKICAgICAgICAgICAgcjogICAgJ1xyJywKICAgICAgICAgICAgdDogICAgJ1x0JwogICAgICAgIH0sCiAgICAgICAgdGV4dCwKCiAgICAgICAgZXJyb3IgPSBmdW5jdGlvbiAobSkgewoKICAgICAgICAgICAgdGhyb3cgewogICAgICAgICAgICAgICAgbmFtZTogICAgJ1N5bnRheEVycm9yJywKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG0sCiAgICAgICAgICAgICAgICBhdDogICAgICBhdCwKICAgICAgICAgICAgICAgIHRleHQ6ICAgIHRleHQKICAgICAgICAgICAgfTsKICAgICAgICB9LAoKICAgICAgICBuZXh0ID0gZnVuY3Rpb24gKGMpIHsKCiAgICAgICAgICAgIGlmIChjICYmIGMgIT09IGNoKSB7CiAgICAgICAgICAgICAgICBlcnJvcigiRXhwZWN0ZWQgJyIgKyBjICsgIicgaW5zdGVhZCBvZiAnIiArIGNoICsgIiciKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2ggPSB0ZXh0LmNoYXJBdChhdCk7CiAgICAgICAgICAgIGF0ICs9IDE7CiAgICAgICAgICAgIHJldHVybiBjaDsKICAgICAgICB9LAoKICAgICAgICBudW1iZXIgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgbnVtYmVyLAogICAgICAgICAgICAgICAgc3RyaW5nID0gJyc7CgogICAgICAgICAgICBpZiAoY2ggPT09ICctJykgewogICAgICAgICAgICAgICAgc3RyaW5nID0gJy0nOwogICAgICAgICAgICAgICAgbmV4dCgnLScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGNoID09PSAnLicpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSAnLic7CiAgICAgICAgICAgICAgICB3aGlsZSAobmV4dCgpICYmIGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGNoID09PSAnZScgfHwgY2ggPT09ICdFJykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICAgICAgaWYgKGNoID09PSAnLScgfHwgY2ggPT09ICcrJykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB3aGlsZSAoY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbnVtYmVyID0gK3N0cmluZzsKICAgICAgICAgICAgaWYgKGlzTmFOKG51bWJlcikpIHsKICAgICAgICAgICAgICAgIGVycm9yKCJCYWQgbnVtYmVyIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgc3RyaW5nID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGhleCwKICAgICAgICAgICAgICAgIGksCiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJywKICAgICAgICAgICAgICAgIHVmZmZmOwoKICAgICAgICAgICAgaWYgKGNoID09PSAnIicpIHsKICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KCkpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICciJykgewogICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmc7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJ1xcJykgewogICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ3UnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ZmZmZiA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSArPSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGV4ID0gcGFyc2VJbnQobmV4dCgpLCAxNik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0Zpbml0ZShoZXgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ZmZmZiA9IHVmZmZmICogMTYgKyBoZXg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh1ZmZmZik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVzY2FwZWVbY2hdID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGVzY2FwZWVbY2hdOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09ICJcbiIgfHwgY2ggPT0gIlxyIikgewogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJCYWQgc3RyaW5nIik7CiAgICAgICAgfSwKCiAgICAgICAgd2hpdGUgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB3aGlsZSAoY2ggJiYgY2ggPD0gJyAnKSB7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICB3b3JkID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgc3dpdGNoIChjaCkgewogICAgICAgICAgICBjYXNlICd0JzoKICAgICAgICAgICAgICAgIG5leHQoJ3QnKTsKICAgICAgICAgICAgICAgIG5leHQoJ3InKTsKICAgICAgICAgICAgICAgIG5leHQoJ3UnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2UnKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICBjYXNlICdmJzoKICAgICAgICAgICAgICAgIG5leHQoJ2YnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2EnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIG5leHQoJ3MnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2UnKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgY2FzZSAnbic6CiAgICAgICAgICAgICAgICBuZXh0KCduJyk7CiAgICAgICAgICAgICAgICBuZXh0KCd1Jyk7CiAgICAgICAgICAgICAgICBuZXh0KCdsJyk7CiAgICAgICAgICAgICAgICBuZXh0KCdsJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiVW5leHBlY3RlZCAnIiArIGNoICsgIiciKTsKICAgICAgICB9LAoKICAgICAgICB2YWx1ZSwgIC8vIFBsYWNlIGhvbGRlciBmb3IgdGhlIHZhbHVlIGZ1bmN0aW9uLgoKICAgICAgICBhcnJheSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBhcnJheSA9IFtdOwoKICAgICAgICAgICAgaWYgKGNoID09PSAnWycpIHsKICAgICAgICAgICAgICAgIG5leHQoJ1snKTsKICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICddJykgewogICAgICAgICAgICAgICAgICAgIG5leHQoJ10nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXk7ICAgLy8gZW1wdHkgYXJyYXkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCkgewogICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2godmFsdWUoKSk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICddJykgewogICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCddJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnLCcpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBhcnJheSIpOwogICAgICAgIH0sCgogICAgICAgIG9iamVjdCA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBrZXksCiAgICAgICAgICAgICAgICBvYmplY3QgPSB7fTsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJ3snKSB7CiAgICAgICAgICAgICAgICBuZXh0KCd7Jyk7CiAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgaWYgKGNoID09PSAnfScpIHsKICAgICAgICAgICAgICAgICAgICBuZXh0KCd9Jyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsgICAvLyBlbXB0eSBvYmplY3QKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCkgewogICAgICAgICAgICAgICAgICAgIGtleSA9IHN0cmluZygpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnOicpOwogICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IoJ0R1cGxpY2F0ZSBrZXkgIicgKyBrZXkgKyAnIicpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlKCk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd9JykgewogICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCd9Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG5leHQoJywnKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJCYWQgb2JqZWN0Iik7CiAgICAgICAgfTsKCiAgICB2YWx1ZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgd2hpdGUoKTsKICAgICAgICBzd2l0Y2ggKGNoKSB7CiAgICAgICAgY2FzZSAneyc6CiAgICAgICAgICAgIHJldHVybiBvYmplY3QoKTsKICAgICAgICBjYXNlICdbJzoKICAgICAgICAgICAgcmV0dXJuIGFycmF5KCk7CiAgICAgICAgY2FzZSAnIic6CiAgICAgICAgICAgIHJldHVybiBzdHJpbmcoKTsKICAgICAgICBjYXNlICctJzoKICAgICAgICAgICAgcmV0dXJuIG51bWJlcigpOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybiBjaCA+PSAnMCcgJiYgY2ggPD0gJzknID8gbnVtYmVyKCkgOiB3b3JkKCk7CiAgICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSwgcmV2aXZlcikgewogICAgICAgIHZhciByZXN1bHQ7CgogICAgICAgIHRleHQgPSBzb3VyY2U7CiAgICAgICAgYXQgPSAwOwogICAgICAgIGNoID0gJyAnOwogICAgICAgIHJlc3VsdCA9IHZhbHVlKCk7CiAgICAgICAgd2hpdGUoKTsKICAgICAgICBpZiAoY2gpIHsKICAgICAgICAgICAgZXJyb3IoIlN5bnRheCBlcnJvciIpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHR5cGVvZiByZXZpdmVyID09PSAnZnVuY3Rpb24nID8gZnVuY3Rpb24gd2Fsayhob2xkZXIsIGtleSkgewogICAgICAgICAgICB2YXIgaywgdiwgdmFsdWUgPSBob2xkZXJba2V5XTsKICAgICAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICAgIGZvciAoayBpbiB2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgaykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdiA9IHdhbGsodmFsdWUsIGspOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVtrXSA9IHY7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdmFsdWVba107CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJldml2ZXIuY2FsbChob2xkZXIsIGtleSwgdmFsdWUpOwogICAgICAgIH0oeycnOiByZXN1bHR9LCAnJykgOiByZXN1bHQ7CiAgICB9Owp9KTsKCmFjZS5kZWZpbmUoImFjZS9tb2RlL2pzb25fd29ya2VyIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCnZhciBvb3AgPSByZXF1aXJlKCIuLi9saWIvb29wIik7CnZhciBNaXJyb3IgPSByZXF1aXJlKCIuLi93b3JrZXIvbWlycm9yIikuTWlycm9yOwp2YXIgcGFyc2UgPSByZXF1aXJlKCIuL2pzb24vanNvbl9wYXJzZSIpOwoKdmFyIEpzb25Xb3JrZXIgPSBleHBvcnRzLkpzb25Xb3JrZXIgPSBmdW5jdGlvbihzZW5kZXIpIHsKICAgIE1pcnJvci5jYWxsKHRoaXMsIHNlbmRlcik7CiAgICB0aGlzLnNldFRpbWVvdXQoMjAwKTsKfTsKCm9vcC5pbmhlcml0cyhKc29uV29ya2VyLCBNaXJyb3IpOwoKKGZ1bmN0aW9uKCkgewoKICAgIHRoaXMub25VcGRhdGUgPSBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmRvYy5nZXRWYWx1ZSgpOwogICAgICAgIHZhciBlcnJvcnMgPSBbXTsKICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAodmFsdWUpCiAgICAgICAgICAgICAgICBwYXJzZSh2YWx1ZSk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICB2YXIgcG9zID0gdGhpcy5kb2MuaW5kZXhUb1Bvc2l0aW9uKGUuYXQtMSk7CiAgICAgICAgICAgIGVycm9ycy5wdXNoKHsKICAgICAgICAgICAgICAgIHJvdzogcG9zLnJvdywKICAgICAgICAgICAgICAgIGNvbHVtbjogcG9zLmNvbHVtbiwKICAgICAgICAgICAgICAgIHRleHQ6IGUubWVzc2FnZSwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIHRoaXMuc2VuZGVyLmVtaXQoImFubm90YXRlIiwgZXJyb3JzKTsKICAgIH07Cgp9KS5jYWxsKEpzb25Xb3JrZXIucHJvdG90eXBlKTsKCn0pOwo="},7907:function(me,k,ue){"use strict";ue.d(k,{Iu:function(){return J},cC:function(){return oe},m0:function(){return ye}}),ue(4987);var we={en:{array:"Array",auto:"Auto",appendText:"Append",appendTitle:"Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)",appendSubmenuTitle:"Select the type of the field to be appended",appendTitleAuto:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascending",ascendingTitle:"Sort the childs of this ${type} in ascending order",actionsMenu:"Click to open the actions menu (Ctrl+M)",cannotParseFieldError:"Cannot parse field into JSON",cannotParseValueError:"Cannot parse value into JSON",collapseAll:"Collapse all fields",compactTitle:"Compact JSON data, remove all whitespaces (Ctrl+Shift+I)",descending:"Descending",descendingTitle:"Sort the childs of this ${type} in descending order",drag:"Drag to move this field (Alt+Shift+Arrows)",duplicateKey:"duplicate key",duplicateText:"Duplicate",duplicateTitle:"Duplicate selected fields (Ctrl+D)",duplicateField:"Duplicate this field (Ctrl+D)",duplicateFieldError:"Duplicate field name",empty:"empty",expandAll:"Expand all fields",expandTitle:"Click to expand/collapse this field (Ctrl+E). \nCtrl+Click to expand/collapse including all childs.",formatTitle:"Format JSON data, with proper indentation and line feeds (Ctrl+I)",insert:"Insert",insertTitle:"Insert a new field with type 'auto' before this field (Ctrl+Ins)",insertSub:"Select the type of the field to be inserted",object:"Object",ok:"Ok",redo:"Redo (Ctrl+Shift+Z)",removeText:"Remove",removeTitle:"Remove selected fields (Ctrl+Del)",removeField:"Remove this field (Ctrl+Del)",repairTitle:"Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.",searchTitle:"Search fields and values",searchNextResultTitle:"Next result (Enter)",searchPreviousResultTitle:"Previous result (Shift + Enter)",selectNode:"Select a node...",showAll:"show all",showMore:"show more",showMoreStatus:"displaying ${visibleChilds} of ${totalChilds} items.",sort:"Sort",sortTitle:"Sort the childs of this ${type}",sortTitleShort:"Sort contents",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"String",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",extract:"Extract",extractTitle:"Extract this ${type}",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Type",typeTitle:"Change the type of this field",openUrl:"Ctrl+Click or Ctrl+Enter to open url in new window",undo:"Undo last action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',objectType:'Field type "object". An object contains an unordered set of key/value pairs.',arrayType:'Field type "array". An array contains an ordered collection of values.',stringType:'Field type "string". Field type is not determined from the value, but always returned as string.',modeEditorTitle:"Switch Editor Mode",modeCodeText:"Code",modeCodeTitle:"Switch to code highlighter",modeFormText:"Form",modeFormTitle:"Switch to form editor",modeTextText:"Text",modeTextTitle:"Switch to plain text editor",modeTreeText:"Tree",modeTreeTitle:"Switch to tree editor",modeViewText:"View",modeViewTitle:"Switch to tree view",modePreviewText:"Preview",modePreviewTitle:"Switch to preview mode",examples:"Examples",default:"Default",containsInvalidProperties:"Contains invalid properties",containsInvalidItems:"Contains invalid items"},es:{array:"Matriz",auto:"Auto",appendText:"Agregar",appendTitle:"Agregue un nuevo campo con el tipo 'auto' despu\xe9s de este campo (Ctrl + Shift + Ins)",appendSubmenuTitle:"Seleccione el tipo de campo que se agregar\xe1",appendTitleAuto:"Agregue un nuevo campo con el tipo 'auto' (Ctrl + Shift + Ins)",ascending:"Ascendente",ascendingTitle:"Ordene los elementos secundarios de este ${type} en orden ascendente",actionsMenu:"Haga clic para abrir el men\xfa de acciones (Ctrl + M)",cannotParseFieldError:"No se puede parsear el campo en JSON",cannotParseValueError:"No se puede parsear el valor en JSON",collapseAll:"Contraer todos los campos",compactTitle:"Compactar datos JSON, eliminar todos los espacios en blanco (Ctrl + Shift + I)",descending:"Descendente",descendingTitle:"Ordene los hijos de este ${type} en orden descendente",drag:"Arrastre para mover este campo (Alt + May\xfas + Flechas)",duplicateKey:"llave duplicada",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos seleccionados (Ctrl + D)",duplicateField:"Duplicar este campo (Ctrl + D)",duplicateFieldError:"Nombre de campo duplicado",empty:"vacio",expandAll:"Expandir todos los campos",expandTitle:"Haga clic para expandir/contraer este campo (Ctrl + E). \n  Ctrl+Clic para expandir/contraer incluyendo todos los ni\xf1os.",formatTitle:"Formatee los datos JSON, con la sangr\xeda y los avances de l\xednea adecuados (Ctrl + I)",insert:"Insertar",insertTitle:"Inserte un nuevo campo con el tipo 'auto' antes de este campo (Ctrl + Ins)",insertSub:"Seleccione el tipo de campo a insertar",object:"Objeto",ok:"Ok",redo:"Rehacer (Ctrl+May\xfas+Z)",removeText:"Eliminar",removeTitle:"Eliminar campos seleccionados (Ctrl+Supr)",removeField:"Eliminar este campo (Ctrl+Supr)",repairTitle:"Reparar JSON: corrija comillas y caracteres de escape, elimine comentarios y notaci\xf3n JSONP, convierta objetos JavaScript en JSON.",searchTitle:"Campos de b\xfasqueda y valores",searchNextResultTitle:"Siguiente resultado (Entrar)",searchPreviousResultTitle:"Resultado anterior (Shift + Enter)",selectNode:"Seleccione un nodo...",showAll:"mostrar todo",showMore:"mostrar m\xe1s",showMoreStatus:"mostrando ${visibleChilds} de ${totalChilds} elementos.",sort:"Ordenar",sortTitle:"Ordene los hijos de este ${type}",sortTitleShort:"Ordenar contenidos",sortFieldLabel:"Campo:",sortDirectionLabel:"Direcci\xf3n:",sortFieldTitle:"Seleccione el campo anidado por el cual ordenar la matriz u objeto",sortAscending:"Ascendente",sortAscendingTitle:"Ordenar el campo seleccionado en orden ascendente",sortDescending:"Descendente",sortDescendingTitle:"Ordenar por el campo seleccionado, en orden descendente",string:"Texto",transform:"Transformar",transformTitle:"Filtrar, ordenar o transformar los hijos de este ${type}",transformTitleShort:"Filtrar, ordenar o transformar contenidos",extract:"Extraer",extractTitle:"Extrae este ${type}",transformQueryTitle:"Ingrese una consulta JMESPath",transformWizardLabel:"Wizard",transformWizardFilter:"Filtro",transformWizardSortBy:"Ordenar por",transformWizardSelectFields:"Seleccione un campo",transformQueryLabel:"Consulta",transformPreviewLabel:"Vista Previa",type:"Tipo",typeTitle:"Cambiar el tipo de campo",openUrl:"Ctrl+Click o Ctrl+Enter para abrir la URL en una nueva ventana",undo:"Deshacer la \xfaltima acci\xf3n (Ctrl+Z)",validationCannotMove:"No se puede mover un campo a un hijo de s\xed mismo.",autoType:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',objectType:'Tipo de campo "objeto".  Un objeto contiene un conjunto desordenado de pares clave/valor.',arrayType:'Tipo de campo "matriz".  Una matriz contiene una colecci\xf3n ordenada de valores.',stringType:'Tipo de campo "cadena".  El tipo de campo no se determina a partir del valor,  pero siempre se devuelve como una cadena.',modeEditorTitle:"Cambiar modo de editor",modeCodeText:"Codigo",modeCodeTitle:"Cambiar al resaltador de c\xf3digo",modeFormText:"Formulario",modeFormTitle:"Cambiar al editor de formularios",modeTextText:"Texto",modeTextTitle:"Cambiar al editor de texto sin formato",modeTreeText:"Arbol",modeTreeTitle:"Cambiar al editor de \xe1rbol",modeViewText:"Vista",modeViewTitle:"Cambiar a la vista de \xe1rbol",modePreviewText:"Vista Previa",modePreviewTitle:"Cambiar al modo de vista previa",examples:"Ejemplos",default:"Predeterminado",containsInvalidProperties:"Contiene propiedades no validas",containsInvalidItems:"Contiene items no validos"},"zh-CN":{array:"\u6570\u7ec4",auto:"\u81ea\u52a8",appendText:"\u8ffd\u52a0",appendTitle:"\u5728\u6b64\u5b57\u6bb5\u540e\u8ffd\u52a0\u4e00\u4e2a\u7c7b\u578b\u4e3a\u201cauto\u201d\u7684\u65b0\u5b57\u6bb5 (Ctrl+Shift+Ins)",appendSubmenuTitle:"\u9009\u62e9\u8981\u8ffd\u52a0\u7684\u5b57\u6bb5\u7c7b\u578b",appendTitleAuto:"\u8ffd\u52a0\u7c7b\u578b\u4e3a\u201cauto\u201d\u7684\u65b0\u5b57\u6bb5 (Ctrl+Shift+Ins)",ascending:"\u5347\u5e8f",ascendingTitle:"\u5347\u5e8f\u6392\u5217${type}\u7684\u5b50\u8282\u70b9",actionsMenu:"\u70b9\u51fb\u6253\u5f00\u52a8\u4f5c\u83dc\u5355(Ctrl+M)",cannotParseFieldError:"\u65e0\u6cd5\u5c06\u5b57\u6bb5\u89e3\u6790\u4e3aJSON",cannotParseValueError:"\u65e0\u6cd5\u5c06\u503c\u89e3\u6790\u4e3aJSON",collapseAll:"\u7f29\u8fdb\u6240\u6709\u5b57\u6bb5",compactTitle:"\u538b\u7f29JSON\u6570\u636e\uff0c\u5220\u9664\u6240\u6709\u7a7a\u683c (Ctrl+Shift+I)",descending:"\u964d\u5e8f",descendingTitle:"\u964d\u5e8f\u6392\u5217${type}\u7684\u5b50\u8282\u70b9",drag:"\u62d6\u62fd\u79fb\u52a8\u8be5\u8282\u70b9(Alt+Shift+Arrows)",duplicateKey:"\u91cd\u590d\u952e",duplicateText:"\u590d\u5236",duplicateTitle:"\u590d\u5236\u9009\u4e2d\u5b57\u6bb5(Ctrl+D)",duplicateField:"\u590d\u5236\u8be5\u5b57\u6bb5(Ctrl+D)",duplicateFieldError:"\u91cd\u590d\u7684\u5b57\u6bb5\u540d\u79f0",empty:"\u6e05\u7a7a",expandAll:"\u5c55\u5f00\u6240\u6709\u5b57\u6bb5",expandTitle:"\u70b9\u51fb \u5c55\u5f00/\u6536\u7f29 \u8be5\u5b57\u6bb5(Ctrl+E). \nCtrl+Click \u5c55\u5f00/\u6536\u7f29 \u5305\u542b\u6240\u6709\u5b50\u8282\u70b9.",formatTitle:"\u4f7f\u7528\u9002\u5f53\u7684\u7f29\u8fdb\u548c\u6362\u884c\u7b26\u683c\u5f0f\u5316JSON\u6570\u636e (Ctrl+I)",insert:"\u63d2\u5165",insertTitle:"\u5728\u6b64\u5b57\u6bb5\u524d\u63d2\u5165\u7c7b\u578b\u4e3a\u201cauto\u201d\u7684\u65b0\u5b57\u6bb5 (Ctrl+Ins)",insertSub:"\u9009\u62e9\u8981\u63d2\u5165\u7684\u5b57\u6bb5\u7c7b\u578b",object:"\u5bf9\u8c61",ok:"Ok",redo:"\u91cd\u505a (Ctrl+Shift+Z)",removeText:"\u79fb\u9664",removeTitle:"\u79fb\u9664\u9009\u4e2d\u5b57\u6bb5 (Ctrl+Del)",removeField:"\u79fb\u9664\u8be5\u5b57\u6bb5 (Ctrl+Del)",repairTitle:"\u4fee\u590dJSON\uff1a\u4fee\u590d\u5f15\u53f7\u548c\u8f6c\u4e49\u7b26\uff0c\u5220\u9664\u6ce8\u91ca\u548cJSONP\u8868\u793a\u6cd5\uff0c\u5c06JavaScript\u5bf9\u8c61\u8f6c\u6362\u4e3aJSON\u3002",selectNode:"\u9009\u62e9\u4e00\u4e2a\u8282\u70b9...",showAll:"\u5c55\u793a\u5168\u90e8",showMore:"\u5c55\u793a\u66f4\u591a",showMoreStatus:"\u663e\u793a${totalChilds}\u7684${visibleChilds}\u9879\u76ee.",sort:"\u6392\u5e8f",sortTitle:"\u6392\u5e8f${type}\u7684\u5b50\u8282\u70b9",sortTitleShort:"\u5185\u5bb9\u6392\u5e8f",sortFieldLabel:"\u5b57\u6bb5\uff1a",sortDirectionLabel:"\u65b9\u5411\uff1a",sortFieldTitle:"\u9009\u62e9\u7528\u4e8e\u5bf9\u6570\u7ec4\u6216\u5bf9\u8c61\u6392\u5e8f\u7684\u5d4c\u5957\u5b57\u6bb5",sortAscending:"\u5347\u5e8f\u6392\u5e8f",sortAscendingTitle:"\u6309\u7167\u8be5\u5b57\u6bb5\u5347\u5e8f\u6392\u5e8f",sortDescending:"\u964d\u5e8f\u6392\u5e8f",sortDescendingTitle:"\u6309\u7167\u8be5\u5b57\u6bb5\u964d\u5e8f\u6392\u5e8f",string:"\u5b57\u7b26\u4e32",transform:"\u53d8\u6362",transformTitle:"\u7b5b\u9009\uff0c\u6392\u5e8f\uff0c\u6216\u8005\u8f6c\u6362${type}\u7684\u5b50\u8282\u70b9",transformTitleShort:"\u7b5b\u9009\uff0c\u6392\u5e8f\uff0c\u6216\u8005\u8f6c\u6362\u5185\u5bb9",extract:"\u63d0\u53d6",extractTitle:"\u63d0\u53d6\u8fd9\u4e2a ${type}",transformQueryTitle:"\u8f93\u5165JMESPath\u67e5\u8be2",transformWizardLabel:"\u5411\u5bfc",transformWizardFilter:"\u7b5b\u9009",transformWizardSortBy:"\u6392\u5e8f",transformWizardSelectFields:"\u9009\u62e9\u5b57\u6bb5",transformQueryLabel:"\u67e5\u8be2",transformPreviewLabel:"\u9884\u89c8",type:"\u7c7b\u578b",typeTitle:"\u66f4\u6539\u5b57\u6bb5\u7c7b\u578b",openUrl:"Ctrl+Click \u6216\u8005 Ctrl+Enter \u5728\u65b0\u7a97\u53e3\u6253\u5f00\u94fe\u63a5",undo:"\u64a4\u9500\u4e0a\u6b21\u52a8\u4f5c (Ctrl+Z)",validationCannotMove:"\u65e0\u6cd5\u5c06\u5b57\u6bb5\u79fb\u5165\u5176\u5b50\u8282\u70b9",autoType:'\u5b57\u6bb5\u7c7b\u578b "auto". \u5b57\u6bb5\u7c7b\u578b\u7531\u503c\u81ea\u52a8\u786e\u5b9a \u53ef\u4ee5\u4e3a string\uff0cnumber\uff0cboolean\uff0c\u6216\u8005 null.',objectType:'\u5b57\u6bb5\u7c7b\u578b "object". \u5bf9\u8c61\u5305\u542b\u4e00\u7ec4\u65e0\u5e8f\u7684\u952e/\u503c\u5bf9.',arrayType:'\u5b57\u6bb5\u7c7b\u578b "array". \u6570\u7ec4\u5305\u542b\u503c\u7684\u6709\u5e8f\u96c6\u5408.',stringType:'\u5b57\u6bb5\u7c7b\u578b "string". \u5b57\u6bb5\u7c7b\u578b\u7531\u503c\u81ea\u52a8\u786e\u5b9a\uff0c\u4f46\u59cb\u7ec8\u4f5c\u4e3a\u5b57\u7b26\u4e32\u8fd4\u56de.',modeCodeText:"\u4ee3\u7801",modeCodeTitle:"\u5207\u6362\u81f3\u4ee3\u7801\u9ad8\u4eae",modeFormText:"\u8868\u5355",modeFormTitle:"\u5207\u6362\u81f3\u8868\u5355\u7f16\u8f91",modeTextText:"\u6587\u672c",modeTextTitle:"\u5207\u6362\u81f3\u6587\u672c\u7f16\u8f91",modeTreeText:"\u6811",modeTreeTitle:"\u5207\u6362\u81f3\u6811\u7f16\u8f91",modeViewText:"\u89c6\u56fe",modeViewTitle:"\u5207\u6362\u81f3\u6811\u89c6\u56fe",modePreviewText:"\u9884\u89c8",modePreviewTitle:"\u5207\u6362\u81f3\u9884\u89c8\u6a21\u5f0f",examples:"\u4f8b\u5b50",default:"\u7f3a\u7701",containsInvalidProperties:"\u5305\u542b\u65e0\u6548\u7684\u5c5e\u6027",containsInvalidItems:"\u5305\u542b\u65e0\u6548\u9879\u76ee"},"pt-BR":{array:"Lista",auto:"Automatico",appendText:"Adicionar",appendTitle:"Adicionar novo campo com tipo 'auto' depois deste campo (Ctrl+Shift+Ins)",appendSubmenuTitle:"Selecione o tipo do campo a ser adicionado",appendTitleAuto:"Adicionar novo campo com tipo 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendente",ascendingTitle:"Organizar filhor do tipo ${type} em crescente",actionsMenu:"Clique para abrir o menu de a\xe7\xf5es (Ctrl+M)",cannotParseFieldError:"N\xe3o \xe9 poss\xedvel analisar o campo no JSON",cannotParseValueError:"N\xe3o \xe9 poss\xedvel analisar o valor em JSON",collapseAll:"Fechar todos campos",compactTitle:"Dados JSON compactos, remova todos os espa\xe7os em branco (Ctrl+Shift+I)",descending:"Descendente",descendingTitle:"Organizar o filhos do tipo ${type} em decrescente",duplicateKey:"chave duplicada",drag:"Arraste para mover este campo (Alt+Shift+Arrows)",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos selecionados (Ctrl+D)",duplicateField:"Duplicar este campo (Ctrl+D)",duplicateFieldError:"Nome do campo duplicado",empty:"vazio",expandAll:"Expandir todos campos",expandTitle:"Clique para expandir/encolher este campo (Ctrl+E). \nCtrl+Click para expandir/encolher incluindo todos os filhos.",formatTitle:"Formate dados JSON, com recuo e feeds de linha adequados (Ctrl+I)",insert:"Inserir",insertTitle:"Inserir um novo campo do tipo 'auto' antes deste campo (Ctrl+Ins)",insertSub:"Selecionar o tipo de campo a ser inserido",object:"Objeto",ok:"Ok",redo:"Refazer (Ctrl+Shift+Z)",removeText:"Remover",removeTitle:"Remover campos selecionados (Ctrl+Del)",removeField:"Remover este campo (Ctrl+Del)",repairTitle:"Repare JSON: corrija aspas e caracteres de escape, remova coment\xe1rios e nota\xe7\xe3o JSONP, transforme objetos JavaScript em JSON.",selectNode:"Selecione um n\xf3dulo...",showAll:"mostrar todos",showMore:"mostrar mais",showMoreStatus:"exibindo ${visibleChilds} de ${totalChilds} itens.",sort:"Organizar",sortTitle:"Organizar os filhos deste ${type}",sortTitleShort:"Organizar os filhos",sortFieldLabel:"Campo:",sortDirectionLabel:"Dire\xe7\xe3o:",sortFieldTitle:"Selecione um campo filho pelo qual ordenar o array ou objeto",sortAscending:"Ascendente",sortAscendingTitle:"Ordenar o campo selecionado por ordem ascendente",sortDescending:"Descendente",sortDescendingTitle:"Ordenar o campo selecionado por ordem descendente",string:"Texto",transform:"Transformar",transformTitle:"Filtrar, ordenar ou transformar os filhos deste ${type}",transformTitleShort:"Filtrar, ordenar ou transformar conte\xfados",transformQueryTitle:"Insira uma express\xe3o JMESPath",transformWizardLabel:"Assistente",transformWizardFilter:"Filtro",transformWizardSortBy:"Ordenar por",transformWizardSelectFields:"Selecionar campos",transformQueryLabel:"Express\xe3o",transformPreviewLabel:"Visualizar",type:"Tipo",typeTitle:"Mudar o tipo deste campo",openUrl:"Ctrl+Click ou Ctrl+Enter para abrir link em nova janela",undo:"Desfazer \xfaltimo a\xe7\xe3o (Ctrl+Z)",validationCannotMove:"N\xe3o pode mover um campo como filho dele mesmo",autoType:'Campo do tipo "auto". O tipo do campo \xe9 determinao automaticamente a partir do seu valor e pode ser texto, n\xfamero, verdade/falso ou nulo.',objectType:'Campo do tipo "objeto". Um objeto cont\xe9m uma lista de pares com chave e valor.',arrayType:'Campo do tipo "lista". Uma lista contem uma cole\xe7\xe3o de valores ordenados.',stringType:'Campo do tipo "string". Campo do tipo nao \xe9 determinado atrav\xe9s do seu valor, mas sempre retornara um texto.',examples:"Exemplos",default:"Revelia",containsInvalidProperties:"Cont\xe9m propriedades inv\xe1lidas",containsInvalidItems:"Cont\xe9m itens inv\xe1lidos"},tr:{array:"Dizin",auto:"Otomatik",appendText:"Ekle",appendTitle:"Bu alan\u0131n alt\u0131na 'otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)",appendSubmenuTitle:"Eklenecek alan\u0131n tipini se\xe7",appendTitleAuto:"'Otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)",ascending:"Artan",ascendingTitle:"${type}'\u0131n alt tiplerini artan d\xfczende s\u0131rala",actionsMenu:"Aksiyon men\xfcs\xfcn\xfc a\xe7mak i\xe7in t\u0131klay\u0131n (Ctrl+M)",collapseAll:"T\xfcm alanlar\u0131 kapat",descending:"Azalan",descendingTitle:"${type}'\u0131n alt tiplerini azalan d\xfczende s\u0131rala",drag:"Bu alan\u0131 ta\u015f\u0131mak i\xe7in s\xfcr\xfckleyin (Alt+Shift+Arrows)",duplicateKey:"Var olan anahtar",duplicateText:"A\u015fa\u011f\u0131ya kopyala",duplicateTitle:"Se\xe7ili alanlardan bir daha olu\u015ftur (Ctrl+D)",duplicateField:"Bu alandan bir daha olu\u015ftur (Ctrl+D)",duplicateFieldError:"Duplicate field name",cannotParseFieldError:"Alan JSON'a ayr\u0131\u015ft\u0131r\u0131lam\u0131yor",cannotParseValueError:"JSON'a de\u011fer ayr\u0131\u015ft\u0131r\u0131lam\u0131yor",empty:"bo\u015f",expandAll:"T\xfcm alanlar\u0131 a\xe7",expandTitle:"Bu alan\u0131 a\xe7mak/kapatmak i\xe7in t\u0131kla (Ctrl+E). \nAlt alanlarda dahil t\xfcm alanlar\u0131 a\xe7mak i\xe7in Ctrl+Click ",insert:"Ekle",insertTitle:"Bu alan\u0131n \xfcst\xfcne 'otomatik' tipinde yeni bir alan ekle (Ctrl+Ins)",insertSub:"Araya eklenecek alan\u0131n tipini se\xe7",object:"Nesne",ok:"Tamam",redo:"Yeniden yap (Ctrl+Shift+Z)",removeText:"Kald\u0131r",removeTitle:"Se\xe7ilen alanlar\u0131 kald\u0131r (Ctrl+Del)",removeField:"Bu alan\u0131 kald\u0131r (Ctrl+Del)",selectNode:"Bir nesne se\xe7...",showAll:"t\xfcm\xfcn\xfc g\xf6ster",showMore:"daha fazla g\xf6ster",showMoreStatus:"${totalChilds} alan\u0131n ${visibleChilds} alt alanlar\u0131 g\xf6steriliyor",sort:"S\u0131rala",sortTitle:"${type}'\u0131n alt alanlar\u0131n\u0131 s\u0131rala",sortTitleShort:"\u0130\xe7erikleri s\u0131rala",sortFieldLabel:"Alan:",sortDirectionLabel:"Y\xf6n:",sortFieldTitle:"Diziyi veya nesneyi s\u0131ralamak i\xe7in i\xe7 i\xe7e ge\xe7mi\u015f alan\u0131 se\xe7in",sortAscending:"Artan",sortAscendingTitle:"Se\xe7ili alan\u0131 artan d\xfczende s\u0131rala",sortDescending:"Azalan",sortDescendingTitle:"Se\xe7ili alan\u0131 azalan d\xfczende s\u0131rala",string:"Karakter Dizisi",transform:"D\xf6n\xfc\u015ft\xfcr",transformTitle:"${type}'\u0131n alt alanlar\u0131n\u0131 filtrele, s\u0131rala veya d\xf6n\xfc\u015ft\xfcr",transformTitleShort:"\u0130\xe7erikleri filterele, s\u0131rala veya d\xf6n\xfc\u015ft\xfcr",transformQueryTitle:"JMESPath sorgusu gir",transformWizardLabel:"Sihirbaz",transformWizardFilter:"Filtre",transformWizardSortBy:"S\u0131rala",transformWizardSelectFields:"Alanlar\u0131 se\xe7",transformQueryLabel:"Sorgu",transformPreviewLabel:"\xd6nizleme",type:"Tip",typeTitle:"Bu alan\u0131n tipini de\u011fi\u015ftir",openUrl:"URL'i yeni bir pencerede a\xe7mak i\xe7in Ctrl+Click veya Ctrl+Enter",undo:"Son de\u011fi\u015fikli\u011fi geri al (Ctrl+Z)",validationCannotMove:"Alt alan olarak ta\u015f\u0131nam\u0131yor",autoType:'Alan tipi "otomatik". Alan t\xfcr\xfc otomatik olarak de\u011ferden belirlenirve bir dize, say\u0131, boolean veya null olabilir.',objectType:'Alan tipi "nesne". Bir nesne, s\u0131ralanmam\u0131\u015f bir anahtar / de\u011fer \xe7ifti k\xfcmesi i\xe7erir.',arrayType:'Alan tipi "dizi". Bir dizi, d\xfczenli de\u011ferler koleksiyonu i\xe7erir.',stringType:'Alan tipi "karakter dizisi". Alan t\xfcr\xfc de\u011ferden belirlenmez,ancak her zaman karakter dizisi olarak d\xf6nd\xfcr\xfcl\xfcr.',modeCodeText:"Kod",modeCodeTitle:"Kod vurgulay\u0131c\u0131ya ge\xe7",modeFormText:"Form",modeFormTitle:"Form d\xfczenleyiciye ge\xe7",modeTextText:"Metin",modeTextTitle:"D\xfcz metin d\xfczenleyiciye ge\xe7",modeTreeText:"A\u011fa\xe7",modeTreeTitle:"A\u011fa\xe7 d\xfczenleyiciye ge\xe7",modeViewText:"G\xf6r\xfcn\xfcm",modeViewTitle:"A\u011fa\xe7 g\xf6r\xfcn\xfcm\xfcne ge\xe7",examples:"\xd6rnekler",default:"Varsay\u0131lan",containsInvalidProperties:"Ge\xe7ersiz \xf6zellikler i\xe7eriyor",containsInvalidItems:"Ge\xe7ersiz \xf6\u011feler i\xe7eriyor"},ja:{array:"\u914d\u5217",auto:"\u30aa\u30fc\u30c8",appendText:"\u8ffd\u52a0",appendTitle:'\u6b21\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b"\u30aa\u30fc\u30c8"\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0 (Ctrl+Shift+Ins)',appendSubmenuTitle:"\u8ffd\u52a0\u3059\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",appendTitleAuto:'"\u30aa\u30fc\u30c8"\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0 (Ctrl+Shift+Ins)',ascending:"\u6607\u9806",ascendingTitle:"${type}\u306e\u5b50\u8981\u7d20\u3092\u6607\u9806\u306b\u4e26\u3079\u66ff\u3048",actionsMenu:"\u30af\u30ea\u30c3\u30af\u3057\u3066\u30a2\u30af\u30b7\u30e7\u30f3\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u304f (Ctrl+M)",collapseAll:"\u3059\u3079\u3066\u3092\u6298\u308a\u305f\u305f\u3080",descending:"\u964d\u9806",descendingTitle:"${type}\u306e\u5b50\u8981\u7d20\u3092\u964d\u9806\u306b\u4e26\u3079\u66ff\u3048",drag:"\u30c9\u30e9\u30c3\u30b0\u3057\u3066\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u79fb\u52d5 (Alt+Shift+Arrows)",duplicateKey:"\u8907\u88fd\u30ad\u30fc",duplicateText:"\u8907\u88fd",duplicateTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8907\u88fd (Ctrl+D)",duplicateField:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8907\u88fd (Ctrl+D)",duplicateFieldError:"\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u304c\u91cd\u8907\u3057\u3066\u3044\u307e\u3059",cannotParseFieldError:"JSON\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u89e3\u6790\u3067\u304d\u307e\u305b\u3093",cannotParseValueError:"JSON\u306e\u5024\u3092\u89e3\u6790\u3067\u304d\u307e\u305b\u3093",empty:"\u7a7a",expandAll:"\u3059\u3079\u3066\u3092\u5c55\u958b",expandTitle:"\u30af\u30ea\u30c3\u30af\u3057\u3066\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u5c55\u958b/\u6298\u308a\u305f\u305f\u3080 (Ctrl+E). \nCtrl+Click \u3067\u3059\u3079\u3066\u306e\u5b50\u8981\u7d20\u3092\u5c55\u958b/\u6298\u308a\u305f\u305f\u3080",insert:"\u633f\u5165",insertTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u524d\u306b\u65b0\u3057\u3044\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u633f\u5165 (Ctrl+Ins)",insertSub:"\u633f\u5165\u3059\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u3092\u9078\u629e",object:"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8",ok:"\u5b9f\u884c",redo:"\u3084\u308a\u76f4\u3059 (Ctrl+Shift+Z)",removeText:"\u524a\u9664",removeTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u524a\u9664 (Ctrl+Del)",removeField:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u524a\u9664 (Ctrl+Del)",selectNode:"\u30ce\u30fc\u30c9\u3092\u9078\u629e...",showAll:"\u3059\u3079\u3066\u3092\u8868\u793a",showMore:"\u3082\u3063\u3068\u898b\u308b",showMoreStatus:"${totalChilds}\u500b\u306e\u30a2\u30a4\u30c6\u30e0\u306e\u3046\u3061 ${visibleChilds}\u500b\u3092\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002",sort:"\u4e26\u3079\u66ff\u3048",sortTitle:"${type}\u306e\u5b50\u8981\u7d20\u3092\u4e26\u3079\u66ff\u3048",sortTitleShort:"\u4e26\u3079\u66ff\u3048",sortFieldLabel:"\u30d5\u30a3\u30fc\u30eb\u30c9:",sortDirectionLabel:"\u9806\u5e8f:",sortFieldTitle:"\u914d\u5217\u307e\u305f\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4e26\u3073\u66ff\u3048\u308b\u305f\u3081\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u9078\u629e",sortAscending:"\u6607\u9806",sortAscendingTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6607\u9806\u306b\u4e26\u3073\u66ff\u3048",sortDescending:"\u964d\u9806",sortDescendingTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u964d\u9806\u306b\u4e26\u3073\u66ff\u3048",string:"\u6587\u5b57\u5217",transform:"\u5909\u63db",transformTitle:"${type}\u306e\u5b50\u8981\u7d20\u3092\u30d5\u30a3\u30eb\u30bf\u30fc\u30fb\u4e26\u3073\u66ff\u3048\u30fb\u5909\u63db\u3059\u308b",transformTitleShort:"\u5185\u5bb9\u3092\u30d5\u30a3\u30eb\u30bf\u30fc\u30fb\u4e26\u3073\u66ff\u3048\u30fb\u5909\u63db\u3059\u308b",extract:"\u62bd\u51fa",extractTitle:"${type}\u3092\u62bd\u51fa",transformQueryTitle:"JMESPath\u30af\u30a8\u30ea\u3092\u5165\u529b",transformWizardLabel:"\u30a6\u30a3\u30b6\u30fc\u30c9",transformWizardFilter:"\u30d5\u30a3\u30eb\u30bf\u30fc",transformWizardSortBy:"\u4e26\u3073\u66ff\u3048",transformWizardSelectFields:"\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u9078\u629e",transformQueryLabel:"\u30af\u30a8\u30ea",transformPreviewLabel:"\u30d7\u30ec\u30d3\u30e5\u30fc",type:"\u578b",typeTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u3092\u5909\u66f4",openUrl:"Ctrl+Click \u307e\u305f\u306f Ctrl+Enter \u3067 \u65b0\u898f\u30a6\u30a3\u30f3\u30c9\u30a6\u3067URL\u3092\u958b\u304f",undo:"\u5143\u306b\u623b\u3059 (Ctrl+Z)",validationCannotMove:"\u5b50\u8981\u7d20\u306b\u79fb\u52d5\u3067\u304d\u307e\u305b\u3093 ",autoType:"\u30aa\u30fc\u30c8\uff1a \u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u306f\u5024\u304b\u3089\u81ea\u52d5\u7684\u306b\u6c7a\u5b9a\u3055\u308c\u307e\u3059\u3002 (\u6587\u5b57\u5217\u30fb\u6570\u5024\u30fb\u30d6\u30fc\u30eb\u30fbnull)",objectType:"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff1a \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u9806\u5e8f\u304c\u6c7a\u307e\u3063\u3066\u3044\u306a\u3044\u30ad\u30fc\u3068\u5024\u306e\u30da\u30a2\u7d44\u307f\u5408\u308f\u305b\u3067\u3059\u3002",arrayType:"\u914d\u5217\uff1a \u914d\u5217\u306f\u9806\u5e8f\u304c\u6c7a\u307e\u3063\u3066\u3044\u308b\u5024\u306e\u96c6\u5408\u4f53\u3067\u3059\u3002",stringType:"\u6587\u5b57\u5217\uff1a \u30d5\u30a3\u30fc\u30eb\u30c9\u578b\u306f\u5024\u304b\u3089\u6c7a\u5b9a\u3055\u308c\u307e\u305b\u3093\u304c\u3001\u5e38\u306b\u6587\u5b57\u5217\u3068\u3057\u3066\u8fd4\u3055\u308c\u307e\u3059\u3002",modeCodeText:"\u30b3\u30fc\u30c9\u30e2\u30fc\u30c9",modeCodeTitle:"\u30cf\u30a4\u30e9\u30a4\u30c8\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modeFormText:"\u30d5\u30a9\u30fc\u30e0\u30e2\u30fc\u30c9",modeFormTitle:"\u30d5\u30a9\u30fc\u30e0\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modeTextText:"\u30c6\u30ad\u30b9\u30c8\u30e2\u30fc\u30c9",modeTextTitle:"\u30c6\u30ad\u30b9\u30c8\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modeTreeText:"\u30c4\u30ea\u30fc\u30e2\u30fc\u30c9",modeTreeTitle:"\u30c4\u30ea\u30fc\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modeViewText:"\u30d3\u30e5\u30fc\u30e2\u30fc\u30c9",modeViewTitle:"\u30d3\u30e5\u30fc\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modePreviewText:"\u30d7\u30ec\u30d3\u30e5\u30fc",modePreviewTitle:"\u30d7\u30ec\u30d3\u30e5\u30fc\u306b\u5207\u308a\u66ff\u3048",examples:"\u4f8b",default:"\u30c7\u30d5\u30a9\u30eb\u30c8",containsInvalidProperties:"\u7121\u52b9\u306a\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059",containsInvalidItems:"\u7121\u52b9\u306a\u30a2\u30a4\u30c6\u30e0\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059"},"fr-FR":{array:"Liste",auto:"Auto",appendText:"Ajouter",appendTitle:"Ajouter un champ de type 'auto' apr\xe8s ce champ (Ctrl+Shift+Ins)",appendSubmenuTitle:"S\xe9lectionner le type du champ \xe0 ajouter",appendTitleAuto:"Ajouter un champ de type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendant",ascendingTitle:"Trier les enfants de ce ${type} par ordre ascendant",actionsMenu:"Ouvrir le menu des actions (Ctrl+M)",collapseAll:"Regrouper",descending:"Descendant",descendingTitle:"Trier les enfants de ce ${type} par ordre descendant",drag:"D\xe9placer (Alt+Shift+Arrows)",duplicateKey:"Dupliquer la cl\xe9",duplicateText:"Dupliquer",duplicateTitle:"Dupliquer les champs s\xe9lectionn\xe9s (Ctrl+D)",duplicateField:"Dupliquer ce champ (Ctrl+D)",duplicateFieldError:"Dupliquer le nom de champ",cannotParseFieldError:"Champ impossible \xe0 parser en JSON",cannotParseValueError:"Valeur impossible \xe0 parser en JSON",empty:"vide",expandAll:"\xc9tendre",expandTitle:"\xc9tendre/regrouper ce champ (Ctrl+E). \nCtrl+Click pour \xe9tendre/regrouper avec tous les champs.",insert:"Ins\xe9rer",insertTitle:"Ins\xe9rer un champ de type 'auto' avant ce champ (Ctrl+Ins)",insertSub:"S\xe9lectionner le type de champ \xe0 ins\xe9rer",object:"Objet",ok:"Ok",redo:"Rejouer (Ctrl+Shift+Z)",removeText:"Supprimer",removeTitle:"Supprimer les champs s\xe9lectionn\xe9s (Ctrl+Del)",removeField:"Supprimer ce champ (Ctrl+Del)",searchTitle:"Rechercher champs et valeurs",searchNextResultTitle:"R\xe9sultat suivant (Enter)",searchPreviousResultTitle:"R\xe9sultat pr\xe9c\xe9dent (Shift + Enter)",selectNode:"S\xe9lectionner un n\u0153ud...",showAll:"voir tout",showMore:"voir plus",showMoreStatus:"${visibleChilds} \xe9l\xe9ments affich\xe9s de ${totalChilds}.",sort:"Trier",sortTitle:"Trier les champs de ce ${type}",sortTitleShort:"Trier",sortFieldLabel:"Champ:",sortDirectionLabel:"Direction:",sortFieldTitle:"S\xe9lectionner les champs permettant de trier les listes et objet",sortAscending:"Ascendant",sortAscendingTitle:"Trier les champs s\xe9lectionn\xe9s par ordre ascendant",sortDescending:"Descendant",sortDescendingTitle:"Trier les champs s\xe9lectionn\xe9s par ordre descendant",string:"Cha\xeene",transform:"Transformer",transformTitle:"Filtrer, trier, or transformer les enfants de ce ${type}",transformTitleShort:"Filtrer, trier ou transformer le contenu",extract:"Extraire",extractTitle:"Extraire ce ${type}",transformQueryTitle:"Saisir une requ\xeate JMESPath",transformWizardLabel:"Assistant",transformWizardFilter:"Filtrer",transformWizardSortBy:"Trier par",transformWizardSelectFields:"S\xe9lectionner les champs",transformQueryLabel:"Requ\xeate",transformPreviewLabel:"Pr\xe9visualisation",type:"Type",typeTitle:"Changer le type de ce champ",openUrl:"Ctrl+Click ou Ctrl+Enter pour ouvrir l'url dans une autre fen\xeatre",undo:"Annuler la derni\xe8re action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Champe de type "auto". Ce type de champ est automatiquement d\xe9termin\xe9 en fonction de la valeur et peut \xeatre de type "cha\xeene", "nombre", "bool\xe9en" ou null.',objectType:'Champ de type "objet". Un objet contient un ensemble non ordonn\xe9 de paires cl\xe9/valeur.',arrayType:'Champ de type "liste". Une liste contient une collection ordonn\xe9e de valeurs.',stringType:'Champ de type "cha\xeene". Ce type de champ n\'est pas d\xe9termin\xe9 en fonction de la valeur, mais retourne syst\xe9matiquement une cha\xeene de caract\xe8res.',modeEditorTitle:"Changer mode d'\xe9dition",modeCodeText:"Code",modeCodeTitle:"Activer surlignage code",modeFormText:"Formulaire",modeFormTitle:"Activer formulaire",modeTextText:"Texte",modeTextTitle:"Activer \xe9diteur texte",modeTreeText:"Arbre",modeTreeTitle:"Activer \xe9diteur arbre",modeViewText:"Lecture seule",modeViewTitle:"Activer vue arbre",modePreviewText:"Pr\xe9visualisation",modePreviewTitle:"Activer mode pr\xe9visualiser",examples:"Exemples",default:"D\xe9faut",containsInvalidProperties:"Contient des propri\xe9t\xe9s non valides",containsInvalidItems:"Contient des \xe9l\xe9ments invalides"},de:{array:"Auflistung",auto:"Auto",appendText:"anh\xe4ngen",appendTitle:"F\xfcgen Sie nach diesem Feld ein neues Feld mit dem Typ 'auto' ein (Strg+Umschalt+Ein)",appendSubmenuTitle:"W\xe4hlen Sie den Typ des neuen Feldes",appendTitleAuto:"Ein neues Feld vom Typ 'auto' hinzuf\xfcgen (Strg+Umschalt+Ein)",ascending:"Aufsteigend",ascendingTitle:"Sortieren Sie die Elemente dieses ${type} in aufsteigender Reihenfolge",actionsMenu:"Klicken Sie zum \xd6ffnen des Aktionsmen\xfcs (Strg+M)",cannotParseFieldError:"Feld kann nicht in JSON geparst werden",cannotParseValueError:"Wert kann nicht in JSON geparst werden",collapseAll:"Alle Felder zuklappen",compactTitle:"JSON-Daten verdichten, alle Leerzeichen entfernen (Strg+Umschalt+\\)",descending:"Absteigend",descendingTitle:"Sortieren Sie die Elemente dieses ${type} in absteigender Reihenfolge",drag:"Ziehen, um dieses Feld zu verschieben (Alt+Umschalt+Pfeile)",duplicateKey:"Doppelter Schl\xfcssel",duplicateText:"Duplikat",duplicateTitle:"Ausgew\xe4hlte Felder duplizieren (Strg+D)",duplicateField:"Dieses Feld duplizieren (Strg+D)",duplicateFieldError:"Doppelter Feldname",empty:"leer",expandAll:"Alle Felder anzeigen",expandTitle:"Klicken Sie, um dieses Feld zu erweitern/zu kollabieren (Strg+E). \nStrg+Klicken Sie, um dieses Feld einschlie\xdflich aller Elemente zu erweitern/zu kollabieren.",formatTitle:"JSON-Daten mit korrekter Einr\xfcckung und Zeilenvorsch\xfcben formatieren (Strg+\\)",insert:"einf\xfcgen",insertTitle:"F\xfcgen Sie vor diesem Feld ein neues Feld mit dem Typ 'auto' ein (Strg+Einfg)",insertSub:"W\xe4hlen Sie den Typ des neuen Feldes",object:"Objekt",ok:"Ok",redo:"Wiederholen (Strg+Umschalt+Z)",removeText:"entfernen",removeTitle:"Ausgew\xe4hlte Felder entfernen (Strg+Entf)",removeField:"Dieses Feld entfernen (Strg+Entf)",repairTitle:"JSON reparieren: Anf\xfchrungszeichen und Escape-Zeichen korrigieren, Kommentare und JSONP-Notation entfernen, JavaScript-Objekte in JSON umwandeln.",searchTitle:"Suchfelder und Werte",searchNextResultTitle:"N\xe4chstes Ergebnis (Enter)",searchPreviousResultTitle:"Vorheriges Ergebnis (Umschalt + Eingabe)",selectNode:"W\xe4hlen Sie einen Knoten aus...",showAll:"alle anzeigen",showMore:"mehr anzeigen",showMoreStatus:"Anzeige von ${visibleChilds} von ${totalChilds}-Elementen.",sort:"Sortieren",sortTitle:"Sortieren Sie die Elemente dieses ${type}",sortTitleShort:"Inhalt sortieren",sortFieldLabel:"Feld:",sortDirectionLabel:"Richtung:",sortFieldTitle:"W\xe4hlen Sie das verschachtelte Feld, nach dem das Array oder Objekt sortiert werden soll.",sortAscending:"Aufsteigend",sortAscendingTitle:"Sortieren Sie das ausgew\xe4hlte Feld in aufsteigender Reihenfolge",sortDescending:"Absteigend",sortDescendingTitle:"Sortieren Sie das ausgew\xe4hlte Feld in absteigender Reihenfolge",string:"Zeichenfolge",transform:"Verwandeln",transformTitle:"Die Elemente dieses ${type} filtern, sortieren oder transformieren",transformTitleShort:"Inhalte filtern, sortieren oder transformieren",extract:"Auszug",extractTitle:"Extrahieren Sie diesen ${type}",transformQueryTitle:"Eine JMESPath-Abfrage eingeben",transformWizardLabel:"Zauberer",transformWizardFilter:"Filter",transformWizardSortBy:"Sortieren nach",transformWizardSelectFields:"Felder ausw\xe4hlen",transformQueryLabel:"Anfrage",transformPreviewLabel:"Vorschau",type:"Geben Sie  ein.",typeTitle:"\xc4ndern Sie den Typ dieses Feldes",openUrl:"Strg+Klicken oder Strg+Eingabe, um die URL in einem neuen Fenster zu \xf6ffnen",undo:"Letzte Aktion r\xfcckg\xe4ngig machen (Strg+Z)",validationCannotMove:"Kann ein Feld nicht in ein Kind seiner selbst verschieben",autoType:'Feldtyp "auto". Der Feldtyp wird automatisch aus dem Wert bestimmt und kann ein String, eine Zahl, boolesch oder null sein.',objectType:'Feldtyp "Objekt". Ein Objekt enth\xe4lt eine ungeordnete Menge von Schl\xfcssel/Wert-Paaren.',arrayType:'Feldtyp "Array". Ein Array enth\xe4lt eine geordnete Sammlung von Werten.',stringType:'Feldtyp "Zeichenfolge". Der Feldtyp wird nicht aus dem Wert bestimmt, sondern immer als Zeichenfolge zur\xfcckgegeben.',modeEditorTitle:"Editor-Modus umschalten",modeCodeText:"Code",modeCodeTitle:"Umschalten auf Code-Highlighter",modeFormText:"Formular",modeFormTitle:"Zum Formular-Editor wechseln",modeTextText:"Text",modeTextTitle:"Zum Editor f\xfcr einfachen Text wechseln",modeTreeText:"Baum",modeTreeTitle:"Zum Baum-Editor wechseln",modeViewText:"Siehe",modeViewTitle:"Zur Baumansicht wechseln",modePreviewText:"Vorschau",modePreviewTitle:"In den Vorschau-Modus wechseln",examples:"Beispiele",default:"Standardm\xe4\xdfig",containsInvalidProperties:"Enth\xe4lt ung\xfcltige Eigenschaften",containsInvalidItems:"Enth\xe4lt ung\xfcltige Elemente"},ru:{array:"\u041c\u0430\u0441\u0441\u0438\u0432",auto:"\u0410\u0432\u0442\u043e",appendText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",appendTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 \u0441 \u0442\u0438\u043f\u043e\u043c '\u0430\u0432\u0442\u043e' \u043f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044f (Ctrl+Shift+Ins)",appendSubmenuTitle:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0438\u043f \u043f\u043e\u043b\u044f \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f",appendTitleAuto:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 \u0441 \u0442\u0438\u043f\u043e\u043c '\u0430\u0432\u0442\u043e' (Ctrl+Shift+Ins)",ascending:"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",ascendingTitle:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c ${type} \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",actionsMenu:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 (Ctrl+M)",cannotParseFieldError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435 \u0432 JSON",cannotParseValueError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 JSON",collapseAll:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0432\u0441\u0435",compactTitle:"\u041c\u0438\u043d\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f JSON (Ctrl+Shift+I)",descending:"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",descendingTitle:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c ${type} \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",drag:"\u041f\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044f (Alt+Shift+Arrows)",duplicateKey:"\u043f\u043e\u0432\u0442\u043e\u0440\u044f\u044e\u0449\u0438\u0439\u0441\u044f \u043a\u043b\u044e\u0447",duplicateText:"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c",duplicateTitle:"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0439 (Ctrl+D)",duplicateField:"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435 (Ctrl+D)",duplicateFieldError:"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044f",empty:"\u043f\u0443\u0441\u0442\u043e\u0439",expandAll:"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0432\u0441\u0435",expandTitle:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u044f/\u0441\u043a\u0440\u044b\u0442\u0438\u044f \u043f\u043e\u043b\u044f (Ctrl+E)\n\u0438\u043b\u0438 Ctrl+Click \u0434\u043b\u044f \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u044f/\u0441\u043a\u0440\u044b\u0442\u0438\u044f \u0432\u0441\u0435\u0445 \u043f\u043e\u0442\u043e\u043c\u043a\u043e\u0432.",formatTitle:"\u0424\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 JSON (Ctrl+I)",insert:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c",insertTitle:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 \u0441 \u0442\u0438\u043f\u043e\u043c '\u0430\u0432\u0442\u043e' \u043f\u0435\u0440\u0435\u0434 \u044d\u0442\u0438\u043c \u043f\u043e\u043b\u0435\u043c (Ctrl+Ins)",insertSub:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0438\u043f \u043f\u043e\u043b\u044f \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u0432\u043a\u0438",object:"\u041e\u0431\u044a\u0435\u043a\u0442",ok:"\u041e\u041a",redo:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c (Ctrl+Shift+Z)",removeText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",removeTitle:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044f (Ctrl+Del)",removeField:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u0435 (Ctrl+Del)",repairTitle:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 JSON: \u0438\u0441\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u0432\u044b\u0447\u043a\u0438 \u0438 escape-\u0441\u0438\u043c\u0432\u043e\u043b\u044b, \u0443\u0434\u0430\u043b\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u0438 \u043d\u043e\u0442\u0430\u0446\u0438\u044e JSONP, \u043c\u043e\u0434\u0438\u0444\u0438\u0446\u0438\u0440\u0443\u0439\u0442\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b JavaScript \u0432 JSON.",searchTitle:"\u041f\u043e\u0438\u0441\u043a",searchNextResultTitle:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 (Enter)",searchPreviousResultTitle:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 (Shift + Enter)",selectNode:"\u0412\u044b\u0431\u043e\u0440 \u0443\u0437\u043b\u0430...",showAll:"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435",showMore:"\u0431\u043e\u043b\u044c\u0448\u0435",showMoreStatus:"${visibleChilds} \u0438\u0437 ${totalChilds}",sort:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430",sortTitle:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e\u0442\u043e\u043c\u043a\u043e\u0432 \u0442\u0438\u043f\u0430 ${type}",sortTitleShort:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0433\u043e",sortFieldLabel:"\u041f\u043e\u043b\u0435:",sortDirectionLabel:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435:",sortFieldTitle:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u0434\u043b\u044f \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438 \u043c\u0430\u0441\u0441\u0438\u0432\u0430 \u0438\u043b\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u0430",sortAscending:"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",sortAscendingTitle:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u0440\u044f \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",sortDescending:"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",sortDescendingTitle:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u0440\u044f \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",string:"\u0421\u0442\u0440\u043e\u043a\u0430",transform:"\u041c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f",transformTitle:"\u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f, \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0438\u043b\u0438 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0442\u0438\u043f\u0430 ${type}",transformTitleShort:"\u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f, \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0438\u043b\u0438 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445",extract:"\u0418\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u0435",extractTitle:"\u0418\u0437\u0432\u043b\u0435\u0447\u044c \u0442\u0438\u043f ${type}",transformQueryTitle:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 JMESpath \u0437\u0430\u043f\u0440\u043e\u0441",transformWizardLabel:"\u041c\u0430\u0441\u0442\u0435\u0440",transformWizardFilter:"\u0424\u0438\u043b\u044c\u0442\u0440",transformWizardSortBy:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430",transformWizardSelectFields:"\u041f\u043e\u043b\u044f",transformQueryLabel:"\u0417\u0430\u043f\u0440\u043e\u0441",transformPreviewLabel:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",type:"\u0422\u0438\u043f",typeTitle:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0438\u043f \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044f",openUrl:"Ctrl+Click \u0438\u043b\u0438 Ctrl+Enter \u0434\u043b\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f url \u0432 \u043d\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435",undo:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c (Ctrl+Z)",validationCannotMove:"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u043e \u0432 \u043f\u043e\u0442\u043e\u043c\u043a\u0430",autoType:"\u0422\u0438\u043f \u043f\u043e\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044e \u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439, \u0447\u0438\u0441\u043b\u043e\u043c, \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 null.",objectType:"\u041e\u0431\u044a\u0435\u043a\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u0435\u0443\u043f\u043e\u0440\u044f\u0434\u043e\u0447\u0435\u043d\u043d\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u043f\u0430\u0440 \u043a\u043b\u044e\u0447/\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435.",arrayType:"\u041c\u0430\u0441\u0441\u0438\u0432 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0443\u043f\u043e\u0440\u044f\u0434\u043e\u0447\u0435\u043d\u043d\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439.",stringType:"\u0422\u0438\u043f \u043f\u043e\u043b\u044f \u043d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u0438\u0437 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f, \u043d\u043e \u0432\u0441\u0435\u0433\u0434\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u0441\u0442\u0440\u043e\u043a\u0430.",modeEditorTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0440\u0435\u0436\u0438\u043c\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430",modeCodeText:"\u041a\u043e\u0434",modeCodeTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430 \u043a\u043e\u0434\u0430",modeFormText:"\u0424\u043e\u0440\u043c\u0430",modeFormTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u0444\u043e\u0440\u043c\u044b",modeTextText:"\u0422\u0435\u043a\u0441\u0442",modeTextTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430 \u0442\u0435\u043a\u0441\u0442\u0430",modeTreeText:"\u0414\u0435\u0440\u0435\u0432\u043e",modeTreeTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430 \u0434\u0435\u0440\u0435\u0432\u0430",modeViewText:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0434\u0435\u0440\u0435\u0432\u0430",modeViewTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0434\u0435\u0440\u0435\u0432\u0430",modePreviewText:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",modePreviewTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430",examples:"\u041f\u0440\u0438\u043c\u0435\u0440\u044b",default:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e",containsInvalidProperties:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430",containsInvalidItems:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b"},ko:{array:"\ubc30\uc5f4",auto:"\uc790\ub3d9",appendText:"\ucd94\uac00",appendTitle:'\uc120\ud0dd\ud55c \uc694\uc18c \uc544\ub798\uc5d0 "\uc790\ub3d9" \uc694\uc18c\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4. (Ctrl + Shift + Ins)',appendSubmenuTitle:"\ucd94\uac00\ud560 \uc694\uc18c\uc758 \uc720\ud615\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.",appendTitleAuto:'"\uc790\ub3d9" \uc694\uc18c\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4. (Ctrl + Shift + Ins)',ascending:"\uc624\ub984\ucc28\uc21c",ascendingTitle:"\uc120\ud0dd\ud55c ${type}\uc758 \ud558\uc704 \uc694\uc18c\ub97c \uc624\ub984\ucc28\uc21c \uc815\ub82c\ud569\ub2c8\ub2e4.",actionsMenu:"\uba54\ub274 \uc5f4\uae30 (Ctrl + M)",cannotParseFieldError:"JSON\uc758 \uc694\uc18c\ub97c \ud574\uc11d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",cannotParseValueError:"JSON\uc758 \uac12\uc744 \ud574\uc11d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",collapseAll:"\ubaa8\ub450 \uc811\uae30",compactTitle:"\ubaa8\ub4e0 \uacf5\ubc31\uc744 \uc81c\uac70\ud558\uc5ec JSON \ub370\uc774\ud130\ub97c \uc791\uac8c \ub9cc\ub4ed\ub2c8\ub2e4. (Ctrl + Shift + I)",descending:"\ub0b4\ub9bc\ucc28\uc21c",descendingTitle:"\uc120\ud0dd\ud55c ${type}\uc758 \ud558\uc704 \uc694\uc18c\ub97c \ub0b4\ub9bc\ucc28\uc21c\uc73c\ub85c \uc815\ub82c",drag:"\ub4dc\ub798\uadf8\ud558\uc5ec \uc694\uc18c\ub97c \uc774\ub3d9\ud569\ub2c8\ub2e4. (Alt + Shift + Arrows)",duplicateKey:"\ubcf5\uc81c\ud0a4",duplicateText:"\ubcf5\uc81c",duplicateTitle:"\uc120\ud0dd\ud55c \uc694\uc18c\ub97c \ubcf5\uc81c\ud569\ub2c8\ub2e4. (Ctrl + D)",duplicateField:"\uc120\ud0dd\ud55c \uc694\uc18c\ub97c \ubcf5\uc81c\ud569\ub2c8\ub2e4. (Ctrl + D)",duplicateFieldError:"\uc694\uc18c \uc774\ub984\uc774 \uc911\ubcf5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",empty:"\ube44\uc5b4\uc788\uc74c",expandAll:"\ubaa8\ub450 \uc5f4\uae30",expandTitle:"\ud074\ub9ad\ud558\uc5ec \uc694\uc18c\ub97c \uc5f4\uac70\ub098 \ub2eb\uc2b5\ub2c8\ub2e4. (Ctrl + E) \nCtrl + Click\uc73c\ub85c \ubaa8\ub4e0 \ud558\uc704 \uc694\uc18c\ub97c \uc5f4\uac70\ub098 \ub2eb\uc2b5\ub2c8\ub2e4.",formatTitle:"\uc801\uc808\ud55c \ub4e4\uc5ec\uc4f0\uae30 \ubc0f \uc904\ubc14\uafc8\uc73c\ub85c JSON \ub370\uc774\ud130\ub97c \uc815\ud615\ud654\ud569\ub2c8\ub2e4. (Ctrl + I)",insert:"\uc0bd\uc785",insertTitle:"\uc120\ud0dd\ud55c \uc694\uc18c \uc704\uc5d0 \uc0c8\uc694\uc18c\ub97c \uc0bd\uc785\ud569\ub2c8\ub2e4. (Ctrl + Ins)",insertSub:"\uc0bd\uc785\ud560 \uc694\uc18c\uc758 \uc720\ud615\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.",object:"\uac1d\uccb4",ok:"\ud655\uc778",redo:"\ub2e4\uc2dc \uc2e4\ud589 (Ctrl + Shift + Z)",removeText:"\uc0ad\uc81c",removeTitle:"\uc120\ud0dd\ud55c \uc694\uc18c\ub97c \uc0ad\uc81c\ud569\ub2c8\ub2e4. (Ctrl + Del)",removeField:"\uc120\ud0dd\ud55c \uc694\uc18c\ub97c \uc0ad\uc81c\ud569\ub2c8\ub2e4. (Ctrl + Del)",repairTitle:"JSON \uad50\uc815: JSON \ub0b4\uc758 \uc8fc\uc11d\uacfc JSONP \ud45c\uae30\ubc95\uc744 \uc9c0\uc6b0\uace0 \ub530\uc634\ud45c\uc640 \uc774\uc2a4\ucf00\uc774\ud504 \ubb38\uc790\ub97c \uc218\uc815\ud569\ub2c8\ub2e4.",searchTitle:"\uc694\uc18c \ub610\ub294 \uac12 \ucc3e\uae30",searchNextResultTitle:"\ub2e4\uc74c\uc73c\ub85c \ucc3e\uae30 (Enter)",searchPreviousResultTitle:"\uc774\uc804\uc73c\ub85c \ucc3e\uae30 (Shift + Enter)",selectNode:"\uc694\uc18c\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694...",showAll:"\ubaa8\ub450\ubcf4\uae30",showMore:"\ub354\ubcf4\uae30",showMoreStatus:"${totalChilds} \uac1c\uc758 \ud56d\ubaa9 \uc911 ${visibleChilds} \uac1c\ub97c \ud45c\uc2dc\ud569\ub2c8\ub2e4.",sort:"\uc815\ub82c",sortTitle:"\uc120\ud0dd\ud55c ${type}\uc758 \ud558\uc704 \uc694\uc18c\ub97c \uc815\ub82c\ud569\ub2c8\ub2e4.",sortTitleShort:"\uc815\ub82c",sortFieldLabel:"\uc694\uc18c:",sortDirectionLabel:"\uc21c\uc11c:",sortFieldTitle:"\ubc30\uc5f4\uc774\ub098 \uac1d\uccb4\ub97c \uc815\ub82c\ud558\ub294 \uc694\uc18c\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.",sortAscending:"\uc624\ub984\ucc28\uc21c",sortAscendingTitle:"\uc120\ud0dd\ud55c \uc694\uc18c\ub97c \uc624\ub984\ucc28\uc21c\uc73c\ub85c \uc815\ub82c\ud569\ub2c8\ub2e4.",sortDescending:"\ub0b4\ub9bc\ucc28\uc21c",sortDescendingTitle:"\uc120\ud0dd\ud55c \uc694\uc18c\ub97c \ub0b4\ub9bc\ucc28\uc21c\uc73c\ub85c \uc815\ub82c\ud569\ub2c8\ub2e4.",string:"\ubb38\uc790",transform:"\ubcc0\ud658",transformTitle:"\uc120\ud0dd\ud55c ${type}\uc758 \ud558\uc704 \uc694\uc18c\ub97c \ud544\ud130\ud558\uac70\ub098 \uc815\ub82c \ub610\ub294 \ubcc0\ud658\ud569\ub2c8\ub2e4.",transformTitleShort:"\ub0b4\uc6a9\uc744 \ud544\ud130\ud558\uac70\ub098 \uc815\ub82c \ub610\ub294 \ubcc0\ud658\ud569\ub2c8\ub2e4.",extract:"\ucd94\ucd9c",extractTitle:"\uc120\ud0dd\ud55c ${type}\uc758 \uac12\uc744 \ucd5c\uc0c1\uc704\uc5d0 \uc704\uce58\uc2dc\ud0b5\ub2c8\ub2e4.",transformQueryTitle:"JMESPath \ucffc\ub9ac\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",transformWizardLabel:"\ub9c8\ubc95\uc0ac",transformWizardFilter:"\ud544\ud130",transformWizardSortBy:"\uc815\ub82c",transformWizardSelectFields:"\uc694\uc18c\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.",transformQueryLabel:"\ucffc\ub9ac",transformPreviewLabel:"\ubbf8\ub9ac\ubcf4\uae30",type:"\uc720\ud615",typeTitle:"\uc120\ud0dd\ud55c \uc694\uc18c\uc758 \uc720\ud615\uc744 \ubcc0\uacbd\ud569\ub2c8\ub2e4.",openUrl:"Ctrl + Click \ub610\ub294 Ctrl + Enter\ub85c \uc0c8 \ucc3d\uc5d0\uc11c URL \uc5f4\uae30",undo:"\uc2e4\ud589 \ucde8\uc18c (Ctrl + Z)",validationCannotMove:"\ud558\uc704 \uc694\uc18c\ub85c \uc774\ub3d9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",autoType:"\uc790\ub3d9: \uc694\uc18c\uc758 \ud615\uc2dd\uc774 \uac12\uc758 \uc720\ud615\uc73c\ub85c \uacb0\uc815\ub429\ub2c8\ub2e4. \ubb38\uc790, \uc22b\uc790, \ubd80\uc6b8, \ub610\ub294 null\ub9cc \ud5c8\uc6a9\ub429\ub2c8\ub2e4.",objectType:"\uac1d\uccb4: \uc21c\uc11c\ub300\ub85c \ub098\uc5f4\ub418\uc9c0 \uc54a\uc740 \uc774\ub984/\uac12 \uc30d\uc73c\ub85c \uc774\ub8e8\uc5b4\uc9c4 \uc9d1\ud569\uc785\ub2c8\ub2e4.",arrayType:"\ubc30\uc5f4: \uc21c\uc11c\ub300\ub85c \ub098\uc5f4\ub41c \uac12\uc758 \uc9d1\ud569\uc785\ub2c8\ub2e4.",stringType:"\ubb38\uc790: \uc694\uc18c\uc758 \uc720\ud615\uc774 \uac12\uc5d0\uc11c \uacb0\uc815\ub418\uc9c0 \uc54a\uc9c0\ub9cc \ud56d\uc0c1 \ubb38\uc790\ub85c \ubc18\ud658\ub429\ub2c8\ub2e4.",modeEditorTitle:"\ud3b8\uc9d1\uae30 \uc720\ud615 \ubcc0\uacbd",modeCodeText:"\ucf54\ub4dc",modeCodeTitle:"\ud615\uc2dd \uad50\uc815\uc744 \ub3c4\uc640\uc8fc\ub294 \uae30\ub2a5\uc774 \ud3ec\ud568\ub41c \ubb38\uc790 \ud3b8\uc9d1\uae30",modeFormText:"\uc785\ub825 \uc591\uc2dd",modeFormTitle:"\uc815\ud574\uc9c4 \uc694\uc18c\uc5d0 \uac12\uc744 \uc785\ub825\ud558\ub294 \ud3b8\uc9d1\uae30",modeTextText:"\ubb38\uc790",modeTextTitle:"\ub2e8\uc21c \ubb38\uc790 \ud3b8\uc9d1\uae30",modeTreeText:"\ud2b8\ub9ac",modeTreeTitle:"\ud2b8\ub9ac \uad6c\uc870\ub85c \ud45c\uc2dc\ub418\ub294 \ud3b8\uc9d1\uae30",modeViewText:"\ubcf4\uae30",modeViewTitle:"\uc77d\uae30\uc804\uc6a9 \ud2b8\ub9ac \uad6c\uc870\ub85c JSON\uc744 \ud45c\uc2dc",modePreviewText:"\ubbf8\ub9ac\ubcf4\uae30",modePreviewTitle:"\uc77d\uae30\uc804\uc6a9 \ubb38\uc790\ub85c JSON\uc744 \ud45c\uc2dc",examples:"\uc608\uc81c",default:"\uae30\ubcf8\uac12",containsInvalidProperties:"\uc798\ubabb\ub41c \uc18d\uc131\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.",containsInvalidItems:"\uc798\ubabb\ub41c \ud56d\ubaa9\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4"}},V=Object.keys(we),fe=typeof navigator<"u"?navigator.language||navigator.userLanguage:void 0,he=V.find(function(B){return B===fe})||"en";function ye(B){var M;B&&((M=V.find(function(Z){return Z===B}))?he=M:console.error("Language not found"))}function oe(B){if(B)for(var M in B)!function(Z){V.find(function(O){return O===Z})||V.push(Z),we[Z]=Object.assign({},we.en,we[Z],B[Z])}(M)}function J(B,M,Z){var O=we[Z=Z||he][B]||we.en[B]||B;if(M)for(var D in M)O=O.replace("${"+D+"}",M[D]);return O}},6056:function(me,we,ue){"use strict";ue.d(we,{J:function(){return he},r:function(){return fe}}),we=ue(5156);var V=ue.n(we),ne=ue(9791);function fe(ye,Z){var J,B=Z.sort,M=Z.filter,O=(Z=Z.projection,"");return M?(J="@"!==M.field?["0"].concat((0,ne.parsePath)("."+M.field)):["0"],J="string"==typeof(0,ne.get)(ye,J)?M.value:(0,ne.parseString)(M.value),O+="[? "+M.field+" "+M.relation+" `"+JSON.stringify(J)+"`]"):O+=Array.isArray(ye)?"[*]":"@",B&&(O+="desc"===B.direction?" | reverse(sort_by(@, &"+B.field+"))":" | sort_by(@, &"+B.field+")"),Z&&("]"!==O[O.length-1]&&(O+=" | [*]"),1===Z.fields.length?O+="."+Z.fields[0]:1<Z.fields.length&&(O+=".{"+Z.fields.map(function(D){var _=D.split(".");return _[_.length-1]+": "+D}).join(", ")+"}")),O}function he(ye,oe){return V().search(ye,oe)}},4987:function(){function me(k){void 0===k||"remove"in k||Object.defineProperty(k,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){void 0!==this.parentNode&&this.parentNode.removeChild(this)}})}typeof Element<"u"&&(void 0!==window.Element&&me(window.Element.prototype),void 0!==window.CharacterData&&me(window.CharacterData.prototype),void 0!==window.DocumentType)&&me(window.DocumentType.prototype),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(k){for(var ue=0;ue<this.length;ue++)if(k.call(this,this[ue],ue,this))return ue;return-1},configurable:!0,writable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(k){return this[k=this.findIndex(k)]},configurable:!0,writable:!0}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")})},341:function(me,I,_){"use strict";_.r(I),_.d(I,{previewModeMixins:function(){return C}});var we=_(1262),V=_(4188),ne=_(6436),fe=_(2474);function he(f){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(f)}function ye(f,m){for(var p=0;p<m.length;p++){var g=m[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,(y=function(h,d){if("object"!==he(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0===v)return String(h);if("object"!==he(v=v.call(h,d)))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}(y=g.key,"string"),"symbol"===he(y)?y:String(y)),g)}var y}var oe=function(){function f(y,h,d){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.onChange=y,this.calculateItemSize=h||function(){return 1},this.limit=d,this.items=[],this.index=-1}var m,p;return m=f,(p=[{key:"add",value:function(y){for(;this._calculateHistorySize()>this.limit&&1<this.items.length;)this.items.shift(),this.index--;this.items=this.items.slice(0,this.index+1),this.items.push(y),this.index++,this.onChange()}},{key:"_calculateHistorySize",value:function(){var y=this.calculateItemSize,h=0;return this.items.forEach(function(d){h+=y(d)}),h}},{key:"undo",value:function(){if(this.canUndo())return this.index--,this.onChange(),this.items[this.index]}},{key:"redo",value:function(){if(this.canRedo())return this.index++,this.onChange(),this.items[this.index]}},{key:"canUndo",value:function(){return 0<this.index}},{key:"canRedo",value:function(){return this.index<this.items.length-1}},{key:"clear",value:function(){this.items=[],this.index=-1,this.onChange()}}])&&ye(m.prototype,p),Object.defineProperty(m,"prototype",{writable:!1}),f}(),J=_(7907),B=_(6056),M=_(6617),Z=_(6210),O=_(2558),D=(I=_(8458),_(9791)),C=(_=I.textModeMixins[0].mixin,I={create:function(g){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},p=(void 0===m.statusBar&&(m.statusBar=!0),m.mainMenuBar=!1!==m.mainMenuBar,m.enableSort=!1!==m.enableSort,m.enableTransform=!1!==m.enableTransform,m.createQuery=m.createQuery||B.r,m.executeQuery=m.executeQuery||B.J,this.indentation="number"==typeof(this.options=m).indentation?Number(m.indentation):2,(0,J.cC)(this.options.languages),(0,J.m0)(this.options.language),this.mode="preview",this);this.container=g,this.dom={},this.json=void 0,this.text="",this._debouncedValidate=(0,D.debounce)(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=g.clientWidth,this.height=g.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-preview",this.frame.onclick=function(y){y.preventDefault()},this.frameFocusTracker=new fe.R(g={target:this.frame,onFocus:this.options.onFocus||null,onBlur:this.options.onBlur||null}),this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.dom.busy=document.createElement("div"),this.dom.busy.className="jsoneditor-busy",this.dom.busyContent=document.createElement("span"),this.dom.busyContent.textContent="busy...",this.dom.busy.appendChild(this.dom.busyContent),this.content.appendChild(this.dom.busy),this.dom.previewContent=document.createElement("pre"),this.dom.previewContent.className="jsoneditor-preview",this.dom.previewText=document.createTextNode(""),this.dom.previewContent.appendChild(this.dom.previewText),this.content.appendChild(this.dom.previewContent),this.options.mainMenuBar&&((0,D.addClassName)(this.content,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu),(g=document.createElement("button")).type="button",g.className="jsoneditor-format",g.title=(0,J.Iu)("formatTitle"),this.menu.appendChild(g),g.onclick=function(){p.executeWithBusyMessage(function(){try{p.format()}catch(y){p._onError(y)}},"formatting...")},(g=document.createElement("button")).type="button",g.className="jsoneditor-compact",g.title=(0,J.Iu)("compactTitle"),this.menu.appendChild(g),g.onclick=function(){p.executeWithBusyMessage(function(){try{p.compact()}catch(y){p._onError(y)}},"compacting...")},this.options.enableSort&&((g=document.createElement("button")).type="button",g.className="jsoneditor-sort",g.title=(0,J.Iu)("sortTitleShort"),g.onclick=function(){p._showSortModal()},this.menu.appendChild(g)),this.options.enableTransform&&((g=document.createElement("button")).type="button",g.title=(0,J.Iu)("transformTitleShort"),g.className="jsoneditor-transform",g.onclick=function(){p._showTransformModal()},this.dom.transform=g,this.menu.appendChild(g)),(g=document.createElement("button")).type="button",g.className="jsoneditor-repair",g.title=(0,J.Iu)("repairTitle"),this.menu.appendChild(g),!(g.onclick=function(){void 0===p.json&&p.executeWithBusyMessage(function(){try{p.repair()}catch(y){p._onError(y)}},"repairing...")})!==this.options.history&&(this.history=new oe(function(){p.dom.undo.disabled=!p.history.canUndo(),p.dom.redo.disabled=!p.history.canRedo()},function(y){return 2*y.text.length},V.oW),(g=document.createElement("button")).type="button",g.className="jsoneditor-undo jsoneditor-separator",g.title=(0,J.Iu)("undo"),g.onclick=function(){var y=p.history.undo();y&&p._applyHistory(y)},this.menu.appendChild(g),this.dom.undo=g,(g=document.createElement("button")).type="button",g.className="jsoneditor-redo",g.title=(0,J.Iu)("redo"),g.onclick=function(){var y=p.history.redo();y&&p._applyHistory(y)},this.menu.appendChild(g),this.dom.redo=g,this.history.onChange()),this.options)&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new M.x(this.menu,this.options.modes,this.options.mode,function(y){try{p.setMode(y),p.modeSwitcher.focus()}catch(h){p._onError(h)}})),g=Array.isArray(this.options.showErrorTable)?this.options.showErrorTable.includes(this.mode):!0===this.options.showErrorTable,this.errorTable=new ne.Q({errorTableVisible:g,onToggleVisibility:function(){p.validate()},onFocusLine:null,onChangeHeight:function(y){p.content.style.marginBottom=-(y=y+(p.dom.statusBar?p.dom.statusBar.clientHeight:0)+1)+"px",p.content.style.paddingBottom=y+"px"}}),this.frame.appendChild(this.content),this.frame.appendChild(this.errorTable.getErrorTable()),this.container.appendChild(this.frame),m.statusBar&&((0,D.addClassName)(this.content,"has-status-bar"),g=document.createElement("div"),(this.dom.statusBar=g).className="jsoneditor-statusbar",this.frame.appendChild(g),this.dom.fileSizeInfo=document.createElement("span"),this.dom.fileSizeInfo.className="jsoneditor-size-info",this.dom.fileSizeInfo.innerText="",g.appendChild(this.dom.fileSizeInfo),this.dom.arrayInfo=document.createElement("span"),this.dom.arrayInfo.className="jsoneditor-size-info",this.dom.arrayInfo.innerText="",g.appendChild(this.dom.arrayInfo),g.appendChild(this.errorTable.getErrorCounter()),g.appendChild(this.errorTable.getWarningIcon()),g.appendChild(this.errorTable.getErrorIcon())),this._renderPreview(),this.setSchema(this.options.schema,this.options.schemaRefs)},_renderPreview:function(){var f=this.getText();this.dom.previewText.nodeValue=(0,D.limitCharacters)(f,V.WF),this.dom.fileSizeInfo&&(this.dom.fileSizeInfo.innerText="Size: "+(0,D.formatSize)(f.length)),this.dom.arrayInfo&&(this.dom.arrayInfo.innerText=Array.isArray(this.json)?"Array: "+this.json.length+" items":"")},_onChange:function(){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(f){console.error("Error in onChange callback: ",f)}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get())}catch(f){console.error("Error in onChangeJSON callback: ",f)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(f){console.error("Error in onChangeText callback: ",f)}}},I._showSortModal=function(){var f=this;this.executeWithBusyMessage(function(){var m=f.options.modalAnchor||V.qD,p=f.get();f._renderPreview(),(0,Z.showSortModal)(m,p,function(g){f.executeWithBusyMessage(function(){var y,h,d;y=p,h=g,Array.isArray(y)&&(d=(0,D.sort)(y,h.path,h.direction),f.sortedBy=h,f._setAndFireOnChange(d)),(0,D.isObject)(y)&&(d=(0,D.sortObjectKeys)(y,h.direction),f.sortedBy=h,f._setAndFireOnChange(d))},"sorting...")},f.sortedBy)},"parsing...")},I._showTransformModal=function(){var f=this;this.executeWithBusyMessage(function(){var m=(y=f.options).createQuery,p=y.executeQuery,g=y.modalAnchor,y=y.queryDescription,h=f.get();f._renderPreview(),(0,O.showTransformModal)({container:g||V.qD,json:h,queryDescription:y,createQuery:m,executeQuery:p,onTransform:function(d){f.executeWithBusyMessage(function(){var v=p(h,d);f._setAndFireOnChange(v)},"transforming...")}})},"parsing...")},I.destroy=function(){this.frame&&this.container&&this.frame.parentNode===this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this._debouncedValidate=null,this.history&&(this.history.clear(),this.history=null),this.frameFocusTracker.destroy()},I.compact=function(){var f=this.get(),m=JSON.stringify(f);this._setTextAndFireOnChange(m,f)},I.format=function(){var f=this.get(),m=JSON.stringify(f,null,this.indentation);this._setTextAndFireOnChange(m,f)},I.repair=function(){var f=this.getText();try{var m=(0,we.K)(f);this._setTextAndFireOnChange(m)}catch{}},I.focus=function(){this.dom.transform.focus()},I.set=function(f){this.history&&this.history.clear(),this._set(f)},I.update=function(f){this._set(f)},I._set=function(f){this.text=void 0,this.json=f,this._renderPreview(),this._pushHistory(),this._debouncedValidate()},I._setAndFireOnChange=function(f){this._set(f),this._onChange()},I.get=function(){var f;return void 0===this.json&&(f=this.getText(),this.json=(0,D.parse)(f)),this.json},I.getText=function(){return void 0===this.text&&(this.text=JSON.stringify(this.json,null,this.indentation),!0===this.options.escapeUnicode)&&(this.text=(0,D.escapeUnicodeChars)(this.text)),this.text},I.setText=function(f){this.history&&this.history.clear(),this._setText(f)},I.updateText=function(f){this.getText()!==f&&this._setText(f)},I._setText=function(f,m){var p;this.text=!0===this.options.escapeUnicode?(0,D.escapeUnicodeChars)(f):f,this.json=m,this._renderPreview(),void 0===this.json?(p=this).executeWithBusyMessage(function(){try{p.json=p.get(),p._renderPreview(),p._pushHistory()}catch{}},"parsing..."):this._pushHistory(),this._debouncedValidate()},I._setTextAndFireOnChange=function(f,m){this._setText(f,m),this._onChange()},I._applyHistory=function(f){this.json=f.json,this.text=f.text,this._renderPreview(),this._debouncedValidate()},I._pushHistory=function(){this.history&&this.history.add({text:this.text,json:this.json})},I.executeWithBusyMessage=function(f,m){var p;this.getText().length>V.EX?((0,D.addClassName)((p=this).frame,"busy"),p.dom.busyContent.innerText=m,setTimeout(function(){f(),(0,D.removeClassName)(p.frame,"busy"),p.dom.busyContent.innerText=""},100)):f()},I.validate=_.validate,I._renderErrors=_._renderErrors,[{mode:"preview",mixin:I,data:"json"}])},6210:function(me,we,ue){"use strict";ue.r(we),ue.d(we,{showSortModal:function(){return he}}),we=ue(483);var V=ue.n(we),ne=ue(7907),fe=ue(9791);function he(ye,D,J,B){var M=Array.isArray(D)?(0,fe.getChildPaths)(D):[""],Z=B&&B.path&&(0,fe.contains)(M,B.path)?B.path:M[0],O=B&&B.direction||"asc";D='<div class="pico-modal-contents"><div class="pico-modal-header">'+(0,ne.Iu)("sort")+"</div><form><table><tbody><tr>  <td>"+(0,ne.Iu)("sortFieldLabel")+' </td>  <td class="jsoneditor-modal-input">  <div class="jsoneditor-select-wrapper">    <select id="field" title="'+(0,ne.Iu)("sortFieldTitle")+'">    </select>  </div>  </td></tr><tr>  <td>'+(0,ne.Iu)("sortDirectionLabel")+' </td>  <td class="jsoneditor-modal-input">  <div id="direction" class="jsoneditor-button-group"><input type="button" value="'+(0,ne.Iu)("sortAscending")+'" title="'+(0,ne.Iu)("sortAscendingTitle")+'" data-value="asc" class="jsoneditor-button-first jsoneditor-button-asc"/><input type="button" value="'+(0,ne.Iu)("sortDescending")+'" title="'+(0,ne.Iu)("sortDescendingTitle")+'" data-value="desc" class="jsoneditor-button-last jsoneditor-button-desc"/>  </div>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+(0,ne.Iu)("ok")+'" /></td></tr></tbody></table></form></div>',V()({parent:ye,content:D,overlayClass:"jsoneditor-modal-overlay",overlayStyles:{backgroundColor:"rgb(1,1,1)",opacity:.3},modalClass:"jsoneditor-modal jsoneditor-modal-sort"}).afterCreate(function(_){var I=_.modalElem().querySelector("form"),C=_.modalElem().querySelector("#ok"),f=_.modalElem().querySelector("#field"),m=_.modalElem().querySelector("#direction");function p(g){m.value=g,m.className="jsoneditor-button-group jsoneditor-button-group-value-"+m.value}M.forEach(function(g){var y,h=document.createElement("option");h.text=""===(y=g)?"@":"."===y[0]?y.slice(1):y,h.value=g,f.appendChild(h)}),f.value=Z||M[0],p(O||"asc"),m.onclick=function(g){p(g.target.getAttribute("data-value"))},C.onclick=function(g){g.preventDefault(),g.stopPropagation(),_.close(),J({path:f.value,direction:m.value})},I&&(I.onsubmit=C.onclick)}).afterClose(function(_){_.destroy()}).show()}},2558:function(me,V,ue){"use strict";ue.r(V),ue.d(V,{showTransformModal:function(){return Z}}),V=ue(483);var we=ue.n(V),ne=(V=ue(3879),ue.n(V)),fe=ue(7907);function he(O){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function ye(O,D,_,I){if("boolean"==typeof O||O instanceof Boolean||null===O||"number"==typeof O||O instanceof Number||"string"==typeof O||O instanceof String||O instanceof Date)return JSON.stringify(O);if(Array.isArray(O)){for(var C=O,f=D,m=_,p=I,g=f?m+f:void 0,y=f?"[\n":"[",h=0;h<C.length;h++){var d=C[h];if(f&&(y+=g),y+=void 0!==d&&"function"!=typeof d?ye(d,f,g,p):"null",h<C.length-1&&(y+=f?",\n":","),y.length>p)return y+"..."}return y+(f?"\n"+m+"]":"]")}if(O&&"object"===he(O)){var v,A=O,E=D,T=(m=_,I),F=E?m+E:void 0,$=!0,j=E?"{\n":"{";if("function"==typeof A.toJSON)return ye(A.toJSON(),E,m,T);for(v in A)if(Object.prototype.hasOwnProperty.call(A,v)&&($?$=!1:j+=E?",\n":",",(j=(j+=E?F+'"'+v+'": ':'"'+v+'":')+ye(A[v],E,F,T)).length>T))return j+"...";return j+(E?"\n"+m+"}":"}")}}function oe(O,D){for(var _="";0<D--;)_+=O;return _}var J=ue(9791),B=ue(4188);function Z(g){var D=g.container,_=g.json,I=void 0===(I=g.queryDescription)?'Enter a <a href="http://jmespath.org" target="_blank">JMESPath</a> query to filter, sort, or transform the JSON data.<br/>To learn JMESPath, go to <a href="http://jmespath.org/tutorial.html" target="_blank">the interactive tutorial</a>.':I,C=g.createQuery,f=g.executeQuery,m=g.onTransform,p=_;g='<label class="pico-modal-contents"><div class="pico-modal-header">'+(0,fe.Iu)("transform")+"</div><p>"+I+'</p><div class="jsoneditor-jmespath-label">'+(0,fe.Iu)("transformWizardLabel")+' </div><div id="wizard" class="jsoneditor-jmespath-block jsoneditor-jmespath-wizard">  <table class="jsoneditor-jmespath-wizard-table">    <tbody>      <tr>        <th>'+(0,fe.Iu)("transformWizardFilter")+'</th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-filter-field" >            <select id="filterField">            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-relation" >            <select id="filterRelation">              <option value="==">==</option>              <option value="!=">!=</option>              <option value="<">&lt;</option>              <option value="<=">&lt;=</option>              <option value=">">&gt;</option>              <option value=">=">&gt;=</option>            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-value" >            <input type="text" class="value" placeholder="value..." id="filterValue" />          </div>        </td>      </tr>      <tr>        <th>'+(0,fe.Iu)("transformWizardSortBy")+'</th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-sort-field">            <select id="sortField">            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-sort-order" >            <select id="sortOrder">              <option value="asc">Ascending</option>              <option value="desc">Descending</option>            </select>          </div>        </td>      </tr>      <tr id="selectFieldsPart">        <th>'+(0,fe.Iu)("transformWizardSelectFields")+'</th>        <td class="jsoneditor-jmespath-filter">          <select class="jsoneditor-jmespath-select-fields" id="selectFields" multiple></select>        </td>      </tr>    </tbody>  </table></div><div class="jsoneditor-jmespath-label">'+(0,fe.Iu)("transformQueryLabel")+' </div><div class="jsoneditor-jmespath-block">  <textarea id="query"             rows="4"             autocomplete="off"             autocorrect="off"             autocapitalize="off"             spellcheck="false"            title="'+(0,fe.Iu)("transformQueryTitle")+'">[*]</textarea></div><div class="jsoneditor-jmespath-label">'+(0,fe.Iu)("transformPreviewLabel")+' </div><div class="jsoneditor-jmespath-block">  <textarea id="preview"       class="jsoneditor-transform-preview"      readonly> </textarea></div><div class="jsoneditor-jmespath-block jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+(0,fe.Iu)("ok")+'" autofocus /></div></div>',we()({parent:D,content:g,overlayClass:"jsoneditor-modal-overlay",overlayStyles:{backgroundColor:"rgb(1,1,1)",opacity:.3},modalClass:"jsoneditor-modal jsoneditor-modal-transform",focus:!1}).afterCreate(function(y){var h=y.modalElem(),Y=h.querySelector("#wizard"),d=h.querySelector("#ok"),v=h.querySelector("#filterField"),A=h.querySelector("#filterRelation"),E=h.querySelector("#filterValue"),T=h.querySelector("#sortField"),F=h.querySelector("#sortOrder"),$=h.querySelector("#selectFields"),j=h.querySelector("#query"),te=h.querySelector("#preview");Array.isArray(p)||(Y.style.fontStyle="italic",Y.textContent="(wizard not available for objects, only for arrays)"),(0,J.getChildPaths)(_).forEach(function(Ie){var pe;Ie=N(Ie),((pe=document.createElement("option")).text=Ie,pe.value=Ie,v.appendChild(pe),pe=document.createElement("option")).text=Ie,pe.value=Ie,T.appendChild(pe)}),0<(Y=(0,J.getChildPaths)(_,!0).filter(function(be){return""!==be})).length?Y.forEach(function(Ie){Ie=N(Ie);var pe=document.createElement("option");pe.text=Ie,pe.value=Ie,$.appendChild(pe)}):(Y=h.querySelector("#selectFieldsPart"))&&(Y.style.display="none"),Y=new(ne())(v,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."});var ae=new(ne())(A,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"compare..."}),S=new(ne())(T,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),R=new(ne())(F,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"order..."}),X=new(ne())($,{multiple:!0,clearable:!0,defaultSelected:!1,placeholder:"select fields..."});function N(be){return""===be?"@":"."===be[0]?be.slice(1):be}Y.on("selectr.change",Q),ae.on("selectr.change",Q),E.oninput=Q,S.on("selectr.change",Q),R.on("selectr.change",Q),X.on("selectr.change",Q),h.querySelector(".pico-modal-contents").onclick=function(be){"A"!==be.target.nodeName&&be.preventDefault()};var K=(0,J.debounce)(function(){try{var be=f(p,j.value);te.className="jsoneditor-transform-preview",te.value=(Ie=be,Te=B.WF,"number"==typeof(pe=2)?10<pe?U=oe(" ",10):1<=pe&&(U=oe(" ",pe)):"string"==typeof pe&&""!==pe&&(U=pe),(pe=ye(Ie,U,"",Te)).length>Te?(Ie=pe,("number"==typeof(U=Te)?Ie.slice(0,U):Ie)+"..."):pe),d.disabled=!1}catch(re){te.className="jsoneditor-transform-preview jsoneditor-error",te.value=re.toString(),d.disabled=!0}var Ie,pe,Te,U},300);function ie(be,Ie){try{j.value=C(be,Ie),d.disabled=!1,K()}catch(pe){be='Error: an error happened when executing "createQuery": '+(pe.message||pe.toString()),j.value="",d.disabled=!0,te.className="jsoneditor-transform-preview jsoneditor-error",te.value=be}}function Q(){var be={};if(v.value&&A.value&&E.value&&(be.filter={field:v.value,relation:A.value,value:E.value}),T.value&&F.value&&(be.sort={field:T.value,direction:F.value}),$.value){for(var pe=[],Te=0;Te<$.options.length;Te++)$.options[Te].selected&&pe.push($.options[Te].value);be.projection={fields:pe}}ie(_,be)}j.oninput=K,d.onclick=function(be){be.preventDefault(),be.stopPropagation(),y.close(),m(j.value)},ie(_,{}),setTimeout(function(){j.select(),j.focus(),j.selectionStart=3,j.selectionEnd=3})}).afterClose(function(y){y.destroy()}).show()}},8458:function(me,m,ue){"use strict";ue.r(m),ue.d(m,{textModeMixins:function(){return y}});var we=ue(1262),V=(m=ue(8170),ue.n(m)),ne=ue(4188),fe=ue(6436),he=ue(2474),ye=ue(7907),oe=ue(6056),J=ue(6617),B=ue(6210),M=ue(2558),Z=ue(9125),O=ue(7026),D=ue(9791);function _(h){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(h)}function I(h,d){for(var v=0;v<d.length;v++){var A=d[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,(E=function(T,F){if("object"!==_(T)||null===T)return T;var $=T[Symbol.toPrimitive];if(void 0===$)return String(T);if("object"!==_($=$.call(T,F)))return $;throw new TypeError("@@toPrimitive must return a primitive value.")}(E=A.key,"string"),"symbol"===_(E)?E:String(E)),A)}var E}var C=function(){function h(E,T){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.schema=E,this.schemaRefs=T||{},this.suggestions={},this.suggestionsRefs={},this._buildSuggestions()}var d,v;return d=h,(v=[{key:"_buildSuggestions",value:function(){for(var E in this._handleSchemaEntry("",this.schema,this.suggestions),this.schemaRefs)this.suggestionsRefs[E]={},this._handleSchemaEntry("",this.schemaRefs[E],this.suggestionsRefs[E])}},{key:"_handleRef",value:function(E,T,F){F[E]=F[E]||{},F[E].refs=F[E].refs||[],F[E].refs=(0,D.uniqueMergeArrays)(F[E].refs,[T])}},{key:"_handleSchemaEntry",value:function(E,T,F){if(T)if(T.$ref)this._handleRef(E,T.$ref,F);else{var $=this._checkOfConditon(T);if($)this._handleOfCondition(E,T[$],F);else switch(T.type){case"object":this._handleObject(E,T,F);break;case"string":case"number":case"integer":this._handlePrimitive(E,T,F);break;case"boolean":this._handleBoolean(E,T,F);break;case"array":this._handleArray(E,T,F)}}else console.error("SchemaTextCompleter: schema node is missing for path",E)}},{key:"_handleObject",value:function(E,T,F){var $,j=this;(0,D.isObject)(T.properties)&&($=Object.keys(T.properties),F[E]=F[E]||{},F[E].props=F[E].props||[],F[E].props=(0,D.uniqueMergeArrays)(F[E].props,$),$.forEach(function(te){(0,D.asyncExec)(function(){j._handleSchemaEntry("".concat(E,"/").concat(te),T.properties[te],F)})}))}},{key:"_handlePrimitive",value:function(E,T,F){F[E]=F[E]||{},(0,D.isArray)(T.examples)&&(F[E].examples=F[E].examples||[],F[E].examples=(0,D.uniqueMergeArrays)(F[E].examples,T.examples)),(0,D.isArray)(T.enum)&&(F[E].enum=F[E].enum||[],F[E].enum=(0,D.uniqueMergeArrays)(F[E].enum,T.enum))}},{key:"_handleBoolean",value:function(E,T,F){F[E]||(F[E]={bool:[!0,!1]})}},{key:"_handleArray",value:function(E,T,F){var $=this;T.items&&(0,D.asyncExec)(function(){$._handleSchemaEntry("".concat(E,"/\\d+"),T.items,F)})}},{key:"_handleOfCondition",value:function(E,T,F){var $=this;T&&T.length&&T.forEach(function(j){(0,D.asyncExec)(function(){$._handleSchemaEntry(E,j,F)})})}},{key:"_checkOfConditon",value:function(E){if(E)return E.oneOf?"oneOf":E.anyOf?"anyOf":E.allOf?"allOf":void 0}},{key:"getCompletions",value:function(E,T,F,$,j){var te=this;try{var Y=O.parse(T.getValue()).pointers||{};Object.keys(Y).forEach(function(S){(0,D.asyncExec)(function(){var X,N;(null==(N=Y[S].key)?void 0:N.line)===F.row&&F.column>=Y[S].key.column&&F.column<=Y[S].keyEnd.column&&(X=S.slice(0,S.lastIndexOf("/"))),(X=(null==(N=Y[S].value)?void 0:N.line)===F.row&&(null==(N=Y[S].value)?void 0:N.line)===(null==(N=Y[S].valueEnd)?void 0:N.line)&&F.column>=Y[S].value.column&&F.column<=Y[S].valueEnd.column?S:X)&&(N=function R(K,ie,Q){var be,Ie=Object.keys(ie).reduce(function(re,se){return new RegExp("^".concat(Q).concat(se)).test(K)&&(!re||re.length<se.length)?se:re});if("string"==typeof Ie){if(null!=(be=ie[Ie])&&null!=(be=be.refs)&&be.length){var pe,Te={};for(pe in ie[Ie].refs){var U=ie[Ie].refs[pe];te.suggestionsRefs[U]&&(null!=(U=R(K,te.suggestionsRefs[U],"".concat(Q).concat(Ie)))&&U.enum&&(Te.enum=(0,D.uniqueMergeArrays)(Te.enum,U.enum)),null!=U&&U.examples&&(Te.examples=(0,D.uniqueMergeArrays)(Te.examples,U.examples)),null!=U&&U.bool&&(Te.bool=(0,D.uniqueMergeArrays)(Te.bool,U.bool)),null!=U)&&U.props&&(Te.props=(0,D.uniqueMergeArrays)(Te.props,U.props))}return Te}if(new RegExp("^".concat(Q).concat(Ie,"$")).test(K))return ie[Ie]}}(X,te.suggestions,""),function(S){function R(K){var ie,Q={props:"property",enum:"enum",bool:"boolean",examples:"examples"};S&&null!=(ie=S[K])&&ie.length&&(X=X.concat(S[K].map(function(be){return{caption:be+"",meta:"schema [".concat(Q[K],"]"),score:N++,value:be+""}})))}var X=[],N=0;R("props"),R("enum"),R("bool"),R("examples"),X.length&&j(null,X)}(N))})})}catch{}}}])&&I(d.prototype,v),Object.defineProperty(d,"prototype",{writable:!1}),h}();function f(h){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(h)}var p="ace/theme/jsoneditor";function g(){try{this.format()}catch{}}(m={}).create=function($){var d,v,A,E=this,T=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},j=(void 0===T.statusBar&&(T.statusBar=!0),T.mainMenuBar=!1!==T.mainMenuBar,T.enableSort=!1!==T.enableSort,T.enableTransform=!1!==T.enableTransform,T.createQuery=T.createQuery||oe.r,T.executeQuery=T.executeQuery||oe.J,T.showErrorTable=void 0!==T.showErrorTable?T.showErrorTable:["text","preview"],this.indentation="number"==typeof(this.options=T).indentation?Number(T.indentation):2,(0,ye.cC)(this.options.languages),(0,ye.m0)(this.options.language),T.ace||V()),F=(this.mode="code"===T.mode?"code":"text","code"===this.mode&&void 0===j&&(this.mode="text",console.warn("Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.")),this.theme=T.theme||p,this.theme===p&&j&&(0,Z.O)(),T.onTextSelectionChange&&this.onTextSelectionChange(T.onTextSelectionChange),this);this.container=$,this.dom={},this.aceEditor=void 0,this.textarea=void 0,this.validateSchema=null,this.annotations=[],this.lastSchemaErrors=void 0,this._debouncedValidate=(0,D.debounce)(this._validateAndCatch.bind(this),this.DEBOUNCE_INTERVAL),this.width=$.clientWidth,this.height=$.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.frame.onclick=function(te){te.preventDefault()},this.frame.onkeydown=function(te){F._onKeyDown(te)},this.frameFocusTracker=new he.R($={target:this.frame,onFocus:this.options.onFocus||null,onBlur:this.options.onBlur||null}),this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.options.mainMenuBar&&((0,D.addClassName)(this.content,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu),($=document.createElement("button")).type="button",$.className="jsoneditor-format",$.title=(0,ye.Iu)("formatTitle"),this.menu.appendChild($),$.onclick=function(){try{F.format(),F._onChange()}catch(te){F._onError(te)}},($=document.createElement("button")).type="button",$.className="jsoneditor-compact",$.title=(0,ye.Iu)("compactTitle"),this.menu.appendChild($),$.onclick=function(){try{F.compact(),F._onChange()}catch(te){F._onError(te)}},this.options.enableSort&&(($=document.createElement("button")).type="button",$.className="jsoneditor-sort",$.title=(0,ye.Iu)("sortTitleShort"),$.onclick=function(){F._showSortModal()},this.menu.appendChild($)),this.options.enableTransform&&(($=document.createElement("button")).type="button",$.title=(0,ye.Iu)("transformTitleShort"),$.className="jsoneditor-transform",$.onclick=function(){F._showTransformModal()},this.menu.appendChild($)),($=document.createElement("button")).type="button",$.className="jsoneditor-repair",$.title=(0,ye.Iu)("repairTitle"),this.menu.appendChild($),$.onclick=function(){try{F.repair(),F._onChange()}catch(te){F._onError(te)}},"code"===this.mode&&(($=document.createElement("button")).type="button",$.className="jsoneditor-undo jsoneditor-separator",$.title=(0,ye.Iu)("undo"),$.onclick=function(){E.aceEditor.getSession().getUndoManager().undo()},this.menu.appendChild($),this.dom.undo=$,($=document.createElement("button")).type="button",$.className="jsoneditor-redo",$.title=(0,ye.Iu)("redo"),$.onclick=function(){E.aceEditor.getSession().getUndoManager().redo()},this.menu.appendChild($),this.dom.redo=$),this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new J.x(this.menu,this.options.modes,this.options.mode,function(te){try{F.setMode(te),F.modeSwitcher.focus()}catch(Y){F._onError(Y)}})),"code"===this.mode)&&((d=document.createElement("a")).appendChild(document.createTextNode("powered by ace")),d.href="https://ace.c9.io/",d.target="_blank",d.className="jsoneditor-poweredBy",d.onclick=function(){window.open(d.href,d.target,"noreferrer")},this.menu.appendChild(d)),$=this.options.onEditable&&f("function"===this.options.onEditable)&&!this.options.onEditable({}),this.frame.appendChild(this.content),this.container.appendChild(this.frame),"code"===this.mode?(this.editorDom=document.createElement("div"),this.editorDom.style.height="100%",this.editorDom.style.width="100%",this.content.appendChild(this.editorDom),A=(j=j.edit(this.editorDom)).getSession(),j.$blockScrolling=1/0,j.setTheme(this.theme),j.setOptions({readOnly:$}),j.setShowPrintMargin(!1),j.setFontSize("14px"),A.setMode("ace/mode/json"),A.setTabSize(this.indentation),A.setUseSoftTabs(!0),A.setUseWrapMode(!0),v=A.setAnnotations,A.setAnnotations=function(te){v.call(this,te&&te.length?te:F.annotations)},j.commands.bindKey("Ctrl-L",null),j.commands.bindKey("Command-L",null),j.commands.bindKey("Ctrl-\\",null),j.commands.bindKey("Command-\\",null),j.commands.bindKey("Ctrl-Shift-\\",null),j.commands.bindKey("Command-Shift-\\",null),(this.aceEditor=j).on("change",this._onChange.bind(this)),j.on("changeSelection",this._onSelect.bind(this))):((A=document.createElement("textarea")).className="jsoneditor-text",A.spellcheck=!1,this.content.appendChild(A),this.textarea=A,this.textarea.readOnly=$,null===this.textarea.oninput?this.textarea.oninput=this._onChange.bind(this):this.textarea.onchange=this._onChange.bind(this),A.onselect=this._onSelect.bind(this),A.onmousedown=this._onMouseDown.bind(this),A.onblur=this._onBlur.bind(this)),this._updateHistoryButtons(),j=Array.isArray(this.options.showErrorTable)?this.options.showErrorTable.includes(this.mode):!0===this.options.showErrorTable,this.errorTable=new fe.Q({errorTableVisible:j,onToggleVisibility:function(){F._validateAndCatch()},onFocusLine:function(te){F.isFocused=!0,isNaN(te)||F.setTextSelection({row:te,column:1},{row:te,column:1e3})},onChangeHeight:function(te){F.content.style.marginBottom=-(te=te+(F.dom.statusBar?F.dom.statusBar.clientHeight:0)+1)+"px",F.content.style.paddingBottom=te+"px"}}),this.frame.appendChild(this.errorTable.getErrorTable()),T.statusBar&&((0,D.addClassName)(this.content,"has-status-bar"),this.curserInfoElements={},$=document.createElement("div"),(this.dom.statusBar=$).className="jsoneditor-statusbar",this.frame.appendChild($),(A=document.createElement("span")).className="jsoneditor-curserinfo-label",A.innerText="Ln:",(j=document.createElement("span")).className="jsoneditor-curserinfo-val",j.innerText="1",$.appendChild(A),$.appendChild(j),(T=document.createElement("span")).className="jsoneditor-curserinfo-label",T.innerText="Col:",(A=document.createElement("span")).className="jsoneditor-curserinfo-val",A.innerText="1",$.appendChild(T),$.appendChild(A),this.curserInfoElements.colVal=A,this.curserInfoElements.lnVal=j,(T=document.createElement("span")).className="jsoneditor-curserinfo-label",T.innerText="characters selected",T.style.display="none",(A=document.createElement("span")).className="jsoneditor-curserinfo-count",A.innerText="0",A.style.display="none",this.curserInfoElements.countLabel=T,this.curserInfoElements.countVal=A,$.appendChild(A),$.appendChild(T),$.appendChild(this.errorTable.getErrorCounter()),$.appendChild(this.errorTable.getWarningIcon()),$.appendChild(this.errorTable.getErrorIcon())),this.setSchema(this.options.schema,this.options.schemaRefs)},m._onSchemaChange=function(h,d){this.aceEditor&&(this.options.allowSchemaSuggestions&&h?(this.aceEditor.setOption("enableBasicAutocompletion",[new C(h,d)]),this.aceEditor.setOption("enableLiveAutocompletion",!0)):(this.aceEditor.setOption("enableBasicAutocompletion",void 0),this.aceEditor.setOption("enableLiveAutocompletion",!1)))},m._onChange=function(){var h=this;if(!this.onChangeDisabled){if(setTimeout(function(){h._updateHistoryButtons&&h._updateHistoryButtons()}),this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(d){console.error("Error in onChange callback: ",d)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(d){console.error("Error in onChangeText callback: ",d)}}},m._updateHistoryButtons=function(){var h;this.aceEditor&&this.dom.undo&&this.dom.redo&&(h=this.aceEditor.getSession().getUndoManager())&&h.hasUndo&&h.hasRedo&&(this.dom.undo.disabled=!h.hasUndo(),this.dom.redo.disabled=!h.hasRedo())},m._showSortModal=function(){try{var h=this,d=this.options.modalAnchor||ne.qD,v=this.get();(0,B.showSortModal)(d,v,function(A){var E;Array.isArray(v)&&(E=(0,D.sort)(v,A.path,A.direction),h.sortedBy=A,h.update(E)),(0,D.isObject)(v)&&(E=(0,D.sortObjectKeys)(v,A.direction),h.sortedBy=A,h.update(E))},h.sortedBy)}catch(A){this._onError(A)}},m._showTransformModal=function(){var h=this;try{var d=this.options,v=d.modalAnchor,A=d.createQuery,E=d.executeQuery,T=d.queryDescription,F=this.get();(0,M.showTransformModal)({container:v||ne.qD,json:F,queryDescription:T,createQuery:A,executeQuery:E,onTransform:function($){$=E(F,$),h.update($)}})}catch($){this._onError($)}},m._onSelect=function(){this._updateCursorInfo(),this._emitSelectionChange()},m._onKeyDown=function(h){var d=!1;73===(h.which||h.keyCode)&&h.ctrlKey&&(h.shiftKey?this.compact():this.format(),this._onChange(),d=!0),d&&(h.preventDefault(),h.stopPropagation()),this._updateCursorInfo(),this._emitSelectionChange()},m._onMouseDown=function(){this._updateCursorInfo(),this._emitSelectionChange()},m._onBlur=function(){var h=this;setTimeout(function(){h.isFocused||(h._updateCursorInfo(),h._emitSelectionChange()),h.isFocused=!1})},m._updateCursorInfo=function(){var h,d,v,A,E,T=this;function F(){T.curserInfoElements.countVal.innerText!==E&&(T.curserInfoElements.countVal.innerText=E,T.curserInfoElements.countVal.style.display=E?"inline":"none",T.curserInfoElements.countLabel.style.display=E?"inline":"none"),T.curserInfoElements.lnVal.innerText=v,T.curserInfoElements.colVal.innerText=A}this.textarea?setTimeout(function(){var $=(0,D.getInputSelection)(T.textarea);$.startIndex!==$.endIndex&&(E=$.endIndex-$.startIndex),A=(E&&T.cursorInfo&&T.cursorInfo.line===$.end.row&&T.cursorInfo.column===$.end.column?(v=$.start.row,$.start):(v=$.end.row,$.end)).column,T.cursorInfo={line:v,column:A,count:E},T.options.statusBar&&F()},0):this.aceEditor&&this.curserInfoElements&&(h=this.aceEditor.getCursorPosition(),d=this.aceEditor.getSelectedText(),T.cursorInfo={line:v=h.row+1,column:A=h.column+1,count:E=d.length},this.options.statusBar)&&F()},m._emitSelectionChange=function(){var h;this._selectionChangedHandler&&(h=this.getTextSelection(),this._selectionChangedHandler(h.start,h.end,h.text))},m._refreshAnnotations=function(){var h,d=this.aceEditor&&this.aceEditor.getSession();d&&(h=d.getAnnotations().filter(function(v){return"error"===v.type}),d.setAnnotations(h))},m.destroy=function(){this.aceEditor&&(this.aceEditor.destroy(),this.aceEditor=null),this.frame&&this.container&&this.frame.parentNode===this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.textarea=null,this._debouncedValidate=null,this.frameFocusTracker.destroy()},m.compact=function(){var h=this.get();h=JSON.stringify(h),this.updateText(h)},m.format=function(){var h=this.get();h=JSON.stringify(h,null,this.indentation),this.updateText(h)},m.repair=function(){var h=this.getText();try{var d=(0,we.K)(h);this.updateText(d)}catch{}},m.focus=function(){this.textarea&&this.textarea.focus(),this.aceEditor&&this.aceEditor.focus()},m.resize=function(){this.aceEditor&&this.aceEditor.resize(!1)},m.set=function(h){this.setText(JSON.stringify(h,null,this.indentation))},m.update=function(h){this.updateText(JSON.stringify(h,null,this.indentation))},m.get=function(){var h=this.getText();return(0,D.parse)(h)},m.getText=function(){return this.textarea?this.textarea.value:this.aceEditor?this.aceEditor.getValue():""},m._setText=function(E,d){var v,A=this;E=!0===this.options.escapeUnicode?(0,D.escapeUnicodeChars)(E):E,this.textarea&&(this.textarea.value=E),this.aceEditor&&(this.onChangeDisabled=!0,this.aceEditor.setValue(E,-1),this.onChangeDisabled=!1,d&&(v=this,setTimeout(function(){v.aceEditor&&v.aceEditor.session.getUndoManager().reset()})),setTimeout(function(){A._updateHistoryButtons&&A._updateHistoryButtons()})),this._debouncedValidate()},m.setText=function(h){this._setText(h,!0)},m.updateText=function(h){this.getText()!==h&&this._setText(h,!1)},m.validate=function(){var h,d=this,v=[],A=[];try{var E=this.get(),T=(this.validateSchema&&!this.validateSchema(E)&&(v=this.validateSchema.errors.map(function($){return $.type="validation",(0,D.improveSchemaError)($)})),this.validationSequence=(this.validationSequence||0)+1,this),F=this.validationSequence;return function($,j){if(!j)return Promise.resolve([]);try{var te=j($);return((0,D.isPromise)(te)?te:Promise.resolve(te)).then(function(Y){return Array.isArray(Y)?Y.filter(function(ae){var S=(0,D.isValidValidationError)(ae);return S||console.warn('Ignoring a custom validation error with invalid structure. Expected structure: {path: [...], message: "..."}. Actual error:',ae),S}).map(function(ae){return{dataPath:(0,D.stringifyPath)(ae.path),message:ae.message,type:"customValidation"}}):[]})}catch(Y){return Promise.reject(Y)}}(E,this.options.onValidate).then(function($){return F===T.validationSequence&&($=v.concat(A).concat($),T._renderErrors($),"function"==typeof d.options.onValidationError&&(0,D.isValidationErrorChanged)($,d.lastSchemaErrors)&&d.options.onValidationError.call(d,$),d.lastSchemaErrors=$),d.lastSchemaErrors})}catch($){return this.getText()&&((E=/\w*line\s*(\d+)\w*/g.exec($.message))&&(h=+E[1]),A=[{type:"error",message:$.message.replace(/\n/g,"<br>"),line:h}]),this._renderErrors(A),"function"==typeof this.options.onValidationError&&(0,D.isValidationErrorChanged)(A,this.lastSchemaErrors)&&this.options.onValidationError.call(this,A),this.lastSchemaErrors=A,Promise.resolve(this.lastSchemaErrors)}},m._validateAndCatch=function(){this.validate().catch(function(h){console.error("Error running validation:",h)})},m._renderErrors=function(h){var v=this.getText(),d=[];h.reduce(function(A,E){return"string"==typeof E.dataPath&&-1===A.indexOf(E.dataPath)&&A.push(E.dataPath),A},d),v=(0,D.getPositionForPath)(v,d),this.aceEditor&&(this.annotations=v.map(function(A){var E=h.filter(function(F){return F.dataPath===A.path}),T=E.map(function(F){return F.message}).join("\n");return T?{row:A.line,column:A.column,text:"Schema validation error"+(1!==E.length?"s":"")+": \n"+T,type:"warning",source:"jsoneditor"}:{}}),this._refreshAnnotations()),this.errorTable.setErrors(h,v),this.aceEditor&&this.aceEditor.resize(!1)},m.getTextSelection=function(){var h,d,v,A={};return this.textarea?(v=(0,D.getInputSelection)(this.textarea),this.cursorInfo&&this.cursorInfo.line===v.end.row&&this.cursorInfo.column===v.end.column?(A.start=v.end,A.end=v.start):A=v,{start:A.start,end:A.end,text:this.textarea.value.substring(v.startIndex,v.endIndex)}):this.aceEditor?(v=this.aceEditor.getSelection(),h=this.aceEditor.getSelectedText(),d=v.getRange(),(v=v.getSelectionLead()).row===d.end.row&&v.column===d.end.column?A=d:(A.start=d.end,A.end=d.start),{start:{row:A.start.row+1,column:A.start.column+1},end:{row:A.end.row+1,column:A.end.column+1},text:h}):void 0},m.onTextSelectionChange=function(h){"function"==typeof h&&(this._selectionChangedHandler=(0,D.debounce)(h,this.DEBOUNCE_INTERVAL))},m.setTextSelection=function(h,d){var v,A,E;h&&d&&(this.textarea?(v=(0,D.getIndexForPosition)(this.textarea,h.row,h.column),E=(0,D.getIndexForPosition)(this.textarea,d.row,d.column),-1<v&&-1<E&&(this.textarea.setSelectionRange?(this.textarea.focus(),this.textarea.setSelectionRange(v,E)):this.textarea.createTextRange&&((A=this.textarea.createTextRange()).collapse(!0),A.moveEnd("character",E),A.moveStart("character",v),A.select()),E=(this.textarea.value.match(/\n/g)||[]).length+1,this.textarea.scrollTop=(A=h.row*(v=this.textarea.scrollHeight/E))>this.textarea.clientHeight?A-this.textarea.clientHeight/2:0)):this.aceEditor&&(this.aceEditor.selection.setRange(E={start:{row:h.row-1,column:h.column-1},end:{row:d.row-1,column:d.column-1}}),this.aceEditor.scrollToLine(h.row-1,!0)))};var y=[{mode:"text",mixin:m,data:"text",load:g},{mode:"code",mixin:m,data:"text",load:g}]},8038:function(me,be,pe){"use strict";pe.r(be),pe.d(be,{treeModeMixins:function(){return Te}});var we={start:function(U,re,se){return 0===re.indexOf(U)},contain:function(U,re,se){return-1<re.indexOf(U)}},V=pe(897),ne=pe(2474);function fe(U){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(U)}function he(U,re){for(var se=0;se<re.length;se++){var ge=re[se];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(U,(G=function(W,q){if("object"!==fe(W)||null===W)return W;var ce=W[Symbol.toPrimitive];if(void 0===ce)return String(W);if("object"!==fe(ce=ce.call(W,q)))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}(G=ge.key,"string"),"symbol"===fe(G)?G:String(G)),ge)}var G}var ye=function(){function U(){if(!(this instanceof U))throw new TypeError("Cannot call a class as a function");this.locked=!1}var re,se;return re=U,(se=[{key:"highlight",value:function(G){this.locked||(this.node!==G&&(this.node&&this.node.setHighlight(!1),this.node=G,this.node.setHighlight(!0)),this._cancelUnhighlight())}},{key:"unhighlight",value:function(){var G;this.locked||(G=this).node&&(this._cancelUnhighlight(),this.unhighlightTimer=setTimeout(function(){G.node.setHighlight(!1),G.node=void 0,G.unhighlightTimer=void 0},0))}},{key:"_cancelUnhighlight",value:function(){this.unhighlightTimer&&(clearTimeout(this.unhighlightTimer),this.unhighlightTimer=void 0)}},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}}])&&he(re.prototype,se),Object.defineProperty(re,"prototype",{writable:!1}),U}(),oe=pe(7907),J=pe(6056),B=pe(6617),M=(be=pe(233),pe.n(be)),Z=pe(2602),O=pe(9791),D=pe(6210),_=pe(2558),I=pe(4188);function C(U){return function(re){if(Array.isArray(re))return g(re)}(U)||function(re){if(typeof Symbol<"u"&&null!=re[Symbol.iterator]||null!=re["@@iterator"])return Array.from(re)}(U)||p(U)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(U,re){return function(se){if(Array.isArray(se))return se}(U)||function(se,ge){var G=null==se?null:typeof Symbol<"u"&&se[Symbol.iterator]||se["@@iterator"];if(null!=G){var W,q,ce,Ae,Ve=[],nt=!0,rt=!1;try{if(ce=(G=G.call(se)).next,0===ge){if(Object(G)!==G)return;nt=!1}else for(;!(nt=(W=ce.call(G)).done)&&(Ve.push(W.value),Ve.length!==ge);nt=!0);}catch(bt){rt=!0,q=bt}finally{try{if(!nt&&null!=G.return&&(Ae=G.return(),Object(Ae)!==Ae))return}finally{if(rt)throw q}}return Ve}}(U,re)||p(U,re)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(U,re){var se,ge,G,W,q=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(q)return ge=!(se=!0),{s:function(){q=q.call(U)},n:function(){var ce=q.next();return se=ce.done,ce},e:function(ce){ge=!0,G=ce},f:function(){try{se||null==q.return||q.return()}finally{if(ge)throw G}}};if(Array.isArray(U)||(q=p(U))||re&&U&&"number"==typeof U.length)return q&&(U=q),W=0,{s:re=function(){},n:function(){return W>=U.length?{done:!0}:{done:!1,value:U[W++]}},e:function(ce){throw ce},f:re};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(U,re){var se;if(U)return"string"==typeof U?g(U,re):"Map"===(se="Object"===(se=Object.prototype.toString.call(U).slice(8,-1))&&U.constructor?U.constructor.name:se)||"Set"===se?Array.from(U):"Arguments"===se||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se)?g(U,re):void 0}function g(U,re){(null==re||re>U.length)&&(re=U.length);for(var se=0,ge=new Array(re);se<re;se++)ge[se]=U[se];return ge}function y(U){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(U)}function h(U,re){for(var se=0;se<re.length;se++){var ge=re[se];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(U,(G=function(W,q){if("object"!==y(W)||null===W)return W;var ce=W[Symbol.toPrimitive];if(void 0===ce)return String(W);if("object"!==y(ce=ce.call(W,q)))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}(G=ge.key,"string"),"symbol"===y(G)?G:String(G)),ge)}var G}var d=function(){function U(G,W){if(!(this instanceof U))throw new TypeError("Cannot call a class as a function");this.editor=G,this.dom={},this.expanded=!1,W&&W instanceof Object?(this.setField(W.field,W.fieldEditable),"value"in W&&this.setValue(W.value,W.type),"internalValue"in W&&this.setInternalValue(W.internalValue)):(this.setField(""),this.setValue(null)),this._debouncedOnChangeValue=(0,O.debounce)(this._onChangeValue.bind(this),U.prototype.DEBOUNCE_INTERVAL),this._debouncedOnChangeField=(0,O.debounce)(this._onChangeField.bind(this),U.prototype.DEBOUNCE_INTERVAL),this.visibleChilds=this.getMaxVisibleChilds()}var re,se;return re=U,(se=[{key:"getMaxVisibleChilds",value:function(){return this.editor&&this.editor.options&&this.editor.options.maxVisibleChilds?this.editor.options.maxVisibleChilds:v}},{key:"_updateEditability",value:function(){var G,W;this.editable={field:!0,value:!0},this.editor&&(this.editable.field="tree"===this.editor.options.mode,this.editable.value="view"!==this.editor.options.mode,"tree"!==this.editor.options.mode&&"form"!==this.editor.options.mode||"function"!=typeof this.editor.options.onEditable||(G=this.getValue.bind(this),"boolean"==typeof(W=this.editor.options.onEditable({field:this.field,get value(){return G()},path:this.getPath()}))?(this.editable.field=W,this.editable.value=W):"object"===y(W)&&null!==W?("boolean"==typeof W.field&&(this.editable.field=W.field),"boolean"==typeof W.value&&(this.editable.value=W.value)):(console.error("Invalid return value for function onEditable.","Actual value:",W,".","Either a boolean or object { field: boolean, value: boolean } expected."),this.editable.field=!1,this.editable.value=!1)))}},{key:"getPath",value:function(){for(var G=this,W=[];G;){var q=G.getName();void 0!==q&&W.unshift(q),G=G.parent}return W}},{key:"getInternalPath",value:function(){for(var G=this,W=[];G;)G.parent&&W.unshift(G.getIndex()),G=G.parent;return W}},{key:"getName",value:function(){return this.parent?"array"!==this.parent.type?this.field:this.index:void 0}},{key:"findNodeByPath",value:function(G){if(G){if(0===G.length)return this;if(G.length&&this.childs&&this.childs.length)for(var W=0;W<this.childs.length;++W)if(""+G[0]==""+this.childs[W].getName())return this.childs[W].findNodeByPath(G.slice(1))}}},{key:"findNodeByInternalPath",value:function(G){if(G){for(var ce=this,W=0;W<G.length&&ce;W++)ce=ce.childs[G[W]];return ce}}},{key:"serialize",value:function(){return{value:this.getValue(),path:this.getPath()}}},{key:"findNode",value:function(G){for(var W=(0,O.parsePath)(G),q=this;q&&0<W.length;)!function(){var ce=W.shift();if("number"==typeof ce){if("array"!==q.type)throw new Error("Cannot get child node at index "+ce+": node is no array");q=q.childs[ce]}else{if("object"!==q.type)throw new Error("Cannot get child node "+ce+": node is no object");q=q.childs.filter(function(Ae){return Ae.field===ce})[0]}}();return q}},{key:"findParents",value:function(){for(var G=[],W=this.parent;W;)G.unshift(W),W=W.parent;return G}},{key:"setError",value:function(G,W){this.error=G,this.errorChild=W,this.dom&&this.dom.tr&&this.updateError()}},{key:"updateError",value:function(){var G=this,W=this.fieldError||this.valueError||this.error,q=this.dom.tdError;if(W&&this.dom&&this.dom.tr){(0,O.addClassName)(this.dom.tr,"jsoneditor-validation-error"),q||(q=document.createElement("td"),this.dom.tdError=q,this.dom.tdValue.parentNode.appendChild(q));var ce=document.createElement("button"),Ae=(ce.type="button",ce.className="jsoneditor-button jsoneditor-schema-error",function(){G.dom.popupAnchor&&G.dom.popupAnchor.destroy()}),Ve=function(){delete G.dom.popupAnchor},nt=function(Ot){var Ct=G.editor.frame;G.dom.popupAnchor=(0,Z.w)(ce,G.editor.getPopupAnchor(),Ve,Ot),Ot=ce.getBoundingClientRect(),Ct=120<Ct.getBoundingClientRect().width-Ot.x?"jsoneditor-above":"jsoneditor-left",(Ot=document.createElement("div")).className="jsoneditor-popover "+Ct,Ot.appendChild(document.createTextNode(W.message)),G.dom.popupAnchor.appendChild(Ot)},rt=(ce.onmouseover=function(){G.dom.popupAnchor||nt(!0)},ce.onfocus=function(){Ae(),nt(!1)},ce.onblur=function(){Ae()},this.errorChild);for(rt&&(ce.onclick=function(){rt.findParents().forEach(function(bt){bt.expand(!1)}),rt.scrollTo(function(){rt.focus()})});q.firstChild;)q.removeChild(q.firstChild);q.appendChild(ce)}else this.dom.tr&&(0,O.removeClassName)(this.dom.tr,"jsoneditor-validation-error"),q&&(this.dom.tdError.parentNode.removeChild(this.dom.tdError),delete this.dom.tdError)}},{key:"getIndex",value:function(){var G;return this.parent?-1!==(G=this.parent.childs.indexOf(this))?G:null:-1}},{key:"setParent",value:function(G){this.parent=G}},{key:"setField",value:function(G,W){this.field=G,this.previousField=G,this.fieldEditable=!0===W}},{key:"getField",value:function(){return void 0===this.field&&this._getDomField(),this.field}},{key:"setValue",value:function(G,W){var q,ce,Ae,Ve,nt,rt,bt=this.childs;if(this.type=this._getType(G),W&&W!==this.type){if("string"!==W||"auto"!==this.type)throw new Error('Type mismatch: cannot cast value of type "'+this.type+' to the specified type "'+W+'"');this.type=W}if("array"===this.type){for(this.childs||(this.childs=[]),q=0;q<G.length;q++)void 0===(nt=G[q])||nt instanceof Function||(q<this.childs.length?((Ae=this.childs[q]).fieldEditable=!1,Ae.index=q,Ae.setValue(nt)):(Ae=new U(this.editor,{value:nt}),Ve=q<this.getMaxVisibleChilds(),this.appendChild(Ae,Ve,!1)));for(ce=this.childs.length;ce>=G.length;ce--)this.removeChild(this.childs[ce],!1)}else if("object"===this.type){for(this.childs||(this.childs=[]),ce=this.childs.length-1;0<=ce;ce--)T(G,this.childs[ce].field)||this.removeChild(this.childs[ce],!1);for(var Ct in q=0,G)T(G,Ct)&&(void 0===(nt=G[Ct])||nt instanceof Function||((rt=this.findChildByProperty(Ct))?(rt.setField(Ct,!0),rt.setValue(nt)):(rt=new U(this.editor,{field:Ct,value:nt}),Ct=q<this.getMaxVisibleChilds(),this.appendChild(rt,Ct,!1))),q++);!(this.value="")===this.editor.options.sortObjectKeys&&this.sort([],"asc",!1)}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=G;Array.isArray(bt)!==Array.isArray(this.childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),this.previousValue=this.value}},{key:"setInternalValue",value:function(G){var W,q,ce,Ae,Ve,nt=this.childs;if(this.type=G.type,"array"===G.type){for(this.childs||(this.childs=[]),Ae=0;Ae<G.childs.length;Ae++)void 0===(W=G.childs[Ae])||W instanceof Function||(Ae<this.childs.length?((q=this.childs[Ae]).fieldEditable=!1,q.index=Ae,q.setInternalValue(W)):(q=new U(this.editor,{internalValue:W}),ce=Ae<this.getMaxVisibleChilds(),this.appendChild(q,ce,!1)));for(Ve=this.childs.length;Ve>=G.childs.length;Ve--)this.removeChild(this.childs[Ve],!1)}else if("object"===G.type){for(this.childs||(this.childs=[]),Ae=0;Ae<G.childs.length;Ae++)void 0===(W=G.childs[Ae])||W instanceof Function||(Ae<this.childs.length?(delete(q=this.childs[Ae]).index,q.setField(W.field,!0),q.setInternalValue(W.value)):(q=new U(this.editor,{field:W.field,internalValue:W.value}),ce=Ae<this.getMaxVisibleChilds(),this.appendChild(q,ce,!1)));for(Ve=this.childs.length;Ve>=G.childs.length;Ve--)this.removeChild(this.childs[Ve],!1)}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=G.value;Array.isArray(nt)!==Array.isArray(this.childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),this.previousValue=this.value}},{key:"recreateDom",value:function(){var G;this.dom&&this.dom.tr&&this.dom.tr.parentNode?(G=this._detachFromDom(),this.clearDom(),this._attachToDom(G)):this.clearDom()}},{key:"getValue",value:function(){var G,W;return"array"===this.type?(G=[],this.childs.forEach(function(q){G.push(q.getValue())}),G):"object"===this.type?(W={},this.childs.forEach(function(q){W[q.getField()]=q.getValue()}),W):(void 0===this.value&&this._getDomValue(),this.value)}},{key:"getInternalValue",value:function(){return"array"===this.type?{type:this.type,childs:this.childs.map(function(G){return G.getInternalValue()})}:"object"===this.type?{type:this.type,childs:this.childs.map(function(G){return{field:G.getField(),value:G.getInternalValue()}})}:(void 0===this.value&&this._getDomValue(),{type:this.type,value:this.value})}},{key:"getLevel",value:function(){return this.parent?this.parent.getLevel()+1:0}},{key:"getNodePath",value:function(){var G=this.parent?this.parent.getNodePath():[];return G.push(this),G}},{key:"clone",value:function(){var G,W;return(G=new U(this.editor)).type=this.type,G.field=this.field,G.fieldInnerText=this.fieldInnerText,G.fieldEditable=this.fieldEditable,G.previousField=this.previousField,G.value=this.value,G.valueInnerText=this.valueInnerText,G.previousValue=this.previousValue,G.expanded=this.expanded,G.visibleChilds=this.visibleChilds,this.childs?(W=[],this.childs.forEach(function(q){(q=q.clone()).setParent(G),W.push(q)}),G.childs=W):G.childs=void 0,G}},{key:"expand",value:function(G){this.childs&&(this.expanded=!0,this.dom.expand&&(this.dom.expand.className="jsoneditor-button jsoneditor-expanded"),this.showChilds(),!1!==G&&this.childs.forEach(function(W){W.expand(G)}),this.updateDom({recurse:!1}))}},{key:"collapse",value:function(G){this.childs&&(this.hideChilds(),!1!==G&&this.childs.forEach(function(W){W.collapse(G)}),this.dom.expand&&(this.dom.expand.className="jsoneditor-button jsoneditor-collapsed"),this.expanded=!1,this.updateDom({recurse:!1}))}},{key:"showChilds",value:function(){if((G=this.childs)&&this.expanded){var G,W=(G=this.dom.tr)?G.parentNode:void 0;if(W){for(var q=this.getAppendDom(),ce=(q.parentNode||((Ae=G.nextSibling)?W.insertBefore(q,Ae):W.appendChild(q)),Math.min(this.childs.length,this.visibleChilds)),Ae=this._getNextTr(),Ve=0;Ve<ce;Ve++){var nt=this.childs[Ve];nt.getDom().parentNode||W.insertBefore(nt.getDom(),Ae),nt.showChilds()}G=this.getShowMoreDom(),Ae=this._getNextTr(),G.parentNode||W.insertBefore(G,Ae),this.showMore.updateDom()}}}},{key:"_getNextTr",value:function(){return this.showMore&&this.showMore.getDom().parentNode?this.showMore.getDom():this.append&&this.append.getDom().parentNode?this.append.getDom():void 0}},{key:"hide",value:function(G){var W=this.dom.tr,q=W?W.parentNode:void 0;q&&q.removeChild(W),this.dom.popupAnchor&&this.dom.popupAnchor.destroy(),this.hideChilds(G)}},{key:"hideChilds",value:function(G){var W;this.childs&&this.expanded&&((W=this.getAppendDom()).parentNode&&W.parentNode.removeChild(W),this.childs.forEach(function(q){q.hide()}),(W=this.getShowMoreDom()).parentNode&&W.parentNode.removeChild(W),G&&!G.resetVisibleChilds||(this.visibleChilds=this.getMaxVisibleChilds()))}},{key:"_updateCssClassName",value:function(){var G,W;this.dom.field&&this.editor&&this.editor.options&&"function"==typeof this.editor.options.onClassName&&this.dom.tree&&((0,O.removeAllClassNames)(this.dom.tree),G=this.getValue.bind(this),W=this.editor.options.onClassName({path:this.getPath(),field:this.field,get value(){return G()}})||"",(0,O.addClassName)(this.dom.tree,"jsoneditor-values "+W))}},{key:"recursivelyUpdateCssClassesOnNodes",value:function(){if(this._updateCssClassName(),Array.isArray(this.childs))for(var G=0;G<this.childs.length;G++)this.childs[G].recursivelyUpdateCssClassesOnNodes()}},{key:"expandTo",value:function(){for(var G=this.parent;G;)G.expanded||G.expand(),G=G.parent}},{key:"appendChild",value:function(G,W,q){var ce,Ae;this._hasChilds()&&(G.setParent(this),G.fieldEditable="object"===this.type,"array"===this.type&&(G.index=this.childs.length),"object"===this.type&&void 0===G.field&&G.setField(""),this.childs.push(G),this.expanded&&!1!==W&&(W=G.getDom(),Ae=(ce=this._getNextTr())?ce.parentNode:void 0,ce&&Ae&&Ae.insertBefore(W,ce),G.showChilds(),this.visibleChilds++),!1!==q)&&(this.updateDom({updateIndexes:!0}),G.updateDom({recurse:!0}))}},{key:"moveBefore",value:function(G,W,q){var ce,Ae;this._hasChilds()&&((ce=this.dom.tr?this.dom.tr.parentNode:void 0)&&((Ae=document.createElement("tr")).style.height=ce.clientHeight+"px",ce.appendChild(Ae)),G.parent&&G.parent.removeChild(G),W instanceof F||!W?this.childs.length+1>this.visibleChilds?this.insertBefore(G,this.childs[this.visibleChilds-1],q):this.appendChild(G,!0,q):this.insertBefore(G,W,q),ce)&&Ae&&ce.removeChild(Ae)}},{key:"insertBefore",value:function(G,W,q){if(this._hasChilds()){if(this.visibleChilds++,"object"===this.type&&void 0===G.field&&G.setField(""),W===this.append)G.setParent(this),G.fieldEditable="object"===this.type,this.childs.push(G);else{var ce=this.childs.indexOf(W);if(-1===ce)throw new Error("Node not found");G.setParent(this),G.fieldEditable="object"===this.type,this.childs.splice(ce,0,G)}var Ae;this.expanded&&(ce=G.getDom(),Ae=(W=W.getDom())?W.parentNode:void 0,W&&Ae&&Ae.insertBefore(ce,W),G.showChilds(),this.showChilds()),!1!==q&&(this.updateDom({updateIndexes:!0}),G.updateDom({recurse:!0}))}}},{key:"insertAfter",value:function(G,W){this._hasChilds()&&(W=this.childs.indexOf(W),(W=this.childs[W+1])?this.insertBefore(G,W):this.appendChild(G))}},{key:"search",value:function(G,W){Array.isArray(W)||(W=[]);var q=G?G.toLowerCase():void 0;return delete this.searchField,delete this.searchValue,void 0!==this.field&&W.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.field).toLowerCase().indexOf(q)&&(this.searchField=!0,W.push({node:this,elem:"field"})),this._updateDomField()),this._hasChilds()?this.childs&&this.childs.forEach(function(ce){ce.search(G,W)}):void 0!==this.value&&W.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.value).toLowerCase().indexOf(q)&&(this.searchValue=!0,W.push({node:this,elem:"value"})),this._updateDomValue()),W}},{key:"scrollTo",value:function(G){this.expandPathToNode(),this.dom.tr&&this.dom.tr.parentNode&&this.editor.scrollTo(this.dom.tr.offsetTop,G)}},{key:"expandPathToNode",value:function(){for(var G=this;G&&G.parent;){for(var W="array"===G.parent.type?G.index:G.parent.childs.indexOf(G);G.parent.visibleChilds<W+1;)G.parent.visibleChilds+=this.getMaxVisibleChilds();G.parent.expand(!1),G=G.parent}}},{key:"focus",value:function(G){if(U.focusElement=G,this.dom.tr&&this.dom.tr.parentNode){var W=this.dom;switch(G){case"drag":(W.drag||W.menu).focus();break;case"menu":W.menu.focus();break;case"expand":this._hasChilds()?W.expand.focus():W.field&&this.fieldEditable?(W.field.focus(),(0,O.selectContentEditable)(W.field)):W.value&&!this._hasChilds()?(W.value.focus(),(0,O.selectContentEditable)(W.value)):W.menu.focus();break;case"field":W.field&&this.fieldEditable?(W.field.focus(),(0,O.selectContentEditable)(W.field)):W.value&&!this._hasChilds()?(W.value.focus(),(0,O.selectContentEditable)(W.value)):(this._hasChilds()?W.expand:W.menu).focus();break;default:W.select?W.select.focus():W.value&&!this._hasChilds()?(W.value.focus(),(0,O.selectContentEditable)(W.value)):W.field&&this.fieldEditable?(W.field.focus(),(0,O.selectContentEditable)(W.field)):(this._hasChilds()?W.expand:W.menu).focus()}}}},{key:"containsNode",value:function(G){if(this===G)return!0;var W=this.childs;if(W)for(var q=0,ce=W.length;q<ce;q++)if(W[q].containsNode(G))return!0;return!1}},{key:"removeChild",value:function(G,W){if(this.childs){var q=this.childs.indexOf(G);if(-1!==q)return q<this.visibleChilds&&this.expanded&&this.visibleChilds--,G.hide(),delete G.searchField,delete G.searchValue,(G=this.childs.splice(q,1)[0]).parent=null,!1!==W&&this.updateDom({updateIndexes:!0}),G}}},{key:"_remove",value:function(G){this.removeChild(G)}},{key:"changeType",value:function(G){var W,q=this.type;q!==G&&("string"!==G&&"auto"!==G||"string"!==q&&"auto"!==q?(W=this._detachFromDom(),this.clearDom(),"object"===(this.type=G)?(this.childs||(this.childs=[]),this.childs.forEach(function(ce){ce.clearDom(),delete ce.index,ce.fieldEditable=!0,void 0===ce.field&&(ce.field="")}),"string"!==q&&"auto"!==q||(this.expanded=!0)):"array"===G?(this.childs||(this.childs=[]),this.childs.forEach(function(ce,Ae){ce.clearDom(),ce.fieldEditable=!1,ce.index=Ae}),"string"!==q&&"auto"!==q||(this.expanded=!0)):this.expanded=!1,this._attachToDom(W)):this.type=G,"auto"!==G&&"string"!==G||(this.value="string"===G?String(this.value):(0,O.parseString)(String(this.value)),this.focus()),this.updateDom({updateIndexes:!0}))}},{key:"deepEqual",value:function(G){var W;if("array"===this.type){if(!Array.isArray(G)||this.childs.length!==G.length)return!1;for(W=0;W<this.childs.length;W++)if(!this.childs[W].deepEqual(G[W]))return!1}else if("object"===this.type){if("object"!==y(G)||!G)return!1;var q=Object.keys(G);if(this.childs.length!==q.length)return!1;for(W=0;W<q.length;W++){var ce=this.childs[W];if(ce.field!==q[W]||!ce.deepEqual(G[ce.field]))return!1}}else if(this.value!==G)return!1;return!0}},{key:"_getDomValue",value:function(){if(this._clearValueError(),this.dom.value&&"array"!==this.type&&"object"!==this.type&&(this.valueInnerText=(0,O.getInnerText)(this.dom.value),""===this.valueInnerText)&&""!==this.dom.value.innerHTML&&(this.dom.value.textContent=""),void 0!==this.valueInnerText)try{var G,W;(W="string"===this.type?this._unescapeHTML(this.valueInnerText):(G=this._unescapeHTML(this.valueInnerText),(0,O.parseString)(G)))!==this.value&&(this.value=W,this._debouncedOnChangeValue())}catch{this._setValueError((0,oe.Iu)("cannotParseValueError"))}}},{key:"_setValueError",value:function(G){this.valueError={message:G},this.updateError()}},{key:"_clearValueError",value:function(){this.valueError&&(this.valueError=null,this.updateError())}},{key:"_setFieldError",value:function(G){this.fieldError={message:G},this.updateError()}},{key:"_clearFieldError",value:function(){this.fieldError&&(this.fieldError=null,this.updateError())}},{key:"_onChangeValue",value:function(){var G,W=this.editor.getDomSelection(),q=(W.range&&(q=(0,O.textDiff)(String(this.value),String(this.previousValue)),W.range.startOffset=q.start,W.range.endOffset=q.end),this.editor.getDomSelection());q.range&&(G=(0,O.textDiff)(String(this.previousValue),String(this.value)),q.range.startOffset=G.start,q.range.endOffset=G.end),this.editor._onAction("editValue",{path:this.getInternalPath(),oldValue:this.previousValue,newValue:this.value,oldSelection:W,newSelection:q}),this.previousValue=this.value}},{key:"_onChangeField",value:function(){var G=this.editor.getDomSelection(),W=this.previousField||"",q=(G.range&&(q=(0,O.textDiff)(this.field,W),G.range.startOffset=q.start,G.range.endOffset=q.end),this.editor.getDomSelection());q.range&&(W=(0,O.textDiff)(W,this.field),q.range.startOffset=W.start,q.range.endOffset=W.end),this.editor._onAction("editField",{parentPath:this.parent.getInternalPath(),index:this.getIndex(),oldValue:this.previousField,newValue:this.field,oldSelection:G,newSelection:q}),this.previousField=this.field}},{key:"_updateDomValue",value:function(){var G=this.dom.value;if(G){var W=["jsoneditor-value"],q=this.value,ce="auto"===this.type?(0,O.getType)(q):this.type,Ae="string"===ce&&(0,O.isUrl)(q);if(W.push("jsoneditor-"+ce),Ae&&W.push("jsoneditor-url"),""===String(this.value)&&"array"!==this.type&&"object"!==this.type&&W.push("jsoneditor-empty"),this.searchValueActive&&W.push("jsoneditor-highlight-active"),this.searchValue&&W.push("jsoneditor-highlight"),G.className=W.join(" "),G.title="array"===ce||"object"===ce?this.type+" containing "+(W=this.childs?this.childs.length:0)+" items":Ae&&this.editable.value?(0,oe.Iu)("openUrl"):"","boolean"===ce&&this.editable.value?(this.dom.checkbox||(this.dom.checkbox=document.createElement("input"),this.dom.checkbox.type="checkbox",this.dom.tdCheckbox=document.createElement("td"),this.dom.tdCheckbox.className="jsoneditor-tree",this.dom.tdCheckbox.appendChild(this.dom.checkbox),this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox,this.dom.tdValue)),this.dom.checkbox.checked=this.value):this.dom.tdCheckbox&&(this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox),delete this.dom.tdCheckbox,delete this.dom.checkbox),this.enum&&this.editable.value?(this.dom.select||(this.dom.select=document.createElement("select"),this.id=this.field+"_"+(new Date).getUTCMilliseconds(),this.dom.select.id=this.id,this.dom.select.name=this.dom.select.id,(W=document.createElement("option")).value="",W.textContent="--",this.dom.select.appendChild(W),this._updateEnumOptions(),this.dom.tdSelect=document.createElement("td"),this.dom.tdSelect.className="jsoneditor-tree",this.dom.tdSelect.appendChild(this.dom.select),this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect,this.dom.tdValue)),this.dom.select.value=-1!==this.enum.indexOf(this.value)?this.value:"",!this.schema||T(this.schema,"oneOf")||T(this.schema,"anyOf")||T(this.schema,"allOf")?delete this.valueFieldHTML:(this.valueFieldHTML=this.dom.tdValue.innerHTML,this.dom.tdValue.style.visibility="hidden",this.dom.tdValue.textContent="")):this.dom.tdSelect&&(this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect),delete this.dom.tdSelect,delete this.dom.select,this.dom.tdValue.innerHTML=this.valueFieldHTML,this.dom.tdValue.style.visibility="",delete this.valueFieldHTML,this.dom.tdValue.appendChild(this.dom.value)),this.editor.options.colorPicker&&"string"==typeof q&&(0,O.isValidColor)(q)?(this.dom.color||(this.dom.color=document.createElement("div"),this.dom.color.className="jsoneditor-color",this.dom.tdColor=document.createElement("td"),this.dom.tdColor.className="jsoneditor-tree",this.dom.tdColor.appendChild(this.dom.color),this.dom.tdValue.parentNode.insertBefore(this.dom.tdColor,this.dom.tdValue)),(0,O.addClassName)(this.dom.value,"jsoneditor-color-value"),(this.editable.value?O.removeClassName:O.addClassName)(this.dom.color,"jsoneditor-color-readonly"),this.dom.color.style.backgroundColor=q):this._deleteDomColor(),this._showTimestampTag()){if(this.dom.date||(this.dom.date=document.createElement("div"),this.dom.date.className="jsoneditor-date",this.dom.value.parentNode.appendChild(this.dom.date)),Ae=null,Ae="function"==typeof this.editor.options.timestampFormat?this.editor.options.timestampFormat({field:this.field,value:this.value,path:this.getPath()}):Ae){for(;this.dom.date.firstChild;)this.dom.date.removeChild(this.dom.date.firstChild);this.dom.date.appendChild(document.createTextNode(Ae))}else this.dom.date.textContent=new Date(q).toISOString();this.dom.date.title=new Date(q).toString()}else this.dom.date&&(this.dom.date.parentNode.removeChild(this.dom.date),delete this.dom.date);(0,O.stripFormatting)(G),this._updateDomDefault()}}},{key:"_updateEnumOptions",value:function(){if(this.enum&&this.dom.select){this.dom.select.innerHTML="";for(var G=0;G<this.enum.length;G++){var W=document.createElement("option");W.value=this.enum[G],W.textContent=this.enum[G],this.dom.select.appendChild(W)}}}},{key:"_deleteDomColor",value:function(){this.dom.color&&(this.dom.tdColor.parentNode.removeChild(this.dom.tdColor),delete this.dom.tdColor,delete this.dom.color,(0,O.removeClassName)(this.dom.value,"jsoneditor-color-value"))}},{key:"_updateDomField",value:function(){var G,W=this.dom.field;W&&((G=(0,O.makeFieldTooltip)(this.schema,this.editor.options.language))&&(W.title=G),(""===String(this.field)&&this.parent&&"array"!==this.parent.type?O.addClassName:O.removeClassName)(W,"jsoneditor-empty"),(this.searchFieldActive?O.addClassName:O.removeClassName)(W,"jsoneditor-highlight-active"),(this.searchField?O.addClassName:O.removeClassName)(W,"jsoneditor-highlight"),(0,O.stripFormatting)(W))}},{key:"_getDomField",value:function(G){if(this._clearFieldError(),this.dom.field&&this.fieldEditable&&(this.fieldInnerText=(0,O.getInnerText)(this.dom.field),""===this.fieldInnerText)&&""!==this.dom.field.innerHTML&&(this.dom.field.textContent=""),void 0!==this.fieldInnerText)try{var W=this._unescapeHTML(this.fieldInnerText),q=this.parent.getFieldNames(this);-1!==q.indexOf(W)?G?(W=(0,O.findUniqueName)(W,q))!==this.field&&(this.field=W,this._debouncedOnChangeField()):this._setFieldError((0,oe.Iu)("duplicateFieldError")):W!==this.field&&(this.field=W,this._debouncedOnChangeField())}catch{this._setFieldError((0,oe.Iu)("cannotParseFieldError"))}}},{key:"_updateDomDefault",value:function(){var G;this.schema&&void 0!==this.schema.default&&!this._hasChilds()&&(G=this.dom.select||this.dom.value)&&(this.value===this.schema.default?(G.title=(0,oe.Iu)("default"),(0,O.addClassName)(G,"jsoneditor-is-default"),O.removeClassName):(G.removeAttribute("title"),(0,O.removeClassName)(G,"jsoneditor-is-default"),O.addClassName))(G,"jsoneditor-is-not-default")}},{key:"_showTimestampTag",value:function(){var G,W;return"number"==typeof this.value&&("function"==typeof(G=this.editor.options.timestampTag)?"boolean"==typeof(W=G({field:this.field,value:this.value,path:this.getPath()}))?W:(0,O.isTimestamp)(this.field,this.value):!0===G&&(0,O.isTimestamp)(this.field,this.value))}},{key:"clearDom",value:function(){this.dom={}}},{key:"getDom",value:function(){var G,W,q=this.dom;return q.tr||(this._updateEditability(),q.tr=document.createElement("tr"),"tree"===(q.tr.node=this).editor.options.mode&&(W=document.createElement("td"),this.editable.field&&this.parent&&((G=document.createElement("button")).type="button",(q.drag=G).className="jsoneditor-button jsoneditor-dragarea",G.title=(0,oe.Iu)("drag"),W.appendChild(G)),q.tr.appendChild(W),G=document.createElement("td"),(W=document.createElement("button")).type="button",(q.menu=W).className="jsoneditor-button jsoneditor-contextmenu-button",W.title=(0,oe.Iu)("actionsMenu"),G.appendChild(q.menu),q.tr.appendChild(G)),W=document.createElement("td"),q.tr.appendChild(W),q.tree=this._createDomTree(),W.appendChild(q.tree),this.updateDom({updateIndexes:!0})),q.tr}},{key:"isVisible",value:function(){return this.dom&&this.dom.tr&&this.dom.tr.parentNode||!1}},{key:"isDescendantOf",value:function(G){for(var W=this.parent;W;){if(W===G)return!0;W=W.parent}return!1}},{key:"_createDomField",value:function(){return document.createElement("div")}},{key:"setHighlight",value:function(G){this.dom.tr&&((G?O.addClassName:O.removeClassName)(this.dom.tr,"jsoneditor-highlight"),this.append&&this.append.setHighlight(G),this.childs)&&this.childs.forEach(function(W){W.setHighlight(G)})}},{key:"setSelected",value:function(G,W){this.selected=G,this.dom.tr&&((G?O.addClassName:O.removeClassName)(this.dom.tr,"jsoneditor-selected"),(W?O.addClassName:O.removeClassName)(this.dom.tr,"jsoneditor-first"),this.append&&this.append.setSelected(G),this.showMore&&this.showMore.setSelected(G),this.childs)&&this.childs.forEach(function(q){q.setSelected(G)})}},{key:"updateValue",value:function(G){this.value=G,this.previousValue=G,this.valueError=void 0,this.updateDom()}},{key:"updateField",value:function(G){this.field=G,this.previousField=G,this.fieldError=void 0,this.updateDom()}},{key:"updateDom",value:function(G){var W,q;(q=this.dom.tree)&&(q.style.marginLeft=24*this.getLevel()+"px"),(q=this.dom.field)&&(this.fieldEditable?(q.contentEditable=this.editable.field,q.spellcheck=!1,q.className="jsoneditor-field"):(q.contentEditable=!1,q.className="jsoneditor-readonly"),W=void 0!==this.index?this.index:void 0!==this.field?this.field:(W=this.editor.options.schema?U._findSchema(this.editor.options.schema,this.editor.options.schemaRefs||{},this.getPath()):void 0)&&W.title?W.title:this._hasChilds()?this.type:"",W=this._escapeHTML(W),document.activeElement!==q&&W!==this._unescapeHTML((0,O.getInnerText)(q))&&(q.innerHTML=W),this._updateSchema(),this._updateEnumOptions()),(q=this.dom.value)&&("array"===this.type||"object"===this.type?this.updateNodeName():(W=this._escapeHTML(this.value),document.activeElement!==q&&W!==this._unescapeHTML((0,O.getInnerText)(q))&&(q.innerHTML=W))),(q=this.dom.tr)&&("array"===this.type||"object"===this.type?((0,O.addClassName)(q,"jsoneditor-expandable"),this.expanded?((0,O.addClassName)(q,"jsoneditor-expanded"),(0,O.removeClassName)(q,"jsoneditor-collapsed")):((0,O.addClassName)(q,"jsoneditor-collapsed"),(0,O.removeClassName)(q,"jsoneditor-expanded"))):((0,O.removeClassName)(q,"jsoneditor-expandable"),(0,O.removeClassName)(q,"jsoneditor-expanded"),(0,O.removeClassName)(q,"jsoneditor-collapsed"))),this._updateDomField(),this._updateDomValue(),G&&!0===G.updateIndexes&&this._updateDomIndexes(),G&&!0===G.recurse&&this.childs&&this.childs.forEach(function(ce){ce.updateDom(G)}),this.error&&this.updateError(),this.append&&this.append.updateDom(),this.showMore&&this.showMore.updateDom(),this._updateCssClassName()}},{key:"_updateSchema",value:function(){this.editor&&this.editor.options&&(this.schema=this.editor.options.schema?U._findSchema(this.editor.options.schema,this.editor.options.schemaRefs||{},this.getPath()):null,this.schema?this.enum=U._findEnum(this.schema):delete this.enum)}},{key:"_updateDomIndexes",value:function(){var W=this.childs;this.dom.value&&W&&("array"===this.type?W.forEach(function(q,ce){q.index=ce,(q=q.dom.field)&&(q.textContent=ce)}):"object"===this.type&&W.forEach(function(q){void 0!==q.index&&(delete q.index,void 0===q.field)&&(q.field="")}))}},{key:"_createDomValue",value:function(){var G;return"array"===this.type?(G=document.createElement("div")).textContent="[...]":"object"===this.type?(G=document.createElement("div")).textContent="{...}":(!this.editable.value&&(0,O.isUrl)(this.value)?(G=document.createElement("a")).href=this.value:((G=document.createElement("div")).contentEditable=this.editable.value,G.spellcheck=!1),G.innerHTML=this._escapeHTML(this.value)),G}},{key:"_createDomExpandButton",value:function(){var G=document.createElement("button");return G.type="button",this._hasChilds()?(G.className=this.expanded?"jsoneditor-button jsoneditor-expanded":"jsoneditor-button jsoneditor-collapsed",G.title=(0,oe.Iu)("expandTitle")):(G.className="jsoneditor-button jsoneditor-invisible",G.title=""),G}},{key:"_createDomTree",value:function(){var G=this.dom,W=document.createElement("table"),ce=document.createElement("tbody"),q=(W.style.borderCollapse="collapse",W.className="jsoneditor-values",W.appendChild(ce),document.createElement("tr"));return((((ce.appendChild(q),ce=document.createElement("td")).className="jsoneditor-tree",q.appendChild(ce),G.expand=this._createDomExpandButton(),ce.appendChild(G.expand),G.tdExpand=ce,ce=document.createElement("td")).className="jsoneditor-tree",q.appendChild(ce),G.field=this._createDomField(),ce.appendChild(G.field),G.tdField=ce,ce=document.createElement("td")).className="jsoneditor-tree",q.appendChild(ce),"object"!==this.type&&"array"!==this.type&&(ce.appendChild(document.createTextNode(":")),ce.className="jsoneditor-separator"),G.tdSeparator=ce,ce=document.createElement("td")).className="jsoneditor-tree",q.appendChild(ce),G.value=this._createDomValue(),ce.appendChild(G.value),G.tdValue=ce,W}},{key:"onEvent",value:function(G){var W,q=G.type,ce=G.target||G.srcElement,Ae=this.dom,Ve=this,nt=this._hasChilds(),rt=(ce!==Ae.drag&&ce!==Ae.menu||("mouseover"===q?this.editor.highlighter.highlight(this):"mouseout"===q&&this.editor.highlighter.unhighlight()),"click"===q&&ce===Ae.menu&&((W=Ve.editor.highlighter).highlight(Ve),W.lock(),(0,O.addClassName)(Ae.menu,"jsoneditor-selected"),this.showContextMenu(Ae.menu,function(){(0,O.removeClassName)(Ae.menu,"jsoneditor-selected"),W.unlock(),W.unhighlight()})),"click"===q&&ce===Ae.expand&&nt&&this._onExpand(At=G.ctrlKey),"click"!==q||G.target!==Ve.dom.tdColor&&G.target!==Ve.dom.color||!this.editable.value||this._showColorPicker(),"change"===q&&ce===Ae.checkbox&&(this.dom.value.textContent=String(!this.value),this._getDomValue(),this._updateDomDefault()),"change"===q&&ce===Ae.select&&(this.dom.value.innerHTML=this._escapeHTML(Ae.select.value),this._getDomValue(),this._updateDomValue()),Ae.value);if(ce===rt)switch(q){case"blur":case"change":this._getDomValue(),this._clearValueError(),this._updateDomValue();var bt=this._escapeHTML(this.value);bt!==this._unescapeHTML((0,O.getInnerText)(rt))&&(rt.innerHTML=bt);break;case"input":case"keyup":this._getDomValue(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"click":G.ctrlKey&&this.editable.value&&(0,O.isUrl)(this.value)&&(G.preventDefault(),window.open(this.value,"_blank","noreferrer"));break;case"cut":case"paste":setTimeout(function(){Ve._getDomValue(),Ve._updateDomValue()},1)}var Ct=Ae.field;if(ce===Ct)switch(q){case"blur":this._getDomField(!0),this._updateDomField();var Ot=this._escapeHTML(this.field);Ot!==this._unescapeHTML((0,O.getInnerText)(Ct))&&(Ct.innerHTML=Ot);break;case"input":this._getDomField(),this._updateSchema(),this._updateDomField(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"keyup":this._getDomField(),this._updateDomField();break;case"cut":case"paste":setTimeout(function(){Ve._getDomField(),Ve._updateDomField()},1)}var At=Ae.tree;At&&ce===At.parentNode&&"click"===q&&!G.hasMoved&&((void 0!==G.offsetX?G.offsetX<24*(this.getLevel()+1):G.pageX<(0,O.getAbsoluteLeft)(Ae.tdSeparator))||nt?Ct&&((0,O.setEndOfContentEditable)(Ct),Ct.focus()):rt&&!this.enum&&((0,O.setEndOfContentEditable)(rt),rt.focus())),(ce!==Ae.tdExpand||nt)&&ce!==Ae.tdField&&ce!==Ae.tdSeparator||"click"!==q||G.hasMoved||Ct&&((0,O.setEndOfContentEditable)(Ct),Ct.focus()),"keydown"===q&&this.onKeyDown(G),"function"==typeof this.editor.options.onEvent&&this._onEvent(G)}},{key:"_onEvent",value:function(G){var W=(q=G.target)===this.dom.field,q=q===this.dom.value||q===this.dom.checkbox||q===this.dom.select;(W||q)&&(W={field:this.getField(),path:this.getPath()},q&&!this._hasChilds()&&(W.value=this.getValue()),this.editor.options.onEvent(W,G))}},{key:"onKeyDown",value:function(G){var W,q,ce,Ae,Ve,nt,rt,bt,Ct,Ot,At,en,He,Ne,Je=G.which||G.keyCode,jt=G.target||G.srcElement,Mn=G.ctrlKey,Ue=G.shiftKey,tt=G.altKey,ot=!1,_t="tree"===this.editor.options.mode,pt=0<this.editor.multiselection.nodes.length?this.editor.multiselection.nodes:[this],wt=pt[0],nn=pt[pt.length-1];13===Je?jt===this.dom.value?this.editable.value&&!G.ctrlKey||(0,O.isUrl)(this.value)&&(window.open(this.value,"_blank","noreferrer"),ot=!0):jt===this.dom.expand&&this._hasChilds()&&(this._onExpand(He=G.ctrlKey),jt.focus(),ot=!0):68===Je?Mn&&_t&&(U.onDuplicate(pt),ot=!0):69===Je?Mn&&(this._onExpand(Ue),jt.focus(),ot=!0):77===Je&&_t?Mn&&(this.showContextMenu(jt),ot=!0):46===Je&&_t?Mn&&(U.onRemove(pt),ot=!0):45===Je&&_t?Mn&&!Ue?(this._onInsertBefore(),ot=!0):Mn&&Ue&&(this._onInsertAfter(),ot=!0):35===Je?tt&&((He=this._lastNode())&&He.focus(U.focusElement||this._getElementName(jt)),ot=!0):36===Je?tt&&((He=this._firstNode())&&He.focus(U.focusElement||this._getElementName(jt)),ot=!0):37===Je?tt&&!Ue?((He=this._previousElement(jt))&&this.focus(this._getElementName(He)),ot=!0):tt&&Ue&&_t&&(He=nn.expanded?(He=nn.getAppendDom())?He.nextSibling:void 0:nn.getDom().nextSibling)&&(At=U.getNodeFromTarget(He),en=U.getNodeFromTarget(He=He.nextSibling),At)&&At instanceof F&&1!==nn.parent.childs.length&&en&&en.parent&&(q=this.editor.getDomSelection(),ce=(Ae=wt.parent).childs[nn.getIndex()+1]||Ae.append,Ve=wt.getIndex(),nt=en.getIndex(),rt=Ae.getInternalPath(),bt=en.parent.getInternalPath(),pt.forEach(function(xe){en.parent.moveBefore(xe,en)}),this.focus(U.focusElement||this._getElementName(jt)),this.editor._onAction("moveNodes",{count:pt.length,fieldNames:pt.map(E),oldParentPath:Ae.getInternalPath(),newParentPath:wt.parent.getInternalPath(),oldIndex:ce.getIndex(),newIndex:wt.getIndex(),oldIndexRedo:Ve,newIndexRedo:nt,oldParentPathRedo:rt,newParentPathRedo:bt,oldSelection:q,newSelection:this.editor.getDomSelection()})):38===Je?tt&&!Ue?((W=this._previousNode())&&(this.editor.deselect(!0),W.focus(U.focusElement||this._getElementName(jt))),ot=!0):!tt&&Mn&&Ue&&_t?((W=this._previousNode())&&((Ot=this.editor.multiselection).start=Ot.start||this,Ot.end=W,Ct=this.editor._findTopLevelNodes(Ot.start,Ot.end),this.editor.select(Ct),W.focus("field")),ot=!0):tt&&Ue&&_t&&((W=wt._previousNode())&&W.parent&&(q=this.editor.getDomSelection(),ce=(Ae=wt.parent).childs[nn.getIndex()+1]||Ae.append,Ve=wt.getIndex(),nt=W.getIndex(),rt=Ae.getInternalPath(),bt=W.parent.getInternalPath(),pt.forEach(function(xe){W.parent.moveBefore(xe,W)}),this.focus(U.focusElement||this._getElementName(jt)),this.editor._onAction("moveNodes",{count:pt.length,fieldNames:pt.map(E),oldParentPath:Ae.getInternalPath(),newParentPath:wt.parent.getInternalPath(),oldIndex:ce.getIndex(),newIndex:wt.getIndex(),oldIndexRedo:Ve,newIndexRedo:nt,oldParentPathRedo:rt,newParentPathRedo:bt,oldSelection:q,newSelection:this.editor.getDomSelection()})),ot=!0):39===Je?tt&&!Ue?((He=this._nextElement(jt))&&this.focus(this._getElementName(He)),ot=!0):tt&&Ue&&_t&&(He=wt.getDom().previousSibling)&&(W=U.getNodeFromTarget(He))&&W.parent&&!W.isVisible()&&(q=this.editor.getDomSelection(),ce=(Ae=wt.parent).childs[nn.getIndex()+1]||Ae.append,Ve=wt.getIndex(),nt=W.getIndex(),rt=Ae.getInternalPath(),bt=W.parent.getInternalPath(),pt.forEach(function(xe){W.parent.moveBefore(xe,W)}),this.focus(U.focusElement||this._getElementName(jt)),this.editor._onAction("moveNodes",{count:pt.length,fieldNames:pt.map(E),oldParentPath:Ae.getInternalPath(),newParentPath:wt.parent.getInternalPath(),oldIndex:ce.getIndex(),newIndex:wt.getIndex(),oldIndexRedo:Ve,newIndexRedo:nt,oldParentPathRedo:rt,newParentPathRedo:bt,oldSelection:q,newSelection:this.editor.getDomSelection()})):40===Je&&(tt&&!Ue?((At=this._nextNode())&&(this.editor.deselect(!0),At.focus(U.focusElement||this._getElementName(jt))),ot=!0):!tt&&Mn&&Ue&&_t?((At=this._nextNode())&&((Ot=this.editor.multiselection).start=Ot.start||this,Ot.end=At,Ct=this.editor._findTopLevelNodes(Ot.start,Ot.end),this.editor.select(Ct),At.focus("field")),ot=!0):tt&&Ue&&_t&&((Ne=(At=(At=(At=nn.expanded?nn.append?nn.append._nextNode():void 0:nn._nextNode())&&!At.isVisible()?At.parent.showMore:At)&&At instanceof F?nn:At)&&(At._nextNode()||At.parent.append))&&Ne.parent&&(q=this.editor.getDomSelection(),ce=(Ae=wt.parent).childs[nn.getIndex()+1]||Ae.append,Ve=wt.getIndex(),nt=Ne.getIndex(),rt=Ae.getInternalPath(),bt=Ne.parent.getInternalPath(),pt.forEach(function(xe){Ne.parent.moveBefore(xe,Ne)}),this.focus(U.focusElement||this._getElementName(jt)),this.editor._onAction("moveNodes",{count:pt.length,fieldNames:pt.map(E),oldParentPath:Ae.getInternalPath(),newParentPath:wt.parent.getInternalPath(),oldParentPathRedo:rt,newParentPathRedo:bt,oldIndexRedo:Ve,newIndexRedo:nt,oldIndex:ce.getIndex(),newIndex:wt.getIndex(),oldSelection:q,newSelection:this.editor.getDomSelection()})),ot=!0)),ot&&(G.preventDefault(),G.stopPropagation())}},{key:"_onExpand",value:function(G){var W,q,ce;G&&(ce=(q=(W=this.dom.tr.parentNode).parentNode).scrollTop,q.removeChild(W)),this.expanded?this.collapse(G):this.expand(G),G&&(q.appendChild(W),q.scrollTop=ce),"function"==typeof this.editor.options.onExpand&&this.editor.options.onExpand({path:this.getPath(),isExpand:this.expanded,recursive:G})}},{key:"_showColorPicker",value:function(){var G,W;"function"==typeof this.editor.options.onColorPicker&&this.dom.color&&((G=this)._deleteDomColor(),G.updateDom(),W=(0,Z.w)(this.dom.color,this.editor.getPopupAnchor()),this.editor.options.onColorPicker(W,this.value,function(q){"string"==typeof q&&q!==G.value&&(G._deleteDomColor(),G.value=q,G.updateDom(),G._debouncedOnChangeValue())}))}},{key:"getFieldNames",value:function(G){return"object"===this.type?this.childs.filter(function(W){return W!==G}).map(function(W){return W.field}):[]}},{key:"_onInsertBefore",value:function(Ae,Ve,nt){var ce=this.editor.getDomSelection();(Ae=new U(this.editor,{field:void 0!==Ae?Ae:"",value:void 0!==Ve?Ve:"",type:nt})).expand(!0),Ve=this.getInternalPath(),this.parent.insertBefore(Ae,this),this.editor.highlighter.unhighlight(),Ae.focus("field"),nt=this.editor.getDomSelection(),this.editor._onAction("insertBeforeNodes",{nodes:[Ae],paths:[Ae.getInternalPath()],beforePath:Ve,parentPath:this.parent.getInternalPath(),oldSelection:ce,newSelection:nt})}},{key:"_onInsertAfter",value:function(Ae,Ve,q){var ce=this.editor.getDomSelection();(Ae=new U(this.editor,{field:void 0!==Ae?Ae:"",value:void 0!==Ve?Ve:"",type:q})).expand(!0),this.parent.insertAfter(Ae,this),this.editor.highlighter.unhighlight(),Ae.focus("field"),Ve=this.editor.getDomSelection(),this.editor._onAction("insertAfterNodes",{nodes:[Ae],paths:[Ae.getInternalPath()],afterPath:this.getInternalPath(),parentPath:this.parent.getInternalPath(),oldSelection:ce,newSelection:Ve})}},{key:"_onAppend",value:function(Ae,Ve,q){var ce=this.editor.getDomSelection();(Ae=new U(this.editor,{field:void 0!==Ae?Ae:"",value:void 0!==Ve?Ve:"",type:q})).expand(!0),this.parent.appendChild(Ae),this.editor.highlighter.unhighlight(),Ae.focus("field"),Ve=this.editor.getDomSelection(),this.editor._onAction("appendNodes",{nodes:[Ae],paths:[Ae.getInternalPath()],parentPath:this.parent.getInternalPath(),oldSelection:ce,newSelection:Ve})}},{key:"_onChangeType",value:function(G){var W,q,ce=this.type;G!==ce&&(W=this.editor.getDomSelection(),this.changeType(G),q=this.editor.getDomSelection(),this.editor._onAction("changeType",{path:this.getInternalPath(),oldType:ce,newType:G,oldSelection:W,newSelection:q}))}},{key:"sort",value:function(G,W){var q,ce,Ae=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];"string"==typeof G&&(G=(0,O.parsePath)(G)),this._hasChilds()&&(this.hideChilds(),q=this.childs,this.childs=this.childs.concat(),ce="desc"===W?-1:1,this.childs.sort("object"===this.type?function(Ve,nt){return ce*M()(Ve.field,nt.field)}:function(rt,bt){return rt=rt.getNestedChild(G),bt=bt.getNestedChild(G),rt?bt?(bt=bt.value,"string"!=typeof(rt=rt.value)&&"string"!=typeof bt?bt<rt?ce:rt<bt?-ce:0:ce*M()(rt,bt)):-ce:ce}),this._updateDomIndexes(),this.showChilds(),!0===Ae)&&this.editor._onAction("sort",{path:this.getInternalPath(),oldChilds:q,newChilds:this.childs})}},{key:"update",value:function(G){var W=this.getInternalValue();this.setValue(G),this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:W,newValue:this.getInternalValue()})}},{key:"_detachFromDom",value:function(){var G=this.dom.tr?this.dom.tr.parentNode:void 0,W=(W=this.expanded?this.getAppendDom():this.getDom())&&W.parentNode?W.nextSibling:void 0;return this.hide({resetVisibleChilds:!1}),{table:G,nextTr:W}}},{key:"_attachToDom",value:function(G){G.table&&(G.nextTr?G.table.insertBefore(this.getDom(),G.nextTr):G.table.appendChild(this.getDom())),this.expanded&&this.showChilds()}},{key:"transform",value:function(G){if(this._hasChilds()){this.hideChilds();try{var W=this.getInternalValue(),q=this.getValue(),ce=this.editor.options.executeQuery(q,G),Ae=(this.setValue(ce),this.getInternalValue());this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:W,newValue:Ae}),this.showChilds()}catch(Ve){this.showChilds(),this.editor._onError(Ve)}}}},{key:"extract",value:function(){this.editor.node.hideChilds(),this.hideChilds();try{var G=this.editor.node.getInternalValue(),W=(this.editor._setRoot(this),this.editor.node.getInternalValue());this.editor._onAction("transform",{path:this.editor.node.getInternalPath(),oldValue:G,newValue:W})}catch(q){this.editor._onError(q)}finally{this.updateDom({recurse:!0}),this.showChilds()}}},{key:"getNestedChild",value:function(G){for(var W=0,q=this;q&&W<G.length;)q=q.findChildByProperty(G[W]),W++;return q}},{key:"findChildByProperty",value:function(G){if("object"===this.type)return this.childs.find(function(W){return W.field===G})}},{key:"getAppendDom",value:function(){return this.append||(this.append=new F(this.editor),this.append.setParent(this)),this.append.getDom()}},{key:"getShowMoreDom",value:function(){return this.showMore||(this.showMore=new j(this.editor,this)),this.showMore.getDom()}},{key:"nextSibling",value:function(){var G=this.parent.childs.indexOf(this);return this.parent.childs[G+1]||this.parent.append}},{key:"_previousNode",value:function(){var G=null,W=this.getDom();if(W&&W.parentNode)for(var q=W;G=U.getNodeFromTarget(q=q.previousSibling),q&&G&&G instanceof F&&!G.isVisible(););return G}},{key:"_nextNode",value:function(){var G=null,W=this.getDom();if(W&&W.parentNode)for(var q=W;G=U.getNodeFromTarget(q=q.nextSibling),q&&G&&G instanceof F&&!G.isVisible(););return G}},{key:"_firstNode",value:function(){var G=null,W=this.getDom();return W&&W.parentNode&&(G=U.getNodeFromTarget(W=W.parentNode.firstChild)),G}},{key:"_lastNode",value:function(){var G=null,W=this.getDom();if(W&&W.parentNode){var q=W.parentNode.lastChild;for(G=U.getNodeFromTarget(q);q&&G&&!G.isVisible();)G=U.getNodeFromTarget(q=q.previousSibling)}return G}},{key:"_previousElement",value:function(G){var W=this.dom;switch(G){case W.value:if(this.fieldEditable)return W.field;case W.field:if(this._hasChilds())return W.expand;case W.expand:return W.menu;case W.menu:if(W.drag)return W.drag;default:return null}}},{key:"_nextElement",value:function(G){var W=this.dom;switch(G){case W.drag:return W.menu;case W.menu:if(this._hasChilds())return W.expand;case W.expand:if(this.fieldEditable)return W.field;case W.field:if(!this._hasChilds())return W.value;default:return null}}},{key:"_getElementName",value:function(G){var W=this;return Object.keys(this.dom).find(function(q){return W.dom[q]===G})}},{key:"_hasChilds",value:function(){return"array"===this.type||"object"===this.type}},{key:"addTemplates",value:function(G,W){var q=this,ce=q.editor.options.templates;null!=ce&&(ce.length&&G.push({type:"separator"}),ce.forEach(function(Ae){G.push({text:Ae.text,className:Ae.className||"jsoneditor-type-object",title:Ae.title,click:(W?function(Ve,nt){q._onAppend(Ve,nt)}:function(Ve,nt){q._onInsertBefore(Ve,nt)}).bind(this,Ae.field,Ae.value)})}))}},{key:"showContextMenu",value:function(G,W){var q,ce=this,Ae=[];this.editable.value&&Ae.push({text:(0,oe.Iu)("type"),title:(0,oe.Iu)("typeTitle"),className:"jsoneditor-type-"+this.type,submenu:[{text:(0,oe.Iu)("auto"),className:"jsoneditor-type-auto"+("auto"===this.type?" jsoneditor-selected":""),title:(0,oe.Iu)("autoType"),click:function(){ce._onChangeType("auto")}},{text:(0,oe.Iu)("array"),className:"jsoneditor-type-array"+("array"===this.type?" jsoneditor-selected":""),title:(0,oe.Iu)("arrayType"),click:function(){ce._onChangeType("array")}},{text:(0,oe.Iu)("object"),className:"jsoneditor-type-object"+("object"===this.type?" jsoneditor-selected":""),title:(0,oe.Iu)("objectType"),click:function(){ce._onChangeType("object")}},{text:(0,oe.Iu)("string"),className:"jsoneditor-type-string"+("string"===this.type?" jsoneditor-selected":""),title:(0,oe.Iu)("stringType"),click:function(){ce._onChangeType("string")}}]}),this._hasChilds()&&(this.editor.options.enableSort&&Ae.push({text:(0,oe.Iu)("sort"),title:(0,oe.Iu)("sortTitle",{type:this.type}),className:"jsoneditor-sort-asc",click:function(){ce.showSortModal()}}),this.editor.options.enableTransform&&Ae.push({text:(0,oe.Iu)("transform"),title:(0,oe.Iu)("transformTitle",{type:this.type}),className:"jsoneditor-transform",click:function(){ce.showTransformModal()}}),this.parent)&&Ae.push({text:(0,oe.Iu)("extract"),title:(0,oe.Iu)("extractTitle",{type:this.type}),className:"jsoneditor-extract",click:function(){ce.extract()}}),this.parent&&this.parent._hasChilds()&&(Ae.length&&Ae.push({type:"separator"}),ce===(q=ce.parent.childs)[q.length-1]&&(q=[{text:(0,oe.Iu)("auto"),className:"jsoneditor-type-auto",title:(0,oe.Iu)("autoType"),click:function(){ce._onAppend("","","auto")}},{text:(0,oe.Iu)("array"),className:"jsoneditor-type-array",title:(0,oe.Iu)("arrayType"),click:function(){ce._onAppend("",[])}},{text:(0,oe.Iu)("object"),className:"jsoneditor-type-object",title:(0,oe.Iu)("objectType"),click:function(){ce._onAppend("",{})}},{text:(0,oe.Iu)("string"),className:"jsoneditor-type-string",title:(0,oe.Iu)("stringType"),click:function(){ce._onAppend("","","string")}}],ce.addTemplates(q,!0),Ae.push({text:(0,oe.Iu)("appendText"),title:(0,oe.Iu)("appendTitle"),submenuTitle:(0,oe.Iu)("appendSubmenuTitle"),className:"jsoneditor-append",click:function(){ce._onAppend("","","auto")},submenu:q})),q=[{text:(0,oe.Iu)("auto"),className:"jsoneditor-type-auto",title:(0,oe.Iu)("autoType"),click:function(){ce._onInsertBefore("","","auto")}},{text:(0,oe.Iu)("array"),className:"jsoneditor-type-array",title:(0,oe.Iu)("arrayType"),click:function(){ce._onInsertBefore("",[])}},{text:(0,oe.Iu)("object"),className:"jsoneditor-type-object",title:(0,oe.Iu)("objectType"),click:function(){ce._onInsertBefore("",{})}},{text:(0,oe.Iu)("string"),className:"jsoneditor-type-string",title:(0,oe.Iu)("stringType"),click:function(){ce._onInsertBefore("","","string")}}],ce.addTemplates(q,!1),Ae.push({text:(0,oe.Iu)("insert"),title:(0,oe.Iu)("insertTitle"),submenuTitle:(0,oe.Iu)("insertSub"),className:"jsoneditor-insert",click:function(){ce._onInsertBefore("","","auto")},submenu:q}),this.editable.field)&&(Ae.push({text:(0,oe.Iu)("duplicateText"),title:(0,oe.Iu)("duplicateField"),className:"jsoneditor-duplicate",click:function(){U.onDuplicate(ce)}}),Ae.push({text:(0,oe.Iu)("removeText"),title:(0,oe.Iu)("removeField"),className:"jsoneditor-remove",click:function(){U.onRemove(ce)}})),this.editor.options.onCreateMenu&&(q=ce.getPath(),Ae=this.editor.options.onCreateMenu(Ae,{type:"single",path:q,paths:[q]})),new V.x(Ae,{close:W}).show(G,this.editor.getPopupAnchor())}},{key:"showSortModal",value:function(){var G=this,W=this.editor.options.modalAnchor||I.qD,q=this.getValue();(0,D.showSortModal)(W,q,function(ce){var Ae=(0,O.parsePath)(Ae=ce.path);G.sortedBy=ce,G.sort(Ae,ce.direction)},G.sortedBy)}},{key:"showTransformModal",value:function(){var G=this,W=(Ae=this.editor.options).modalAnchor,q=Ae.createQuery,ce=Ae.executeQuery,Ae=Ae.queryDescription,Ve=this.getValue();(0,_.showTransformModal)({container:W||I.qD,json:Ve,queryDescription:Ae,createQuery:q,executeQuery:ce,onTransform:function(nt){G.transform(nt)}})}},{key:"_getType",value:function(G){return G instanceof Array?"array":G instanceof Object?"object":"string"==typeof G&&"string"!=typeof(0,O.parseString)(G)?"string":"auto"}},{key:"_escapeHTML",value:function(G){return"string"!=typeof G?String(G):(G=String(G).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ {2}/g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),G=(G=JSON.stringify(G)).substring(1,G.length-1),!0===this.editor.options.escapeUnicode?(0,O.escapeUnicodeChars)(G):G)}},{key:"_unescapeHTML",value:function(G){return G='"'+this._escapeJSON(G)+'"',(0,O.parse)(G).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;|\u00A0/g," ").replace(/&amp;/g,"&")}},{key:"_escapeJSON",value:function(G){for(var W="",q=0;q<G.length;){var ce=G.charAt(q);"\n"===ce?W+="\\n":"\\"===ce?(W+=ce,q++,""!==(ce=G.charAt(q))&&-1!=='"\\/bfnrtu'.indexOf(ce)||(W+="\\"),W+=ce):W+='"'===ce?'\\"':ce,q++}return W}},{key:"updateNodeName",value:function(){var G=this.childs?this.childs.length:0;if("object"===this.type||"array"===this.type){if(this.editor.options.onNodeName)try{var W=this.getValue.bind(this),q=this.editor.options.onNodeName({path:this.getPath(),size:G,type:this.type,get value(){return W()}})}catch(ce){console.error("Error in onNodeName callback: ",ce)}this.dom.value.textContent="object"===this.type?"{"+(q||G)+"}":"["+(q||G)+"]"}}},{key:"recursivelyUpdateNodeName",value:function(){if(this.expanded&&(this.updateNodeName(),"undefined"!==this.childs))for(var G in this.childs)this.childs[G].recursivelyUpdateNodeName()}}])&&h(re.prototype,se),Object.defineProperty(re,"prototype",{writable:!1}),U}(),v=(d.prototype.DEBOUNCE_INTERVAL=150,d.prototype.MAX_SEARCH_RESULTS=999,100);function A(U){return U.getInternalPath()}function E(U){return U.getField()}function T(U,re){return Object.prototype.hasOwnProperty.call(U,re)}d.focusElement=void 0,d.select=function(U){setTimeout(function(){(0,O.selectContentEditable)(U)},0)},d.onDragStart=function(U,re){if(!Array.isArray(U))return d.onDragStart([U],re);var se,ge,G,W,q;0!==U.length&&(ge=U[U.length-1],G=(se=U[0]).parent,q=d.getNodeFromTarget(re.target),W=se.editor,q=(0,O.getAbsoluteTop)(q.dom.tr)-(0,O.getAbsoluteTop)(se.dom.tr),W.mousemove||(W.mousemove=(0,O.addEventListener)(re.view,"mousemove",function(ce){d.onDrag(U,ce)})),W.mouseup||(W.mouseup=(0,O.addEventListener)(re.view,"mouseup",function(ce){d.onDragEnd(U,ce)})),W.highlighter.lock(),W.drag={oldCursor:document.body.style.cursor,oldSelection:W.getDomSelection(),oldPaths:U.map(A),oldParent:G,oldNextNode:G.childs[ge.getIndex()+1]||G.append,oldParentPathRedo:G.getInternalPath(),oldIndexRedo:se.getIndex(),mouseX:re.pageX,offsetY:q,level:se.getLevel()},document.body.style.cursor="move",re.preventDefault())},d.onDrag=function(U,re){if(!Array.isArray(U))return d.onDrag([U],re);if(0!==U.length){var se,ge,G,W,q,ce=U[0].editor,Ae=re.pageY-ce.drag.offsetY,Ve=re.pageX,nt=!1,rt=U[0],bt=rt.dom.tr,Ct=(0,O.getAbsoluteTop)(bt),Ot=bt.offsetHeight;if(Ae<Ct){for(Ne=bt;Je=d.getNodeFromTarget(Ne=Ne.previousSibling),G=Ne?(0,O.getAbsoluteTop)(Ne):0,Ne&&Ae<G;);(Je=Je&&!Je.parent?void 0:Je)||(Ne=(bt=bt.parentNode.firstChild)?bt.nextSibling:void 0,(Je=d.getNodeFromTarget(Ne))===rt&&(Je=void 0)),!(Je=Je&&Je.isVisible()&&(G=(Ne=Je.dom.tr)?(0,O.getAbsoluteTop)(Ne):0)+Ot<Ae?void 0:Je)||!1!==ce.options.limitDragging&&Je.parent!==U[0].parent||(U.forEach(function(Mn){Je.parent.moveBefore(Mn,Je)}),nt=!0)}else{var At=U[U.length-1];if(Ot=(bt=At.expanded&&At.append?At.append.getDom():At.dom.tr)?bt.nextSibling:void 0){for(W=(0,O.getAbsoluteTop)(Ot),se=Ot;ge=d.getNodeFromTarget(se),se&&(q=se.nextSibling?(0,O.getAbsoluteTop)(se.nextSibling):0,q=se?q-W:0,ge&&ge.parent.childs.length===U.length&&ge.parent.childs[U.length-1]===At&&(Ct+=27),se=se.nextSibling),se&&Ct+q<Ae;);if(ge&&ge.parent){Ot=Ve-ce.drag.mouseX,Ot=Math.round(Ot/24/2);for(var en=ce.drag.level+Ot,He=ge.getLevel(),Ne=ge.dom.tr&&ge.dom.tr.previousSibling;He<en&&Ne;){var Je=d.getNodeFromTarget(Ne),jt=U.some(function(Ue){return Ue===Je||Je.isDescendantOf(Ue)});if(!jt){if(!(Je instanceof F)||(jt=Je.parent.childs).length===U.length&&jt[U.length-1]===At)break;He=(ge=d.getNodeFromTarget(Ne)).getLevel()}Ne=Ne.previousSibling}(ge=ge instanceof F&&!ge.isVisible()&&ge.parent.showMore.isVisible()?ge._nextNode():ge)&&(!1===ce.options.limitDragging||ge.parent===U[0].parent)&&ge.dom.tr&&ge.dom.tr!==bt.nextSibling&&(U.forEach(function(Mn){ge.parent.moveBefore(Mn,ge)}),nt=!0)}}}nt&&(ce.drag.mouseX=Ve,ce.drag.level=rt.getLevel()),ce.startAutoScroll(Ae),re.preventDefault()}},d.onDragEnd=function(U,re){if(!Array.isArray(U))return d.onDrag([U],re);var se,ge,G,W,q,ce,Ae,Ve,nt;0!==U.length&&(se=(ce=U[0]).editor,ce&&ce.dom.menu&&ce.dom.menu.focus(),ge=se.drag.oldParent.getInternalPath(),G=ce.parent.getInternalPath(),W=se.drag.oldParent===ce.parent,q=se.drag.oldNextNode.getIndex(),ce=ce.getIndex(),Ae=se.drag.oldParentPathRedo,Ve=se.drag.oldIndexRedo,nt=W&&Ve<ce?ce+U.length:ce,W&&Ve===ce||se._onAction("moveNodes",{count:U.length,fieldNames:U.map(E),oldParentPath:ge,newParentPath:G,oldIndex:q,newIndex:ce,oldIndexRedo:Ve,newIndexRedo:nt,oldParentPathRedo:Ae,newParentPathRedo:null,oldSelection:se.drag.oldSelection,newSelection:se.getDomSelection()}),document.body.style.cursor=se.drag.oldCursor,se.highlighter.unlock(),U.forEach(function(rt){rt.updateDom(),re.target!==rt.dom.drag&&re.target!==rt.dom.menu&&se.highlighter.unhighlight()}),delete se.drag,se.mousemove&&((0,O.removeEventListener)(re.view,"mousemove",se.mousemove),delete se.mousemove),se.mouseup&&((0,O.removeEventListener)(re.view,"mouseup",se.mouseup),delete se.mouseup),se.stopAutoScroll(),re.preventDefault())},d._findEnum=function(U){return U.enum?U.enum:(U=U.oneOf||U.anyOf||U.allOf)&&0<(U=U.filter(function(re){return re.enum})).length?U[0].enum:null},d._findSchema=function(U,re,se){for(var ge=3<arguments.length&&void 0!==arguments[3]?arguments[3]:U,G=se.slice(1,se.length),W=se[0],q=[ge],ce=0,Ae=[ge.oneOf,ge.anyOf,ge.allOf];ce<Ae.length;ce++){var Ve=Ae[ce];Array.isArray(Ve)&&(q=q.concat(Ve))}var nt,rt=m(q);try{for(rt.s();!(nt=rt.n()).done;){if("$ref"in(ge=nt.value)&&"string"==typeof ge.$ref){var bt,Ct=ge.$ref;if(Ct in re)ge=re[Ct];else{if(!Ct.startsWith("#/")){if(1===(null==(bt=Ct.match(/#\//g))?void 0:bt.length)){var Ot,At,en,He=f(Ct.split("#/"),2),Ne=He[0];if(Ne in re)return Ot=re[Ne],At={$ref:"#/".concat(He[1])},(en=[]).push(W),0<G.length&&en.push.apply(en,C(G)),d._findSchema(Ot,re,en,At)}throw Error("Unable to resolve reference ".concat(Ct))}var jt,Mn=Ct.substring(2).split("/"),Ue=(ge=U,m(Mn));try{for(Ue.s();!(jt=Ue.n()).done;){var tt=jt.value;if(!(tt in ge))throw Error("Unable to resolve reference ".concat(Ct));ge=ge[tt]}}catch(pt){Ue.e(pt)}finally{Ue.f()}}}if(void 0===W)return ge;if("string"==typeof W){if("object"===y(ge.properties)&&null!==ge.properties&&W in ge.properties)return d._findSchema(U,re,G,ge=ge.properties[W]);if("object"===y(ge.patternProperties)&&null!==ge.patternProperties)for(var ot in ge.patternProperties)if(W.match(ot))return d._findSchema(U,re,G,ge=ge.patternProperties[ot]);if("object"===y(ge.additionalProperties))return d._findSchema(U,re,G,ge=ge.additionalProperties)}else if("number"==typeof W&&"object"===y(ge.items)&&null!==ge.items)return d._findSchema(U,re,G,ge=ge.items)}}catch(_t){rt.e(_t)}finally{rt.f()}return null},d.onRemove=function(U){if(!Array.isArray(U))return d.onRemove([U]);var re,se,ge,G,W,q;U&&0<U.length&&(re=(ge=U[0]).parent,se=ge.editor,ge=ge.getIndex(),se.highlighter.unhighlight(),G=se.getDomSelection(),d.blurNodes(U),W=se.getDomSelection(),q=U.map(A),U.forEach(function(ce){ce.parent._remove(ce)}),se._onAction("removeNodes",{nodes:U,paths:q,parentPath:re.getInternalPath(),index:ge,oldSelection:G,newSelection:W}))},d.onDuplicate=function(U){if(!Array.isArray(U))return d.onDuplicate([U]);var re,se,ge,G,W,q,ce;U&&0<U.length&&(se=(re=U[U.length-1]).parent,(ge=re.editor).deselect(ge.multiselection.nodes),G=ge.getDomSelection(),W=re,q=U.map(function(Ae){var Ve,nt=Ae.clone();return"object"===Ae.parent.type&&(Ve=Ae.parent.getFieldNames(),nt.field=(0,O.findUniqueName)(Ae.field,Ve)),se.insertAfter(nt,W),W=nt}),1===U.length?"object"===q[0].parent.type?(q[0].dom.field.innerHTML=U[0]._escapeHTML(U[0].field),q[0].focus("field")):q[0].focus():ge.select(q),ce=ge.getDomSelection(),ge._onAction("duplicateNodes",{paths:U.map(A),clonePaths:q.map(A),afterPath:re.getInternalPath(),parentPath:se.getInternalPath(),oldSelection:G,newSelection:ce}))},d.getNodeFromTarget=function(U){for(;U;){if(U.node)return U.node;U=U.parentNode}},d.targetIsColorPicker=function(U){var re=d.getNodeFromTarget(U);if(re)for(var se=U&&U.parentNode;se;){if(se===re.dom.color)return!0;se=se.parentNode}return!1},d.blurNodes=function(U){var re,se;Array.isArray(U)?(re=(se=U[0]).parent,se=se.getIndex(),(re.childs[se+U.length]?re.childs[se+U.length]:re.childs[se-1]||re).focus()):d.blurNodes([U])},($.prototype=new d).getDom=function(){var U=this.dom;if(U.tr)return U.tr;this._updateEditability();var re=document.createElement("tr"),se=(re.className="jsoneditor-append",re.node=this,U.tr=re,"tree"===this.editor.options.mode&&(U.tdDrag=document.createElement("td"),ge=document.createElement("td"),U.tdMenu=ge,(se=document.createElement("button")).type="button",se.className="jsoneditor-button jsoneditor-contextmenu-button",se.title="Click to open the actions menu (Ctrl+M)",U.menu=se,ge.appendChild(U.menu)),document.createElement("td")),ge=document.createElement("div");return ge.appendChild(document.createTextNode("("+(0,oe.Iu)("empty")+")")),ge.className="jsoneditor-readonly",se.appendChild(ge),U.td=se,U.text=ge,this.updateDom(),re},$.prototype.getPath=function(){return null},$.prototype.getIndex=function(){return null},$.prototype.updateDom=function(U){var re=this.dom,se=re.td,ge=(se&&(se.style.paddingLeft=24*this.getLevel()+26+"px"),(ge=re.text)&&(ge.firstChild.nodeValue="("+(0,oe.Iu)("empty")+" "+this.parent.type+")"),re.tr);this.isVisible()?re.tr.firstChild||(re.tdDrag&&ge.appendChild(re.tdDrag),re.tdMenu&&ge.appendChild(re.tdMenu),ge.appendChild(se)):re.tr.firstChild&&(re.tdDrag&&ge.removeChild(re.tdDrag),re.tdMenu&&ge.removeChild(re.tdMenu),ge.removeChild(se))},$.prototype.isVisible=function(){return 0===this.parent.childs.length},$.prototype.showContextMenu=function(U,re){var se,ge=this,G=[{text:(0,oe.Iu)("auto"),className:"jsoneditor-type-auto",title:(0,oe.Iu)("autoType"),click:function(){ge._onAppend("","","auto")}},{text:(0,oe.Iu)("array"),className:"jsoneditor-type-array",title:(0,oe.Iu)("arrayType"),click:function(){ge._onAppend("",[])}},{text:(0,oe.Iu)("object"),className:"jsoneditor-type-object",title:(0,oe.Iu)("objectType"),click:function(){ge._onAppend("",{})}},{text:(0,oe.Iu)("string"),className:"jsoneditor-type-string",title:(0,oe.Iu)("stringType"),click:function(){ge._onAppend("","","string")}}];ge.addTemplates(G,!0),G=[{text:(0,oe.Iu)("appendText"),title:(0,oe.Iu)("appendTitleAuto"),submenuTitle:(0,oe.Iu)("appendSubmenuTitle"),className:"jsoneditor-insert",click:function(){ge._onAppend("","","auto")},submenu:G}],this.editor.options.onCreateMenu&&(se=ge.parent.getPath(),G=this.editor.options.onCreateMenu(G,{type:"append",path:se,paths:[se]})),new V.x(G,{close:re}).show(U,this.editor.getPopupAnchor())},$.prototype.onEvent=function(U){var re,se=U.type,ge=U.target||U.srcElement,G=this.dom;ge===G.menu&&("mouseover"===se?this.editor.highlighter.highlight(this.parent):"mouseout"===se&&this.editor.highlighter.unhighlight()),"click"===se&&ge===G.menu&&((re=this.editor.highlighter).highlight(this.parent),re.lock(),(0,O.addClassName)(G.menu,"jsoneditor-selected"),this.showContextMenu(G.menu,function(){(0,O.removeClassName)(G.menu,"jsoneditor-selected"),re.unlock(),re.unhighlight()})),"keydown"===se&&this.onKeyDown(U)};var F=$;function $(U){this.editor=U,this.dom={}}(te.prototype=new d).getDom=function(){var U,re,se,ge,G,W;return this.dom.tr||(this._updateEditability(),this.dom.tr||(re=(U=this).parent,(G=document.createElement("a")).appendChild(document.createTextNode((0,oe.Iu)("showMore"))),G.href="#",G.onclick=function(q){return re.visibleChilds=Math.floor(re.visibleChilds/re.getMaxVisibleChilds()+1)*re.getMaxVisibleChilds(),U.updateDom(),re.showChilds(),q.preventDefault(),!1},(W=document.createElement("a")).appendChild(document.createTextNode((0,oe.Iu)("showAll"))),W.href="#",W.onclick=function(q){return re.visibleChilds=1/0,U.updateDom(),re.showChilds(),q.preventDefault(),!1},se=document.createElement("div"),ge=document.createTextNode(this._getShowMoreText()),se.className="jsoneditor-show-more",se.appendChild(ge),se.appendChild(G),se.appendChild(document.createTextNode(". ")),se.appendChild(W),se.appendChild(document.createTextNode(". ")),(G=document.createElement("td")).appendChild(se),W=document.createElement("tr"),"tree"===this.editor.options.mode&&(W.appendChild(document.createElement("td")),W.appendChild(document.createElement("td"))),W.appendChild(G),W.className="jsoneditor-show-more",this.dom.tr=W,this.dom.moreContents=se,this.dom.moreText=ge),this.updateDom()),this.dom.tr},te.prototype.updateDom=function(U){var re;this.isVisible()?(this.dom.tr.node=this.parent.childs[this.parent.visibleChilds],this.dom.tr.parentNode||(re=this.parent._getNextTr())&&re.parentNode.insertBefore(this.dom.tr,re),this.dom.moreText.nodeValue=this._getShowMoreText(),this.dom.moreContents.style.marginLeft=24*(this.getLevel()+1)+"px"):this.dom.tr&&this.dom.tr.parentNode&&this.dom.tr.parentNode.removeChild(this.dom.tr)},te.prototype._getShowMoreText=function(){return(0,oe.Iu)("showMoreStatus",{visibleChilds:this.parent.visibleChilds,totalChilds:this.parent.childs.length})+" "},te.prototype.isVisible=function(){return this.parent.expanded&&this.parent.childs.length>this.parent.visibleChilds},te.prototype.onEvent=function(U){"keydown"===U.type&&this.onKeyDown(U)};var j=te;function te(U,re){this.editor=U,this.parent=re,this.dom={}}function Y(U){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(U)}function ae(U,re){for(var se=0;se<re.length;se++){var ge=re[se];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(U,(G=function(W,q){if("object"!==Y(W)||null===W)return W;var ce=W[Symbol.toPrimitive];if(void 0===ce)return String(W);if("object"!==Y(ce=ce.call(W,q)))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}(G=ge.key,"string"),"symbol"===Y(G)?G:String(G)),ge)}var G}var S=function(){function U(G){if(!(this instanceof U))throw new TypeError("Cannot call a class as a function");function W(q){return G.node.findNodeByInternalPath(q)}this.editor=G,this.history=[],this.index=-1,this.clear(),this.actions={editField:{undo:function(q){W(q.parentPath).childs[q.index].updateField(q.oldValue)},redo:function(q){W(q.parentPath).childs[q.index].updateField(q.newValue)}},editValue:{undo:function(q){W(q.path).updateValue(q.oldValue)},redo:function(q){W(q.path).updateValue(q.newValue)}},changeType:{undo:function(q){W(q.path).changeType(q.oldType)},redo:function(q){W(q.path).changeType(q.newType)}},appendNodes:{undo:function(q){var ce=W(q.parentPath);q.paths.map(W).forEach(function(Ae){ce.removeChild(Ae)})},redo:function(q){var ce=W(q.parentPath);q.nodes.forEach(function(Ae){ce.appendChild(Ae)})}},insertBeforeNodes:{undo:function(q){var ce=W(q.parentPath);q.paths.map(W).forEach(function(Ae){ce.removeChild(Ae)})},redo:function(q){var ce=W(q.parentPath),Ae=W(q.beforePath);q.nodes.forEach(function(Ve){ce.insertBefore(Ve,Ae)})}},insertAfterNodes:{undo:function(q){var ce=W(q.parentPath);q.paths.map(W).forEach(function(Ae){ce.removeChild(Ae)})},redo:function(q){var ce=W(q.parentPath),Ae=W(q.afterPath);q.nodes.forEach(function(Ve){ce.insertAfter(Ve,Ae),Ae=Ve})}},removeNodes:{undo:function(q){var ce=W(q.parentPath),Ae=ce.childs[q.index]||ce.append;q.nodes.forEach(function(Ve){ce.insertBefore(Ve,Ae)})},redo:function(q){var ce=W(q.parentPath);q.paths.map(W).forEach(function(Ae){ce.removeChild(Ae)})}},duplicateNodes:{undo:function(q){var ce=W(q.parentPath);q.clonePaths.map(W).forEach(function(Ae){ce.removeChild(Ae)})},redo:function(q){var ce=W(q.parentPath),Ae=W(q.afterPath);q.paths.map(W).forEach(function(Ve){var nt,rt=Ve.clone();"object"===ce.type&&(nt=ce.getFieldNames(),rt.field=(0,O.findUniqueName)(Ve.field,nt)),ce.insertAfter(rt,Ae),Ae=rt})}},moveNodes:{undo:function(q){var ce=W(q.oldParentPath),Ae=W(q.newParentPath),Ve=ce.childs[q.oldIndex]||ce.append;Ae.childs.slice(q.newIndex,q.newIndex+q.count).forEach(function(nt,rt){nt.field=q.fieldNames[rt],ce.moveBefore(nt,Ve)}),null===q.newParentPathRedo&&(q.newParentPathRedo=Ae.getInternalPath())},redo:function(q){var ce=W(q.oldParentPathRedo),Ae=W(q.newParentPathRedo),Ve=Ae.childs[q.newIndexRedo]||Ae.append;ce.childs.slice(q.oldIndexRedo,q.oldIndexRedo+q.count).forEach(function(nt,rt){nt.field=q.fieldNames[rt],Ae.moveBefore(nt,Ve)})}},sort:{undo:function(q){var ce=W(q.path);ce.hideChilds(),ce.childs=q.oldChilds,ce.updateDom({updateIndexes:!0}),ce.showChilds()},redo:function(q){var ce=W(q.path);ce.hideChilds(),ce.childs=q.newChilds,ce.updateDom({updateIndexes:!0}),ce.showChilds()}},transform:{undo:function(q){W(q.path).setInternalValue(q.oldValue)},redo:function(q){W(q.path).setInternalValue(q.newValue)}}}}var re,se;return re=U,(se=[{key:"onChange",value:function(){}},{key:"add",value:function(G,W){this.index++,this.history[this.index]={action:G,params:W,timestamp:new Date},this.index<this.history.length-1&&this.history.splice(this.index+1,this.history.length-this.index-1),this.onChange()}},{key:"clear",value:function(){this.history=[],this.index=-1,this.onChange()}},{key:"canUndo",value:function(){return 0<=this.index}},{key:"canRedo",value:function(){return this.index<this.history.length-1}},{key:"undo",value:function(){if(this.canUndo()){var G=this.history[this.index];if(G){var W=this.actions[G.action];if(W&&W.undo){if(W.undo(G.params),G.params.oldSelection)try{this.editor.setDomSelection(G.params.oldSelection)}catch(q){console.error(q)}}else console.error(new Error('unknown action "'+G.action+'"'))}this.index--,this.onChange()}}},{key:"redo",value:function(){if(this.canRedo()){this.index++;var G=this.history[this.index];if(G){var W=this.actions[G.action];if(W&&W.redo){if(W.redo(G.params),G.params.newSelection)try{this.editor.setDomSelection(G.params.newSelection)}catch(q){console.error(q)}}else console.error(new Error('unknown action "'+G.action+'"'))}this.onChange()}}},{key:"destroy",value:function(){this.editor=null,this.history=[],this.index=-1}}])&&ae(re.prototype,se),Object.defineProperty(re,"prototype",{writable:!1}),U}();function R(U){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(U)}function X(U,re){for(var se=0;se<re.length;se++){var ge=re[se];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(U,(G=function(W,q){if("object"!==R(W)||null===W)return W;var ce=W[Symbol.toPrimitive];if(void 0===ce)return String(W);if("object"!==R(ce=ce.call(W,q)))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}(G=ge.key,"string"),"symbol"===R(G)?G:String(G)),ge)}var G}var N=function(){function U(Ve,ce){if(!(this instanceof U))throw new TypeError("Cannot call a class as a function");var q=this,Ae=(this.editor=Ve,this.timeout=void 0,this.delay=200,this.lastText=void 0,this.results=null,this.dom={},this.dom.container=ce,Ve=document.createElement("div"),(this.dom.wrapper=Ve).className="jsoneditor-search",ce.appendChild(Ve),ce=document.createElement("div"),(this.dom.results=ce).className="jsoneditor-results",Ve.appendChild(ce),ce=document.createElement("div"),((this.dom.input=ce).className="jsoneditor-frame",ce.title=(0,oe.Iu)("searchTitle"),Ve.appendChild(ce),Ve=document.createElement("button")).type="button",Ve.className="jsoneditor-refresh",ce.appendChild(Ve),document.createElement("input"));((Ae.type="text",(this.dom.search=Ae).oninput=function(nt){q._onDelayedSearch(nt)},Ae.onchange=function(nt){q._onSearch()},Ae.onkeydown=function(nt){q._onKeyDown(nt)},Ae.onkeyup=function(nt){q._onKeyUp(nt)},Ve.onclick=function(nt){Ae.select()},ce.appendChild(Ae),Ve=document.createElement("button")).type="button",Ve.title=(0,oe.Iu)("searchNextResultTitle"),Ve.className="jsoneditor-next",Ve.onclick=function(){q.next()},ce.appendChild(Ve),Ve=document.createElement("button")).type="button",Ve.title=(0,oe.Iu)("searchPreviousResultTitle"),Ve.className="jsoneditor-previous",Ve.onclick=function(){q.previous()},ce.appendChild(Ve)}var re,se;return re=U,(se=[{key:"next",value:function(G){var W;this.results&&((W=null!==this.resultIndex?this.resultIndex+1:0)>this.results.length-1&&(W=0),this._setActiveResult(W,G))}},{key:"previous",value:function(G){var W,q;this.results&&(W=this.results.length-1,this._setActiveResult(q=(q=null!==this.resultIndex?this.resultIndex-1:W)<0?W:q,G))}},{key:"_setActiveResult",value:function(G,W){var q,ce,Ae;this.activeResult&&(q=this.activeResult.node,"field"===this.activeResult.elem?delete q.searchFieldActive:delete q.searchValueActive,q.updateDom()),this.results&&this.results[G]?(this.resultIndex=G,ce=this.results[this.resultIndex].node,"field"===(Ae=this.results[this.resultIndex].elem)?ce.searchFieldActive=!0:ce.searchValueActive=!0,this.activeResult=this.results[this.resultIndex],ce.updateDom(),ce.scrollTo(function(){W&&ce.focus(Ae)})):(this.resultIndex=void 0,this.activeResult=void 0)}},{key:"_clearDelay",value:function(){void 0!==this.timeout&&(clearTimeout(this.timeout),delete this.timeout)}},{key:"_onDelayedSearch",value:function(G){this._clearDelay();var W=this;this.timeout=setTimeout(function(q){W._onSearch()},this.delay)}},{key:"_onSearch",value:function(G){var W;if(this._clearDelay(),(W=0<(W=this.dom.search.value).length?W:void 0)!==this.lastText||G){this.lastText=W,this.results=this.editor.search(W),G=this.results[0]?this.results[0].node.MAX_SEARCH_RESULTS:1/0;var q=0;if(this.activeResult)for(var ce=0;ce<this.results.length;ce++)if(this.results[ce].node===this.activeResult.node){q=ce;break}this._setActiveResult(q,!1),this.dom.results.textContent=void 0!==W?0===(W=this.results.length)?"no\xa0results":1===W?"1\xa0result":G<W?G+"+\xa0results":W+"\xa0results":""}}},{key:"_onKeyDown",value:function(G){var W=G.which;27===W?(this.dom.search.value="",this._onSearch(),G.preventDefault(),G.stopPropagation()):13===W&&(G.ctrlKey?this._onSearch(!0):G.shiftKey?this.previous():this.next(),G.preventDefault(),G.stopPropagation())}},{key:"_onKeyUp",value:function(G){var W=G.keyCode;27!==W&&13!==W&&this._onDelayedSearch(G)}},{key:"clear",value:function(){this.dom.search.value="",this._onSearch()}},{key:"forceSearch",value:function(){this._onSearch(!0)}},{key:"isEmpty",value:function(){return""===this.dom.search.value}},{key:"destroy",value:function(){this.editor=null,this.dom.container.removeChild(this.dom.wrapper),this.dom=null,this.results=null,this.activeResult=null,this._clearDelay()}}])&&X(re.prototype,se),Object.defineProperty(re,"prototype",{writable:!1}),U}();function K(U){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(U)}function ie(U,re){for(var se=0;se<re.length;se++){var ge=re[se];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(U,(G=function(W,q){if("object"!==K(W)||null===W)return W;var ce=W[Symbol.toPrimitive];if(void 0===ce)return String(W);if("object"!==K(ce=ce.call(W,q)))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}(G=ge.key,"string"),"symbol"===K(G)?G:String(G)),ge)}var G}var Q=function(){function U(G,W){if(!(this instanceof U))throw new TypeError("Cannot call a class as a function");G&&(this.root=W,this.path=document.createElement("div"),this.path.className="jsoneditor-treepath",this.path.setAttribute("tabindex",0),this.contentMenuClicked=!1,G.appendChild(this.path),this.reset())}var re,se;return re=U,(se=[{key:"reset",value:function(){this.path.textContent=(0,oe.Iu)("selectNode")}},{key:"setPath",value:function(G){var W=this;this.path.textContent="",G&&G.length&&G.forEach(function(q,ce){var Ae,Ve=document.createElement("span");Ve.className="jsoneditor-treepath-element",Ve.innerText=q.name,Ve.onclick=function(nt){this.selectionCallback&&this.selectionCallback(nt)}.bind(W,q),W.path.appendChild(Ve),q.children.length&&((Ae=document.createElement("span")).className="jsoneditor-treepath-seperator",Ae.textContent="\u25ba",Ae.onclick=function(){W.contentMenuClicked=!0;var nt=[];q.children.forEach(function(rt){nt.push({text:rt.name,className:"jsoneditor-type-modes"+(G[ce+1]+1&&G[ce+1].name===rt.name?" jsoneditor-selected":""),click:function(bt,Ct){this.contextMenuCallback&&this.contextMenuCallback(bt,Ct)}.bind(W,q,rt.name)})}),new V.x(nt,{limitHeight:!0}).show(Ae,W.root,!0)},W.path.appendChild(Ae)),ce===G.length-1&&(Ve=(Ae||Ve).getBoundingClientRect().right,W.path.offsetWidth<Ve&&(W.path.scrollLeft=Ve),W.path.scrollLeft)&&((Ve=document.createElement("span")).className="jsoneditor-treepath-show-all-btn",Ve.title="show all path",Ve.textContent="...",Ve.onclick=function(nt){(W.contentMenuClicked=!1,O.addClassName)(W.path,"show-all"),W.path.style.width=W.path.parentNode.getBoundingClientRect().width-10+"px",W.path.onblur=function(){W.contentMenuClicked?(W.contentMenuClicked=!1,W.path.focus()):((0,O.removeClassName)(W.path,"show-all"),W.path.onblur=void 0,W.path.style.width="",W.setPath(nt))}}.bind(W,G),W.path.insertBefore(Ve,W.path.firstChild))})}},{key:"onSectionSelected",value:function(G){"function"==typeof G&&(this.selectionCallback=G)}},{key:"onContextMenuItemSelected",value:function(G){"function"==typeof G&&(this.contextMenuCallback=G)}}])&&ie(re.prototype,se),Object.defineProperty(re,"prototype",{writable:!1}),U}(),Ie=(be=pe(8037),pe.n(be)),Te=((pe={}).create=function(U,re){if(!U)throw new Error("No container element provided.");function se(tt){var ot,_t;document.createRange?((ot=document.createRange()).selectNodeContents(tt),ot.collapse(!1),(_t=window.getSelection()).removeAllRanges(),_t.addRange(ot)):document.selection&&((ot=document.body.createTextRange()).moveToElementText(tt),ot.collapse(!1),ot.select())}function ge(tt){return void 0===Ae&&((Ae=document.createElement("span")).style.visibility="hidden",Ae.style.position="fixed",Ae.style.outline="0",Ae.style.margin="0",Ae.style.padding="0",Ae.style.border="0",Ae.style.left="0",Ae.style.whiteSpace="pre",Ae.style.fontSize=nt,Ae.style.fontFamily=rt,Ae.style.fontWeight="normal",document.body.appendChild(Ae)),Ae.textContent=tt,Ae.getBoundingClientRect().right}function G(){this.style.backgroundColor="#ddd"}function W(){this.style.backgroundColor=""}function q(){Ne.hide(),Ne.onmouseselection(this.__hint,Ne.rs)}var ce,Ae,Ve,nt,rt,bt,Ct,Ot,At,en,He,Ne,Je,jt,Mn,Ue;this.container=U,this.dom={},this.highlighter=new ye,this.selection=void 0,this.multiselection={nodes:[]},this.validateSchema=null,this.validationSequence=0,this.errorNodes=[],this.lastSchemaErrors=void 0,this.node=null,this.focusTarget=null,this._setOptions(re),re.autocomplete&&(this.autocomplete=((ce=(ce=re.autocomplete)||{}).filter=ce.filter||"start",ce.trigger=ce.trigger||"keydown",ce.confirmKeys=ce.confirmKeys||[39,35,9],ce.caseSensitive=ce.caseSensitive||!1,rt=nt="",(bt=document.createElement("div")).style.position="relative",bt.style.outline="0",bt.style.border="0",bt.style.margin="0",bt.style.padding="0",(Ct=document.createElement("div")).className="autocomplete dropdown",Ct.style.position="absolute",Ct.style.visibility="hidden",Ot=Ct,At=[],He=-1,jt=Ne={rs:Je={onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},startFrom:en=0,options:[],element:null,elementHint:null,elementStyle:null,wrapper:bt,show:function(tt,ot,_t){var pt=this;this.startFrom=ot,this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null),""===nt&&(nt=window.getComputedStyle(tt).getPropertyValue("font-size")),""===rt&&(rt=window.getComputedStyle(tt).getPropertyValue("font-family")),Ct.style.marginLeft="0",Ct.style.marginTop=tt.getBoundingClientRect().height+"px",this.options=_t.map(String),this.element!==tt&&(this.element=tt,this.elementStyle={zIndex:this.element.style.zIndex,position:this.element.style.position,backgroundColor:this.element.style.backgroundColor,borderColor:this.element.style.borderColor}),this.element.style.zIndex=3,this.element.style.position="relative",this.element.style.backgroundColor="transparent",this.element.style.borderColor="transparent",this.elementHint=tt.cloneNode(),this.elementHint.className="autocomplete hint",this.elementHint.style.zIndex=2,this.elementHint.style.position="absolute",this.elementHint.onfocus=function(){pt.element.focus()},this.element.addEventListener&&(this.element.removeEventListener("keydown",Mn),this.element.addEventListener("keydown",Mn,!1),this.element.removeEventListener("blur",Ue),this.element.addEventListener("blur",Ue,!1)),bt.appendChild(this.elementHint),bt.appendChild(Ct),tt.parentElement.appendChild(bt),this.repaint(tt)},setText:function(tt){this.element.innerText=tt},getText:function(){return this.element.innerText},hideDropDown:function(){this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null,jt.hide(),this.element.style.zIndex=this.elementStyle.zIndex,this.element.style.position=this.elementStyle.position,this.element.style.backgroundColor=this.elementStyle.backgroundColor,this.element.style.borderColor=this.elementStyle.borderColor)},repaint:function(ot){ot=(ot=ot.innerText).replace("\n","");var _t=this.options.length,pt=ot.substring(this.startFrom);Ve=ot.substring(0,this.startFrom);for(var wt=0;wt<_t;wt++){var nn=this.options[wt];if(!ce.caseSensitive&&0===nn.toLowerCase().indexOf(pt.toLowerCase())||ce.caseSensitive&&0===nn.indexOf(pt)){this.elementHint.innerText=Ve+pt+nn.substring(pt.length),this.elementHint.realInnerText=Ve+nn;break}}Ct.style.left=ge(Ve)+"px",jt.refresh(pt,this.options),this.elementHint.style.width=ge(this.elementHint.innerText)+10+"px","hidden"!==Ct.style.visibility&&(this.elementHint.style.width=ge(this.elementHint.innerText)+Ct.clientWidth+"px")}},hide:function(){Ot.style.visibility="hidden"},refresh:function(tt,ot){Ot.style.visibility="hidden",en=0,Ot.textContent="";var pt=window.innerHeight||document.documentElement.clientHeight,_t=(nn=Ot.parentNode.getBoundingClientRect()).top-6,wt=(pt=pt-nn.bottom-6,At=[],"function"==typeof ce.filter?ce.filter:we[ce.filter]),nn=wt?ot.filter(function(xe){return wt(ce.caseSensitive?tt:tt.toLowerCase(),ce.caseSensitive?xe:xe.toLowerCase(),ce)}):[];0===(At=nn.map(function(xe){var Le=document.createElement("div"),We=(Le.className="item",Le.onmouseover=G,Le.onmouseout=W,Le.onmousedown=q,Le.__hint=xe,Le.textContent="",Le.appendChild(document.createTextNode(xe.substring(0,tt.length))),document.createElement("b"));return We.appendChild(document.createTextNode(xe.substring(tt.length))),Le.appendChild(We),Ot.appendChild(Le),Le})).length||1===At.length&&(tt.toLowerCase()===At[0].__hint.toLowerCase()&&!ce.caseSensitive||tt===At[0].__hint&&ce.caseSensitive)||At.length<2||(Ne.highlight(0),3*pt<_t?(Ot.style.maxHeight=_t+"px",Ot.style.top="",Ot.style.bottom="100%"):(Ot.style.top="100%",Ot.style.bottom="",Ot.style.maxHeight=pt+"px"),Ot.style.visibility="visible")},highlight:function(tt){-1!==He&&At[He]&&(At[He].className="item"),At[tt].className="item hover",He=tt},move:function(tt){return"hidden"===Ot.style.visibility?"":(en+tt!==-1&&en+tt!==At.length&&Ne.highlight(en+=tt),At[en].__hint)},onmouseselection:function(){}},Mn=function(tt){var ot=(tt=tt||window.event).keyCode;if(null!=this.elementHint&&33!==ot&&34!==ot)if(27===ot)Je.hideDropDown(),Je.element.focus(),tt.preventDefault(),tt.stopPropagation();else{var _t,pt=(pt=this.element.innerText).replace("\n","");if(0<=ce.confirmKeys.indexOf(ot))9===ot&&0===this.elementHint.innerText.length&&Je.onTab(),0<this.elementHint.innerText.length&&this.element.innerText!==this.elementHint.realInnerText&&(this.element.innerText=this.elementHint.realInnerText,Je.hideDropDown(),se(this.element),9===ot)&&(Je.element.focus(),tt.preventDefault(),tt.stopPropagation());else if(13===ot)if(0===this.elementHint.innerText.length)Je.onEnter();else{var wt="hidden"===Ct.style.visibility;if(jt.hide(),wt)return Je.hideDropDown(),Je.element.focus(),void Je.onEnter();this.element.innerText=this.elementHint.realInnerText,Je.hideDropDown(),se(this.element),tt.preventDefault(),tt.stopPropagation()}else 40===ot?(wt=pt.substring(this.startFrom),""===(_t=jt.move(1))&&Je.onArrowDown(),this.elementHint.innerText=Ve+wt+_t.substring(wt.length),this.elementHint.realInnerText=Ve+_t,tt.preventDefault(),tt.stopPropagation()):38===ot&&(wt=pt.substring(this.startFrom),""===(_t=jt.move(-1))&&Je.onArrowUp(),this.elementHint.innerText=Ve+wt+_t.substring(wt.length),this.elementHint.realInnerText=Ve+_t,tt.preventDefault(),tt.stopPropagation())}}.bind(Je),Ue=function(tt){Je.hideDropDown()},jt.onmouseselection=function(tt,ot){ot.element.innerText=ot.elementHint.innerText=Ve+tt,ot.hideDropDown(),window.setTimeout(function(){ot.element.focus(),se(ot.element)},1)},Je)),this.options.history&&"view"!==this.options.mode&&(this.history=new S(this)),this._createFrame(),this._createTable()},pe.destroy=function(){this.frame&&this.container&&this.frame.parentNode===this.container&&(this.container.removeChild(this.frame),this.frame=null),this.container=null,this.dom=null,this.clear(),this.node=null,this.focusTarget=null,this.selection=null,this.multiselection=null,this.errorNodes=null,this.validateSchema=null,this._debouncedValidate=null,this.history&&(this.history.destroy(),this.history=null),this.searchBox&&(this.searchBox.destroy(),this.searchBox=null),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.frameFocusTracker.destroy()},pe._setOptions=function(U){var re=this;this.options={search:!0,history:!0,mode:"tree",name:void 0,schema:null,schemaRefs:null,autocomplete:null,navigationBar:!0,mainMenuBar:!0,limitDragging:!1,onSelectionChange:null,colorPicker:!0,onColorPicker:function(se,ge,G){var W;Ie()?(W=se.getBoundingClientRect().top,W=(0,O.getWindow)(se).innerHeight-W<300&&300<W,new(Ie())({parent:se,color:ge,popup:W?"top":"bottom",onDone:function(q){q=1===q.rgba[3]?q.hex.substr(0,7):q.hex,G(q)}}).show()):console.warn("Cannot open color picker: the `vanilla-picker` library is not included in the bundle. Either use the full bundle or implement your own color picker using `onColorPicker`.")},timestampTag:!0,timestampFormat:null,createQuery:J.r,executeQuery:J.J,onEvent:null,enableSort:!0,enableTransform:!0},U&&(Object.keys(U).forEach(function(se){re.options[se]=U[se]}),null==U.limitDragging)&&null!=U.schema&&(this.options.limitDragging=!0),this.setSchema(this.options.schema,this.options.schemaRefs),this._debouncedValidate=(0,O.debounce)(this._validateAndCatch.bind(this),this.DEBOUNCE_INTERVAL),U.onSelectionChange&&this.onSelectionChange(U.onSelectionChange),(0,oe.cC)(this.options.languages),(0,oe.m0)(this.options.language)},pe.set=function(U){U instanceof Function||void 0===U?this.clear():(this.content.removeChild(this.table),U=new d(this,U={field:this.options.name,value:U}),this._setRoot(U),this._validateAndCatch(),this.node.expand(!1),this.content.appendChild(this.table)),this.history&&this.history.clear(),this.searchBox&&this.searchBox.clear()},pe.update=function(U){var re,se;this.node.deepEqual(U)||(re=this.getSelection(),this.onChangeDisabled=!0,this.node.update(U),this.onChangeDisabled=!1,this._validateAndCatch(),this.searchBox&&!this.searchBox.isEmpty()&&this.searchBox.forceSearch(),re&&re.start&&re.end&&(U=this.node.findNodeByPath(re.start.path),se=this.node.findNodeByPath(re.end.path),U)&&se?this.setSelection(re.start,re.end):this.setSelection({},{}))},pe.get=function(){if(this.node)return this.node.getValue()},pe.getText=function(){return JSON.stringify(this.get())},pe.setText=function(U){try{this.set((0,O.parse)(U))}catch{U=(0,O.tryJsonRepair)(U),this.set((0,O.parse)(U))}},pe.updateText=function(U){try{this.update((0,O.parse)(U))}catch{U=(0,O.tryJsonRepair)(U),this.update((0,O.parse)(U))}},pe.setName=function(U){this.options.name=U,this.node&&this.node.updateField(this.options.name)},pe.getName=function(){return this.options.name},pe.focus=function(){var U=this.scrollableContent.querySelector("[contenteditable=true]");U?U.focus():this.node.dom.expand?this.node.dom.expand.focus():this.node.dom.menu?this.node.dom.menu.focus():(U=this.frame.querySelector("button"))&&U.focus()},pe.clear=function(){this.node&&(this.node.hide(),delete this.node),this.treePath&&this.treePath.reset()},pe._setRoot=function(U){this.clear(),(this.node=U).setParent(null),U.setField(this.getName(),!1),delete U.index,this.tbody.appendChild(U.getDom())},pe.search=function(U){var re;return this.node?(this.content.removeChild(this.table),re=this.node.search(U),this.content.appendChild(this.table)):re=[],re},pe.expandAll=function(){this.node&&(this.content.removeChild(this.table),this.node.expand(),this.content.appendChild(this.table))},pe.collapseAll=function(){this.node&&(this.content.removeChild(this.table),this.node.collapse(),this.content.appendChild(this.table))},pe.expand=function(U){var re;U&&(re=this.node?this.node.findNodeByPath(U.path):null)&&(U.isExpand?re.expand(U.recursive):re.collapse(U.recursive))},pe._onAction=function(U,re){this.history&&this.history.add(U,re),this._onChange()},pe._onChange=function(){if(!this.onChangeDisabled){var U;if(this.selection=this.getDomSelection(),this._debouncedValidate(),this.treePath&&((U=this.node&&this.selection?this.node.findNodeByInternalPath(this.selection.path):this.multiselection?this.multiselection.nodes[0]:void 0)?this._updateTreePath(U.getNodePath()):this.treePath.reset()),this.options.onChange)try{this.options.onChange()}catch(re){console.error("Error in onChange callback: ",re)}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get())}catch(re){console.error("Error in onChangeJSON callback: ",re)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(re){console.error("Error in onChangeText callback: ",re)}if(this.options.onClassName&&this.node.recursivelyUpdateCssClassesOnNodes(),this.options.onNodeName&&this.node.childs)try{this.node.recursivelyUpdateNodeName()}catch(re){console.error("Error in onNodeName callback: ",re)}}},pe.validate=function(){var U=this,re=this.node;if(re){var se=re.getValue(),ge=[];this.validateSchema&&!this.validateSchema(se)&&(ge=this.validateSchema.errors.map(function(q){return(0,O.improveSchemaError)(q)}).map(function(q){return{node:re.findNode(q.dataPath),error:q,type:"validation"}}).filter(function(q){return null!=q.node}));try{this.validationSequence++;var G=this,W=this.validationSequence;return this._validateCustom(se).then(function(q){return W===G.validationSequence&&(q=[].concat(ge,q||[]),G._renderValidationErrors(q),"function"==typeof U.options.onValidationError&&(0,O.isValidationErrorChanged)(q,U.lastSchemaErrors)&&U.options.onValidationError.call(U,q),U.lastSchemaErrors=q),U.lastSchemaErrors})}catch(q){return Promise.reject(q)}}},pe._validateAndCatch=function(){this.validate().catch(function(U){console.error("Error running validation:",U)})},pe._renderValidationErrors=function(U){this.errorNodes&&this.errorNodes.forEach(function(se){se.setError(null)});var re=U.reduce(function(se,ge){return ge.node.findParents().filter(function(G){return!se.some(function(W){return W[0]===G})}).map(function(G){return[G,ge.node]}).concat(se)},[]);this.errorNodes=re.map(function(se){return{node:se[0],child:se[1],error:{message:(0,oe.Iu)("object"===se[0].type?"containsInvalidProperties":"containsInvalidItems")}}}).concat(U).map(function(se){return se.node.setError(se.error,se.child),se.node})},pe._validateCustom=function(U){try{var re,se;if(this.options.onValidate)return re=this.node,se=this.options.onValidate(U),((0,O.isPromise)(se)?se:Promise.resolve(se)).then(function(ge){return Array.isArray(ge)?ge.filter(function(G){var W=(0,O.isValidValidationError)(G);return W||console.warn('Ignoring a custom validation error with invalid structure. Expected structure: {path: [...], message: "..."}. Actual error:',G),W}).map(function(G){var W;try{W=G&&G.path?re.findNodeByPath(G.path):null}catch{}return W||console.warn("Ignoring validation error: node not found. Path:",G.path,"Error:",G),{node:W,error:G,type:"customValidation"}}).filter(function(G){return G&&G.node&&G.error&&G.error.message}):null})}catch(ge){return Promise.reject(ge)}return Promise.resolve(null)},pe.refresh=function(){this.node&&this.node.updateDom({recurse:!0})},pe.startAutoScroll=function(U){var re=this,se=this.scrollableContent,ge=(0,O.getAbsoluteTop)(se),G=se.clientHeight,W=ge+G;this.autoScrollStep=U<ge+24&&0<se.scrollTop?(ge+24-U)/3:W-24<U&&G+se.scrollTop<se.scrollHeight?(W-24-U)/3:void 0,this.autoScrollStep?this.autoScrollTimer||(this.autoScrollTimer=setInterval(function(){re.autoScrollStep?se.scrollTop-=re.autoScrollStep:re.stopAutoScroll()},50)):this.stopAutoScroll()},pe.stopAutoScroll=function(){this.autoScrollTimer&&(clearTimeout(this.autoScrollTimer),delete this.autoScrollTimer),this.autoScrollStep&&delete this.autoScrollStep},pe.setDomSelection=function(U){var re,se,ge;U&&("scrollTop"in U&&this.scrollableContent&&(this.scrollableContent.scrollTop=U.scrollTop),U.paths?(re=this,se=U.paths.map(function(G){return re.node.findNodeByInternalPath(G)}),this.select(se)):(ge=(se=U.path?this.node.findNodeByInternalPath(U.path):null)&&U.domName?se.dom[U.domName]:null,U.range&&ge?(U=Object.assign({},U.range,{container:ge}),(0,O.setSelectionOffset)(U)):se&&se.focus()))},pe.getDomSelection=function(){var U=d.getNodeFromTarget(this.focusTarget),re=this.focusTarget,se=U?Object.keys(U.dom).find(function(G){return U.dom[G]===re}):null,ge=(0,O.getSelectionOffset)();return(ge=(ge=ge&&"DIV"!==ge.container.nodeName?null:ge)&&ge.container!==re?null:ge)&&delete ge.container,{path:U?U.getInternalPath():null,domName:se,range:ge,paths:0<this.multiselection.length?this.multiselection.nodes.map(function(G){return G.getInternalPath()}):null,scrollTop:this.scrollableContent?this.scrollableContent.scrollTop:0}},pe.scrollTo=function(U,re){var se,ge,G,W,q=this.scrollableContent;q?((se=this).animateTimeout&&(clearTimeout(se.animateTimeout),delete se.animateTimeout),se.animateCallback&&(se.animateCallback(!1),delete se.animateCallback),G=q.scrollHeight-(ge=q.clientHeight),W=Math.min(Math.max(U-ge/4,0),G),function ce(){var Ae=W-(Ae=q.scrollTop);3<Math.abs(Ae)?(q.scrollTop+=Ae/3,se.animateCallback=re,se.animateTimeout=setTimeout(ce,50)):(re&&re(!0),q.scrollTop=W,delete se.animateTimeout,delete se.animateCallback)}()):re&&re(!1)},pe._createFrame=function(){var U=this,re=(this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.container.appendChild(this.frame),this.contentOuter=document.createElement("div"),this.contentOuter.className="jsoneditor-outer",this);function se(ce){re._onEvent&&re._onEvent(ce)}var ge,G,W,q={target:this.frame,onFocus:this.options.onFocus||null,onBlur:this.options.onBlur||null};this.frameFocusTracker=new ne.R(q),this.frame.onclick=function(ce){var Ae=ce.target;se(ce),"BUTTON"===Ae.nodeName&&ce.preventDefault()},this.frame.oninput=se,this.frame.onchange=se,this.frame.onkeydown=se,this.frame.onkeyup=se,this.frame.oncut=se,this.frame.onpaste=se,this.frame.onmousedown=se,this.frame.onmouseup=se,this.frame.onmouseover=se,this.frame.onmouseout=se,(0,O.addEventListener)(this.frame,"focus",se,!0),(0,O.addEventListener)(this.frame,"blur",se,!0),this.frame.onfocusin=se,this.frame.onfocusout=se,this.options.mainMenuBar&&((0,O.addClassName)(this.contentOuter,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu),(q=document.createElement("button")).type="button",q.className="jsoneditor-expand-all",q.title=(0,oe.Iu)("expandAll"),q.onclick=function(){re.expandAll(),"function"==typeof U.options.onExpand&&U.options.onExpand({path:[],isExpand:!0,recursive:!0})},this.menu.appendChild(q),(q=document.createElement("button")).type="button",q.title=(0,oe.Iu)("collapseAll"),q.className="jsoneditor-collapse-all",q.onclick=function(){re.collapseAll(),"function"==typeof U.options.onExpand&&U.options.onExpand({path:[],isExpand:!1,recursive:!0})},this.menu.appendChild(q),this.options.enableSort&&((q=document.createElement("button")).type="button",q.className="jsoneditor-sort",q.title=(0,oe.Iu)("sortTitleShort"),q.onclick=function(){re.node.showSortModal()},this.menu.appendChild(q)),this.options.enableTransform&&((q=document.createElement("button")).type="button",q.title=(0,oe.Iu)("transformTitleShort"),q.className="jsoneditor-transform",q.onclick=function(){re.node.showTransformModal()},this.menu.appendChild(q)),this.history&&((ge=document.createElement("button")).type="button",ge.className="jsoneditor-undo jsoneditor-separator",ge.title=(0,oe.Iu)("undo"),ge.onclick=function(){re._onUndo()},this.menu.appendChild(ge),this.dom.undo=ge,(G=document.createElement("button")).type="button",G.className="jsoneditor-redo",G.title=(0,oe.Iu)("redo"),G.onclick=function(){re._onRedo()},this.menu.appendChild(G),this.dom.redo=G,this.history.onChange=function(){ge.disabled=!re.history.canUndo(),G.disabled=!re.history.canRedo()},this.history.onChange()),this.options&&this.options.modes&&this.options.modes.length&&((W=this).modeSwitcher=new B.x(this.menu,this.options.modes,this.options.mode,function(ce){try{W.setMode(ce),W.modeSwitcher.focus()}catch(Ae){W._onError(Ae)}})),this.options.search)&&(this.searchBox=new N(this,this.menu)),this.options.navigationBar&&(this.navBar=document.createElement("div"),this.navBar.className="jsoneditor-navigation-bar nav-bar-empty",this.frame.appendChild(this.navBar),this.treePath=new Q(this.navBar,this.getPopupAnchor()),this.treePath.onSectionSelected(this._onTreePathSectionSelected.bind(this)),this.treePath.onContextMenuItemSelected(this._onTreePathMenuItemSelected.bind(this)))},pe._onUndo=function(){this.history&&(this.history.undo(),this._onChange())},pe._onRedo=function(){this.history&&(this.history.redo(),this._onChange())},pe._onEvent=function(U){if(!d.targetIsColorPicker(U.target)){var re,se=d.getNodeFromTarget(U.target);if("keydown"===U.type&&this._onKeyDown(U),se&&"focus"===U.type&&(this.focusTarget=U.target,this.options.autocomplete)&&"focus"===this.options.autocomplete.trigger&&this._showAutoComplete(U.target),"mousedown"===U.type&&this._startDragDistance(U),"mousemove"!==U.type&&"mouseup"!==U.type&&"click"!==U.type||this._updateDragDistance(U),se&&this.options&&this.options.navigationBar&&se&&("keydown"===U.type||"mousedown"===U.type)&&(re=this,setTimeout(function(){re._updateTreePath(se.getNodePath())})),se&&se.selected){if("click"===U.type){if(U.target===se.dom.menu)return void this.showContextMenu(U.target);U.hasMoved||this.deselect()}"mousedown"===U.type&&d.onDragStart(this.multiselection.nodes,U)}else"mousedown"===U.type&&(0,O.hasParentNode)(U.target,this.content)&&(this.deselect(),se&&U.target===se.dom.drag?d.onDragStart(se,U):se&&(U.target===se.dom.field||U.target===se.dom.value||U.target===se.dom.select)||this._onMultiSelectStart(U));se&&se.onEvent(U)}},pe._updateTreePath=function(U){var re;function se(ge){return ge.parent?"array"===ge.parent.type?ge.index:ge.field:ge.field||ge.type}U&&U.length?((0,O.removeClassName)(this.navBar,"nav-bar-empty"),re=[],U.forEach(function(ge){var G={name:se(ge),node:ge,children:[]};ge.childs&&ge.childs.length&&ge.childs.forEach(function(W){G.children.push({name:se(W),node:W})}),re.push(G)}),this.treePath.setPath(re)):(0,O.addClassName)(this.navBar,"nav-bar-empty")},pe._onTreePathSectionSelected=function(U){U&&U.node&&(U.node.expandTo(),U.node.focus())},pe._onTreePathMenuItemSelected=function(U,re){U&&U.children.length&&(U=U.children.find(function(se){return se.name===re}))&&U.node&&(this._updateTreePath(U.node.getNodePath()),U.node.expandTo(),U.node.focus())},pe._startDragDistance=function(U){this.dragDistanceEvent={initialTarget:U.target,initialPageX:U.pageX,initialPageY:U.pageY,dragDistance:0,hasMoved:!1}},pe._updateDragDistance=function(U){this.dragDistanceEvent||this._startDragDistance(U);var re=U.pageX-this.dragDistanceEvent.initialPageX,se=U.pageY-this.dragDistanceEvent.initialPageY;return this.dragDistanceEvent.dragDistance=Math.sqrt(re*re+se*se),this.dragDistanceEvent.hasMoved=this.dragDistanceEvent.hasMoved||10<this.dragDistanceEvent.dragDistance,U.dragDistance=this.dragDistanceEvent.dragDistance,U.hasMoved=this.dragDistanceEvent.hasMoved,U.dragDistance},pe._onMultiSelectStart=function(U){var re,se=d.getNodeFromTarget(U.target);"tree"===this.options.mode&&void 0===this.options.onEditable&&(this.multiselection={start:se||null,end:null,nodes:[]},this._startDragDistance(U),(re=this).mousemove||(this.mousemove=(0,O.addEventListener)(U.view,"mousemove",function(ge){re._onMultiSelect(ge)})),this.mouseup||(this.mouseup=(0,O.addEventListener)(U.view,"mouseup",function(ge){re._onMultiSelectEnd(ge)})),U.preventDefault())},pe._onMultiSelect=function(U){var re;U.preventDefault(),this._updateDragDistance(U),U.hasMoved&&((U=d.getNodeFromTarget(U.target))&&(null==this.multiselection.start&&(this.multiselection.start=U),this.multiselection.end=U),this.deselect(),re=this.multiselection.end||this.multiselection.start,U=this.multiselection.start)&&re&&(this.multiselection.nodes=this._findTopLevelNodes(U,re),this.multiselection.nodes&&this.multiselection.nodes.length&&(this.multiselection.direction=this.multiselection.start===(U=this.multiselection.nodes[0])||this.multiselection.start.isDescendantOf(U)?"down":"up"),this.select(this.multiselection.nodes))},pe._onMultiSelectEnd=function(U){var re=this.multiselection.nodes[0];re&&re.dom.menu&&re.dom.menu.focus(),this.multiselection.start=null,this.multiselection.end=null,this.mousemove&&((0,O.removeEventListener)(U.view,"mousemove",this.mousemove),delete this.mousemove),this.mouseup&&((0,O.removeEventListener)(U.view,"mouseup",this.mouseup),delete this.mouseup)},pe.deselect=function(U){var re=!!this.multiselection.nodes.length;this.multiselection.nodes.forEach(function(se){se.setSelected(!1)}),this.multiselection.nodes=[],U&&(this.multiselection.start=null,this.multiselection.end=null),re&&this._selectionChangedHandler&&this._selectionChangedHandler()},pe.select=function(U){if(!Array.isArray(U))return this.select([U]);var re;U&&(this.deselect(),this.multiselection.nodes=U.slice(0),re=U[0],U.forEach(function(se){se.expandPathToNode(),se.setSelected(!0,se===re)}),this._selectionChangedHandler)&&(U=this.getSelection(),this._selectionChangedHandler(U.start,U.end))},pe._findTopLevelNodes=function(q,ce){for(var se=q.getNodePath(),ge=ce.getNodePath(),G=0;G<se.length&&se[G]===ge[G];)G++;q=se[G-1];var W,Ae=ge[G];return(ce=se[G])&&Ae||(q.parent?q=(Ae=ce=q).parent:(ce=q.childs[0],Ae=q.childs[q.childs.length-1])),q&&ce&&Ae?(ce=q.childs.indexOf(ce),Ae=q.childs.indexOf(Ae),W=Math.min(ce,Ae),ce=Math.max(ce,Ae),q.childs.slice(W,ce+1)):[]},pe._showAutoComplete=function(U){var re,se=d.getNodeFromTarget(U),ge="";0<=U.className.indexOf("jsoneditor-value")&&(ge="value"),""!==(ge=0<=U.className.indexOf("jsoneditor-field")?"field":ge)&&(re=this,setTimeout(function(){var G;se&&("focus"===re.options.autocomplete.trigger||0<U.innerText.length)&&null!==(G=re.options.autocomplete.getOptions(U.innerText,se.getPath(),ge,se.editor))?"function"==typeof G.then?G.then(function(W){null===W?re.autocomplete.hideDropDown():W.options?re.autocomplete.show(U,W.startFrom,W.options):re.autocomplete.show(U,0,W)}).catch(function(W){console.error(W)}):G.options?re.autocomplete.show(U,G.startFrom,G.options):re.autocomplete.show(U,0,G):re.autocomplete.hideDropDown()},50))},pe._onKeyDown=function(U){var re,se=U.which||U.keyCode,ge=U.altKey,G=U.ctrlKey,W=U.metaKey,q=U.shiftKey,ce=!1,Ae=this.focusTarget;9===se&&(re=this,setTimeout(function(){re.focusTarget!==Ae&&(0,O.selectContentEditable)(re.focusTarget)},0)),this.searchBox&&(G&&70===se?(this.searchBox.dom.search.focus(),this.searchBox.dom.search.select(),ce=!0):(114===se||G&&71===se)&&(q?this.searchBox.previous(!0):this.searchBox.next(!0),ce=!0)),this.history&&(G&&!q&&90===se?(this._onUndo(),ce=!0):G&&q&&90===se&&(this._onRedo(),ce=!0)),!this.options.autocomplete||ce||G||ge||W||1!==U.key.length&&8!==se&&46!==se||(ce=!1,this._showAutoComplete(U.target)),ce&&(U.preventDefault(),U.stopPropagation())},pe._createTable=function(){var U;this.options.navigationBar&&(0,O.addClassName)(this.contentOuter,"has-nav-bar"),this.scrollableContent=document.createElement("div"),this.scrollableContent.className="jsoneditor-tree",this.contentOuter.appendChild(this.scrollableContent),this.content=document.createElement("div"),this.content.className="jsoneditor-tree-inner",this.scrollableContent.appendChild(this.content),this.table=document.createElement("table"),this.table.className="jsoneditor-tree",this.content.appendChild(this.table),this.colgroupContent=document.createElement("colgroup"),"tree"===this.options.mode&&((U=document.createElement("col")).width="24px",this.colgroupContent.appendChild(U)),(U=document.createElement("col")).width="24px",this.colgroupContent.appendChild(U),U=document.createElement("col"),this.colgroupContent.appendChild(U),this.table.appendChild(this.colgroupContent),this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.frame.appendChild(this.contentOuter)},pe.showContextMenu=function(U,re){var se,ge=[],G=this.multiselection.nodes.slice();ge.push({text:(0,oe.Iu)("duplicateText"),title:(0,oe.Iu)("duplicateTitle"),className:"jsoneditor-duplicate",click:function(){d.onDuplicate(G)}}),ge.push({text:(0,oe.Iu)("remove"),title:(0,oe.Iu)("removeTitle"),className:"jsoneditor-remove",click:function(){d.onRemove(G)}}),this.options.onCreateMenu&&(se=G.map(function(W){return W.getPath()}),ge=this.options.onCreateMenu(ge,{type:"multiple",path:se[0],paths:se})),new V.x(ge,{close:re}).show(U,this.getPopupAnchor())},pe.getPopupAnchor=function(){return this.options.popupAnchor||this.frame},pe.getSelection=function(){var U,re,se={start:null,end:null};return this.multiselection.nodes&&this.multiselection.nodes.length&&this.multiselection.nodes.length&&(U=this.multiselection.nodes[0],re=this.multiselection.nodes[this.multiselection.nodes.length-1],"down"===this.multiselection.direction?(se.start=U.serialize(),se.end=re.serialize()):(se.start=re.serialize(),se.end=U.serialize())),se},pe.onSelectionChange=function(U){"function"==typeof U&&(this._selectionChangedHandler=(0,O.debounce)(U,this.DEBOUNCE_INTERVAL))},pe.setSelection=function(U,re){U&&U.dom&&U.range&&(console.warn("setSelection/getSelection usage for text selection is deprecated and should not be used, see documentation for supported selection options"),this.setDomSelection(U)),(U=this._getNodeInstancesByRange(U,re)).forEach(function(se){se.expandTo()}),this.select(U)},pe._getNodeInstancesByRange=function(U,re){U&&U.path&&(se=this.node.findNodeByPath(U.path),re)&&re.path&&(ge=this.node.findNodeByPath(re.path));var se,ge,G=[];if(se instanceof d)if(ge instanceof d&&ge!==se)if(se.parent===ge.parent){re=se.getIndex()<ge.getIndex()?(U=se,ge):(U=ge,se);var W=U;for(G.push(W);W=W.nextSibling(),G.push(W),W&&W!==re;);}else G=this._findTopLevelNodes(se,ge);else G.push(se);return G},pe.getNodesByRange=function(se,re){se=this._getNodeInstancesByRange(se,re);var ge=[];return se.forEach(function(G){ge.push(G.serialize())}),ge},[{mode:"tree",mixin:pe,data:"json"},{mode:"view",mixin:pe,data:"json"},{mode:"form",mixin:pe,data:"json"}])},2744:function(me,k,ue){k.tryRequireAjv=function(){try{return ue(8903)}catch{}}},9125:function(me,k,ue){k.O=function(){try{ue(4864)}catch(we){console.error(we)}}},9791:function(me,we,ue){"use strict";ue.r(we),ue.d(we,{addClassName:function(){return A},addEventListener:function(){return be},asyncExec:function(){return wt},clear:function(){return f},compileJSONPointer:function(){return nt},contains:function(){return ot},debounce:function(){return W},escapeUnicodeChars:function(){return _},extend:function(){return C},findUniqueName:function(){return At},formatSize:function(){return Mn},get:function(){return Ot},getAbsoluteLeft:function(){return d},getAbsoluteTop:function(){return v},getChildPaths:function(){return en},getColorCSS:function(){return rt},getIndexForPosition:function(){return Ae},getInnerText:function(){return R},getInputSelection:function(){return ce},getInternetExplorerVersion:function(){return K},getPositionForPath:function(){return Ve},getSelection:function(){return te},getSelectionOffset:function(){return ae},getType:function(){return m},getWindow:function(){return h},hasParentNode:function(){return N},improveSchemaError:function(){return re},insideRect:function(){return G},isArray:function(){return y},isChildOf:function(){return pe},isFirefox:function(){return Q},isObject:function(){return tt},isPromise:function(){return se},isTimestamp:function(){return jt},isUrl:function(){return g},isValidColor:function(){return bt},isValidValidationError:function(){return ge},isValidationErrorChanged:function(){return _t},limitCharacters:function(){return Ue},makeFieldTooltip:function(){return Ct},parse:function(){return O},parsePath:function(){return Te},parseString:function(){return Je},removeAllClassNames:function(){return E},removeClassName:function(){return T},removeEventListener:function(){return Ie},removeReturnsAndSurroundingWhitespace:function(){return X},selectContentEditable:function(){return j},setEndOfContentEditable:function(){return $},setSelection:function(){return Y},setSelectionOffset:function(){return S},sort:function(){return He},sortObjectKeys:function(){return Ne},stringifyPath:function(){return U},stripFormatting:function(){return F},textDiff:function(){return q},tryJsonRepair:function(){return D},uniqueMergeArrays:function(){return pt},validate:function(){return I}}),ue(4987),we=ue(233);var V=ue.n(we),ne=ue(1262),fe=ue(6589),he=ue(7026),ye=ue(7907);function J(xe,Le){(null==Le||Le>xe.length)&&(Le=xe.length);for(var We=0,Xe=new Array(Le);We<Le;We++)Xe[We]=xe[We];return Xe}function B(xe){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Le){return typeof Le}:function(Le){return Le&&"function"==typeof Symbol&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le})(xe)}function O(xe){try{return JSON.parse(xe)}catch(Le){throw I(xe),Le}}function D(xe){try{return(0,ne.K)(xe)}catch{return xe}}function _(xe){return xe.replace(/[\u007F-\uFFFF]/g,function(Le){return"\\u"+("0000"+Le.charCodeAt(0).toString(16)).slice(-4)})}function I(xe){(void 0!==fe?fe:JSON).parse(xe)}function C(xe,Le){for(var We in Le)nn(Le,We)&&(xe[We]=Le[We]);return xe}function f(xe){for(var Le in xe)nn(xe,Le)&&delete xe[Le];return xe}function m(xe){return null===xe?"null":void 0===xe?"undefined":xe instanceof Number||"number"==typeof xe?"number":xe instanceof String||"string"==typeof xe?"string":xe instanceof Boolean||"boolean"==typeof xe?"boolean":xe instanceof RegExp?"regexp":y(xe)?"array":"object"}var p=/^https?:\/\/\S+$/;function g(xe){return("string"==typeof xe||xe instanceof String)&&p.test(xe)}function y(xe){return"[object Array]"===Object.prototype.toString.call(xe)}function h(xe){return xe.ownerDocument.defaultView}function d(xe){return xe.getBoundingClientRect().left+window.pageXOffset||document.scrollLeft||0}function v(xe){return xe.getBoundingClientRect().top+window.pageYOffset||document.scrollTop||0}function A(xe,Le){var We=xe.className.split(" ");-1===We.indexOf(Le)&&(We.push(Le),xe.className=We.join(" "))}function E(xe){xe.className=""}function T(xe,Xe){var We=xe.className.split(" ");-1!==(Xe=We.indexOf(Xe))&&(We.splice(Xe,1),xe.className=We.join(" "))}function F(xe){for(var Le=xe.childNodes,We=0,Xe=Le.length;We<Xe;We++){var vt=Le[We],ft=(vt.style&&vt.removeAttribute("style"),vt.attributes);if(ft)for(var Zt=ft.length-1;0<=Zt;Zt--){var er=ft[Zt];!0===er.specified&&vt.removeAttribute(er.name)}F(vt)}}function $(xe){var Le;document.createRange&&((Le=document.createRange()).selectNodeContents(xe),Le.collapse(!1),(xe=window.getSelection()).removeAllRanges(),xe.addRange(Le))}function j(xe){var Le;xe&&"DIV"===xe.nodeName&&window.getSelection&&document.createRange&&((Le=document.createRange()).selectNodeContents(xe),(xe=window.getSelection()).removeAllRanges(),xe.addRange(Le))}function te(){if(window.getSelection){var xe=window.getSelection();if(xe.getRangeAt&&xe.rangeCount)return xe.getRangeAt(0)}return null}function Y(xe){var Le;xe&&window.getSelection&&((Le=window.getSelection()).removeAllRanges(),Le.addRange(xe))}function ae(){var xe=te();return xe&&"startOffset"in xe&&"endOffset"in xe&&xe.startContainer&&xe.startContainer===xe.endContainer?{startOffset:xe.startOffset,endOffset:xe.endOffset,container:xe.startContainer.parentNode}:null}function S(xe){var Le;document.createRange&&window.getSelection&&window.getSelection()&&(Le=document.createRange(),xe.container.firstChild||xe.container.appendChild(document.createTextNode("")),Le.setStart(xe.container.firstChild,xe.startOffset),Le.setEnd(xe.container.firstChild,xe.endOffset),Y(Le))}function R(xe,Le){var We;if(void 0===Le&&(Le={_text:"",flush:function(){var kr=this._text;return this._text="",kr},set:function(kr){this._text=kr}}),xe.nodeValue)return""!==(We=X(xe.nodeValue))?Le.flush()+We:"";if(xe.hasChildNodes()){for(var Xe=xe.childNodes,vt="",ft=0,Zt=Xe.length;ft<Zt;ft++){var er,tr=Xe[ft];"DIV"===tr.nodeName||"P"===tr.nodeName?((er=(er=Xe[ft-1])?er.nodeName:void 0)&&"DIV"!==er&&"P"!==er&&"BR"!==er&&(""!==vt&&(vt+="\n"),Le.flush()),vt+=R(tr,Le),Le.set("\n")):"BR"===tr.nodeName?(vt+=Le.flush(),Le.set("\n")):vt+=R(tr,Le)}return vt}return""}function X(xe){return xe.replace(/(\b|^)\s*(\b|$)/g,function(Le){return/\n/.exec(Le)?"":Le})}function N(xe,Le){for(var We=xe?xe.parentNode:void 0;We;){if(We===Le)return!0;We=We.parentNode}return!1}function K(){var xe;return-1===ie&&(xe=-1,typeof navigator<"u"&&"Microsoft Internet Explorer"===navigator.appName&&null!=/MSIE ([0-9]+[.0-9]+)/.exec(navigator.userAgent)&&(xe=parseFloat(RegExp.$1)),ie=xe),ie}var ie=-1;function Q(){return typeof navigator<"u"&&-1!==navigator.userAgent.indexOf("Firefox")}function be(xe,Le,We,Xe){return xe.addEventListener?(void 0===Xe&&(Xe=!1),"mousewheel"===Le&&Q()&&(Le="DOMMouseScroll"),xe.addEventListener(Le,We,Xe),We):xe.attachEvent?(xe.attachEvent("on"+Le,Xe=function(){return We.call(xe,window.event)}),Xe):void 0}function Ie(xe,Le,We,Xe){xe.removeEventListener?(void 0===Xe&&(Xe=!1),"mousewheel"===Le&&Q()&&(Le="DOMMouseScroll"),xe.removeEventListener(Le,We,Xe)):xe.detachEvent&&xe.detachEvent("on"+Le,We)}function pe(xe,Le){for(var We=xe.parentNode;We;){if(We===Le)return!0;We=We.parentNode}return!1}function Te(xe){var Le=[],We=0;function Xe(ft){for(var Zt="";void 0!==xe[We]&&xe[We]!==ft;)Zt+=xe[We],We++;if(xe[We]!==ft)throw new Error("Invalid JSON path: unexpected end, character "+ft+" expected");return Zt}for(;void 0!==xe[We];)if("."===xe[We])We++,Le.push(function(){for(var ft="";void 0!==xe[We]&&/[\w$]/.test(xe[We]);)ft+=xe[We],We++;if(""===ft)throw new Error("Invalid JSON path: property name expected at index "+We);return ft}());else{if("["!==xe[We])throw new Error('Invalid JSON path: unexpected character "'+xe[We]+'" at index '+We);if("'"===xe[++We]||'"'===xe[We]){var vt=xe[We];if(We++,Le.push(Xe(vt)),xe[We]!==vt)throw new Error("Invalid JSON path: closing quote ' expected at index "+We);We++}else{if(0===(vt=Xe("]").trim()).length)throw new Error("Invalid JSON path: array value expected at index "+We);vt="*"===vt?vt:JSON.parse(vt),Le.push(vt)}if("]"!==xe[We])throw new Error("Invalid JSON path: closing bracket ] expected at index "+We);We++}return Le}function U(xe){return xe.map(function(Le){return"number"==typeof Le?"["+Le+"]":"string"==typeof Le&&Le.match(/^[A-Za-z0-9_$]+$/)?"."+Le:'["'+Le+'"]'}).join("")}function re(xe){var Le,We;return"enum"===xe.keyword&&Array.isArray(xe.schema)&&(We=xe.schema)&&(5<(We=We.map(function(Xe){return JSON.stringify(Xe)})).length&&(Le=["("+(We.length-5)+" more...)"],(We=We.slice(0,5)).push(Le)),xe.message="should be equal to one of: "+We.join(", ")),"additionalProperties"===xe.keyword&&(xe.message="should NOT have additional property: "+xe.params.additionalProperty),xe}function se(xe){return xe&&"function"==typeof xe.then&&"function"==typeof xe.catch}function ge(xe){return"object"===B(xe)&&Array.isArray(xe.path)&&"string"==typeof xe.message}function G(xe,Le,We){return Le.left-(We=void 0!==We?We:0)>=xe.left&&Le.right+We<=xe.right&&Le.top-We>=xe.top&&Le.bottom+We<=xe.bottom}function W(xe,Le,We){var Xe;return function(){var vt=this,ft=arguments,Zt=We&&!Xe;clearTimeout(Xe),Xe=setTimeout(function(){Xe=null,We||xe.apply(vt,ft)},Le),Zt&&xe.apply(vt,ft)}}function q(xe,Le){for(var We=Le.length,Xe=0,vt=xe.length,ft=Le.length;Le.charAt(Xe)===xe.charAt(Xe)&&Xe<We;)Xe++;for(;Le.charAt(ft-1)===xe.charAt(vt-1)&&Xe<ft&&0<vt;)ft--,vt--;return{start:Xe,end:ft}}function ce(xe){var Le,We,Xe,vt,ft=0,Zt=0;return"number"==typeof xe.selectionStart&&"number"==typeof xe.selectionEnd?(ft=xe.selectionStart,Zt=xe.selectionEnd):(vt=document.selection.createRange())&&vt.parentElement()===xe&&(Xe=xe.value.length,Le=xe.value.replace(/\r\n/g,"\n"),(We=xe.createTextRange()).moveToBookmark(vt.getBookmark()),(vt=xe.createTextRange()).collapse(!1),-1<We.compareEndPoints("StartToEnd",vt)?ft=Zt=Xe:(ft=-We.moveStart("character",-Xe),ft+=Le.slice(0,ft).split("\n").length-1,-1<We.compareEndPoints("EndToEnd",vt)?Zt=Xe:(Zt=-We.moveEnd("character",-Xe),Zt+=Le.slice(0,Zt).split("\n").length-1))),{startIndex:ft,endIndex:Zt,start:er(ft),end:er(Zt)};function er(tr){return{row:((tr=xe.value.substring(0,tr)).match(/\n/g)||[]).length+1,column:tr.length-tr.lastIndexOf("\n")}}}function Ae(Xe,Le,We){return Xe=Xe.value||"",0<Le&&0<We?(Xe=Xe.split("\n",Le),Le=Math.min(Xe.length,Le),We=Math.min(Xe[Le-1].length,We-1),We=1===Le?We:We+1,Xe.slice(0,Le-1).join("\n").length+We):-1}function Ve(xe,Le){var We,Xe=[];if(Le&&Le.length){try{We=he.parse(xe)}catch{return Xe}Le.forEach(function(vt){var ft=nt(Te(vt));(ft=We.pointers[ft])&&Xe.push({path:vt,line:ft.key?ft.key.line:ft.value?ft.value.line:0,column:ft.key?ft.key.column:ft.value?ft.value.column:0})})}return Xe}function nt(xe){return xe.map(function(Le){return"/"+String(Le).replace(/~/g,"~0").replace(/\//g,"~1")}).join("")}function rt(xe){var Le=document.createElement("div");return Le.style.color=xe,Le.style.color.split(/\s+/).join("").toLowerCase()||null}function bt(xe){return!!rt(xe)}function Ct(xe,Le){var We;return xe?(We="",xe.title&&(We+=xe.title),xe.description&&(0<We.length&&(We+="\n"),We+=xe.description),xe.default&&(0<We.length&&(We+="\n\n"),We=(We+=(0,ye.Iu)("default",void 0,Le)+"\n")+JSON.stringify(xe.default,null,2)),Array.isArray(xe.examples)&&0<xe.examples.length&&(0<We.length&&(We+="\n\n"),We+=(0,ye.Iu)("examples",void 0,Le)+"\n",xe.examples.forEach(function(Xe,vt){We+=JSON.stringify(Xe,null,2),vt!==xe.examples.length-1&&(We+="\n")})),We):""}function Ot(xe,Le){for(var We=xe,Xe=0;Xe<Le.length&&null!=We;Xe++)We=We[Le[Xe]];return We}function At(xe,Le){for(var We=xe.replace(/ \(copy( \d+)?\)$/,""),Xe=We,vt=1;-1!==Le.indexOf(Xe);)Xe=We+" (copy"+(1<vt?" "+vt:"")+")",vt++;return Xe}function en(xe,Le){var We={};if(Array.isArray(xe))for(var Xe=Math.min(xe.length,1e4),vt=0;vt<Xe;vt++)!function ft(Zt,er,tr,kr){(Array.isArray(Zt)||tt(Zt))&&!kr||(er[tr||""]=!0),tt(Zt)&&Object.keys(Zt).forEach(function(Gs){ft(Zt[Gs],er,tr+"."+Gs,kr)})}(xe[vt],We,"",Le);else We[""]=!0;return Object.keys(We).sort()}function He(xe,ft,We){var Xe=ft&&"."!==ft?Te(ft):[],vt="desc"===We?-1:1;return(ft=xe.slice()).sort(function(Zt,er){return Zt=Ot(Zt,Xe),er=Ot(er,Xe),vt*(er<Zt?1:Zt<er?-1:0)}),ft}function Ne(xe,Xe){var We="desc"===Xe?-1:1,vt=(Xe=Object.keys(xe).sort(function(ft,Zt){return We*V()(ft,Zt)}),{});return Xe.forEach(function(ft){vt[ft]=xe[ft]}),vt}function Je(xe){var Le,We;return""===xe?"":"null"===(Le=xe.toLowerCase())?null:"true"===Le||"false"!==Le&&(/^0\d+$/.test(xe)||(Le=Number(xe),We=parseFloat(xe),isNaN(Le))||isNaN(We)?xe:Le)}function jt(xe,Le){return"number"==typeof Le&&9466848e5<Le&&isFinite(Le)&&Math.floor(Le)===Le&&!isNaN(new Date(Le).valueOf())}function Mn(xe){return xe<900?xe.toFixed()+" B":(xe/=1e3)<900?xe.toFixed(1)+" KB":(xe/=1e3)<900?xe.toFixed(1)+" MB":(xe/=1e3)<900?xe.toFixed(1)+" GB":(xe/1e3).toFixed(1)+" TB"}function Ue(xe,Le){return xe.length<=Le?xe:xe.slice(0,Le)+"..."}function tt(xe){return"object"===B(xe)&&null!==xe&&!Array.isArray(xe)}function ot(xe,Le){return-1!==xe.indexOf(Le)}function _t(xe,Le){if(Le||xe){if(Le&&!xe||!Le&&xe||Le.length!==xe.length)return!0;for(var We,Xe=0;Xe<xe.length;++Xe)if(We=function(vt){if(!Le.find("error"===xe[vt].type?function(Zt){return Zt.line===xe[vt].line}:function(Zt){return Zt.dataPath===xe[vt].dataPath&&Zt.schemaPath===xe[vt].schemaPath}))return{v:!0}}(Xe))return We.v}return!1}function pt(xe,Le){return xe=null!=xe&&xe.length?xe:[],Le=null!=Le&&Le.length?Le:[],function oe(xe){return function(Le){if(Array.isArray(Le))return J(Le)}(xe)||function(Le){if(typeof Symbol<"u"&&null!=Le[Symbol.iterator]||null!=Le["@@iterator"])return Array.from(Le)}(xe)||function(Le,We){var Xe;if(Le)return"string"==typeof Le?J(Le,void 0):"Map"===(Xe="Object"===(Xe=Object.prototype.toString.call(Le).slice(8,-1))&&Le.constructor?Le.constructor.name:Xe)||"Set"===Xe?Array.from(Le):"Arguments"===Xe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xe)?J(Le,void 0):void 0}(xe)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(xe.concat(Le)))}function wt(xe){setTimeout(xe)}function nn(xe,Le){return Object.prototype.hasOwnProperty.call(xe,Le)}},8037:function(me,k,ue){var we;if(window.Picker)we=window.Picker;else try{we=ue(4049)}catch{}me.exports=we},6225:function(me,k,ue){function we(B,M){var Z,O;return M=J(B,M),(B=he.modules[M])||("function"==typeof(B=he.payloads[M])&&(Z={id:M,uri:"",exports:O={},packaged:!0},O=B(function(D,_){return ye(M,D,_)},O,Z)||Z.exports,he.modules[M]=O,delete he.payloads[M]),B=he.modules[M]=O||B),B}var V,ne,fe,he,ye,oe,J;me=ue.nmd(me),(fe=function(){return this}())||typeof window>"u"||(fe=window),(he=function(B,M,Z){"string"!=typeof B?he.original?he.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace()):(2==arguments.length&&(Z=M),he.modules[B]||(he.payloads[B]=Z,he.modules[B]=null))}).modules={},he.payloads={},ye=function(B,M,Z){if("string"==typeof M){var O=we(B,M);if(null!=O)return Z&&Z(),O}else if("[object Array]"===Object.prototype.toString.call(M)){for(var D=[],_=0,I=M.length;_<I;++_){var C=we(B,M[_]);if(null==C&&oe.original)return;D.push(C)}return Z&&Z.apply(null,D)||!0}},oe=function(B,M){var Z=ye("",B,M);return null==Z&&oe.original?oe.original.apply(this,arguments):Z},J=function(B,M){var Z;if(-1!==M.indexOf("!"))return Z=M.split("!"),J(B,Z[0])+"!"+J(B,Z[1]);if("."==M.charAt(0))for(M=B.split("/").slice(0,-1).join("/")+"/"+M;-1!==M.indexOf(".")&&O!=M;){var O=M;M=M.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return M},ne=fe,(V="ace")&&(fe[V]||(fe[V]={}),ne=fe[V]),ne.define&&ne.define.packaged||(he.original=ne.define,ne.define=he,ne.define.packaged=!0),ne.require&&ne.require.packaged||(oe.original=ne.require,ne.require=oe,ne.require.packaged=!0),ace.define("ace/lib/es6-shim",["require","exports","module"],function(B,M,Z){function O(D,_,I){Object.defineProperty(D,_,{value:I,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||O(String.prototype,"startsWith",function(D,_){return this.lastIndexOf(D,_=_||0)===_}),String.prototype.endsWith||O(String.prototype,"endsWith",function(D,_){return(void 0===_||_>this.length)&&(_=this.length),-1!==(D=this.indexOf(D,_-=D.length))&&D===_}),String.prototype.repeat||O(String.prototype,"repeat",function(D){for(var _="",I=this;0<D;)1&D&&(_+=I),(D>>=1)&&(I+=I);return _}),String.prototype.includes||O(String.prototype,"includes",function(D,_){return-1!=this.indexOf(D,_)}),Object.assign||(Object.assign=function(D){if(null==D)throw new TypeError("Cannot convert undefined or null to object");for(var _=Object(D),I=1;I<arguments.length;I++){var C=arguments[I];null!=C&&Object.keys(C).forEach(function(f){_[f]=C[f]})}return _}),Object.values||(Object.values=function(D){return Object.keys(D).map(function(_){return D[_]})}),Array.prototype.find||O(Array.prototype,"find",function(D){for(var _=this.length,I=arguments[1],C=0;C<_;C++){var f=this[C];if(D.call(I,f,C,this))return f}}),Array.prototype.findIndex||O(Array.prototype,"findIndex",function(D){for(var _=this.length,I=arguments[1],C=0;C<_;C++)if(D.call(I,this[C],C,this))return C}),Array.prototype.includes||O(Array.prototype,"includes",function(D,_){return-1!=this.indexOf(D,_)}),Array.prototype.fill||O(Array.prototype,"fill",function(D){for(var C,_=this.length>>>0,I=(C=arguments[1]>>0)<0?Math.max(_+C,0):Math.min(C,_),f=(C=void 0===(C=arguments[2])?_:C>>0)<0?Math.max(_+C,0):Math.min(C,_);I<f;)this[I]=D,I++;return this}),Array.of||O(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(B,M,Z){"use strict";B("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(B,M,Z){M.deepCopy=function O(D){if("object"!=typeof D||!D)return D;if(Array.isArray(D))for(var _=[],I=0;I<D.length;I++)_[I]=O(D[I]);else{if("[object Object]"!==Object.prototype.toString.call(D))return D;for(var I in _={},D)_[I]=O(D[I])}return _}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(B,M,Z){"use strict";M.last=function(_){return _[_.length-1]},M.stringReverse=function(_){return _.split("").reverse().join("")},M.stringRepeat=function(_,I){for(var C="";0<I;)1&I&&(C+=_),(I>>=1)&&(_+=_);return C};var O=/^\s\s*/,D=/\s\s*$/;M.stringTrimLeft=function(_){return _.replace(O,"")},M.stringTrimRight=function(_){return _.replace(D,"")},M.copyObject=function(_){var I,C={};for(I in _)C[I]=_[I];return C},M.copyArray=function(_){for(var I=[],C=0,f=_.length;C<f;C++)I[C]=_[C]&&"object"==typeof _[C]?this.copyObject(_[C]):_[C];return I},M.deepCopy=B("./deep_copy").deepCopy,M.arrayToMap=function(_){for(var I={},C=0;C<_.length;C++)I[_[C]]=1;return I},M.createMap=function(_){var I,C=Object.create(null);for(I in _)C[I]=_[I];return C},M.arrayRemove=function(_,I){for(var C=0;C<=_.length;C++)I===_[C]&&_.splice(C,1)},M.escapeRegExp=function(_){return _.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},M.escapeHTML=function(_){return(""+_).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},M.getMatchOffsets=function(_,I){var C=[];return _.replace(I,function(f){C.push({offset:arguments[arguments.length-2],length:f.length})}),C},M.deferredCall=function(_){function I(){f=null,_()}function C(m){return C.cancel(),f=setTimeout(I,m||0),C}var f=null;return(C.schedule=C).call=function(){return this.cancel(),_(),C},C.cancel=function(){return clearTimeout(f),f=null,C},C.isPending=function(){return f},C},M.delayedCall=function(_,I){function C(){m=null,_()}function f(p){null==m&&(m=setTimeout(C,p||I))}var m=null;return f.delay=function(p){m&&clearTimeout(m),m=setTimeout(C,p||I)},(f.schedule=f).call=function(){this.cancel(),_()},f.cancel=function(){m&&clearTimeout(m),m=null},f.isPending=function(){return m},f},M.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},M.supportsUnicodeFlag=function(){try{new RegExp("^.$","u")}catch{return!1}return!0}}),ace.define("ace/lib/useragent",["require","exports","module"],function(B,M,Z){"use strict";M.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},M.getOS=function(){return M.isMac?M.OS.MAC:M.isLinux?M.OS.LINUX:M.OS.WINDOWS};var _="object"==typeof navigator?navigator:{},O=(/mac|win|linux/i.exec(_.platform)||["other"])[0].toLowerCase(),D=_.userAgent||"";_=_.appName||"",M.isWin="win"==O,M.isMac="mac"==O,M.isLinux="linux"==O,M.isIE="Microsoft Internet Explorer"==_||0<=_.indexOf("MSAppHost")?parseFloat((D.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((D.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),M.isOldIE=M.isIE&&M.isIE<9,M.isGecko=M.isMozilla=D.match(/ Gecko\/\d+/),M.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),M.isWebKit=parseFloat(D.split("WebKit/")[1])||void 0,M.isChrome=parseFloat(D.split(" Chrome/")[1])||void 0,M.isEdge=parseFloat(D.split(" Edge/")[1])||void 0,M.isAIR=0<=D.indexOf("AdobeAIR"),M.isAndroid=0<=D.indexOf("Android"),M.isChromeOS=0<=D.indexOf(" CrOS "),M.isIOS=/iPad|iPhone|iPod/.test(D)&&!window.MSStream,M.isIOS&&(M.isMac=!0),M.isMobile=M.isIOS||M.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(_,M,Z){"use strict";_=_("./useragent");var O,D,I=(M.buildDom=function m(p,g,y){if("string"==typeof p&&p)return T=document.createTextNode(p),g&&g.appendChild(T),T;if(!Array.isArray(p))return p&&p.appendChild&&g&&g.appendChild(p),p;if("string"!=typeof p[0]||!p[0]){for(var h=[],d=0;d<p.length;d++){var v=m(p[d],g,y);v&&h.push(v)}return h}var A=document.createElement(p[0]),E=p[1],T=1;for(d=T=E&&"object"==typeof E&&!Array.isArray(E)?2:T;d<p.length;d++)m(p[d],A,y);return 2==T&&Object.keys(E).forEach(function(F){var $=E[F];"class"===F?A.className=Array.isArray($)?$.join(" "):$:"function"==typeof $||"value"==F||"$"==F[0]?A[F]=$:"ref"===F?y&&(y[$]=A):"style"===F?"string"==typeof $&&(A.style.cssText=$):null!=$&&A.setAttribute(F,$)}),g&&g.appendChild(A),A},M.getDocumentHead=function(m){return(m=m||document).head||m.getElementsByTagName("head")[0]||m.documentElement},M.createElement=function(m,p){return document.createElementNS?document.createElementNS(p||"http://www.w3.org/1999/xhtml",m):document.createElement(m)},M.removeChildren=function(m){m.innerHTML=""},M.createTextNode=function(m,p){return(p?p.ownerDocument:document).createTextNode(m)},M.createFragment=function(m){return(m?m.ownerDocument:document).createDocumentFragment()},M.hasCssClass=function(m,p){return-1!==(m.className+"").split(/\s+/g).indexOf(p)},M.addCssClass=function(m,p){M.hasCssClass(m,p)||(m.className+=" "+p)},M.removeCssClass=function(m,p){for(var g=m.className.split(/\s+/g);;){var y=g.indexOf(p);if(-1==y)break;g.splice(y,1)}m.className=g.join(" ")},M.toggleCssClass=function(m,p){for(var g=m.className.split(/\s+/g),y=!0;;){var h=g.indexOf(p);if(-1==h)break;y=!1,g.splice(h,1)}return y&&g.push(p),m.className=g.join(" "),y},M.setCssClass=function(m,p,g){g?M.addCssClass(m,p):M.removeCssClass(m,p)},M.hasCssString=function(m,p){var g,y=0;if(g=(p=p||document).querySelectorAll("style"))for(;y<g.length;)if(g[y++].id===m)return!0},M.removeElementById=function(m,p){(p=p||document).getElementById(m)&&p.getElementById(m).remove()},[]);function C(){var m=I;I=null,m&&m.forEach(function(p){f(p[0],p[1])})}function f(m,p,g){if(typeof document<"u"){if(I)if(g)C();else if(!1===g)return I.push([m,p]);if(!O){var y=g;if(g=(y=g&&g.getRootNode&&(y=g.getRootNode())&&y!=g?y:document).ownerDocument||y,p&&M.hasCssString(p,y))return null;p&&(m+="\n/*# sourceURL=ace/css/"+p+" */");var h=M.createElement("style");h.appendChild(g.createTextNode(m)),p&&(h.id=p),(y=y==g?M.getDocumentHead(g):y).insertBefore(h,y.firstChild)}}}M.useStrictCSP=function(m){0==(O=m)?C():I=I||[]},M.importCssString=f,M.importCssStylsheet=function(m,p){M.buildDom(["link",{rel:"stylesheet",href:m}],M.getDocumentHead(p))},M.scrollbarWidth=function(y){var p=M.createElement("ace_inner"),g=(p.style.width="100%",p.style.minWidth="0px",p.style.height="200px",p.style.display="block",M.createElement("ace_outer"));if((d=g.style).position="absolute",d.left="-10000px",d.overflow="hidden",d.width="200px",d.minWidth="0px",d.height="150px",d.display="block",g.appendChild(p),!(y=y&&y.documentElement||document&&document.documentElement))return 0;y.appendChild(g);var d,h=p.offsetWidth;return h===(d.overflow="scroll",d=p.offsetWidth)&&(d=g.clientWidth),y.removeChild(g),h-d},M.computedStyle=function(m,p){return window.getComputedStyle(m,"")||{}},M.setStyle=function(m,p,g){m[p]!==g&&(m[p]=g)},M.HAS_CSS_ANIMATION=!1,M.HAS_CSS_TRANSFORMS=!1,M.HI_DPI=!_.isWin||typeof window<"u"&&1.5<=window.devicePixelRatio,_.isChromeOS&&(M.HI_DPI=!1),typeof document<"u"&&(D=document.createElement("div"),M.HI_DPI&&void 0!==D.style.transform&&(M.HAS_CSS_TRANSFORMS=!0),_.isEdge||void 0===D.style.animationName||(M.HAS_CSS_ANIMATION=!0),D=null),M.translate=M.HAS_CSS_TRANSFORMS?function(m,p,g){m.style.transform="translate("+Math.round(p)+"px, "+Math.round(g)+"px)"}:function(m,p,g){m.style.top=Math.round(g)+"px",m.style.left=Math.round(p)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(B,M,Z){"use strict";var O=B("./dom");M.get=function(D,_){var I=new XMLHttpRequest;I.open("GET",D,!0),I.onreadystatechange=function(){4===I.readyState&&_(I.responseText)},I.send(null)},M.loadScript=function(D,_){var I=O.getDocumentHead(),C=document.createElement("script");C.src=D,I.appendChild(C),C.onload=C.onreadystatechange=function(f,m){!m&&C.readyState&&"loaded"!=C.readyState&&"complete"!=C.readyState||(C=C.onload=C.onreadystatechange=null,m)||_()}},M.qualifyURL=function(D){var _=document.createElement("a");return _.href=D,_.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(B,M,Z){"use strict";M.inherits=function(O,D){O.super_=D,O.prototype=Object.create(D.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}})},M.mixin=function(O,D){for(var _ in D)O[_]=D[_];return O},M.implement=function(O,D){M.mixin(O,D)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(B,M,Z){"use strict";function O(){this.propagationStopped=!0}function D(){this.defaultPrevented=!0}var _={};_._emit=_._dispatchEvent=function(I,C){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var m=this._defaultHandlers[I];if((f=this._eventRegistry[I]||[]).length||m){(C="object"==typeof C&&C?C:{}).type||(C.type=I),C.stopPropagation||(C.stopPropagation=O),C.preventDefault||(C.preventDefault=D);for(var f=f.slice(),p=0;p<f.length&&(f[p](C,this),!C.propagationStopped);p++);return m&&!C.defaultPrevented?m(C,this):void 0}},_._signal=function(I,C){if(f=(this._eventRegistry||{})[I])for(var f=f.slice(),m=0;m<f.length;m++)f[m](C,this)},_.once=function(I,C){var f=this;if(this.on(I,function m(){f.off(I,m),C.apply(null,arguments)}),!C)return new Promise(function(m){C=m})},_.setDefaultHandler=function(I,C){var f,m,p=this._defaultHandlers;(p=p||(this._defaultHandlers={_disabled_:{}}))[I]&&(m=p[I],(f=p._disabled_[I])||(p._disabled_[I]=f=[]),f.push(m),-1!=(m=f.indexOf(C)))&&f.splice(m,1),p[I]=C},_.removeDefaultHandler=function(I,C){var f,m=this._defaultHandlers;m&&(f=m._disabled_[I],m[I]==C?f&&this.setDefaultHandler(I,f.pop()):f&&-1!=(m=f.indexOf(C))&&f.splice(m,1))},_.on=_.addEventListener=function(I,C,f){this._eventRegistry=this._eventRegistry||{};var m=this._eventRegistry[I];return-1==(m=m||(this._eventRegistry[I]=[])).indexOf(C)&&m[f?"unshift":"push"](C),C},_.off=_.removeListener=_.removeEventListener=function(I,C){this._eventRegistry=this._eventRegistry||{},(I=this._eventRegistry[I])&&-1!==(C=I.indexOf(C))&&I.splice(C,1)},_.removeAllListeners=function(I){I||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[I]=void 0),this._defaultHandlers&&(this._defaultHandlers[I]=void 0)},M.EventEmitter=_}),ace.define("ace/lib/report_error",["require","exports","module"],function(B,M,Z){M.reportError=function(O,D){var _=new Error(O);_.data=D,"object"==typeof console&&console.error&&console.error(_),setTimeout(function(){throw _})}}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error"],function(I,M,Z){var O,D=I("./oop"),_=I("./event_emitter").EventEmitter,C=(I=I("./report_error").reportError,{setOptions:function(g){Object.keys(g).forEach(function(y){this.setOption(y,g[y])},this)},getOptions:function(g){var y,h={};return g?Array.isArray(g)||(h=g,g=Object.keys(h)):(y=this.$options,g=Object.keys(y).filter(function(d){return!y[d].hidden})),g.forEach(function(d){h[d]=this.getOption(d)},this),h},setOption:function(g,y){var h;if(this["$"+g]!==y)return(h=this.$options[g])?h.forwardTo?this[h.forwardTo]&&this[h.forwardTo].setOption(g,y):(h.handlesSet||(this["$"+g]=y),void(h&&h.set&&h.set.call(this,y))):f('misspelled option "'+g+'"')},getOption:function(g){var y=this.$options[g];return y?y.forwardTo?this[y.forwardTo]&&this[y.forwardTo].getOption(g):y&&y.get?y.get.call(this):this["$"+g]:f('misspelled option "'+g+'"')}});function f(g){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}p.prototype.defineOptions=function(g,y,h){return g.$options||(this.$defaultOptions[y]=g.$options={}),Object.keys(h).forEach(function(d){var v=h[d];(v="string"==typeof v?{forwardTo:v}:v).name||(v.name=d),"initialValue"in(g.$options[v.name]=v)&&(g["$"+v.name]=v.initialValue)}),D.implement(g,C),this},p.prototype.resetOptions=function(g){Object.keys(g.$options).forEach(function(y){var h=g.$options[y];"value"in h&&g.setOption(y,h.value)})},p.prototype.setDefaultValue=function(g,y,h){if(!g){for(g in this.$defaultOptions)if(this.$defaultOptions[g][y])break;if(!this.$defaultOptions[g][y])return!1}var d=this.$defaultOptions[g]||(this.$defaultOptions[g]={});d[y]&&(d.forwardTo?this.setDefaultValue(d.forwardTo,y,h):d[y].value=h)},p.prototype.setDefaultValues=function(g,y){Object.keys(y).forEach(function(h){this.setDefaultValue(g,h,y[h])},this)},p.prototype.setMessages=function(g){O=g},p.prototype.nls=function(g,y){return O&&!O[g]&&f("No message found for '"+g+"' in the provided messages, falling back to default English message."),g=O&&O[g]||g,y?g.replace(/\$(\$|[\d]+)/g,function(h,d){return"$"==d?"$":y[d]}):g};var m=p;function p(){this.$defaultOptions={}}m.prototype.warn=f,m.prototype.reportError=I,D.implement(m.prototype,_),M.AppConfig=m}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(B,M,Z){Z.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(B,M,Z){"use strict";M.isDark=!1,M.cssClass="ace-tm",M.cssText=B("./textmate-css"),M.$id="ace/theme/textmate",B("../lib/dom").importCssString(M.cssText,M.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(B,M,Z){var O,D=B("./lib/lang"),_=B("./lib/net"),I=B("./lib/dom"),C=B("./lib/app_config").AppConfig,f=(Z.exports=M=new C,{packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null}),m=(M.get=function(p){if(f.hasOwnProperty(p))return f[p];throw new Error("Unknown config key: "+p)},M.set=function(p,g){if(f.hasOwnProperty(p))f[p]=g;else if(0==this.setDefaultValue("",p,g))throw new Error("Unknown config key: "+p);"useStrictCSP"==p&&I.useStrictCSP(g)},M.all=function(){return D.copyObject(f)},M.$modes={},M.moduleUrl=function(p,g){var y,h,d;return f.$moduleUrls[p]||(p=p.split("/"),y="snippets"==(g=g||p[p.length-2]||"")?"/":"-",h=p[p.length-1],"worker"==g&&"-"==y&&(d=new RegExp("^"+g+"[\\-_]|[\\-_]"+g+"$","g"),h=h.replace(d,"")),(!h||h==g)&&1<p.length&&(h=p[p.length-2]),null==(d=f[g+"Path"])?d=f.basePath:"/"==y&&(g=y=""),d&&"/"!=d.slice(-1)&&(d+="/"),d+g+y+h+this.get("suffix"))},M.setModuleUrl=function(p,g){return f.$moduleUrls[p]=g},M.setLoader=function(p){O=p},M.dynamicModules=Object.create(null),M.$loading={},M.$loaded={},M.loadModule=function(p,g){function y(v){if(v&&!M.$loading[p])return g&&g(v);if(M.$loading[p]||(M.$loading[p]=[]),M.$loading[p].push(g),!(1<M.$loading[p].length)){let E=function(){var T,F;F=function($,j){j&&(M.$loaded[p]=j),M._emit("load.module",{name:p,module:j});var te=M.$loading[p];M.$loading[p]=null,te.forEach(function(Y){Y&&Y(j)})},"ace/theme/textmate"===(T=p)||"./theme/textmate"===T?F(0,B("./theme/textmate")):O?O(T,F):console.error("loader is not configured")};if(!M.get("packaged"))return E();_.loadScript(M.moduleUrl(p,d),E),m()}}var h,d;if(Array.isArray(p)&&(d=p[0],p=p[1]),M.dynamicModules[p])M.dynamicModules[p]().then(function(v){y(v.default?v.default:v)});else{try{h=this.$require(p)}catch{}y(h||M.$loaded[p])}},M.$require=function(p){if("function"==typeof Z.require)return Z.require(p)},M.setModuleLoader=function(p,g){M.dynamicModules[p]=g},function(){f.basePath||f.workerPath||f.modePath||f.themePath||Object.keys(f.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),m=function(){})});M.version="1.27.0"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(B,M,Z){"use strict";B("./lib/fixoldbrowsers");var O=B("./config"),D=(O.setLoader(function(I,C){B([I],function(f){C(null,f)})}),function(){return this||typeof window<"u"&&window}());function _(I){if(D&&D.document){O.set("packaged",I||B.packaged||Z.packaged||D.define&&ue.amdD.packaged);for(var C,f={},m="",p=(I=document.currentScript||document._currentScript)&&I.ownerDocument||document,g=(I&&I.src&&(m=I.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||""),p.getElementsByTagName("script")),y=0;y<g.length;y++){var h=g[y],d=h.src||h.getAttribute("src");if(d){for(var v=h.attributes,A=0,E=v.length;A<E;A++){var T=v[A];0===T.name.indexOf("data-ace-")&&(f[T.name.replace(/^data-ace-/,"").replace(/-(.)/g,function($,j){return j.toUpperCase()})]=T.value)}(h=d.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/))&&(m=h[1])}}for(C in m&&(f.base=f.base||m,f.packaged=!0),f.basePath=f.base,f.workerPath=f.workerPath||f.base,f.modePath=f.modePath||f.base,f.themePath=f.themePath||f.base,delete f.base,f)void 0!==f[C]&&O.set(C,f[C])}}Z.exports=function(I){O.init=_,O.$require=B,I.require=B,I.define=ue.amdD},_(!0)}),ace.define("ace/range",["require","exports","module"],function(B,M,Z){"use strict";D.prototype.isEqual=function(_){return this.start.row===_.start.row&&this.end.row===_.end.row&&this.start.column===_.start.column&&this.end.column===_.end.column},D.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},D.prototype.contains=function(_,I){return 0==this.compare(_,I)},D.prototype.compareRange=function(I){var C=I.end;return I=I.start,1==(C=this.compare(C.row,C.column))?1==(C=this.compare(I.row,I.column))?2:0==C?1:0:-1==C?-2:-1==(C=this.compare(I.row,I.column))?-1:1==C?42:0},D.prototype.comparePoint=function(_){return this.compare(_.row,_.column)},D.prototype.containsRange=function(_){return 0==this.comparePoint(_.start)&&0==this.comparePoint(_.end)},D.prototype.intersects=function(_){return-1==(_=this.compareRange(_))||0==_||1==_},D.prototype.isEnd=function(_,I){return this.end.row==_&&this.end.column==I},D.prototype.isStart=function(_,I){return this.start.row==_&&this.start.column==I},D.prototype.setStart=function(_,I){"object"==typeof _?(this.start.column=_.column,this.start.row=_.row):(this.start.row=_,this.start.column=I)},D.prototype.setEnd=function(_,I){"object"==typeof _?(this.end.column=_.column,this.end.row=_.row):(this.end.row=_,this.end.column=I)},D.prototype.inside=function(_,I){return 0==this.compare(_,I)&&!this.isEnd(_,I)&&!this.isStart(_,I)},D.prototype.insideStart=function(_,I){return 0==this.compare(_,I)&&!this.isEnd(_,I)},D.prototype.insideEnd=function(_,I){return 0==this.compare(_,I)&&!this.isStart(_,I)},D.prototype.compare=function(_,I){return this.isMultiLine()||_!==this.start.row?_<this.start.row?-1:_>this.end.row?1:this.start.row===_?I>=this.start.column?0:-1:this.end.row!==_||I<=this.end.column?0:1:I<this.start.column?-1:I>this.end.column?1:0},D.prototype.compareStart=function(_,I){return this.start.row==_&&this.start.column==I?-1:this.compare(_,I)},D.prototype.compareEnd=function(_,I){return this.end.row==_&&this.end.column==I?1:this.compare(_,I)},D.prototype.compareInside=function(_,I){return this.end.row==_&&this.end.column==I?1:this.start.row==_&&this.start.column==I?-1:this.compare(_,I)},D.prototype.clipRows=function(_,I){var C,f;return this.end.row>I?C={row:I+1,column:0}:this.end.row<_&&(C={row:_,column:0}),this.start.row>I?f={row:I+1,column:0}:this.start.row<_&&(f={row:_,column:0}),D.fromPoints(f||this.start,C||this.end)},D.prototype.extend=function(_,I){var C,f,m=this.compare(_,I);return 0==m?this:(-1==m?C={row:_,column:I}:f={row:_,column:I},D.fromPoints(C||this.start,f||this.end))},D.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},D.prototype.isMultiLine=function(){return this.start.row!==this.end.row},D.prototype.clone=function(){return D.fromPoints(this.start,this.end)},D.prototype.collapseRows=function(){return new D(this.start.row,0,0==this.end.column?Math.max(this.start.row,this.end.row-1):this.end.row,0)},D.prototype.toScreenRange=function(C){var I=C.documentToScreenPosition(this.start);return C=C.documentToScreenPosition(this.end),new D(I.row,I.column,C.row,C.column)},D.prototype.moveBy=function(_,I){this.start.row+=_,this.start.column+=I,this.end.row+=_,this.end.column+=I};var O=D;function D(_,I,C,f){this.start={row:_,column:I},this.end={row:C,column:f}}O.fromPoints=function(_,I){return new O(_.row,_.column,I.row,I.column)},O.comparePoints=function(_,I){return _.row-I.row||_.column-I.column},O.comparePoints=function(_,I){return _.row-I.row||_.column-I.column},M.Range=O}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(B,M,Z){"use strict";var O=B("./oop"),D=function(){var _,I,C={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(I in C.PRINTABLE_KEYS[173]="-",C.FUNCTION_KEYS)_=C.FUNCTION_KEYS[I].toLowerCase(),C[_]=parseInt(I,10);for(I in C.PRINTABLE_KEYS)_=C.PRINTABLE_KEYS[I].toLowerCase(),C[_]=parseInt(I,10);O.mixin(C,C.MODIFIER_KEYS),O.mixin(C,C.PRINTABLE_KEYS),O.mixin(C,C.FUNCTION_KEYS),C.enter=C.return,C.escape=C.esc,C.del=C.delete;for(var f=["cmd","ctrl","alt","shift"],m=Math.pow(2,f.length);m--;)C.KEY_MODS[m]=f.filter(function(p){return m&C.KEY_MODS[p]}).join("-")+"-";return C.KEY_MODS[0]="",C.KEY_MODS[-1]="input-",C}();O.mixin(M,D),(M.default=M).keyCodeToString=function(_){var I=D[_];return(I="string"!=typeof I?String.fromCharCode(_):I).toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(B,M,Z){"use strict";var O,D=B("./keys"),_=B("./useragent"),I=null,C=0;function f(){if(null==O){O=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){O={passive:!1}}})}catch{}}return O}function m(A,E,T){this.elem=A,this.type=E,this.callback=T}function p(A){return 0|(A.ctrlKey?1:0)|(A.altKey?2:0)|(A.shiftKey?4:0)|(A.metaKey?8:0)}m.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var g,y=M.addListener=function(A,E,T,F){A.addEventListener(E,T,f()),F&&F.$toDestroy.push(new m(A,E,T))},h=M.removeListener=function(A,E,T){A.removeEventListener(E,T,f())};function d(A,E,T){var F=p(E);if(!_.isMac&&I){if(E.getModifierState&&(E.getModifierState("OS")||E.getModifierState("Win"))&&(F|=8),I.altGr){if(3==(3&F))return;I.altGr=0}18!==T&&17!==T||($="location"in E?E.location:E.keyLocation,17===T&&1===$?1==I[T]&&(C=E.timeStamp):18===T&&3===F&&2===$&&E.timeStamp-C<50&&(I.altGr=!0))}if(T in D.MODIFIER_KEYS&&(T=-1),!F&&13===T){var $="location"in E?E.location:E.keyLocation;if(3===$&&(A(E,F,-T),E.defaultPrevented))return}if(_.isChromeOS&&8&F){if(A(E,F,T),E.defaultPrevented)return;F&=-9}return!!(F||T in D.FUNCTION_KEYS||T in D.PRINTABLE_KEYS)&&A(E,F,T)}function v(){I=Object.create(null)}M.stopEvent=function(A){return M.stopPropagation(A),M.preventDefault(A),!1},M.stopPropagation=function(A){A.stopPropagation&&A.stopPropagation()},M.preventDefault=function(A){A.preventDefault&&A.preventDefault()},M.getButton=function(A){return"dblclick"==A.type?0:"contextmenu"==A.type||_.isMac&&A.ctrlKey&&!A.altKey&&!A.shiftKey?2:A.button},M.capture=function(A,E,T){var F=A&&A.ownerDocument||document;function $(j){E&&E(j),T&&T(j),h(F,"mousemove",E),h(F,"mouseup",$),h(F,"dragstart",$)}return y(F,"mousemove",E),y(F,"mouseup",$),y(F,"dragstart",$),$},M.addMouseWheelListener=function(A,E,T){y(A,"wheel",function(F){var $=F.deltaX||0,j=F.deltaY||0;switch(F.deltaMode){case F.DOM_DELTA_PIXEL:F.wheelX=.15*$,F.wheelY=.15*j;break;case F.DOM_DELTA_LINE:F.wheelX=15*$,F.wheelY=15*j;break;case F.DOM_DELTA_PAGE:F.wheelX=150*$,F.wheelY=150*j}E(F)},T)},M.addMultiMouseDownListener=function(A,E,T,F,$){var j,te,Y,ae=0,S={2:"dblclick",3:"tripleclick",4:"quadclick"};function R(X){var N;if(0!==M.getButton(X)?ae=0:1<X.detail&&!(4<++ae)||(ae=1),_.isIE&&(N=5<Math.abs(X.clientX-j)||5<Math.abs(X.clientY-te),Y&&!N||(ae=1),Y&&clearTimeout(Y),Y=setTimeout(function(){Y=null},E[ae-1]||600),1==ae)&&(j=X.clientX,te=X.clientY),X._clicks=ae,T[F]("mousedown",X),4<ae)ae=0;else if(1<ae)return T[F](S[ae],X)}(A=Array.isArray(A)?A:[A]).forEach(function(X){y(X,"mousedown",R,$)})},M.getModifierString=function(A){return D.KEY_MODS[p(A)]},M.addCommandKeyListener=function(A,E,T){var F,$;_.isOldGecko||_.isOpera&&!("KeyboardEvent"in window)?(F=null,y(A,"keydown",function(j){F=j.keyCode},T),y(A,"keypress",function(j){return d(E,j,F)},T)):($=null,y(A,"keydown",function(j){I[j.keyCode]=(I[j.keyCode]||0)+1;var te=d(E,j,j.keyCode);return $=j.defaultPrevented,te},T),y(A,"keypress",function(j){$&&(j.ctrlKey||j.altKey||j.shiftKey||j.metaKey)&&(M.stopEvent(j),$=null)},T),y(A,"keyup",function(j){I[j.keyCode]=null},T),I||(v(),y(window,"focus",v)))},"object"==typeof window&&window.postMessage&&!_.isOldIE&&(g=1,M.nextTick=function(A,E){E=E||window;var F="zero-timeout-message-"+g++;y(E,"message",function T($){$.data==F&&(M.stopPropagation($),h(E,"message",T),A())}),E.postMessage(F,"*")}),M.$idleBlocked=!1,M.onIdle=function(A,E){return setTimeout(function T(){M.$idleBlocked?setTimeout(T,100):A()},E)},M.$idleBlockId=null,M.blockIdle=function(A){M.$idleBlockId&&clearTimeout(M.$idleBlockId),M.$idleBlocked=!0,M.$idleBlockId=setTimeout(function(){M.$idleBlocked=!1},A||100)},M.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),M.nextFrame=M.nextFrame?M.nextFrame.bind(window):function(A){setTimeout(A,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(B,M,Z){"use strict";var O;Z.exports={lineMode:!1,pasteCancelled:function(){return!!(O&&O>Date.now()-50)||(O=!1)},cancel:function(){O=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(B,M,Z){"use strict";var O=B("../lib/event"),D=B("../config").nls,_=B("../lib/useragent"),I=B("../lib/dom"),C=B("../lib/lang"),f=B("../clipboard"),m=_.isChrome<18,p=_.isIE,g=63<_.isChrome,y=B("../lib/keys"),h=y.KEY_MODS,d=_.isIOS,v=d?/\s/:/\n/,A=_.isMobile;M.TextInput=function(E,T){var F=I.createElement("textarea"),$=(F.className="ace_text-input",F.setAttribute("wrap","off"),F.setAttribute("autocorrect","off"),F.setAttribute("autocapitalize","off"),F.setAttribute("spellcheck",!1),F.style.opacity="0",E.insertBefore(F,E.firstChild),!1),j=!1,te=!1,Y=!1,ae="",S=(A||(F.style.fontSize="1px"),!1),R=!1,X="",N=0,K=0,ie=0,Q=Number.MAX_SAFE_INTEGER,be=Number.MIN_SAFE_INTEGER,Ie=0;try{var pe=document.activeElement===F}catch{}function Te(Ue,tt){for(var ot=tt,_t=1;_t<=Ue-Q&&_t<2*Ie+1;_t++)ot+=T.session.getLine(Ue-_t).length+1;return ot}function U(Ue){nt(Ue,!0)}function re(Ue){nt(Ue,!1)}function se(Ue){var tt=Ve(Ue);f.pasteCancelled()||("string"==typeof tt?(tt&&T.onPaste(tt,Ue),_.isIE&&setTimeout(ge),O.preventDefault(Ue)):(F.value="",j=!0))}this.setNumberOfExtraLines=function(Ue){Q=Number.MAX_SAFE_INTEGER,be=Number.MIN_SAFE_INTEGER,Ie=Ue<0?0:Ue},this.setAriaOptions=function(Ue){Ue.activeDescendant?(F.setAttribute("aria-haspopup","true"),F.setAttribute("aria-autocomplete",Ue.inline?"both":"list"),F.setAttribute("aria-activedescendant",Ue.activeDescendant)):(F.setAttribute("aria-haspopup","false"),F.setAttribute("aria-autocomplete","both"),F.removeAttribute("aria-activedescendant")),Ue.role&&F.setAttribute("role",Ue.role),Ue.setLabel&&(F.setAttribute("aria-roledescription",D("editor")),T.session)&&F.setAttribute("aria-label",D("Cursor at row $0",[(Ue=T.session.selection.cursor.row)+1]))},this.setAriaOptions({role:"textbox"}),O.addListener(F,"blur",function(Ue){R||(T.onBlur(Ue),pe=!1)},T),O.addListener(F,"focus",function(Ue){if(!R){if(pe=!0,_.isEdge)try{if(!document.hasFocus())return}catch{}T.onFocus(Ue),_.isEdge?setTimeout(ge):ge()}},T),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:T.renderer.enableKeyboardAccessibility}),ae||g||"browser"==this.$focusScroll)return F.focus({preventScroll:!0});var Ue=F.style.top;F.style.position="fixed",F.style.top="0px";try{var tt=0!=F.getBoundingClientRect().top}catch{return}var ot=[];if(tt)for(var _t=F.parentElement;_t&&1==_t.nodeType;)ot.push(_t),_t.setAttribute("ace_nocontext",!0),_t=!_t.parentElement&&_t.getRootNode?_t.getRootNode().host:_t.parentElement;F.focus({preventScroll:!0}),tt&&ot.forEach(function(pt){pt.removeAttribute("ace_nocontext")}),setTimeout(function(){F.style.position="","0px"==F.style.top&&(F.style.top=Ue)},0)},this.blur=function(){F.blur()},this.isFocused=function(){return pe},T.on("beforeEndOperation",function(){var Ue=T.curOp,tt=Ue&&Ue.command&&Ue.command.name;"insertstring"!=tt&&(tt=tt&&(Ue.docChanged||Ue.selectionChanged),te&&tt&&(X=F.value="",bt()),ge())});var ge=d?function(Ue){var tt;!pe||$&&!Ue||Y||((tt="\n ab"+(Ue=Ue||"")+"cde fg\n")!=F.value&&(F.value=X=tt),tt=4+(Ue.length||(T.selection.isEmpty()?0:1)),4==N&&K==tt||F.setSelectionRange(4,tt),N=4,K=tt)}:function(){if(!te&&!Y&&(pe||q)){te=!0;var Ue=0,tt=0,ot="";if(T.session){for(var _t,wt,pt=(wt=T.selection).getRange(),nn=((wt=wt.cursor.row)===be+1?be=(Q=be+1)+2*Ie:wt===Q-1?Q=(be=Q-1)-2*Ie:(wt<Q-1||be+1<wt)&&(Q=Ie<wt?wt-Ie:0,be=Ie<wt?wt+Ie:2*Ie),[]),xe=Q;xe<=be;xe++)nn.push(T.session.getLine(xe));ot=nn.join("\n"),Ue=Te(pt.start.row,pt.start.column),tt=Te(pt.end.row,pt.end.column),pt.start.row<Q?(_t=T.session.getLine(Q-1),Ue=pt.start.row<Q-1?0:Ue,tt+=_t.length+1,ot=_t+"\n"+ot):pt.end.row>be?(_t=T.session.getLine(be+1),tt=pt.end.row>be+1?_t.length:pt.end.column,tt+=ot.length+1,ot=ot+"\n"+_t):A&&0<wt&&(ot="\n"+ot,tt+=1,Ue+=1),400<ot.length&&(Ue<400&&tt<400?ot=ot.slice(0,400):(ot="\n",Ue==tt?Ue=tt=0:(Ue=0,tt=1))),(pt=ot+"\n\n")!=X&&(F.value=X=pt,N=K=pt.length)}if(q&&(N=F.selectionStart,K=F.selectionEnd),K!=tt||N!=Ue||F.selectionEnd!=K)try{F.setSelectionRange(Ue,tt),N=Ue,K=tt}catch{}te=!1}},G=(this.resetSelection=ge,pe&&T.onFocus(),function(Ue){return 0===Ue.selectionStart&&Ue.selectionEnd>=X.length&&Ue.value===X&&X&&Ue.selectionEnd!==K}),W=null,q=(this.setInputHandler=function(Ue){W=Ue},!(this.getInputHandler=function(){return W})),ce=function(Ue,tt){if(q=q&&!1,j)return ge(),Ue&&T.onPaste(Ue),j=!1,"";for(var ot=F.selectionStart,_t=F.selectionEnd,pt=N,wt=X.length-K,nn=Ue,xe=Ue.length-ot,Le=Ue.length-_t,We=0;0<pt&&X[We]==Ue[We];)We++,pt--;for(nn=nn.slice(We),We=1;0<wt&&X.length-We>N-1&&X[X.length-We]==Ue[Ue.length-We];)We++,wt--;xe-=We-1,Le-=We-1;var Xe=nn.length-We+1;return Xe<0&&(pt=-Xe,Xe=0),nn=nn.slice(0,Xe),tt||nn||xe||pt||wt||Le?(Xe=!(Y=!0),_.isAndroid&&". "==nn&&(nn="  ",Xe=!0),nn&&!pt&&!wt&&!xe&&!Le||S?T.onTextInput(nn):T.onTextInput(nn,{extendLeft:pt,extendRight:wt,restoreStart:xe,restoreEnd:Le}),Y=!1,X=Ue,N=ot,K=_t,ie=Le,Xe?"\n":nn):""},Ae=function(tt){if(te)return rt();if(tt&&tt.inputType){if("historyUndo"==tt.inputType)return T.execCommand("undo");if("historyRedo"==tt.inputType)return T.execCommand("redo")}var ot=ce(tt=F.value,!0);(500<tt.length||v.test(ot)||A&&N<1&&N==K)&&ge()},Ve=function(Ue,tt,ot){var _t=Ue.clipboardData||window.clipboardData;if(_t&&!m){var pt=p||ot?"Text":"text/plain";try{return tt?!1!==_t.setData(pt,tt):_t.getData(pt)}catch(wt){if(!ot)return Ve(wt,tt,!0)}}},nt=function(Ue,tt){var ot=T.getCopyText();if(!ot)return O.preventDefault(Ue);Ve(Ue,ot)?(d&&(ge(ot),$=ot,setTimeout(function(){$=!1},10)),tt?T.onCut():T.onCopy(),O.preventDefault(Ue)):($=!0,F.value=ot,F.select(),setTimeout(function(){$=!1,ge(),tt?T.onCut():T.onCopy()}))},rt=(O.addCommandKeyListener(F,T.onCommandKey.bind(T),T),O.addListener(F,"select",function(Ue){te||($?$=!1:G(F)?(T.selectAll(),ge()):A&&F.selectionStart!=N&&ge())},T),O.addListener(F,"input",Ae,T),O.addListener(F,"cut",U,T),O.addListener(F,"copy",re,T),O.addListener(F,"paste",se,T),"oncut"in F&&"oncopy"in F&&"onpaste"in F||O.addListener(E,"keydown",function(Ue){if((!_.isMac||Ue.metaKey)&&Ue.ctrlKey)switch(Ue.keyCode){case 67:re(Ue);break;case 86:se(Ue);break;case 88:U(Ue)}},T),function(){var Ue;if(te&&T.onCompositionUpdate&&!T.$readOnly)return S?Ct():void(te.useTextareaForIME?T.onCompositionUpdate(F.value):(Ue=F.value,ce(Ue),te.markerRange&&(te.context&&(te.markerRange.start.column=te.selectionStart=te.context.compositionStartOffset),te.markerRange.end.column=te.markerRange.start.column+K-te.selectionStart+ie)))}),bt=function(Ue){T.onCompositionEnd&&!T.$readOnly&&(te=!1,T.onCompositionEnd(),T.off("mousedown",Ct),Ue)&&Ae()};function Ct(){R=!0,F.blur(),F.focus(),R=!1}var Ot,At=C.delayedCall(rt,50).schedule.bind(null,null);function en(){clearTimeout(Ot),Ot=setTimeout(function(){ae&&(F.style.cssText=ae,ae=""),T.renderer.$isMousePressed=!1,T.renderer.$keepTextAreaAtCursor&&T.renderer.$moveTextAreaToCursor()},0)}function He(Ue){T.textInput.onContextMenu(Ue),en()}if(O.addListener(F,"compositionstart",function(Ue){te||!T.onCompositionStart||T.$readOnly||(te={},S)||(Ue.data&&(te.useTextareaForIME=!1),setTimeout(rt,0),T._signal("compositionStart"),T.on("mousedown",Ct),(Ue=T.getSelectionRange()).end.row=Ue.start.row,Ue.end.column=Ue.start.column,te.markerRange=Ue,te.selectionStart=N,T.onCompositionStart(te),te.useTextareaForIME?(X=F.value="",K=N=0):(F.msGetInputContext&&(te.context=F.msGetInputContext()),F.getInputContext&&(te.context=F.getInputContext())))},T),O.addListener(F,"compositionupdate",rt,T),O.addListener(F,"keyup",function(Ue){27==Ue.keyCode&&F.value.length<F.selectionStart&&(te||(X=F.value),N=K=-1,ge()),At()},T),O.addListener(F,"keydown",At,T),O.addListener(F,"compositionend",bt,T),this.getElement=function(){return F},this.setCommandMode=function(Ue){S=Ue,F.readOnly=!1},this.setReadOnly=function(Ue){S||(F.readOnly=Ue)},this.setCopyWithEmptySelection=function(Ue){},this.onContextMenu=function(Ue){q=!0,ge(),T._emit("nativecontextmenu",{target:T,domEvent:Ue}),this.moveToMouse(Ue,!0)},this.moveToMouse=function(Ue,_t){function ot(Le){I.translate(F,Le.clientX-nn-2,Math.min(Le.clientY-wt-2,xe))}ae=ae||F.style.cssText,F.style.cssText=(_t?"z-index:100000;":"")+(_.isIE?"opacity:0.1;":"")+"text-indent: -"+(N+K)*T.renderer.characterWidth*.5+"px;",_t=T.container.getBoundingClientRect();var pt=I.computedStyle(T.container),wt=_t.top+(parseInt(pt.borderTopWidth)||0),nn=_t.left+(parseInt(_t.borderLeftWidth)||0),xe=_t.bottom-wt-F.clientHeight-2;ot(Ue),"mousedown"==Ue.type&&(T.renderer.$isMousePressed=!0,clearTimeout(Ot),_.isWin)&&O.capture(T.container,ot,en)},this.onContextMenuClose=en,O.addListener(F,"mouseup",He,T),O.addListener(F,"mousedown",function(Ue){Ue.preventDefault(),en()},T),O.addListener(T.renderer.scroller,"contextmenu",He,T),O.addListener(F,"contextmenu",He,T),d){let Ue=function(tt){var ot,_t,pt,wt;document.activeElement!==Je||Mn||te||Ne.$mouseHandler.isMousePressed||$||(_t=Je.selectionEnd,pt=null,(wt=0)==(ot=Je.selectionStart)?pt=y.up:1==ot?pt=y.home:K<_t&&"\n"==X[_t]?pt=y.end:ot<N&&" "==X[ot-1]?(pt=y.left,wt=h.option):ot<N||ot==N&&K!=N&&ot==_t?pt=y.left:K<_t&&2<X.slice(0,_t).split("\n").length?pt=y.down:K<_t&&" "==X[_t-1]?(pt=y.right,wt=h.option):(K<_t||_t==K&&K!=N&&ot==_t)&&(pt=y.right),ot!==_t&&(wt|=h.shift),pt&&(!Ne.onCommandKey({},wt,pt)&&Ne.commands&&(pt=y.keyCodeToString(pt),wt=Ne.commands.findKeyCommand(wt,pt))&&Ne.execCommand(wt),N=ot,K=_t,ge("")))};var Ne=T,Je=F,jt=null,Mn=!1;Je.addEventListener("keydown",function(tt){jt&&clearTimeout(jt),Mn=!0},!0),Je.addEventListener("keyup",function(tt){jt=setTimeout(function(){Mn=!1},100)},!0),document.addEventListener("selectionchange",Ue),Ne.on("destroy",function(){document.removeEventListener("selectionchange",Ue)})}this.destroy=function(){F.parentElement&&F.parentElement.removeChild(F)}},M.$setUserAgentForTests=function(E,T){A=E,d=T}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(D,M,Z){"use strict";var O=D("../lib/useragent");function _(C){C.$clickSelection=null;var f=C.editor;f.setDefaultHandler("mousedown",this.onMouseDown.bind(C)),f.setDefaultHandler("dblclick",this.onDoubleClick.bind(C)),f.setDefaultHandler("tripleclick",this.onTripleClick.bind(C)),f.setDefaultHandler("quadclick",this.onQuadClick.bind(C)),f.setDefaultHandler("mousewheel",this.onMouseWheel.bind(C)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(m){C[m]=this[m]},this),C.selectByLines=this.extendSelectionBy.bind(C,"getLineRange"),C.selectByWords=this.extendSelectionBy.bind(C,"getWordRange")}function I(C,f){return(C.start.row==C.end.row?2*f.column-C.start.column-C.end.column:C.start.row!=C.end.row-1||C.start.column||C.end.column?2*f.row-C.start.row-C.end.row:f.column-4)<0?{cursor:C.start,anchor:C.end}:{cursor:C.end,anchor:C.start}}(_.prototype.onMouseDown=function(C){var f=C.inSelection(),m=C.getDocumentPosition(),p=(this.mousedownEvent=C,this.editor),g=C.getButton();if(0!==g)!p.getSelectionRange().isEmpty()&&1!=g||p.selection.moveToPosition(m),2==g&&(p.textInput.onContextMenu(C.domEvent),O.isMozilla||C.preventDefault());else{if(this.mousedownEvent.time=Date.now(),!f||p.isFocused()||(p.focus(),!this.$focusTimeout)||this.$clickSelection||p.inMultiSelectMode)return this.captureMouse(C),this.startSelect(m,1<C.domEvent._clicks),C.preventDefault();this.setState("focusWait"),this.captureMouse(C)}},_.prototype.startSelect=function(C,f){C=C||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var m=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?m.selection.selectToPosition(C):f||m.selection.moveToPosition(C),f||this.select(),m.setStyle("ace_selecting"),this.setState("select"))},_.prototype.select=function(){var C,f=this.editor,m=f.renderer.screenToTextCoordinates(this.x,this.y);this.$clickSelection&&(C=-1==(C=this.$clickSelection.comparePoint(m))?this.$clickSelection.end:1==C?this.$clickSelection.start:(m=(C=I(this.$clickSelection,m)).cursor,C.anchor),f.selection.setSelectionAnchor(C.row,C.column)),f.selection.selectToPosition(m),f.renderer.scrollCursorIntoView()},_.prototype.extendSelectionBy=function(h){var f,m,p,g=this.editor,y=g.renderer.screenToTextCoordinates(this.x,this.y);h=g.selection[h](y.row,y.column),this.$clickSelection&&(m=this.$clickSelection.comparePoint(h.start),f=this.$clickSelection.comparePoint(h.end),-1==m&&f<=0?(p=this.$clickSelection.end,h.end.row==y.row&&h.end.column==y.column||(y=h.start)):1==f&&0<=m?(p=this.$clickSelection.start,h.start.row==y.row&&h.start.column==y.column||(y=h.end)):p=-1==m&&1==f?(y=h.end,h.start):(y=(m=I(this.$clickSelection,y)).cursor,m.anchor),g.selection.setSelectionAnchor(p.row,p.column)),g.selection.selectToPosition(y),g.renderer.scrollCursorIntoView()},_.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},_.prototype.focusWait=function(){p=this.mousedownEvent.x,C=this.mousedownEvent.y,m=this.x,f=this.y;var C,f,m=Math.sqrt(Math.pow(m-p,2)+Math.pow(f-C,2)),p=Date.now();(0<m||p-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},_.prototype.onDoubleClick=function(f){f=f.getDocumentPosition();var m=this.editor,p=m.session.getBracketRange(f);p?(p.isEmpty()&&(p.start.column--,p.end.column++),this.setState("select")):(p=m.selection.getWordRange(f.row,f.column),this.setState("selectByWords")),this.$clickSelection=p,this.select()},_.prototype.onTripleClick=function(f){f=f.getDocumentPosition();var m=this.editor,p=(this.setState("selectByLines"),m.getSelectionRange());p.isMultiLine()&&p.contains(f.row,f.column)?(this.$clickSelection=m.selection.getLineRange(p.start.row),this.$clickSelection.end=m.selection.getLineRange(p.end.row).end):this.$clickSelection=m.selection.getLineRange(f.row),this.select()},_.prototype.onQuadClick=function(C){var f=this.editor;f.selectAll(),this.$clickSelection=f.getSelectionRange(),this.setState("selectAll")},_.prototype.onMouseWheel=function(C){var f,m,p,g,y,h,d;if(!C.getAccelKey())return C.getShiftKey()&&C.wheelY&&!C.wheelX&&(C.wheelX=C.wheelY,C.wheelY=0),f=this.editor,this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0}),g=(d=(p=C.domEvent.timeStamp)-(m=this.$lastScroll).t)?C.wheelX/d:m.vx,y=d?C.wheelY/d:m.vy,d<550&&(g=(g+m.vx)/2,y=(y+m.vy)/2),d=!1,1<=(h=Math.abs(g/y))&&f.renderer.isScrollableBy(C.wheelX*C.speed,0)&&(d=!0),(d=!!(h<=1&&f.renderer.isScrollableBy(0,C.wheelY*C.speed))||d)?m.allowed=p:p-m.allowed<550&&(Math.abs(g)<=1.5*Math.abs(m.vx)&&Math.abs(y)<=1.5*Math.abs(m.vy)?(d=!0,m.allowed=p):m.allowed=0),m.t=p,m.vx=g,m.vy=y,d?(f.renderer.scrollBy(C.wheelX*C.speed,C.wheelY*C.speed),C.stop()):void 0},D=_).prototype.selectEnd=D.prototype.selectByLinesEnd,D.prototype.selectAllEnd=D.prototype.selectByLinesEnd,D.prototype.selectByWordsEnd=D.prototype.selectByLinesEnd,M.DefaultHandlers=D}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/range"],function(f,M,Z){"use strict";var O,h=this&&this.__extends||(O=function(v,A){return(O=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(E,T){E.__proto__=T}:function(E,T){for(var F in T)Object.prototype.hasOwnProperty.call(T,F)&&(E[F]=T[F])}))(v,A)},function(v,A){if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function E(){this.constructor=v}O(v,A),v.prototype=null===A?Object.create(A):(E.prototype=A.prototype,new E)}),D=this&&this.__values||function(v){var A="function"==typeof Symbol&&Symbol.iterator,E=A&&v[A],T=0;if(E)return E.call(v);if(v&&"number"==typeof v.length)return{next:function(){return{value:(v=v&&T>=v.length?void 0:v)&&v[T++],done:!v}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")},_=f("./lib/dom"),I=f("./range").Range,C="ace_tooltip";function m(v){this.isOpen=!1,this.$element=null,this.$parentNode=v}function p(){this.popups=[]}m.prototype.$init=function(){return this.$element=_.createElement("div"),this.$element.className=C,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},m.prototype.getElement=function(){return this.$element||this.$init()},m.prototype.setText=function(v){this.getElement().textContent=v},m.prototype.setHtml=function(v){this.getElement().innerHTML=v},m.prototype.setPosition=function(v,A){this.getElement().style.left=v+"px",this.getElement().style.top=A+"px"},m.prototype.setClassName=function(v){_.addCssClass(this.getElement(),v)},m.prototype.setTheme=function(v){this.$element.className=C+" "+(v.isDark?"ace_dark ":"")+(v.cssClass||"")},m.prototype.show=function(v,A,E){null!=v&&this.setText(v),null!=A&&null!=E&&this.setPosition(A,E),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},m.prototype.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=C,this.isOpen=!1)},m.prototype.getHeight=function(){return this.getElement().offsetHeight},m.prototype.getWidth=function(){return this.getElement().offsetWidth},m.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},f=m,p.prototype.addPopup=function(v){this.popups.push(v),this.updatePopups()},p.prototype.removePopup=function(v){-1!==(v=this.popups.indexOf(v))&&(this.popups.splice(v,1),this.updatePopups())},p.prototype.updatePopups=function(){this.popups.sort(function(X,N){return N.priority-X.priority});var v,A,E,T,F=[];try{for(var $=D(this.popups),j=$.next();!j.done;j=$.next()){var te=j.value,Y=!0;try{E=void 0;for(var ae=D(F),S=ae.next();!S.done;S=ae.next())if(this.doPopupsOverlap(S.value,te)){Y=!1;break}}catch(X){E={error:X}}finally{try{S&&!S.done&&(T=ae.return)&&T.call(ae)}finally{if(E)throw E.error}}Y?F.push(te):te.hide()}}catch(X){v={error:X}}finally{try{j&&!j.done&&(A=$.return)&&A.call($)}finally{if(v)throw v.error}}},p.prototype.doPopupsOverlap=function(v,A){return v=v.getElement().getBoundingClientRect(),A=A.getElement().getBoundingClientRect(),v.left<A.right&&v.right>A.left&&v.top<A.bottom&&v.bottom>A.top};var g,y=new p;function d(A){void 0===A&&(A=document.body);var E=((A=g.call(this,A)||this).timeout=void 0,A.lastT=0,A.idleTime=350,A.lastEvent=void 0,A.onMouseOut=A.onMouseOut.bind(A),A.onMouseMove=A.onMouseMove.bind(A),A.waitForHover=A.waitForHover.bind(A),A.hide=A.hide.bind(A),A.getElement());return E.style.whiteSpace="pre-wrap",E.style.pointerEvents="auto",E.addEventListener("mouseout",A.onMouseOut),E.tabIndex=-1,E.addEventListener("blur",function(){E.contains(document.activeElement)||this.hide()}.bind(A)),A}M.popupManager=y,M.Tooltip=f,h(d,g=f),d.prototype.addToEditor=function(v){v.on("mousemove",this.onMouseMove),v.on("mousedown",this.hide),v.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},d.prototype.removeFromEditor=function(v){v.off("mousemove",this.onMouseMove),v.off("mousedown",this.hide),v.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},d.prototype.onMouseMove=function(v,T){var E;this.lastEvent=v,this.lastT=Date.now(),T=T.$mouseHandler.isMousePressed,this.isOpen&&(E=this.lastEvent&&this.lastEvent.getDocumentPosition(),this.range&&this.range.contains(E.row,E.column)&&!T&&!this.isOutsideOfText(this.lastEvent)||this.hide()),this.timeout||T||(this.lastEvent=v,this.timeout=setTimeout(this.waitForHover,this.idleTime))},d.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var v=Date.now()-this.lastT;10<this.idleTime-v?this.timeout=setTimeout(this.waitForHover,this.idleTime-v):(this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor))},d.prototype.isOutsideOfText=function(v){var A=v.editor,E=v.getDocumentPosition(),T=A.session.getLine(E.row);return E.column==T.length&&(T=A.renderer.pixelToScreenCoordinates(v.clientX,v.clientY),(v=A.session.documentToScreenPosition(E.row,E.column)).column!=T.column||v.row!=T.row)},d.prototype.setDataProvider=function(v){this.$gatherData=v},d.prototype.showForRange=function(v,A,E,T){var F,$,j;T&&T!=this.lastEvent||this.isOpen&&document.activeElement==this.getElement()||(T=v.renderer,this.isOpen||(y.addPopup(this),this.$registerCloseEvents(),this.setTheme(T.theme)),this.isOpen=!0,this.addMarker(A,v.session),this.range=I.fromPoints(A.start,A.end),(F=this.getElement()).innerHTML="",F.appendChild(E),F.style.display="block",E=T.textToScreenCoordinates(A.start.row,A.start.column),A=v.getCursorPosition(),v=F.clientHeight,$=T.scroller.getBoundingClientRect(),j=!0,this.row>A.row?j=!0:this.row<A.row&&(j=!1),E.pageY-v+T.lineHeight<$.top?j=!0:E.pageY+v>$.bottom&&(j=!1),j?E.pageY+=T.lineHeight:E.pageY-=v,F.style.maxWidth=$.width-(E.pageX-$.left)+"px",this.setPosition(E.pageX,E.pageY))},d.prototype.addMarker=function(v,A){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=A,this.marker=A&&A.addMarker(v,"ace_highlight-marker","text")},d.prototype.hide=function(v){!v&&document.activeElement==this.getElement()||v&&v.target&&("keydown"!=v.type||v.ctrlKey||v.metaKey)&&this.$element.contains(v.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,y.removePopup(this)))},d.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("mousewheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},d.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("mousewheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},d.prototype.onMouseOut=function(v){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,!this.isOpen||!v.relatedTarget||v.relatedTarget==this.getElement()||v&&v.currentTarget.contains(v.relatedTarget)||v.relatedTarget.classList.contains("ace_content")||this.hide()},M.HoverTooltip=h=d}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(B,M,Z){"use strict";var O,D=this&&this.__extends||(O=function(h,d){return(O=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(v,A){v.__proto__=A}:function(v,A){for(var E in A)Object.prototype.hasOwnProperty.call(A,E)&&(v[E]=A[E])}))(h,d)},function(h,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function v(){this.constructor=h}O(h,d),h.prototype=null===d?Object.create(d):(v.prototype=d.prototype,new v)}),_=this&&this.__values||function(h){var d="function"==typeof Symbol&&Symbol.iterator,v=d&&h[d],A=0;if(v)return v.call(h);if(h&&"number"==typeof h.length)return{next:function(){return{value:(h=h&&A>=h.length?void 0:h)&&h[A++],done:!h}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},I=B("../lib/dom"),C=B("../lib/event"),f=B("../tooltip").Tooltip,m=B("../config").nls;M.GutterHandler=function(h){var d,v,A=h.editor,E=A.renderer.$gutterLayer,T=new g(A);function F(){d=d&&clearTimeout(d),T.isOpen&&(T.hideTooltip(),A.off("mousewheel",F))}function $(j){T.setPosition(j.x,j.y)}h.editor.setDefaultHandler("guttermousedown",function(j){if(A.isFocused()&&0==j.getButton()&&"foldWidgets"!=(te=E.getRegion(j))){var te=j.getDocumentPosition().row,Y=A.session.selection;if(j.getShiftKey())Y.selectTo(te,0);else{if(2==j.domEvent.detail)return A.selectAll(),j.preventDefault();h.$clickSelection=A.selection.getLineRange(te)}return h.setState("selectByLines"),h.captureMouse(j),j.preventDefault()}}),h.editor.setDefaultHandler("guttermousemove",function(j){if(I.hasCssClass(j.domEvent.target||j.domEvent.srcElement,"ace_fold-widget"))return F();T.isOpen&&h.$tooltipFollowsMouse&&$(j),v=j,d=d||setTimeout(function(){if(d=null,v&&!h.isMousePressed){var Y=v.getDocumentPosition().row;if(Y==A.session.getLength()){var ae=A.renderer.pixelToScreenCoordinates(0,v.y).row,S=v.$pos;if(ae>A.session.documentToScreenRow(S.row,S.column))return void F()}T.showTooltip(Y),T.isOpen&&(A.on("mousewheel",F),!h.$tooltipFollowsMouse&&(ae=v.getGutterRow(),S=E.$lines.get(ae))?(Y=S.element.querySelector(".ace_gutter_annotation").getBoundingClientRect(),(ae=T.getElement().style).left=Y.right+"px",ae.top=Y.bottom+"px"):$(v))}else F()},50)}),C.addListener(A.renderer.$gutter,"mouseout",function(j){v=null,T.isOpen&&(d=d||setTimeout(function(){d=null,F()},50))},A),A.on("changeSession",F),A.on("input",F)},D(y,p=f),y.prototype.setPosition=function(h,d){var v=window.innerWidth||document.documentElement.clientWidth,A=window.innerHeight||document.documentElement.clientHeight,E=this.getWidth(),T=this.getHeight();v<(h+=15)+E&&(h-=h+E-v),A<(d+=15)+T&&(d-=20+T),f.prototype.setPosition.call(this,h,d)},Object.defineProperty(y,"annotationLabels",{get:function(){return{error:{singular:m("error"),plural:m("errors")},warning:{singular:m("warning"),plural:m("warnings")},info:{singular:m("information message"),plural:m("information messages")}}},enumerable:!1,configurable:!0}),y.prototype.showTooltip=function(h){var d=this.editor.renderer.$gutterLayer,v=d.$annotations[h],A=v?{text:Array.from(v.text),type:Array.from(v.type)}:{text:[],type:[]},E=d.session.getFoldLine(h);if(E&&d.$showFoldedAnnotations){for(var T,F={error:[],warning:[],info:[]},$=h+1;$<=E.end.row;$++)if(d.$annotations[$])for(var j=0;j<d.$annotations[$].text.length;j++){var te=d.$annotations[$].type[j];F[te].push(d.$annotations[$].text[j]),"error"===te?T="error_fold":"warning"===te&&(T="warning_fold")}"error_fold"!==T&&"warning_fold"!==T||(v="".concat(y.annotationsToSummaryString(F)," in folded code."),A.text.push(v),A.type.push(T))}if(0===A.text.length)return this.hide();var Y={error:[],warning:[],info:[]},ae=d.$useSvgGutterIcons?"ace_icon_svg":"ace_icon";for($=0;$<A.text.length;$++){var S="<span class='ace_".concat(A.type[$]," ").concat(ae,"' aria-label='").concat(y.annotationLabels[A.type[$].replace("_fold","")].singular,"' role=img> </span> ").concat(A.text[$]);Y[A.type[$].replace("_fold","")].push(S)}h=[].concat(Y.error,Y.warning,Y.info).join("<br>"),this.setHtml(h),this.$element.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},y.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},y.annotationsToSummaryString=function(h){var d,v,A=[];try{for(var E=_(["error","warning","info"]),T=E.next();!T.done;T=E.next()){var F,$=T.value;h[$].length&&(F=1===h[$].length?y.annotationLabels[$].singular:y.annotationLabels[$].plural,A.push("".concat(h[$].length," ").concat(F)))}}catch(j){d={error:j}}finally{try{T&&!T.done&&(v=E.return)&&v.call(E)}finally{if(d)throw d.error}}return A.join(", ")};var p,g=y;function y(h){var d=p.call(this,h.container)||this;return d.editor=h,d}M.GutterTooltip=g}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(B,M,Z){"use strict";var O=B("../lib/event"),D=B("../lib/useragent");function _(I,C){this.domEvent=I,this.editor=C,this.x=this.clientX=I.clientX,this.y=this.clientY=I.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}_.prototype.stopPropagation=function(){O.stopPropagation(this.domEvent),this.propagationStopped=!0},_.prototype.preventDefault=function(){O.preventDefault(this.domEvent),this.defaultPrevented=!0},_.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},_.prototype.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},_.prototype.getGutterRow=function(){var I=this.getDocumentPosition().row;return this.editor.session.documentToScreenRow(I,0)-this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0)},_.prototype.inSelection=function(){var I,C;return null===this.$inSelection&&((I=this.editor.getSelectionRange()).isEmpty()?this.$inSelection=!1:(C=this.getDocumentPosition(),this.$inSelection=I.contains(C.row,C.column))),this.$inSelection},_.prototype.getButton=function(){return O.getButton(this.domEvent)},_.prototype.getShiftKey=function(){return this.domEvent.shiftKey},_.prototype.getAccelKey=function(){return D.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},M.MouseEvent=_}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(B,M,Z){"use strict";var O=B("../lib/dom"),D=B("../lib/event"),_=B("../lib/useragent");function I(f){var m,p,g,y,h,d,v,A,E,T,F,$=f.editor,j=O.createElement("div"),te=(j.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",j.textContent="\xa0",["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(Q){f[Q]=this[Q]},this),$.on("mousedown",this.onMouseDown.bind(f)),$.container),Y=0;function ae(){var Q,be,Ie,pe,Te,U,re,se,ge=d;Ie=d=$.renderer.screenToTextCoordinates(p,g),be=ge,pe=Date.now(),Q=!be||Ie.row!=be.row,be=!be||Ie.column!=be.column,!T||Q||be?($.moveCursorToPosition(Ie),T=pe,F={x:p,y:g}):5<C(F.x,F.y,p,g)?T=null:200<=pe-T&&($.renderer.scrollCursorIntoView(),T=null),Q=d,be=ge,Ie=Date.now(),pe=$.renderer.layerConfig.lineHeight,ge=$.renderer.layerConfig.characterWidth,Te=$.renderer.scroller.getBoundingClientRect(),Te={x:{left:p-Te.left,right:Te.right-p},y:{top:g-Te.top,bottom:Te.bottom-g}},U=Math.min(Te.x.left,Te.x.right),re=Math.min(Te.y.top,Te.y.bottom),se={row:Q.row,column:Q.column},U/ge<=2&&(se.column+=Te.x.left<Te.x.right?-3:2),re/pe<=1&&(se.row+=Te.y.top<Te.y.bottom?-1:1),ge=Q.column!=se.column,re=!be||Q.row!=be.row,(U=Q.row!=se.row)||ge&&!re?E?200<=Ie-E&&$.renderer.scrollCursorIntoView(se):E=Ie:E=null}function S(){h=$.selection.toOrientedRange(),m=$.session.addMarker(h,"ace_selection",$.getSelectionStyle()),$.clearSelection(),$.isFocused()&&$.renderer.$cursorLayer.setBlinking(!1),clearInterval(y),ae(),y=setInterval(ae,20),Y=0,D.addListener(document,"mousemove",N)}function R(){clearInterval(y),$.session.removeMarker(m),m=null,$.selection.fromOrientedRange(h),$.isFocused()&&!A&&$.$resetCursorStyle(),Y=0,T=E=d=h=null,D.removeListener(document,"mousemove",N)}this.onDragStart=function(Q){var be;if(this.cancelDrag||!te.draggable)return be=this,setTimeout(function(){be.startSelect(),be.captureMouse(Q)},0),Q.preventDefault();h=$.getSelectionRange();var Ie=Q.dataTransfer;Ie.effectAllowed=$.getReadOnly()?"copy":"copyMove",$.container.appendChild(j),Ie.setDragImage&&Ie.setDragImage(j,0,0),setTimeout(function(){$.container.removeChild(j)}),Ie.clearData(),Ie.setData("Text",$.session.getTextRange()),A=!0,this.setState("drag")},this.onDragEnd=function(Q){te.draggable=!1,A=!1,this.setState(null),$.getReadOnly()||(Q=Q.dataTransfer.dropEffect,v||"move"!=Q||$.session.remove($.getSelectionRange()),$.$resetCursorStyle()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(Q){if(!$.getReadOnly()&&K(Q.dataTransfer))return p=Q.clientX,g=Q.clientY,m||S(),Y++,Q.dataTransfer.dropEffect=v=ie(Q),D.preventDefault(Q)},this.onDragOver=function(Q){if(!$.getReadOnly()&&K(Q.dataTransfer))return p=Q.clientX,g=Q.clientY,m||(S(),Y++),null!==X&&(X=null),Q.dataTransfer.dropEffect=v=ie(Q),D.preventDefault(Q)},this.onDragLeave=function(Q){if(--Y<=0&&m)return R(),v=null,D.preventDefault(Q)},this.onDrop=function(Q){if(d){var be=Q.dataTransfer;if(A)switch(v){case"move":h=h.contains(d.row,d.column)?{start:d,end:d}:$.moveText(h,d);break;case"copy":h=$.moveText(h,d,!0)}else be=be.getData("Text"),h={start:d,end:$.session.insert(d,be)},$.focus(),v=null;return R(),D.preventDefault(Q)}},D.addListener(te,"dragstart",this.onDragStart.bind(f),$),D.addListener(te,"dragend",this.onDragEnd.bind(f),$),D.addListener(te,"dragenter",this.onDragEnter.bind(f),$),D.addListener(te,"dragover",this.onDragOver.bind(f),$),D.addListener(te,"dragleave",this.onDragLeave.bind(f),$),D.addListener(te,"drop",this.onDrop.bind(f),$);var X=null;function N(){null==X&&(X=setTimeout(function(){null!=X&&m&&R()},20))}function K(Q){return!(Q=Q.types)||Array.prototype.some.call(Q,function(be){return"text/plain"==be||"Text"==be})}function ie(Q){var be=["copy","copymove","all","uninitialized"],Ie=_.isMac?Q.altKey:Q.ctrlKey,pe="uninitialized";try{pe=Q.dataTransfer.effectAllowed.toLowerCase()}catch{}var Te="none";return Ie&&0<=be.indexOf(pe)?Te="copy":0<=["move","copymove","linkmove","all","uninitialized"].indexOf(pe)?Te="move":0<=be.indexOf(pe)&&(Te="copy"),Te}}function C(f,m,p,g){return Math.sqrt(Math.pow(p-f,2)+Math.pow(g-m,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(f){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var f=this.editor,m=(f.container.draggable=!0,f.renderer.$cursorLayer.setBlinking(!1),f.setStyle("ace_dragging"),_.isWin?"default":"move");f.renderer.setCursorStyle(m),this.setState("dragReady")},this.onMouseDrag=function(f){var m=this.editor.container;_.isIE&&"dragReady"==this.state&&3<C(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&m.dragDrop(),"dragWait"===this.state&&0<C(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&(m.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(f){var m,p,g;this.$dragEnabled&&(this.mousedownEvent=f,m=this.editor,p=f.inSelection(),g=f.getButton(),1!==(f.domEvent.detail||1)||0!==g||!p||f.editor.inMultiSelectMode&&(f.getAccelKey()||f.getShiftKey())||(this.mousedownEvent.time=Date.now(),"unselectable"in(g=f.domEvent.target||f.domEvent.srcElement)&&(g.unselectable="on"),m.getDragDelay()?(_.isWebKit&&(this.cancelDrag=!0,m.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(f,this.onMouseDrag.bind(this)),f.defaultPrevented=!0))}}).call(I.prototype),M.DragdropHandler=I}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(B,M,Z){"use strict";var O=B("./mouse_event").MouseEvent,D=B("../lib/event"),_=B("../lib/dom");M.addTouchListeners=function(I,C){var f,m,p,g,y,h,d,v,A,E="scroll",T=0,F=0,$=0,j=0;function Y(){A||function te(){function R(K){var ie,Q=K.target.getAttribute("action");"more"!=Q&&N?("paste"==Q?X.readText().then(function(be){C.execCommand(Q,be)}):Q&&("cut"!=Q&&"copy"!=Q||(X?X.writeText(C.getCopyText()):document.execCommand("copy")),C.execCommand(Q)),A.firstChild.style.display="none",N=!1,"openCommandPallete"!=Q&&C.focus()):(N=!N,K=C.getCopyText(),ie=C.session.getUndoManager().hasUndo(),A.replaceChild(_.buildDom(N?["span",!K&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],K&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],K&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],X&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],ie&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),A.firstChild))}var X=window.navigator&&window.navigator.clipboard,N=!1;A=_.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(K){E="menu",K.stopPropagation(),K.preventDefault(),C.textInput.focus()},ontouchend:function(K){K.stopPropagation(),K.preventDefault(),R(K)},onclick:R},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],C.container)}();var R=C.renderer.textToScreenCoordinates((R=C.selection.cursor).row,R.column),X=C.renderer.textToScreenCoordinates(0,0).pageX,N=C.renderer.scrollLeft,K=C.container.getBoundingClientRect();A.style.top=R.pageY-K.top-3+"px",R.pageX-K.left<K.width-70?(A.style.left="",A.style.right="10px"):(A.style.right="",A.style.left=X+N-K.left+"px"),A.style.display="",A.firstChild.style.display="none",C.on("input",ae)}function ae(R){A&&(A.style.display="none"),C.off("input",ae)}function S(){y=null,clearTimeout(y);var R=C.selection.getRange(),X=R.contains(d.row,d.column);!R.isEmpty()&&X||(C.selection.moveToPosition(d),C.selection.selectWord()),E="wait",Y()}D.addListener(I,"contextmenu",function(R){v&&C.textInput.getElement().focus()},C),D.addListener(I,"touchstart",function(R){var X=R.touches;if(y||1<X.length)clearTimeout(y),y=null,p=-1,E="zoom";else{v=C.$mouseHandler.isMousePressed=!0;var N=C.renderer.layerConfig.lineHeight,K=C.renderer.layerConfig.lineHeight,ie=R.timeStamp,be=(g=ie,Q=X[0]).clientX,Q=Q.clientY;if(Math.abs(f-be)+Math.abs(m-Q)>N&&(p=-1),f=R.clientX=be,m=R.clientY=Q,$=j=0,be=new O(R,C),d=be.getDocumentPosition(),ie-p<500&&1==X.length&&!T)F++,R.preventDefault(),R.button=0,y=null,clearTimeout(y),C.selection.moveToPosition(d),(Q=2<=F?C.selection.getLineRange(d.row):C.session.getBracketRange(d))&&!Q.isEmpty()?C.selection.setRange(Q):C.selection.selectWord(),E="wait";else{F=0,be=C.selection.cursor,X=C.selection.isEmpty()?be:C.selection.anchor,Q=C.renderer.$cursorLayer.getPixelPosition(be,!0),be=C.renderer.$cursorLayer.getPixelPosition(X,!0),X=C.renderer.scroller.getBoundingClientRect();var Ie=C.renderer.layerConfig.offset,pe=C.renderer.scrollLeft,Te=function(ge,G){return(ge/=K)*ge+(G=G/N-.75)*G};if(R.clientX<X.left)return void(E="zoom");Q=Te(R.clientX-X.left-Q.left+pe,R.clientY-X.top-Q.top+Ie),Te=Te(R.clientX-X.left-be.left+pe,R.clientY-X.top-be.top+Ie),Q<3.5&&Te<3.5&&(E=Te<Q?"cursor":"anchor"),E=Te<3.5?"anchor":Q<3.5?"cursor":"scroll",y=setTimeout(S,450)}p=ie}},C),D.addListener(I,"touchend",function(R){v=C.$mouseHandler.isMousePressed=!1,h&&clearInterval(h),"zoom"==E?(E="",T=0):(y?(C.selection.moveToPosition(d),T=0,Y):"scroll"==E?(T+=60,h=setInterval(function(){T--<=0&&(clearInterval(h),h=null),Math.abs($)<.01&&($=0),Math.abs(j)<.01&&(j=0),T<20&&($*=.9),T<20&&(j*=.9);var X=C.session.getScrollTop();C.renderer.scrollBy(10*$,10*j),X==C.session.getScrollTop()&&(T=0)},10),ae):Y)(),clearTimeout(y),y=null},C),D.addListener(I,"touchmove",function(R){if(y&&(clearTimeout(y),y=null),!(1<(X=R.touches).length||"zoom"==E)){var N=f-(X=X[0]).clientX,K=m-X.clientY;if("wait"==E){if(!(4<N*N+K*K))return R.preventDefault();E="cursor"}f=X.clientX,m=X.clientY,R.clientX=X.clientX,R.clientY=X.clientY;var X,ie=(X=R.timeStamp)-g;g=X,"scroll"==E?((X=new O(R,C)).speed=1,X.wheelX=N,X.wheelY=K,10*Math.abs(N)<Math.abs(K)&&(N=0),10*Math.abs(K)<Math.abs(N)&&(K=0),0!=ie&&($=N/ie,j=K/ie),C._emit("mousewheel",X),X.propagationStopped||($=j=0)):(N=new O(R,C).getDocumentPosition(),"cursor"==E?C.selection.moveCursorToPosition(N):"anchor"==E&&C.selection.setSelectionAnchor(N.row,N.column),C.renderer.scrollCursorIntoView(N),R.preventDefault())}},C)}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(p,M,Z){"use strict";var O=p("../lib/event"),D=p("../lib/useragent"),_=p("./default_handlers").DefaultHandlers,I=p("./default_gutter_handler").GutterHandler,C=p("./mouse_event").MouseEvent,f=p("./dragdrop_handler").DragdropHandler,m=p("./touch_handler").addTouchListeners,g=(p=p("../config"),y.prototype.onMouseEvent=function(h,d){this.editor.session&&this.editor._emit(h,new C(d,this.editor))},y.prototype.onMouseMove=function(h,d){var v=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;v&&v.length&&this.editor._emit(h,new C(d,this.editor))},y.prototype.onMouseWheel=function(h,d){var v=new C(d,this.editor);v.speed=2*this.$scrollSpeed,v.wheelX=d.wheelX,v.wheelY=d.wheelY,this.editor._emit(h,v)},y.prototype.setState=function(h){this.state=h},y.prototype.captureMouse=function(h,d){function v(Y){if(Y){if(D.isWebKit&&!Y.which&&$.releaseMouse)return $.releaseMouse();$.x=Y.clientX,$.y=Y.clientY,d&&d(Y),$.mouseEvent=new C(Y,$.editor),$.$mouseMoved=!0}}function A(Y){T.off("beforeEndOperation",j),clearInterval(te),T.session&&E(),$[$.state+"End"]&&$[$.state+"End"](Y),$.state="",$.isMousePressed=F.$isMousePressed=!1,F.$keepTextAreaAtCursor&&F.$moveTextAreaToCursor(),$.$onCaptureMouseMove=$.releaseMouse=null,Y&&$.onMouseEvent("mouseup",Y),T.endOperation()}function E(){$[$.state]&&$[$.state](),$.$mouseMoved=!1}this.x=h.x,this.y=h.y,this.isMousePressed=!0;var T=this.editor,F=this.editor.renderer,$=(F.$isMousePressed=!0,this);if(D.isOldIE&&"dblclick"==h.domEvent.type)return setTimeout(function(){A(h)});var j=function(Y){$.releaseMouse&&T.curOp.command.name&&T.curOp.selectionChanged&&($[$.state+"End"]&&$[$.state+"End"](),$.state="",$.releaseMouse())},te=(T.on("beforeEndOperation",j),T.startOperation({command:{name:"mouse"}}),$.$onCaptureMouseMove=v,$.releaseMouse=O.capture(this.editor.container,v,A),setInterval(E,20))},y.prototype.cancelContextMenu=function(){var h=function(d){d&&d.domEvent&&"contextmenu"!=d.domEvent.type||(this.editor.off("nativecontextmenu",h),d&&d.domEvent&&O.stopEvent(d.domEvent))}.bind(this);setTimeout(h,10),this.editor.on("nativecontextmenu",h)},y.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},y);function y(h){function d(T){document.hasFocus&&document.hasFocus()&&(h.isFocused()||document.activeElement!=(h.textInput&&h.textInput.getElement()))||window.focus(),h.focus(),setTimeout(function(){h.isFocused()||h.focus()})}var v=this,A=(this.editor=h,new _(this),new I(this),new f(this),h.renderer.getMouseEventTarget()),E=(O.addListener(A,"click",this.onMouseEvent.bind(this,"click"),h),O.addListener(A,"mousemove",this.onMouseMove.bind(this,"mousemove"),h),O.addMultiMouseDownListener([A,h.renderer.scrollBarV&&h.renderer.scrollBarV.inner,h.renderer.scrollBarH&&h.renderer.scrollBarH.inner,h.textInput&&h.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",h),O.addMouseWheelListener(h.container,this.onMouseWheel.bind(this,"mousewheel"),h),m(h.container,h),h.renderer.$gutter);O.addListener(E,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),h),O.addListener(E,"click",this.onMouseEvent.bind(this,"gutterclick"),h),O.addListener(E,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),h),O.addListener(E,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),h),O.addListener(A,"mousedown",d,h),O.addListener(E,"mousedown",d,h),D.isIE&&h.renderer.scrollBarV&&(O.addListener(h.renderer.scrollBarV.element,"mousedown",d,h),O.addListener(h.renderer.scrollBarH.element,"mousedown",d,h)),h.on("mousemove",function(T){var F,$;v.state||v.$dragDelay||!v.$dragEnabled||(T=h.renderer.screenToTextCoordinates(T.x,T.y),F=h.session.selection.getRange(),$=h.renderer,!F.isEmpty()&&F.insideStart(T.row,T.column)?$.setCursorStyle("default"):$.setCursorStyle(""))},h)}g.prototype.releaseMouse=null,p.defineOptions(g.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:D.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),M.MouseHandler=g}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(B,M,Z){"use strict";var O=B("../lib/dom");M.FoldHandler=function(D){D.on("click",function(_){var C=_.getDocumentPosition(),I=D.session;(C=I.getFoldAt(C.row,C.column,1))&&(_.getAccelKey()?I.removeFold(C):I.expandFold(C),_.stop()),(C=_.domEvent&&_.domEvent.target)&&O.hasCssClass(C,"ace_inline_button")&&O.hasCssClass(C,"ace_toggle_wrap")&&(I.setOption("wrap",!I.getUseWrapMode()),D.renderer.scrollCursorIntoView())}),D.on("gutterclick",function(_){var I,C;"foldWidgets"==D.renderer.$gutterLayer.getRegion(_)&&(I=_.getDocumentPosition().row,(C=D.session).foldWidgets&&C.foldWidgets[I]&&D.session.onFoldWidgetClick(I,_),D.isFocused()||D.focus(),_.stop())}),D.on("gutterdblclick",function(_){var I,C,f;"foldWidgets"==D.renderer.$gutterLayer.getRegion(_)&&(f=_.getDocumentPosition().row,(C=(C=(I=D.session).getParentFoldRangeData(f,!0)).range||C.firstRange)&&((f=I.getFoldAt(f=C.start.row,I.getLine(f).length,1))?I.removeFold(f):(I.addFold("...",C),D.renderer.scrollCursorIntoView({row:C.start.row,column:0}))),_.stop())})}}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(B,M,Z){"use strict";var O=B("../lib/keys"),D=B("../lib/event");function _(I){this.$editor=I,this.$data={editor:I},this.$handlers=[],this.setDefaultHandler(I.commands)}_.prototype.setDefaultHandler=function(I){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=I,this.addKeyboardHandler(I,0)},_.prototype.setKeyboardHandler=function(I){var C=this.$handlers;if(C[C.length-1]!=I){for(;C[C.length-1]&&C[C.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(C[C.length-1]);this.addKeyboardHandler(I,1)}},_.prototype.addKeyboardHandler=function(I,C){var f;I&&("function"!=typeof I||I.handleKeyboard||(I.handleKeyboard=I),-1!=(f=this.$handlers.indexOf(I))&&this.$handlers.splice(f,1),null==C?this.$handlers.push(I):this.$handlers.splice(C,0,I),-1==f)&&I.attach&&I.attach(this.$editor)},_.prototype.removeKeyboardHandler=function(I){var C=this.$handlers.indexOf(I);return-1!=C&&(this.$handlers.splice(C,1),I.detach&&I.detach(this.$editor),!0)},_.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},_.prototype.getStatusText=function(){var I=this.$data,C=I.editor;return this.$handlers.map(function(f){return f.getStatusText&&f.getStatusText(C,I)||""}).filter(Boolean).join(" ")},_.prototype.$callKeyboardHandlers=function(I,C,f,m){for(var p,g=!1,y=this.$editor.commands,h=this.$handlers.length;h--&&!((p=this.$handlers[h].handleKeyboard(this.$data,I,C,f,m))&&p.command&&((g="null"==p.command||y.exec(p.command,this.$editor,p.args,m))&&m&&-1!=I&&1!=p.passEvent&&1!=p.command.passEvent&&D.stopEvent(m),g)););return g||-1!=I||(p={command:"insertstring"},g=y.exec("insertstring",this.$editor,C)),g&&this.$editor._signal&&this.$editor._signal("keyboardActivity",p),g},_.prototype.onCommandKey=function(I,C,f){var m=O.keyCodeToString(f);return this.$callKeyboardHandlers(C,m,f,I)},_.prototype.onTextInput=function(I){return this.$callKeyboardHandlers(-1,I)},M.KeyBinding=_}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(B,M,Z){"use strict";var O=0,D=0,_=!1,I=!1,C=!1,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j=11,N=18,K=[N,N,N,N,N,N,N,N,N,6,5,6,8,5,N,N,N,N,N,N,N,N,N,N,N,N,N,N,5,5,5,6,8,4,4,j,j,j,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,N,N,N,N,N,N,5,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,9,4,j,j,j,j,4,4,4,4,0,4,4,N,4,4,j,j,2,2,4,0,4,4,4,2,0,4,4,4,4,4],ie=[8,8,8,8,8,8,8,8,8,8,8,N,N,N,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,j,j,j,j,j,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function be(pe,Te,U){if(!(D<pe))if(1!=pe||1!=O||I)for(var re,se,ge,G,W=U.length,q=0;q<W;){if(Te[q]>=pe){for(re=q+1;re<W&&Te[re]>=pe;)re++;for(se=q,ge=re-1;se<ge;se++,ge--)G=U[se],U[se]=U[ge],U[ge]=G;q=re}q++}else U.reverse()}function Ie(pe){var Te=pe.charCodeAt(0),U=Te>>8;return 0==U?191<Te?0:K[Te]:5==U?/[\u0591-\u05f4]/.test(pe)?1:0:6==U?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(pe)?12:/[\u0660-\u0669\u066b-\u066c]/.test(pe)?3:1642==Te?j:/[\u06f0-\u06f9]/.test(pe)?2:7:32==U&&Te<=8287?ie[255&Te]:254==U&&65136<=Te?7:4}M.L=0,M.R=1,M.EN=2,M.ON_R=3,M.AN=4,M.R_H=5,M.B=6,M.RLE=7,M.DOT="\xb7",M.doBidiReorder=function(pe,Te,U){if(pe.length<2)return{};var re=pe.split(""),se=new Array(re.length),ge=new Array(re.length),G=[];O=U?1:0,function Q(pe,Te,U,re){var se,ge,G,W=O?m:f,q=0,ce=-1,Ae=null,Ve=null,nt=[];if(!re)for(Ae=0,re=[];Ae<U;Ae++)re[Ae]=Ie(pe[Ae]);for(D=O,C=I=_=!1,Ve=0;Ve<U;Ve++){if(G=q,nt[Ve]=se=function(bt,Ct,Ot,At){var en,He,Ne,Je=Ct[At];switch(Je){case 0:case 1:_=!1;case 4:case 3:return Je;case 2:return _?3:2;case 7:return _=!0,1;case 8:return 4;case 9:return At<1||At+1>=Ct.length||2!=(en=Ot[At-1])&&3!=en||2!=(jt=Ct[At+1])&&3!=jt?4:(jt=_?3:jt)==en?jt:4;case 10:return 2==(en=0<At?Ot[At-1]:5)&&At+1<Ct.length&&2==Ct[At+1]?2:4;case j:if(0<At&&2==Ot[At-1])return 2;if(_)return 4;for(Ne=At+1,He=Ct.length;Ne<He&&Ct[Ne]==j;)Ne++;return Ne<He&&2==Ct[Ne]?2:4;case 12:for(He=Ct.length,Ne=At+1;Ne<He&&12==Ct[Ne];)Ne++;var jt;return Ne<He&&(en=Ct[Ne],(jt=1425<=(jt=bt[At])&&jt<=2303||64286==jt)&&(1==en||7==en))?1:At<1||5==(en=Ct[At-1])?4:Ot[At-1];case 5:return I=!(_=!1),O;case 6:return C=!0,4;case 13:case 14:case 16:case 17:case 15:_=!1;case N:return 4}}(pe,re,nt,Ve),G=240&(q=W[G][se]),Te[Ve]=ge=W[q&=15][5],0<G){if(16==G)for(Ae=ce;Ae<Ve;Ae++)Te[Ae]=1;ce=-1}if(W[q][6])-1==ce&&(ce=Ve);else if(-1<ce){for(Ae=ce;Ae<Ve;Ae++)Te[Ae]=ge;ce=-1}5==re[Ve]&&(Te[Ve]=0),D|=ge}if(C)for(Ae=0;Ae<U;Ae++)if(6==re[Ae]){Te[Ae]=O;for(var rt=Ae-1;0<=rt&&8==re[rt];rt--)Te[rt]=O}}(re,G,re.length,Te);for(var W=0;W<se.length;se[W]=W,W++);for(be(2,G,se),be(1,G,se),W=0;W<se.length-1;W++)3===Te[W]?G[W]=M.AN:1===G[W]&&(Te[W]>7&&Te[W]<13||4===Te[W]||Te[W]===N)?G[W]=M.ON_R:0<W&&"\u0644"===re[W-1]&&/\u0622|\u0623|\u0625|\u0627/.test(re[W])&&(G[W-1]=G[W]=M.R_H,W++);for(re[re.length-1]===M.DOT&&(G[re.length-1]=M.B),"\u202b"===re[0]&&(G[0]=M.RLE),W=0;W<se.length;W++)ge[W]=G[se[W]];return{logicalFromVisual:se,bidiLevels:ge}},M.hasBidiCharacters=function(pe,Te){for(var U=!1,re=0;re<pe.length;re++)Te[re]=Ie(pe.charAt(re)),U||1!=Te[re]&&7!=Te[re]&&3!=Te[re]||(U=!0);return U},M.getVisualFromLogicalIdx=function(pe,Te){for(var U=0;U<Te.logicalFromVisual.length;U++)if(Te.logicalFromVisual[U]==pe)return U;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(B,M,Z){"use strict";var O=B("./lib/bidiutil"),D=B("./lib/lang"),_=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/;function I(C){this.session=C,this.bidiMap={},this.currentRow=null,this.bidiUtil=O,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xb6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=_.test(C.getValue())}I.prototype.isBidiRow=function(C,f,m){return!!this.seenBidi&&(C!==this.currentRow&&(this.currentRow=C,this.updateRowLine(f,m),this.updateBidiMap()),this.bidiMap.bidiLevels)},I.prototype.onChange=function(C){this.seenBidi?this.currentRow=null:"insert"==C.action&&_.test(C.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},I.prototype.getDocumentRow=function(){var f=this.session.$screenRowCache;return f.length&&0<=(f=this.session.$getRowCacheIndex(f,this.currentRow))?this.session.$docRowCache[f]:0},I.prototype.getSplitIndex=function(){var C=0,f=this.session.$screenRowCache;if(f.length)for(var m,p=this.session.$getRowCacheIndex(f,this.currentRow);0<this.currentRow-C&&(m=this.session.$getRowCacheIndex(f,this.currentRow-C-1))===p;)p=m,C++;else C=this.currentRow;return C},I.prototype.updateRowLine=function(C,f){var m,p=(C=void 0===C?this.getDocumentRow():C)===this.session.getLength()-1?this.EOF:this.EOL,g=(this.wrapIndent=0,this.line=this.session.getLine(C),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,(!this.session.$useWrapMode||(C=this.session.$wrapData[C])&&(0<(f=void 0===f?this.getSplitIndex():f)&&C.length?(this.wrapIndent=C.indent,this.wrapOffset=this.wrapIndent*this.charWidths[O.L],this.line=f<C.length?this.line.substring(C[f-1],C[f]):this.line.substring(C[C.length-1])):this.line=this.line.substring(0,C[f]),f==C.length))&&(this.line+=this.showInvisibles?p:O.DOT),this.session),y=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(h,d){return"\t"===h||g.isFullWidth(h.charCodeAt(0))?(m="\t"===h?g.getScreenTabSize(d+y):2,y+=m-1,D.stringRepeat(O.DOT,m)):h}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==O.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},I.prototype.updateBidiMap=function(){var C=[];this.bidiMap=O.hasBidiCharacters(this.line,C)||this.isRtlDir?O.doBidiReorder(this.line,C,this.isRtlDir):{}},I.prototype.markAsDirty=function(){this.currentRow=null},I.prototype.updateCharacterWidths=function(C){var f;this.characterWidth!==C.$characterSize.width&&(this.fontMetrics=C,f=this.characterWidth=C.$characterSize.width,C=C.$measureCharWidth("\u05d4"),this.charWidths[O.L]=this.charWidths[O.EN]=this.charWidths[O.ON_R]=f,this.charWidths[O.R]=this.charWidths[O.AN]=C,this.charWidths[O.R_H]=.45*C,this.charWidths[O.B]=this.charWidths[O.RLE]=0,this.currentRow=null)},I.prototype.setShowInvisibles=function(C){this.showInvisibles=C,this.currentRow=null},I.prototype.setEolChar=function(C){this.EOL=C},I.prototype.setContentWidth=function(C){this.contentWidth=C},I.prototype.isRtlLine=function(C){return!!this.$isRtl||(null!=C?this.session.getLine(C).charAt(0)==this.RLE:this.isRtlDir)},I.prototype.setRtlDirection=function(C,f){for(var m=C.getCursorPosition(),p=C.selection.getSelectionAnchor().row;p<=m.row;p++)f||C.session.getLine(p).charAt(0)!==C.session.$bidiHandler.RLE?f&&C.session.getLine(p).charAt(0)!==C.session.$bidiHandler.RLE&&C.session.doc.insert({column:0,row:p},C.session.$bidiHandler.RLE):C.session.doc.removeInLine(p,0,1)},I.prototype.getPosLeft=function(C){C-=this.wrapIndent;var f=this.line.charAt(0)===this.RLE?1:0,m=f<C?this.session.getOverwrite()?C:C-1:f,p=O.getVisualFromLogicalIdx(m,this.bidiMap),g=this.bidiMap.bidiLevels,y=0;!this.session.getOverwrite()&&C<=f&&g[p]%2!=0&&p++;for(var h=0;h<p;h++)y+=this.charWidths[g[h]];return!this.session.getOverwrite()&&f<C&&g[p]%2==0&&(y+=this.charWidths[g[p]]),this.wrapIndent&&(y+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(y+=this.rtlLineOffset),y},I.prototype.getSelections=function(C,f){var m,p=this.bidiMap,g=p.bidiLevels,y=[],h=0,d=Math.min(C,f)-this.wrapIndent,v=Math.max(C,f)-this.wrapIndent,A=!1,E=!1,T=0;this.wrapIndent&&(h+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var F,$=0;$<g.length;$++)m=g[$],(A=d<=(F=p.logicalFromVisual[$])&&F<v)&&!E?T=h:!A&&E&&y.push({left:T,width:h-T}),h+=this.charWidths[m],E=A;if(A&&$===g.length&&y.push({left:T,width:h-T}),this.isRtlDir)for(var j=0;j<y.length;j++)y[j].left+=this.rtlLineOffset;return y},I.prototype.offsetToCol=function(m){this.isRtlDir&&(m-=this.rtlLineOffset);var f=0,p=(m=Math.max(m,0),0),g=0,y=this.bidiMap.bidiLevels,h=this.charWidths[y[g]];for(this.wrapIndent&&(m-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);p+h/2<m;){if(p+=h,g===y.length-1){h=0;break}h=this.charWidths[y[++g]]}return 0===(f=0<g&&y[g-1]%2!=0&&y[g]%2==0?(m<p&&g--,this.bidiMap.logicalFromVisual[g]):0<g&&y[g-1]%2==0&&y[g]%2!=0?1+(p<m?this.bidiMap.logicalFromVisual[g]:this.bidiMap.logicalFromVisual[g-1]):this.isRtlDir&&g===y.length-1&&0===h&&y[g-1]%2==0||!this.isRtlDir&&0===g&&y[g]%2!=0?1+this.bidiMap.logicalFromVisual[g]:(0<g&&y[g-1]%2!=0&&0!==h&&g--,this.bidiMap.logicalFromVisual[g]))&&this.isRtlDir&&f++,f+this.wrapIndent},M.BidiHandler=I}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(C,M,Z){"use strict";var O=C("./lib/oop"),D=C("./lib/lang"),_=C("./lib/event_emitter").EventEmitter,I=C("./range").Range;function f(m){this.session=m,this.doc=m.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var p=this;this.cursor.on("change",function(g){p.$cursorChanged=!0,p.$silent||p._emit("changeCursor"),p.$isEmpty||p.$silent||p._emit("changeSelection"),p.$keepDesiredColumnOnChange||g.old.column==g.value.column||(p.$desiredColumn=null)}),this.anchor.on("change",function(){p.$anchorChanged=!0,p.$isEmpty||p.$silent||p._emit("changeSelection")})}(f.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},f.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},f.prototype.getCursor=function(){return this.lead.getPosition()},f.prototype.setAnchor=function(m,p){this.$isEmpty=!1,this.anchor.setPosition(m,p)},f.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},f.prototype.getSelectionLead=function(){return this.lead.getPosition()},f.prototype.isBackwards=function(){var m=this.anchor,p=this.lead;return m.row>p.row||m.row==p.row&&m.column>p.column},f.prototype.getRange=function(){var m=this.anchor,p=this.lead;return this.$isEmpty?I.fromPoints(p,p):this.isBackwards()?I.fromPoints(p,m):I.fromPoints(m,p)},f.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},f.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},f.prototype.setRange=function(m,y){var g=y?m.end:m.start;this.$setSelection(g.row,g.column,(y=y?m.start:m.end).row,y.column)},f.prototype.$setSelection=function(m,p,g,y){var h,d;!this.$silent&&(h=this.$isEmpty,d=this.inMultiSelectMode,this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(m,p),this.cursor.setPosition(g,y),this.$isEmpty=!I.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),this.$cursorChanged||this.$anchorChanged||h!=this.$isEmpty||d)&&this._emit("changeSelection")},f.prototype.$moveSelection=function(m){var p=this.lead;this.$isEmpty&&this.setSelectionAnchor(p.row,p.column),m.call(this)},f.prototype.selectTo=function(m,p){this.$moveSelection(function(){this.moveCursorTo(m,p)})},f.prototype.selectToPosition=function(m){this.$moveSelection(function(){this.moveCursorToPosition(m)})},f.prototype.moveTo=function(m,p){this.clearSelection(),this.moveCursorTo(m,p)},f.prototype.moveToPosition=function(m){this.clearSelection(),this.moveCursorToPosition(m)},f.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},f.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},f.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},f.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},f.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},f.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},f.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},f.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},f.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},f.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},f.prototype.getWordRange=function(m,p){var g;return void 0===p&&(m=(g=m||this.lead).row,p=g.column),this.session.getWordRange(m,p)},f.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},f.prototype.selectAWord=function(){var m=this.getCursor();m=this.session.getAWordRange(m.row,m.column),this.setSelectionRange(m)},f.prototype.getLineRange=function(g,p){var y=(y=this.session.getFoldLine(g="number"==typeof g?g:this.lead.row))?(g=y.start.row,y.end.row):g;return!0===p?new I(g,0,y,this.session.getLine(y).length):new I(g,0,y+1,0)},f.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},f.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},f.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},f.prototype.wouldMoveIntoSoftTab=function(m,p,g){var y=m.column,h=m.column+p;return g<0&&(y=m.column-p,h=m.column),this.session.isTabStop(m)&&this.doc.getLine(m.row).slice(y,h).split(" ").length-1==p},f.prototype.moveCursorLeft=function(){var m,p=this.lead.getPosition();(m=this.session.getFoldAt(p.row,p.column,-1))?this.moveCursorTo(m.start.row,m.start.column):0===p.column?0<p.row&&this.moveCursorTo(p.row-1,this.doc.getLine(p.row-1).length):(m=this.session.getTabSize(),this.wouldMoveIntoSoftTab(p,m,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-m):this.moveCursorBy(0,-1))},f.prototype.moveCursorRight=function(){var m,p=this.lead.getPosition();(m=this.session.getFoldAt(p.row,p.column,1))?this.moveCursorTo(m.end.row,m.end.column):this.lead.column==this.doc.getLine(this.lead.row).length?this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0):(m=this.session.getTabSize(),this.wouldMoveIntoSoftTab(p=this.lead,m,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,m):this.moveCursorBy(0,1))},f.prototype.moveCursorLineStart=function(){var g,m=this.lead.column,p=this.session.documentToScreenRow(g=this.lead.row,m);p=this.session.screenToDocumentPosition(p,0),(g=this.session.getDisplayLine(g,null,p.row,p.column).match(/^\s*/))[0].length==m||this.session.$useEmacsStyleLineStart||(p.column+=g[0].length),this.moveCursorToPosition(p)},f.prototype.moveCursorLineEnd=function(){var m,p=this.session.getDocumentLastRowColumnPosition((p=this.lead).row,p.column);this.lead.column==p.column&&(m=this.session.getLine(p.row),p.column==m.length)&&0<(m=m.search(/\s+$/))&&(p.column=m),this.moveCursorTo(p.row,p.column)},f.prototype.moveCursorFileEnd=function(){var m=this.doc.getLength()-1,p=this.doc.getLine(m).length;this.moveCursorTo(m,p)},f.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},f.prototype.moveCursorLongWordRight=function(){var m=this.lead.row,p=this.lead.column,g=this.doc.getLine(m),y=g.substring(p),h=(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.getFoldAt(m,p,1));h?this.moveCursorTo(h.end.row,h.end.column):(this.session.nonTokenRe.exec(y)&&(p+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,y=g.substring(p)),p>=g.length?(this.moveCursorTo(m,g.length),this.moveCursorRight(),m<this.doc.getLength()-1&&this.moveCursorWordRight()):(this.session.tokenRe.exec(y)&&(p+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(m,p)))},f.prototype.moveCursorLongWordLeft=function(){var m,p=this.lead.row,g=this.lead.column;(m=this.session.getFoldAt(p,g,-1))?this.moveCursorTo(m.start.row,m.start.column):(null==(m=this.session.getFoldStringAt(p,g,-1))&&(m=this.doc.getLine(p).substring(0,g)),m=D.stringReverse(m),this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(m)&&(g-=this.session.nonTokenRe.lastIndex,m=m.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),g<=0?(this.moveCursorTo(p,0),this.moveCursorLeft(),0<p&&this.moveCursorWordLeft()):(this.session.tokenRe.exec(m)&&(g-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(p,g)))},f.prototype.$shortWordEndIndex=function(m){var p,g=0,y=/\s/,h=this.session.tokenRe;if(h.lastIndex=0,this.session.tokenRe.exec(m))g=this.session.tokenRe.lastIndex;else{for(;(p=m[g])&&y.test(p);)g++;if(g<1)for(h.lastIndex=0;(p=m[g])&&!h.test(p);)if(h.lastIndex=0,g++,y.test(p)){if(2<g){g--;break}for(;(p=m[g])&&y.test(p);)g++;if(2<g)break}}return h.lastIndex=0,g},f.prototype.moveCursorShortWordRight=function(){var m=this.lead.row,p=this.lead.column,g=this.doc.getLine(m),y=g.substring(p),h=this.session.getFoldAt(m,p,1);if(h)return this.moveCursorTo(h.end.row,h.end.column);if(p==g.length){for(var d=this.doc.getLength();y=this.doc.getLine(++m),m<d&&/^\s*$/.test(y););/^\s+/.test(y)||(y=""),p=0}h=this.$shortWordEndIndex(y),this.moveCursorTo(m,p+h)},f.prototype.moveCursorShortWordLeft=function(){var m=this.lead.row,p=this.lead.column;if(y=this.session.getFoldAt(m,p,-1))return this.moveCursorTo(y.start.row,y.start.column);var g=this.session.getLine(m).substring(0,p);if(0===p){for(;g=this.doc.getLine(--m),0<m&&/^\s*$/.test(g););p=g.length,/\s+$/.test(g)||(g="")}var y=D.stringReverse(g);return y=this.$shortWordEndIndex(y),this.moveCursorTo(m,p-y)},f.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},f.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},f.prototype.moveCursorBy=function(m,p){var g,y=this.session.documentToScreenPosition(this.lead.row,this.lead.column),h=(0===p&&(0!==m&&(this.session.$bidiHandler.isBidiRow(y.row,this.lead.row)?(g=this.session.$bidiHandler.getPosLeft(y.column),y.column=Math.round(g/this.session.$bidiHandler.charWidths[0])):g=y.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?y.column=this.$desiredColumn:this.$desiredColumn=y.column),0!=m&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]&&(h=this.session.lineWidgets[this.lead.row],m<0?m-=h.rowsAbove||0:0<m&&(m+=h.rowCount-(h.rowsAbove||0))),this.session.screenToDocumentPosition(y.row+m,y.column,g));this.moveCursorTo(h.row,h.column+p,0===p)},f.prototype.moveCursorToPosition=function(m){this.moveCursorTo(m.row,m.column)},f.prototype.moveCursorTo=function(m,p,g){var y=((y=this.session.getFoldAt(m,p,1))&&(m=y.start.row,p=y.start.column),this.$keepDesiredColumnOnChange=!0,this.session.getLine(m));/[\uDC00-\uDFFF]/.test(y.charAt(p))&&y.charAt(p-1)&&(this.lead.row==m&&this.lead.column==p+1?p-=1:p+=1),this.lead.setPosition(m,p),this.$keepDesiredColumnOnChange=!1,g||(this.$desiredColumn=null)},f.prototype.moveCursorToScreen=function(m,p,g){m=this.session.screenToDocumentPosition(m,p),this.moveCursorTo(m.row,m.column,g)},f.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},f.prototype.fromOrientedRange=function(m){this.setSelectionRange(m,m.cursor==m.start),this.$desiredColumn=m.desiredColumn||this.$desiredColumn},f.prototype.toOrientedRange=function(m){var p=this.getRange();return m?(m.start.column=p.start.column,m.start.row=p.start.row,m.end.column=p.end.column,m.end.row=p.end.row):m=p,m.cursor=this.isBackwards()?m.start:m.end,m.desiredColumn=this.$desiredColumn,m},f.prototype.getRangeOfMovements=function(m){var p=this.getCursor();try{m(this);var g=this.getCursor();return I.fromPoints(p,g)}catch{return I.fromPoints(p,p)}finally{this.moveCursorToPosition(p)}},f.prototype.toJSON=function(){var m;return this.rangeCount?m=this.ranges.map(function(p){var g=p.clone();return g.isBackwards=p.cursor==p.start,g}):(m=this.getRange()).isBackwards=this.isBackwards(),m},f.prototype.fromJSON=function(m){if(null==m.start){if(this.rangeList&&1<m.length){this.toSingleRange(m[0]);for(var p=m.length;p--;){var g=I.fromPoints(m[p].start,m[p].end);m[p].isBackwards&&(g.cursor=g.start),this.addRange(g,!0)}return}m=m[0]}this.rangeList&&this.toSingleRange(m),this.setSelectionRange(m,m.isBackwards)},f.prototype.isEqual=function(m){if((m.length||this.rangeCount)&&m.length!=this.rangeCount)return!1;if(!m.length||!this.ranges)return this.getRange().isEqual(m);for(var p=this.ranges.length;p--;)if(!this.ranges[p].isEqual(m[p]))return!1;return!0},C=f).prototype.setSelectionAnchor=C.prototype.setAnchor,C.prototype.getSelectionAnchor=C.prototype.getAnchor,C.prototype.setSelectionRange=C.prototype.setRange,O.implement(C.prototype,_),M.Selection=C}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(O,M,Z){"use strict";O=O("./lib/report_error").reportError;var D=2e3,_=(I.prototype.$setMaxTokenCount=function(C){D=0|C},I.prototype.$applyToken=function(C){var f=this.splitRegex.exec(C).slice(1),m=this.token.apply(this,f);if("string"==typeof m)return[{type:m,value:C}];for(var p=[],g=0,y=m.length;g<y;g++)f[g]&&(p[p.length]={type:m[g],value:f[g]});return p},I.prototype.$arrayTokens=function(C){if(!C)return[];var f=this.splitRegex.exec(C);if(!f)return"text";for(var m=[],p=this.tokenArray,g=0,y=p.length;g<y;g++)f[g+1]&&(m[m.length]={type:p[g],value:f[g+1]});return m},I.prototype.removeCapturingGroups=function(C){return C.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(f,m){return m?"(?:":f})},I.prototype.createSplitterRegexp=function(C,f){var m,p,g;return"$"!=(C="^"!=(C=-1!=C.indexOf("(?=")&&(m=0,p=!1,g={},C.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(y,h,d,v,A,E){return p?p="]"!=A:A?p=!0:v?(m==g.stack&&(g.end=E+1,g.stack=-1),m--):d&&(m++,1!=d.length)&&(g.stack=m,g.start=E),y}),null!=g.end)&&/^\)*$/.test(C.substr(g.end))?C.substring(0,g.start)+C.substr(g.end):C).charAt(0)?"^"+C:C).charAt(C.length-1)&&(C+="$"),new RegExp(C,(f||"").replace("g",""))},I.prototype.getLineTokens=function(C,f){f&&"string"!=typeof f?"#tmp"===(f=(m=f.slice(0))[0])&&(m.shift(),f=m.shift()):m=[];for(var m,p,g=f||"start",y=(y=this.states[g])||this.states[g="start"],h=this.matchMappings[g],d=this.regExps[g],v=[],A=d.lastIndex=0,E=0,T={type:null,value:""};p=d.exec(C);){var F,$=h.defaultToken,j=null,te=p[0],Y=d.lastIndex;Y-te.length>A&&(F=C.substring(A,Y-te.length),T.type==$?T.value+=F:(T.type&&v.push(T),T={type:$,value:F}));for(var ae=0;ae<p.length-2;ae++)if(void 0!==p[ae+1]){$=(j=y[h[ae]]).onMatch?j.onMatch(te,g,m,C):j.token,j.next&&(g="string"==typeof j.next?j.next:j.next(g,m),(y=this.states[g])||(this.reportError("state doesn't exist",g),y=this.states[g="start"]),h=this.matchMappings[g],(d=this.regExps[g]).lastIndex=A=Y),j.consumeLineEnd&&(A=Y);break}if(te)if("string"==typeof $)j&&!1===j.merge||T.type!==$?(T.type&&v.push(T),T={type:$,value:te}):T.value+=te;else if($)for(T.type&&v.push(T),T={type:null,value:""},ae=0;ae<$.length;ae++)v.push($[ae]);if(A==C.length)break;if(A=Y,E++>D){for(E>2*C.length&&this.reportError("infinite loop with in ace tokenizer",{startState:f,line:C});A<C.length;)T.type&&v.push(T),T={value:C.substring(A,A+=500),type:"overflow"};g="start",m=[];break}}return T.type&&v.push(T),1<m.length&&m[0]!==g&&m.unshift("#tmp",g),{tokens:v,state:m.length?m:g}},I);function I(C){for(var f in this.states=C,this.regExps={},this.matchMappings={},this.states){for(var m=this.states[f],p=[],g=0,y=this.matchMappings[f]={defaultToken:"text"},h="g",d=[],v=0;v<m.length;v++){var A,E,T=m[v];T.defaultToken&&(y.defaultToken=T.defaultToken),T.caseInsensitive&&-1===h.indexOf("i")&&(h+="i"),T.unicode&&-1===h.indexOf("u")&&(h+="u"),null==T.regex||(T.regex instanceof RegExp&&(T.regex=T.regex.toString().slice(1,-1)),A=T.regex,E=new RegExp("(?:("+A+")|(.))").exec("a").length-2,Array.isArray(T.token)?1==T.token.length||1==E?T.token=T.token[0]:E-1!=T.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:T,groupCount:E-1}),T.token=T.token[0]):(T.tokenArray=T.token,T.token=null,T.onMatch=this.$arrayTokens):"function"!=typeof T.token||T.onMatch||(T.onMatch=1<E?this.$applyToken:T.token),1<E&&(A=/\\\d/.test(T.regex)?T.regex.replace(/\\([0-9]+)/g,function(F,$){return"\\"+(parseInt($,10)+g+1)}):(E=1,this.removeCapturingGroups(T.regex)),T.splitRegex||"string"==typeof T.token||d.push(T)),y[g]=v,g+=E,p.push(A),T.onMatch)||(T.onMatch=null)}p.length||(y[0]=0,p.push("$")),d.forEach(function(F){F.splitRegex=this.createSplitterRegexp(F.regex,h)},this),this.regExps[f]=new RegExp("("+p.join(")|(")+")|($)",h)}}_.prototype.reportError=O,M.Tokenizer=_}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(B,M,Z){"use strict";function O(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}}var D=B("../lib/deep_copy").deepCopy;(function(){function _(C,f){return"start"==C&&!f.length||f.unshift(this.nextState,C),this.nextState}function I(C,f){return f.shift(),f.shift()||"start"}this.addRules=function(C,f){if(f)for(var m in C){for(var p=C[m],g=0;g<p.length;g++){var y=p[g];(y.next||y.onMatch)&&("string"==typeof y.next&&0!==y.next.indexOf(f)&&(y.next=f+y.next),y.nextState)&&0!==y.nextState.indexOf(f)&&(y.nextState=f+y.nextState)}this.$rules[f+m]=p}else for(var m in C)this.$rules[m]=C[m]},this.getRules=function(){return this.$rules},this.embedRules=function(C,f,m,p,g){if(C="function"==typeof C?(new C).getRules():C,p)for(var y=0;y<p.length;y++)p[y]=f+p[y];else for(var h in p=[],C)p.push(f+h);if(this.addRules(C,f),m){var d=Array.prototype[g?"push":"unshift"];for(y=0;y<p.length;y++)d.apply(this.$rules[p[y]],D(m))}this.$embeds||(this.$embeds=[]),this.$embeds.push(f)},this.getEmbeds=function(){return this.$embeds},this.normalizeRules=function(){var C=0,f=this.$rules;Object.keys(f).forEach(function m(p){var g=f[p];g.processed=!0;for(var y=0;y<g.length;y++){var h=g[y],d=null,v=(Array.isArray(h)&&(d=h,h={}),!h.regex&&h.start&&(h.regex=h.start,h.next||(h.next=[]),h.next.push({defaultToken:h.token},{token:h.token+".end",regex:h.end||h.start,next:"pop"}),h.token=h.token+".start",h.push=!0),h.next||h.push);if(v&&Array.isArray(v)?((E=h.stateName)||("string"!=typeof(E=h.token)&&(E=E[0]||""),f[E]&&(E+=C++)),f[E]=v,m(h.next=E)):"pop"==v&&(h.next=I),h.push&&(h.nextState=h.next||h.push,h.next=_,delete h.push),h.rules)for(var A in h.rules)f[A]?f[A].push&&f[A].push.apply(f[A],h.rules[A]):f[A]=h.rules[A];var E="string"==typeof h?h:h.include;E&&("$self"===E&&(E="start"),d=Array.isArray(E)?E.map(function(T){return f[T]}):f[E]),d&&(v=[y,1].concat(d),h.noEscape&&(v=v.filter(function(T){return!T.next})),g.splice.apply(g,v),y--),h.keywordMap&&(h.token=this.createKeywordMapper(h.keywordMap,h.defaultToken||"text",h.caseInsensitive),delete h.defaultToken)}},this)},this.createKeywordMapper=function(C,f,m,p){var g=Object.create(null);return this.$keywordList=[],Object.keys(C).forEach(function(y){for(var h=C[y].split(p||"|"),d=h.length;d--;){var v=h[d];this.$keywordList.push(v),m&&(v=v.toLowerCase()),g[v]=y}},this),C=null,m?function(y){return g[y.toLowerCase()]||f}:function(y){return g[y]||f}},this.getKeywords=function(){return this.$keywords}}).call(O.prototype),M.TextHighlightRules=O}),ace.define("ace/mode/behaviour",["require","exports","module"],function(B,M,Z){"use strict";function O(){this.$behaviours={}}(function(){this.add=function(D,_,I){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[D]:this.$behaviours[D]={}}this.$behaviours[D][_]=I},this.addBehaviours=function(D){for(var _ in D)for(var I in D[_])this.add(_,I,D[_][I])},this.remove=function(D){this.$behaviours&&this.$behaviours[D]&&delete this.$behaviours[D]},this.inherit=function(D,_){D=("function"==typeof D?new D:D).getBehaviours(_),this.addBehaviours(D)},this.getBehaviours=function(D){if(D){for(var _={},I=0;I<D.length;I++)this.$behaviours[D[I]]&&(_[D[I]]=this.$behaviours[D[I]]);return _}return this.$behaviours}}).call(O.prototype),M.Behaviour=O}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(B,M,Z){"use strict";var O=B("./range").Range;function D(_,I,C){this.$session=_,this.$row=I,this.$rowTokens=_.getTokens(I),_=_.getTokenAt(I,C),this.$tokenIndex=_?_.index:-1}D.prototype.stepBackward=function(){for(--this.$tokenIndex;this.$tokenIndex<0;){if(--this.$row,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},D.prototype.stepForward=function(){var _;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,_=_||this.$session.getLength(),this.$row>=_)return this.$row=_-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},D.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},D.prototype.getCurrentTokenRow=function(){return this.$row},D.prototype.getCurrentTokenColumn=function(){var _=this.$rowTokens,I=this.$tokenIndex,C=_[I].start;if(void 0===C)for(C=0;0<I;)C+=_[--I].value.length;return C},D.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},D.prototype.getCurrentTokenRange=function(){var _=this.$rowTokens[this.$tokenIndex],I=this.getCurrentTokenColumn();return new O(this.$row,I,this.$row,I+_.value.length)},M.TokenIterator=D}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(B,M,Z){"use strict";function O(v){var A=-1;if((h=v.multiSelect&&(A=v.selection.index,h.rangeCount!=v.multiSelect.rangeCount)?{rangeCount:v.multiSelect.rangeCount}:h)[A])return I=h[A];I=h[A]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}}function D(v,A,E,T){var F=v.end.row-v.start.row;return{text:E+A+T,selection:[0,v.start.column+1,F,v.end.column+(F?0:1)]}}function _(v){v=v||{},this.add("braces","insertion",function(A,E,T,F,$){var j=T.getCursorPosition(),te=F.doc.getLine(j.row);if("{"==$)return O(T),ae=T.getSelectionRange(),""!==(S=F.doc.getTextRange(ae))&&"{"!==S&&T.getWrapBehavioursEnabled()?D(ae,S,"{","}"):_.isSaneInsertion(T,F)?/[\]\}\)]/.test(te[j.column])||T.inMultiSelectMode||v.braces?(_.recordAutoInsert(T,F,"}"),{text:"{}",selection:[1,1]}):(_.recordMaybeInsert(T,F,"{"),{text:"{",selection:[1,1]}):void 0;if("}"==$){O(T);var Y=te.substring(j.column,j.column+1);if("}"==Y&&null!==F.$findOpeningBracket("}",{column:j.column+1,row:j.row})&&_.isAutoInsertedClosing(j,te,$))return _.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==$||"\r\n"==$){O(T);var ae="";if(_.isMaybeInsertedClosing(j,te)&&(ae=p.stringRepeat("}",I.maybeInsertedBrackets),_.clearMaybeInsertedClosing()),"}"===(Y=te.substring(j.column,j.column+1))){var S=F.findMatchingBracket({row:j.row,column:j.column+1},"}");if(!S)return null;var R=this.$getIndent(F.getLine(S.row))}else{if(!ae)return void _.clearMaybeInsertedClosing();R=this.$getIndent(te)}return{text:"\n"+($=R+F.getTabString())+"\n"+R+ae,selection:[1,$.length,1,$.length]}}_.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(A,E,T,F,$){var j=F.doc.getTextRange($);if(!$.isMultiLine()&&"{"==j){if(O(T),"}"==F.doc.getLine($.start.row).substring($.end.column,$.end.column+1))return $.end.column++,$;I.maybeInsertedBrackets--}}),this.add("parens","insertion",function(A,E,T,F,$){if("("==$)return O(T),j=T.getSelectionRange(),""!==(te=F.doc.getTextRange(j))&&T.getWrapBehavioursEnabled()?D(j,te,"(",")"):_.isSaneInsertion(T,F)?(_.recordAutoInsert(T,F,")"),{text:"()",selection:[1,1]}):void 0;if(")"==$){O(T);var j=T.getCursorPosition(),te=F.doc.getLine(j.row);if(")"==(T=te.substring(j.column,j.column+1))&&null!==F.$findOpeningBracket(")",{column:j.column+1,row:j.row})&&_.isAutoInsertedClosing(j,te,$))return _.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(A,E,T,F,$){var j=F.doc.getTextRange($);if(!$.isMultiLine()&&"("==j&&(O(T),")"==F.doc.getLine($.start.row).substring($.start.column+1,$.start.column+2)))return $.end.column++,$}),this.add("brackets","insertion",function(A,E,T,F,$){if("["==$)return O(T),j=T.getSelectionRange(),""!==(te=F.doc.getTextRange(j))&&T.getWrapBehavioursEnabled()?D(j,te,"[","]"):_.isSaneInsertion(T,F)?(_.recordAutoInsert(T,F,"]"),{text:"[]",selection:[1,1]}):void 0;if("]"==$){O(T);var j=T.getCursorPosition(),te=F.doc.getLine(j.row);if("]"==(T=te.substring(j.column,j.column+1))&&null!==F.$findOpeningBracket("]",{column:j.column+1,row:j.row})&&_.isAutoInsertedClosing(j,te,$))return _.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(A,E,T,F,$){var j=F.doc.getTextRange($);if(!$.isMultiLine()&&"["==j&&(O(T),"]"==F.doc.getLine($.start.row).substring($.start.column+1,$.start.column+2)))return $.end.column++,$}),this.add("string_dquotes","insertion",function(A,E,T,F,$){var j=F.$mode.$quotes||d;if(1==$.length&&j[$]&&(!this.lineCommentStart||-1==this.lineCommentStart.indexOf($))){O(T);var te=T.getSelectionRange();if(!(""===(Y=F.doc.getTextRange(te))||1==Y.length&&j[Y])&&T.getWrapBehavioursEnabled())return D(te,Y,$,$);if(!Y){j=T.getCursorPosition();var Y=(te=F.doc.getLine(j.row)).substring(j.column-1,j.column),R=(T=te.substring(j.column,j.column+1),F.getTokenAt(j.row,j.column)),ae=F.getTokenAt(j.row,j.column+1);if("\\"==Y&&R&&/escape/.test(R.type))return null;R=R&&/string|escape/.test(R.type);var S,X=!ae||/string|escape/.test(ae.type);if(T==$)(S=R!==X)&&/string\.end/.test(ae.type)&&(S=!1);else{if(R&&!X||R&&X||((ae=F.$mode.tokenRe).lastIndex=0,R=ae.test(Y),ae.lastIndex=0,X=ae.test(T),!((F=F.$mode.$pairQuotesAfter)&&F[$]&&F[$].test(Y))&&R||X)||T&&!/[\s;,.})\]\\]/.test(T)||(F=te[j.column-2],Y==$&&(F==$||ae.test(F))))return null;S=!0}return{text:S?$+$:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(A,E,T,F,$){var j=F.$mode.$quotes||d,te=F.doc.getTextRange($);if(!$.isMultiLine()&&j.hasOwnProperty(te)&&(O(T),F.doc.getLine($.start.row).substring($.start.column+1,$.start.column+2)==te))return $.end.column++,$}),!1!==v.closeDocComment&&this.add("doc comment end","insertion",function(A,E,T,F,$){var j;if("doc-start"===A&&("\n"===$||"\r\n"===$)&&T.selection.isEmpty())return A=T.getCursorPosition(),T=F.doc.getLine(A.row),F=F.doc.getLine(A.row+1),j=this.$getIndent(T),/\s*\*/.test(F)?/^\s*\*/.test(T)?{text:$+j+"* ",selection:[1,3+j.length,1,3+j.length]}:{text:$+j+" * ",selection:[1,3+j.length,1,3+j.length]}:/\/\*\*/.test(T.substring(0,A.column))?{text:$+j+" * "+$+" "+j+"*/",selection:[1,4+j.length,1,4+j.length]}:void 0})}var I,C=B("../../lib/oop"),f=B("../behaviour").Behaviour,m=B("../../token_iterator").TokenIterator,p=B("../../lib/lang"),g=["text","paren.rparen","rparen","paren","punctuation.operator"],y=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],h={},d={'"':'"',"'":"'"};_.isSaneInsertion=function(v,A){var E=v.getCursorPosition(),T=new m(A,E.row,E.column);if(!this.$matchTokenType(T.getCurrentToken()||"text",g)){if(/[)}\]]/.test(v.session.getLine(E.row)[E.column]))return!0;if(v=new m(A,E.row,E.column+1),!this.$matchTokenType(v.getCurrentToken()||"text",g))return!1}return T.stepForward(),T.getCurrentTokenRow()!==E.row||this.$matchTokenType(T.getCurrentToken()||"text",y)},_.$matchTokenType=function(v,A){return-1<A.indexOf(v.type||v)},_.recordAutoInsert=function(v,A,E){v=v.getCursorPosition(),A=A.doc.getLine(v.row),this.isAutoInsertedClosing(v,A,I.autoInsertedLineEnd[0])||(I.autoInsertedBrackets=0),I.autoInsertedRow=v.row,I.autoInsertedLineEnd=E+A.substr(v.column),I.autoInsertedBrackets++},_.recordMaybeInsert=function(v,A,E){v=v.getCursorPosition(),A=A.doc.getLine(v.row),this.isMaybeInsertedClosing(v,A)||(I.maybeInsertedBrackets=0),I.maybeInsertedRow=v.row,I.maybeInsertedLineStart=A.substr(0,v.column)+E,I.maybeInsertedLineEnd=A.substr(v.column),I.maybeInsertedBrackets++},_.isAutoInsertedClosing=function(v,A,E){return 0<I.autoInsertedBrackets&&v.row===I.autoInsertedRow&&E===I.autoInsertedLineEnd[0]&&A.substr(v.column)===I.autoInsertedLineEnd},_.isMaybeInsertedClosing=function(v,A){return 0<I.maybeInsertedBrackets&&v.row===I.maybeInsertedRow&&A.substr(v.column)===I.maybeInsertedLineEnd&&A.substr(0,v.column)==I.maybeInsertedLineStart},_.popAutoInsertedClosing=function(){I.autoInsertedLineEnd=I.autoInsertedLineEnd.substr(1),I.autoInsertedBrackets--},_.clearMaybeInsertedClosing=function(){I&&(I.maybeInsertedBrackets=0,I.maybeInsertedRow=-1)},C.inherits(_,f),M.CstyleBehaviour=_}),ace.define("ace/unicode",["require","exports","module"],function(B,M,Z){"use strict";for(var O=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],D=0,_=[],I=0;I<O.length;I+=2)_.push(D+=O[I]),O[I+1]&&_.push(45,D+=O[I+1]);M.wordChars=String.fromCharCode.apply(null,_)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(B,M,Z){"use strict";function O(){this.HighlightRules=I}var D=B("../config"),_=B("../tokenizer").Tokenizer,I=B("./text_highlight_rules").TextHighlightRules,C=B("./behaviour/cstyle").CstyleBehaviour,f=B("../unicode"),m=B("../lib/lang"),p=B("../token_iterator").TokenIterator,g=B("../range").Range;(function(){this.$defaultBehaviour=new C,this.tokenRe=new RegExp("^["+f.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+f.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new _(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(y,h,d,v){var A=h.doc,E=!0,T=!0,F=1/0,$=h.getTabSize(),j=!1;if(this.lineCommentStart){X=Array.isArray(this.lineCommentStart)?(K=this.lineCommentStart.map(m.escapeRegExp).join("|"),this.lineCommentStart[0]):(K=m.escapeRegExp(this.lineCommentStart),this.lineCommentStart),K=new RegExp("^(\\s*)(?:"+K+") ?"),j=h.getUseSoftTabs();var te=function(Ie,pe){var Te,U,re=Ie.match(K);re&&(R(Ie,Te=re[1].length,U=re[0].length)||" "!=re[0][U-1]||U--,A.removeInLine(pe,Te,U))},Y=X+" ",ae=function(Ie,pe){E&&!/\S/.test(Ie)||(R(Ie,F,F)?A.insertInLine({row:pe,column:F},Y):A.insertInLine({row:pe,column:F},X))},S=function(Ie,pe){return K.test(Ie)},R=function(Ie,pe,Te){for(var U=0;pe--&&" "==Ie.charAt(pe);)U++;if(U%$!=0)return!1;for(U=0;" "==Ie.charAt(Te++);)U++;return 2<$?U%$!=$-1:U%$==0}}else{if(!this.blockComment)return!1;var X=this.blockComment.start,N=this.blockComment.end,K=new RegExp("^(\\s*)(?:"+m.escapeRegExp(X)+")"),ie=new RegExp("(?:"+m.escapeRegExp(N)+")\\s*$");ae=function(U,re){S(U,re)||E&&!/\S/.test(U)||(A.insertInLine({row:re,column:U.length},N),A.insertInLine({row:re,column:F},X))},te=function(U,re){var se;(se=U.match(ie))&&A.removeInLine(re,U.length-se[0].length,U.length),(se=U.match(K))&&A.removeInLine(re,se[1].length,se[0].length)},S=function(U,re){if(K.test(U))return!0;for(var se=h.getTokens(re),ge=0;ge<se.length;ge++)if("comment"===se[ge].type)return!0}}function Q(Ie){for(var pe=d;pe<=v;pe++)Ie(A.getLine(pe),pe)}var be=1/0;Q(function(Ie,pe){var Te=Ie.search(/\S/);-1!==Te?(Te<F&&(F=Te),T&&!S(Ie,pe)&&(T=!1)):be>Ie.length&&(be=Ie.length)}),F==1/0&&(F=be,T=E=!1),j&&F%$!=0&&(F=Math.floor(F/$)*$),Q(T?te:ae)},this.toggleBlockComment=function(y,h,d,v){var A=this.blockComment;if(A){!A.start&&A[0]&&(A=A[0]);var E,T,F=(ae=new p(h,v.row,v.column)).getCurrentToken(),$=h.selection.toOrientedRange();if(F&&/comment/.test(F.type)){for(;F&&/comment/.test(F.type);){if(-1!=(S=F.value.indexOf(A.start))){var j=ae.getCurrentTokenRow(),te=ae.getCurrentTokenColumn()+S,Y=new g(j,te,j,te+A.start.length);break}F=ae.stepBackward()}var ae,S;for(F=(ae=new p(h,v.row,v.column)).getCurrentToken();F&&/comment/.test(F.type);){if(-1!=(S=F.value.indexOf(A.end))){j=ae.getCurrentTokenRow(),te=ae.getCurrentTokenColumn()+S;var R=new g(j,te,j,te+A.end.length);break}F=ae.stepForward()}R&&h.remove(R),Y&&(h.remove(Y),E=Y.start.row,T=-A.start.length)}else T=A.start.length,E=d.start.row,h.insert(d.end,A.end),h.insert(d.start,A.start);$.start.row==E&&($.start.column+=T),$.end.row==E&&($.end.column+=T),h.selection.fromOrientedRange($)}},this.getNextLineIndent=function(y,h,d){return this.$getIndent(h)},this.checkOutdent=function(y,h,d){return!1},this.autoOutdent=function(y,h,d){},this.$getIndent=function(y){return y.match(/^\s*/)[0]},this.createWorker=function(y){return null},this.createModeDelegates=function(y){for(var h in this.$embeds=[],this.$modes={},y){var d,v,A;y[h]&&(v=(d=y[h]).prototype.$id,(A=D.$modes[v])||(D.$modes[v]=A=new d),D.$modes[h]||(D.$modes[h]=A),this.$embeds.push(h),this.$modes[h]=A)}var E=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(h=0;h<E.length;h++)!function(F){var $=E[h],j=F[$];F[E[h]]=function(){return this.$delegator($,arguments,j)}}(this)},this.$delegator=function(y,h,d){var v=h[0]||"start";if("string"!=typeof v){if(Array.isArray(v[2])){var A=v[2][v[2].length-1];if(T=this.$modes[A])return T[y].apply(T,[v[1]].concat([].slice.call(h,1)))}v=v[0]||"start"}for(var E=0;E<this.$embeds.length;E++)if(this.$modes[this.$embeds[E]]){var T,F=v.split(this.$embeds[E]);if(!F[0]&&F[1])return h[0]=F[1],(T=this.$modes[this.$embeds[E]])[y].apply(T,h)}return A=d.apply(this,h),d?A:void 0},this.transformAction=function(y,h,d,v,A){if(this.$behaviour){var E,T=this.$behaviour.getBehaviours();for(E in T)if(T[E][h]){var F=T[E][h].apply(this,arguments);if(F)return F}}},this.getKeywords=function(y){if(!this.completionKeywords){var h=this.$tokenizer.rules,d=[];for(T in h)for(var v=h[T],A=0,E=v.length;A<E;A++)if("string"==typeof v[A].token)/keyword|support|storage/.test(v[A].token)&&d.push(v[A].regex);else if("object"==typeof v[A].token)for(var T,F=0,$=v[A].token.length;F<$;F++)/keyword|support|storage/.test(v[A].token[F])&&(T=v[A].regex.match(/\(.+?\)/g)[F],d.push(T.substr(1,T.length-2)));this.completionKeywords=d}return y?d.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(y,h,d,v){return(this.$keywordList||this.$createKeywordList()).map(function(A){return{name:A,value:A,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(O.prototype),M.Mode=O}),ace.define("ace/apply_delta",["require","exports","module"],function(B,M,Z){"use strict";M.applyDelta=function(O,D,_){var I=D.start.row,C=D.start.column,f=O[I]||"";switch(D.action){case"insert":1===D.lines.length?O[I]=f.substring(0,C)+D.lines[0]+f.substring(C):(m=[I,1].concat(D.lines),O.splice.apply(O,m),O[I]=f.substring(0,C)+O[I],O[I+D.lines.length-1]+=f.substring(C));break;case"remove":var m=D.end.column,p=D.end.row;I===p?O[I]=f.substring(0,C)+f.substring(m):O.splice(I,p-I+1,f.substring(0,C)+O[p].substring(m))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(D,M,Z){"use strict";var O=D("./lib/oop"),_=(D=D("./lib/event_emitter").EventEmitter,I.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},I.prototype.getDocument=function(){return this.document},I.prototype.onChange=function(f){var m,p,g,y,h,d,v;f.start.row==f.end.row&&f.start.row!=this.row||f.start.row>this.row||(y=((v="insert"==(m=f).action)?1:-1)*(m.end.row-m.start.row),h=(v?1:-1)*(m.end.column-m.start.column),d=m.start,v=v?d:m.end,f=C(p={row:this.row,column:this.column},d,g=this.$insertRight)?{row:p.row,column:p.column}:C(v,p,!g)?{row:p.row+y,column:p.column+(p.row==v.row?h:0)}:{row:d.row,column:d.column},this.setPosition(f.row,f.column,!0))},I.prototype.setPosition=function(f,m,p){p=p?{row:f,column:m}:this.$clipPositionToDocument(f,m),this.row==p.row&&this.column==p.column||(f={row:this.row,column:this.column},this.row=p.row,this.column=p.column,this._signal("change",{old:f,value:p}))},I.prototype.detach=function(){this.document.off("change",this.$onChange)},I.prototype.attach=function(f){this.document=f||this.document,this.document.on("change",this.$onChange)},I.prototype.$clipPositionToDocument=function(f,m){var p={};return f>=this.document.getLength()?(p.row=Math.max(0,this.document.getLength()-1),p.column=this.document.getLine(p.row).length):f<0?(p.row=0,p.column=0):(p.row=f,p.column=Math.min(this.document.getLine(p.row).length,Math.max(0,m))),m<0&&(p.column=0),p},I);function I(f,m,p){this.$onChange=this.onChange.bind(this),this.attach(f),void 0===p?this.setPosition(m.row,m.column):this.setPosition(m,p)}function C(f,m,p){return p=p?f.column<=m.column:f.column<m.column,f.row<m.row||f.row==m.row&&p}_.prototype.$insertRight=!1,O.implement(_.prototype,D),M.Anchor=_}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(f,M,Z){"use strict";var O=f("./lib/oop"),D=f("./apply_delta").applyDelta,_=f("./lib/event_emitter").EventEmitter,I=f("./range").Range,C=f("./anchor").Anchor;function m(p){this.$lines=[""],0===p.length?this.$lines=[""]:Array.isArray(p)?this.insertMergedLines({row:0,column:0},p):this.insert({row:0,column:0},p)}(m.prototype.setValue=function(p){var g=this.getLength()-1;this.remove(new I(0,0,g,this.getLine(g).length)),this.insert({row:0,column:0},p||"")},m.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},m.prototype.createAnchor=function(p,g){return new C(this,p,g)},m.prototype.$detectNewLine=function(p){p=p.match(/^.*?(\r\n|\r|\n)/m),this.$autoNewLine=p?p[1]:"\n",this._signal("changeNewLineMode")},m.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},m.prototype.setNewLineMode=function(p){this.$newLineMode!==p&&(this.$newLineMode=p,this._signal("changeNewLineMode"))},m.prototype.getNewLineMode=function(){return this.$newLineMode},m.prototype.isNewLine=function(p){return"\r\n"==p||"\r"==p||"\n"==p},m.prototype.getLine=function(p){return this.$lines[p]||""},m.prototype.getLines=function(p,g){return this.$lines.slice(p,g+1)},m.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},m.prototype.getLength=function(){return this.$lines.length},m.prototype.getTextRange=function(p){return this.getLinesForRange(p).join(this.getNewLineCharacter())},m.prototype.getLinesForRange=function(p){var g,y;return p.start.row===p.end.row?g=[this.getLine(p.start.row).substring(p.start.column,p.end.column)]:((g=this.getLines(p.start.row,p.end.row))[0]=(g[0]||"").substring(p.start.column),p.end.row-p.start.row==(y=g.length-1)&&(g[y]=g[y].substring(0,p.end.column))),g},m.prototype.insertLines=function(p,g){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(p,g)},m.prototype.removeLines=function(p,g){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(p,g)},m.prototype.insertNewLine=function(p){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(p,["",""])},m.prototype.insert=function(p,g){return this.getLength()<=1&&this.$detectNewLine(g),this.insertMergedLines(p,this.$split(g))},m.prototype.insertInLine=function(h,g){var y=this.clippedPos(h.row,h.column);return h=this.pos(h.row,h.column+g.length),this.applyDelta({start:y,end:h,action:"insert",lines:[g]},!0),this.clonePos(h)},m.prototype.clippedPos=function(p,g){var y=this.getLength();return void 0===p?p=y:p<0?p=0:y<=p&&(p=y-1,g=void 0),y=this.getLine(p),null==g&&(g=y.length),{row:p,column:g=Math.min(Math.max(g,0),y.length)}},m.prototype.clonePos=function(p){return{row:p.row,column:p.column}},m.prototype.pos=function(p,g){return{row:p,column:g}},m.prototype.$clipPosition=function(p){var g=this.getLength();return p.row>=g?(p.row=Math.max(0,g-1),p.column=this.getLine(g-1).length):(p.row=Math.max(0,p.row),p.column=Math.min(Math.max(p.column,0),this.getLine(p.row).length)),p},m.prototype.insertFullLines=function(p,g){var y;y=(p=Math.min(Math.max(p,0),this.getLength()))<this.getLength()?(g=g.concat([""]),0):(g=[""].concat(g),this.$lines[--p].length),this.insertMergedLines({row:p,column:y},g)},m.prototype.insertMergedLines=function(y,g){var h={row:(y=this.clippedPos(y.row,y.column)).row+g.length-1,column:(1==g.length?y.column:0)+g[g.length-1].length};return this.applyDelta({start:y,end:h,action:"insert",lines:g}),this.clonePos(h)},m.prototype.remove=function(y){var g=this.clippedPos(y.start.row,y.start.column);return y=this.clippedPos(y.end.row,y.end.column),this.applyDelta({start:g,end:y,action:"remove",lines:this.getLinesForRange({start:g,end:y})}),this.clonePos(g)},m.prototype.removeInLine=function(p,g,y){return g=this.clippedPos(p,g),p=this.clippedPos(p,y),this.applyDelta({start:g,end:p,action:"remove",lines:this.getLinesForRange({start:g,end:p})},!0),this.clonePos(g)},m.prototype.removeFullLines=function(p,g){p=Math.min(Math.max(0,p),this.getLength()-1);var v=(g=Math.min(Math.max(0,g),this.getLength()-1))==this.getLength()-1&&0<p,h=g<this.getLength()-1,d=v?p-1:p,y=(v=v?this.getLine(d).length:0,h?g+1:g);return h=h?0:this.getLine(y).length,d=new I(d,v,y,h),v=this.$lines.slice(p,g+1),this.applyDelta({start:d.start,end:d.end,action:"remove",lines:this.getLinesForRange(d)}),v},m.prototype.removeNewLine=function(p){p<this.getLength()-1&&0<=p&&this.applyDelta({start:this.pos(p,this.getLine(p).length),end:this.pos(p+1,0),action:"remove",lines:["",""]})},m.prototype.replace=function(p,g){return p instanceof I||(p=I.fromPoints(p.start,p.end)),0===g.length&&p.isEmpty()?p.start:g==this.getTextRange(p)?p.end:(this.remove(p),g?this.insert(p.start,g):p.start)},m.prototype.applyDeltas=function(p){for(var g=0;g<p.length;g++)this.applyDelta(p[g])},m.prototype.revertDeltas=function(p){for(var g=p.length-1;0<=g;g--)this.revertDelta(p[g])},m.prototype.applyDelta=function(p,g){var y="insert"==p.action;(y?p.lines.length<=1&&!p.lines[0]:!I.comparePoints(p.start,p.end))||(y&&2e4<p.lines.length?this.$splitAndapplyLargeDelta(p,2e4):(D(this.$lines,p,g),this._signal("change",p)))},m.prototype.$safeApplyDelta=function(p){var g=this.$lines.length;("remove"==p.action&&p.start.row<g&&p.end.row<g||"insert"==p.action&&p.start.row<=g)&&this.applyDelta(p)},m.prototype.$splitAndapplyLargeDelta=function(p,g){for(var y=p.lines,h=y.length-g+1,d=p.start.row,v=p.start.column,A=0,E=0;A<h;A=E){var T=y.slice(A,E+=g-1);T.push(""),this.applyDelta({start:this.pos(d+A,v),end:this.pos(d+E,v=0),action:p.action,lines:T},!0)}p.lines=y.slice(A),p.start.row=d+A,p.start.column=v,this.applyDelta(p,!0)},m.prototype.revertDelta=function(p){this.$safeApplyDelta({start:this.clonePos(p.start),end:this.clonePos(p.end),action:"insert"==p.action?"remove":"insert",lines:p.lines.slice()})},m.prototype.indexToPosition=function(p,g){for(var y=this.$lines||this.getAllLines(),h=this.getNewLineCharacter().length,d=g||0,v=y.length;d<v;d++)if((p-=y[d].length+h)<0)return{row:d,column:p+y[d].length+h};return{row:v-1,column:p+y[v-1].length+h}},m.prototype.positionToIndex=function(p,g){for(var y=this.$lines||this.getAllLines(),h=this.getNewLineCharacter().length,d=0,v=Math.min(p.row,y.length),A=g||0;A<v;++A)d+=y[A].length+h;return d+p.column},m.prototype.$split=function(p){return p.split(/\r\n|\r|\n/)},f=m).prototype.$autoNewLine="",f.prototype.$newLineMode="auto",O.implement(f.prototype,_),M.Document=f}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(D,M,Z){"use strict";var O=D("./lib/oop"),_=(D=D("./lib/event_emitter").EventEmitter,I.prototype.setTokenizer=function(C){this.tokenizer=C,this.lines=[],this.states=[],this.start(0)},I.prototype.setDocument=function(C){this.doc=C,this.lines=[],this.states=[],this.stop()},I.prototype.fireUpdateEvent=function(C,f){this._signal("update",{data:{first:C,last:f}})},I.prototype.start=function(C){this.currentLine=Math.min(C||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},I.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},I.prototype.$updateOnChange=function(C){var f=C.start.row,m=C.end.row-f;0==m?this.lines[f]=null:"remove"==C.action?(this.lines.splice(f,1+m,null),this.states.splice(f,1+m,null)):((C=Array(1+m)).unshift(f,1),this.lines.splice.apply(this.lines,C),this.states.splice.apply(this.states,C)),this.currentLine=Math.min(f,this.currentLine,this.doc.getLength()),this.stop()},I.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},I.prototype.getTokens=function(C){return this.lines[C]||this.$tokenizeRow(C)},I.prototype.getState=function(C){return this.currentLine==C&&this.$tokenizeRow(C),this.states[C]||"start"},I.prototype.$tokenizeRow=function(C){var m=this.doc.getLine(C);return m=this.tokenizer.getLineTokens(m,this.states[C-1],C),this.states[C]+""!=m.state+""?(this.states[C]=m.state,this.lines[C+1]=null,this.currentLine>C+1&&(this.currentLine=C+1)):this.currentLine==C&&(this.currentLine=C+1),this.lines[C]=m.tokens},I.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},I);function I(C,f){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=C;var m=this;this.$worker=function(){if(m.running){for(var p=new Date,g=m.currentLine,y=-1,h=m.doc,d=g;m.lines[g];)g++;var v=h.getLength(),A=0;for(m.running=!1;g<v;){for(m.$tokenizeRow(g),y=g;g++,m.lines[g];);if(++A%5==0&&20<new Date-p){m.running=setTimeout(m.$worker,20);break}}m.currentLine=g,d<=(y=-1==y?g:y)&&m.fireUpdateEvent(d,y)}}}O.implement(_.prototype,D),M.BackgroundTokenizer=_}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(_,M,Z){"use strict";var O=_("./lib/lang"),D=_("./range").Range;function I(C,f,m){void 0===m&&(m="text"),this.setRegexp(C),this.clazz=f,this.type=m}(I.prototype.setRegexp=function(C){this.regExp+""!=C+""&&(this.regExp=C,this.cache=[])},I.prototype.update=function(C,f,m,p){if(this.regExp)for(var y=p.lastRow,h={},d=p.firstRow;d<=y;d++){var v=this.cache[d];null==v&&(v=(v=(v=O.getMatchOffsets(m.getLine(d),this.regExp)).length>this.MAX_RANGES?v.slice(0,this.MAX_RANGES):v).map(function(F){return new D(d,F.offset,d,F.offset+F.length)}),this.cache[d]=v.length?v:"");for(var A=v.length;A--;){var E=v[A].toScreenRange(m),T=E.toString();h[T]||(h[T]=!0,f.drawSingleLineMarker(C,E,this.clazz,p))}}},_=I).prototype.MAX_RANGES=500,M.SearchHighlight=_}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(B,M,Z){"use strict";var O=B("../range").Range;function D(_,I){this.foldData=_,Array.isArray(I)?this.folds=I:I=this.folds=[I],this.range=new O(I[0].start.row,I[0].start.column,(_=I[I.length-1]).end.row,_.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(C){C.setFoldLine(this)},this)}D.prototype.shiftRow=function(_){this.start.row+=_,this.end.row+=_,this.folds.forEach(function(I){I.start.row+=_,I.end.row+=_})},D.prototype.addFold=function(_){if(_.sameRow){if(_.start.row<this.startRow||_.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(_),this.folds.sort(function(I,C){return-I.range.compareEnd(C.start.row,C.start.column)}),0<this.range.compareEnd(_.start.row,_.start.column)?(this.end.row=_.end.row,this.end.column=_.end.column):this.range.compareStart(_.end.row,_.end.column)<0&&(this.start.row=_.start.row,this.start.column=_.start.column)}else if(_.start.row==this.end.row)this.folds.push(_),this.end.row=_.end.row,this.end.column=_.end.column;else{if(_.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(_),this.start.row=_.start.row,this.start.column=_.start.column}_.foldLine=this},D.prototype.containsRow=function(_){return _>=this.start.row&&_<=this.end.row},D.prototype.walk=function(_,I,C){var f,m,p=0,g=this.folds,y=!0;null==I&&(I=this.end.row,C=this.end.column);for(var h=0;h<g.length;h++){if(-1==(m=(f=g[h]).range.compareStart(I,C)))return void _(null,I,C,p,y);if(!_(null,f.start.row,f.start.column,p,y)&&_(f.placeholder,f.start.row,f.start.column,p)||0===m)return;y=!f.sameRow,p=f.end.column}_(null,I,C,p,y)},D.prototype.getNextFoldTo=function(_,I){for(var C,f,m=0;m<this.folds.length;m++){if(-1==(f=(C=this.folds[m]).range.compareEnd(_,I)))return{fold:C,kind:"after"};if(0===f)return{fold:C,kind:"inside"}}return null},D.prototype.addRemoveChars=function(_,I,C){var f,m=this.getNextFoldTo(_,I);if(m)if(f=m.fold,"inside"==m.kind&&f.start.column!=I&&f.start.row!=_)window.console&&window.console.log(_,I,f);else if(f.start.row==_){var p,g=(p=this.folds).indexOf(f);for(0===g&&(this.start.column+=C);g<p.length;g++){if((f=p[g]).start.column+=C,!f.sameRow)return;f.end.column+=C}this.end.column+=C}},D.prototype.split=function(m,I){var C,f;return(m=this.getNextFoldTo(m,I))&&"inside"!=m.kind?(I=m.fold,C=this.foldData,I=(m=this.folds).indexOf(I),this.end.row=(f=m[I-1]).end.row,this.end.column=f.end.column,f=new D(C,m=m.splice(I,m.length-I)),C.splice(C.indexOf(this)+1,0,f),f):null},D.prototype.merge=function(_){for(var I=_.folds,C=0;C<I.length;C++)this.addFold(I[C]);var f=this.foldData;f.splice(f.indexOf(_),1)},D.prototype.toString=function(){var _=[this.range.toString()+": ["];return this.folds.forEach(function(I){_.push("  "+I.toString())}),_.push("]"),_.join("\n")},D.prototype.idxToPosition=function(_){for(var I=0,C=0;C<this.folds.length;C++){var f=this.folds[C];if((_-=f.start.column-I)<0)return{row:f.start.row,column:f.start.column+_};if((_-=f.placeholder.length)<0)return f.start;I=f.end.column}return{row:this.end.row,column:this.end.column+_}},M.FoldLine=D}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(D,M,Z){"use strict";var O=D("./range").Range.comparePoints;function _(){this.ranges=[],this.$bias=1}(_.prototype.pointIndex=function(I,C,f){for(var m=this.ranges,p=f||0;p<m.length;p++){var g=m[p],y=O(I,g.end);if(!(0<y))return g=O(I,g.start),0===y?C&&0!==g?-p-2:p:0<g||0===g&&!C?p:-p-1}return-p-1},_.prototype.add=function(I){var f=!I.isEmpty(),C=this.pointIndex(I.start,f);return(f=this.pointIndex(I.end,f,C=C<0?-C-1:C))<0?f=-f-1:f++,this.ranges.splice(C,f-C,I)},_.prototype.addList=function(I){for(var C=[],f=I.length;f--;)C.push.apply(C,this.add(I[f]));return C},_.prototype.substractPoint=function(I){if(0<=(I=this.pointIndex(I)))return this.ranges.splice(I,1)},_.prototype.merge=function(){for(var I=[],C=this.ranges,f=(C=C.sort(function(y,h){return O(y.start,h.start)}))[0],m=1;m<C.length;m++){var p=f,g=O(p.end,(f=C[m]).start);g<0||(0!=g||p.isEmpty()||f.isEmpty())&&(O(p.end,f.end)<0&&(p.end.row=f.end.row,p.end.column=f.end.column),C.splice(m,1),I.push(f),f=p,m--)}return this.ranges=C,I},_.prototype.contains=function(I,C){return 0<=this.pointIndex({row:I,column:C})},_.prototype.containsPoint=function(I){return 0<=this.pointIndex(I)},_.prototype.rangeAtPoint=function(I){if(0<=(I=this.pointIndex(I)))return this.ranges[I]},_.prototype.clipRows=function(I,C){var f=this.ranges;if(f[0].start.row>C||f[f.length-1].start.row<I)return[];I=this.pointIndex({row:I,column:0});for(var m=this.pointIndex({row:C,column:0},I=I<0?-I-1:I),p=(m<0&&(m=-m-1),[]),g=I;g<m;g++)p.push(f[g]);return p},_.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},_.prototype.attach=function(I){this.session&&this.detach(),this.session=I,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},_.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},_.prototype.$onChange=function(I){for(var C=I.start,f=I.end,m=C.row,p=f.row,g=this.ranges,y=0,h=g.length;y<h&&!((A=g[y]).end.row>=m);y++);var A;if("insert"==I.action)for(var d=p-m,v=-C.column+f.column;y<h&&!((A=g[y]).start.row>m);y++)A.start.row==m&&A.start.column>=C.column&&(A.start.column==C.column&&this.$bias<=0||(A.start.column+=v,A.start.row+=d)),A.end.row==m&&A.end.column>=C.column&&(A.end.column==C.column&&this.$bias<0||(A.end.column==C.column&&0<v&&y<h-1&&A.end.column>A.start.column&&A.end.column==g[y+1].start.column&&(A.end.column-=v),A.end.column+=v,A.end.row+=d));else for(d=m-p,v=C.column-f.column;y<h&&!((A=g[y]).start.row>p);y++)A.end.row<p&&(m<A.end.row||m==A.end.row&&C.column<A.end.column)?(A.end.row=m,A.end.column=C.column):A.end.row==p?A.end.column<=f.column?(d||A.end.column>C.column)&&(A.end.column=C.column,A.end.row=C.row):(A.end.column+=v,A.end.row+=d):A.end.row>p&&(A.end.row+=d),A.start.row<p&&(m<A.start.row||m==A.start.row&&C.column<A.start.column)?(A.start.row=m,A.start.column=C.column):A.start.row==p?A.start.column<=f.column?(d||A.start.column>C.column)&&(A.start.column=C.column,A.start.row=C.row):(A.start.column+=v,A.start.row+=d):A.start.row>p&&(A.start.row+=d);if(0!=d&&y<h)for(;y<h;y++)(A=g[y]).start.row+=d,A.end.row+=d},D=_).prototype.comparePoints=O,M.RangeList=D}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(_,M,Z){"use strict";var O,D,I=this&&this.__extends||(O=function(p,g){return(O=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(y,h){y.__proto__=h}:function(y,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(y[d]=h[d])}))(p,g)},function(p,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function y(){this.constructor=p}O(p,g),p.prototype=null===g?Object.create(g):(y.prototype=g.prototype,new y)});function C(p,g){var y=D.call(this)||this;return y.foldLine=null,y.placeholder=g,y.range=p,y.start=p.start,y.end=p.end,y.sameRow=p.start.row==p.end.row,y.subFolds=y.ranges=[],y}function f(p,g){p.row-=g.row,0==p.row&&(p.column-=g.column)}function m(p,g){0==p.row&&(p.column+=g.column),p.row+=g.row}_=_("../range_list").RangeList,I(C,D=_),C.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},C.prototype.setFoldLine=function(p){this.foldLine=p,this.subFolds.forEach(function(g){g.setFoldLine(p)})},C.prototype.clone=function(){var p=new C(this.range.clone(),this.placeholder);return this.subFolds.forEach(function(g){p.subFolds.push(g.clone())}),p.collapseChildren=this.collapseChildren,p},C.prototype.addSubFold=function(p){if(!this.range.isEqual(p)){f((v=p).start,A=this.start),f(v.end,A);for(var g=p.start.row,y=p.start.column,h=0,d=-1;h<this.subFolds.length&&1==(d=this.subFolds[h].range.compare(g,y));h++);var v=this.subFolds[h],A=0;if(0==d){if(v.range.containsRange(p))return v.addSubFold(p);A=1}g=p.range.end.row,y=p.range.end.column;var E=h;for(d=-1;E<this.subFolds.length&&1==(d=this.subFolds[E].range.compare(g,y));E++);0==d&&E++;for(var T=this.subFolds.splice(h,E-h,p),F=0==d?T.length-1:T.length,$=A;$<F;$++)p.addSubFold(T[$]);return p.setFoldLine(this.foldLine),p}},C.prototype.restoreRange=function(p){return m(p.start,g=this.start),void m(p.end,g);var g},M.Fold=I=C}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(B,M,Z){"use strict";var O=B("../range").Range,D=B("./fold_line").FoldLine,_=B("./fold").Fold,I=B("../token_iterator").TokenIterator,C=B("../mouse/mouse_event").MouseEvent;M.Folding=function(){this.getFoldAt=function(f,m,p){var g=this.getFoldLine(f);if(!g)return null;for(var y=g.folds,h=0;h<y.length;h++){var d=y[h].range;if(d.contains(f,m)&&(1!=p||!d.isEnd(f,m)||d.isEmpty())&&(-1!=p||!d.isStart(f,m)||d.isEmpty()))return y[h]}},this.getFoldsInRange=function(f){var m=f.start,p=f.end,g=this.$foldData,y=[];m.column+=1,--p.column;for(var h=0;h<g.length;h++){var d=g[h].range.compareRange(f);if(2!=d){if(-2==d)break;for(var v=g[h].folds,A=0;A<v.length;A++){var E=v[A];if(-2==(d=E.range.compareRange(f)))break;if(2!=d){if(42==d)break;y.push(E)}}}}return--m.column,p.column+=1,y},this.getFoldsInRangeList=function(f){var m;return Array.isArray(f)?(m=[],f.forEach(function(p){m=m.concat(this.getFoldsInRange(p))},this)):m=this.getFoldsInRange(f),m},this.getAllFolds=function(){for(var f=[],m=this.$foldData,p=0;p<m.length;p++)for(var g=0;g<m[p].folds.length;g++)f.push(m[p].folds[g]);return f},this.getFoldStringAt=function(f,m,p,g){if(!(g=g||this.getFoldLine(f)))return null;for(var y,h={end:{column:0}},d=0;d<g.folds.length;d++){var v,A=(v=g.folds[d]).range.compareEnd(f,m);if(-1==A){y=this.getLine(v.start.row).substring(h.end.column,v.start.column);break}if(0===A)return null;h=v}return y=y||this.getLine(v.start.row).substring(h.end.column),-1==p?y.substring(0,m-h.end.column):1==p?y.substring(m-h.end.column):y},this.getFoldLine=function(f,m){var p=this.$foldData,g=0;for(-1==(g=m?p.indexOf(m):g)&&(g=0);g<p.length;g++){var y=p[g];if(y.start.row<=f&&y.end.row>=f)return y;if(y.end.row>f)return null}return null},this.getNextFoldLine=function(f,m){var p=this.$foldData,g=0;for(-1==(g=m?p.indexOf(m):g)&&(g=0);g<p.length;g++){var y=p[g];if(y.end.row>=f)return y}return null},this.getFoldedRowCount=function(f,m){for(var p=this.$foldData,g=m-f+1,y=0;y<p.length;y++){var h=(d=p[y]).end.row,d=d.start.row;if(m<=h){d<m&&(f<=d?g-=m-d:g=0);break}f<=h&&(g-=f<=d?h-d:h-f+1)}return g},this.$addFoldLine=function(f){return this.$foldData.push(f),this.$foldData.sort(function(m,p){return m.start.row-p.start.row}),f},this.addFold=function(d,A){var p,g=this.$foldData,y=!1,h=(d instanceof _?p=d:(p=new _(A,d)).collapseChildren=A.collapseChildren,this.$clipRangeToDocument(p.range),p.start.row),v=p.end.row,E=(A=p.end.column,this.getFoldAt(h,d=p.start.column,1)),T=this.getFoldAt(v,A,-1);if(E&&T==E)return E.addSubFold(p);E&&!E.range.isStart(h,d)&&this.removeFold(E),T&&!T.range.isEnd(v,A)&&this.removeFold(T),0<(d=this.getFoldsInRange(p.range)).length&&(this.removeFolds(d),p.collapseChildren||d.forEach(function(te){p.addSubFold(te)}));for(var F=0;F<g.length;F++){var $=g[F];if(v==$.start.row){$.addFold(p),y=!0;break}if(h==$.end.row){if($.addFold(p),y=!0,!p.sameRow){var j=g[F+1];if(j&&j.start.row==v){$.merge(j);break}}break}if(v<=$.start.row)break}return y||($=this.$addFoldLine(new D(this.$foldData,p))),this.$useWrapMode?this.$updateWrapData($.start.row,$.start.row):this.$updateRowLengthCache($.start.row,$.start.row),this.$modified=!0,this._signal("changeFold",{data:p,action:"add"}),p},this.addFolds=function(f){f.forEach(function(m){this.addFold(m)},this)},this.removeFold=function(f){var m=f.foldLine,p=m.start.row,g=m.end.row,y=this.$foldData,h=m.folds;1==h.length?y.splice(y.indexOf(m),1):m.range.isEnd(f.end.row,f.end.column)?(h.pop(),m.end.row=h[h.length-1].end.row,m.end.column=h[h.length-1].end.column):m.range.isStart(f.start.row,f.start.column)?(h.shift(),m.start.row=h[0].start.row,m.start.column=h[0].start.column):f.sameRow?h.splice(h.indexOf(f),1):((h=(y=m.split(f.start.row,f.start.column)).folds).shift(),y.start.row=h[0].start.row,y.start.column=h[0].start.column),this.$updating||(this.$useWrapMode?this.$updateWrapData(p,g):this.$updateRowLengthCache(p,g)),this.$modified=!0,this._signal("changeFold",{data:f,action:"remove"})},this.removeFolds=function(f){for(var m=[],p=0;p<f.length;p++)m.push(f[p]);m.forEach(function(g){this.removeFold(g)},this),this.$modified=!0},this.expandFold=function(f){this.removeFold(f),f.subFolds.forEach(function(m){f.restoreRange(m),this.addFold(m)},this),0<f.collapseChildren&&this.foldAll(f.start.row+1,f.end.row,f.collapseChildren-1),f.subFolds=[]},this.expandFolds=function(f){f.forEach(function(m){this.expandFold(m)},this)},this.unfold=function(f,m){var p,g;if(null==f)p=new O(0,0,this.getLength(),0),null==m&&(m=!0);else if("number"==typeof f)p=new O(f,0,f,this.getLine(f).length);else if("row"in f)p=O.fromPoints(f,f);else{if(Array.isArray(f))return g=[],f.forEach(function(y){g=g.concat(this.unfold(y))},this),g;p=f}for(f=g=this.getFoldsInRangeList(p);1==g.length&&O.comparePoints(g[0].start,p.start)<0&&0<O.comparePoints(g[0].end,p.end);)this.expandFolds(g),g=this.getFoldsInRangeList(p);if(0!=m?this.removeFolds(g):this.expandFolds(g),f.length)return f},this.isRowFolded=function(f,m){return!!this.getFoldLine(f,m)},this.getRowFoldEnd=function(f,m){return(m=this.getFoldLine(f,m))?m.end.row:f},this.getRowFoldStart=function(f,m){return(m=this.getFoldLine(f,m))?m.start.row:f},this.getFoldDisplayLine=function(f,m,p,g,y){null==g&&(g=f.start.row),null==y&&(y=0),null==m&&(m=f.end.row),null==p&&(p=this.getLine(m).length);var h=this.doc,d="";return f.walk(function(v,A,E,T){if(!(A<g)){if(A==g){if(E<y)return;T=Math.max(y,T)}d+=v??h.getLine(A).substring(T,E)}},m,p),d},this.getDisplayLine=function(f,m,p,g){var y=this.getFoldLine(f);return y?this.getFoldDisplayLine(y,f,m,p,g):(y=this.doc.getLine(f)).substring(g||0,m||y.length)},this.$cloneFoldData=function(){var f=[];return f=this.$foldData.map(function(m){return m=m.folds.map(function(p){return p.clone()}),new D(f,m)})},this.toggleFold=function(f){var m=this.selection.getRange();if(m.isEmpty()){var p,g=m.start;if(p=this.getFoldAt(g.row,g.column))return void this.expandFold(p);(y=this.findMatchingBracket(g))?1==m.comparePoint(y)?m.end=y:(m.start=y,m.start.column++,m.end.column--):(y=this.findMatchingBracket({row:g.row,column:g.column+1}))?(1==m.comparePoint(y)?m.end=y:m.start=y,m.start.column++):m=this.getCommentFoldRange(g.row,g.column)||m}else{var y=this.getFoldsInRange(m);if(f&&y.length)return void this.expandFolds(y);1==y.length&&(p=y[0])}if((p=p||this.getFoldAt(m.start.row,m.start.column))&&p.range.toString()==m.toString())this.expandFold(p);else{if(g="...",!m.isMultiLine()){if((g=this.getTextRange(m)).length<4)return;g=g.trim().substring(0,2)+".."}this.addFold(g,m)}},this.getCommentFoldRange=function(f,m,p){var g=new I(this,f,m),y=g.getCurrentToken(),h=y&&y.type;if(y&&/^comment|string/.test(h)){"comment"==(h=h.match(/comment|string/)[0])&&(h+="|doc-start|\\.doc");var d=new RegExp(h);if(h=new O,1!=p){for(;(y=g.stepBackward())&&d.test(y.type)&&!/^comment.end/.test(y.type););y=g.stepForward()}if(h.start.row=g.getCurrentTokenRow(),h.start.column=g.getCurrentTokenColumn()+(/^comment.start/.test(y.type)?y.value.length:2),g=new I(this,f,m),-1!=p){var v=-1;do{if(y=g.stepForward(),-1==v){var A=this.getState(g.$row);d.test(A)||(v=g.$row)}else if(g.$row>v)break}while(y&&d.test(y.type)&&!/^comment.start/.test(y.type));y=g.stepBackward()}else y=g.getCurrentToken();return h.end.row=g.getCurrentTokenRow(),h.end.column=g.getCurrentTokenColumn(),/^comment.end/.test(y.type)||(h.end.column+=y.value.length-2),h}},this.foldAll=function(f,m,p,g){null==p&&(p=1e5);var y=this.foldWidgets;if(y){m=m||this.getLength();for(var h,d=f=f||0;d<m;d++)null==y[d]&&(y[d]=this.getFoldWidget(d)),"start"!=y[d]||g&&!g(d)||(h=this.getFoldWidgetRange(d))&&h.isMultiLine()&&h.end.row<=m&&h.start.row>=f&&(d=h.end.row,h.collapseChildren=p,this.addFold("...",h))}},this.foldToLevel=function(f){for(this.foldAll();0<f--;)this.unfold(null,!1)},this.foldAllComments=function(){var f=this;this.foldAll(null,null,null,function(m){for(var p=f.getTokens(m),g=0;g<p.length;g++){var y=p[g];if("text"!=y.type||!/^\s+$/.test(y.value))return!!/comment/.test(y.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(f){if(!this.$foldStyles[f])throw new Error("invalid fold style: "+f+"["+Object.keys(this.$foldStyles).join(", ")+"]");this.$foldStyle!=f&&("manual"==(this.$foldStyle=f)&&this.unfold(),f=this.$foldMode,this.$setFolding(null),this.$setFolding(f))},this.$setFolding=function(f){this.$foldMode!=f&&(this.$foldMode=f,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),f&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=f.getFoldWidget.bind(f,this,this.$foldStyle),this.getFoldWidgetRange=f.getFoldWidgetRange.bind(f,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(f,m){var p=this.foldWidgets;if(!p||m&&p[f])return{};for(var g=f-1;0<=g;){var y=p[g];if("start"==(y=y??(p[g]=this.getFoldWidget(g)))){var h=this.getFoldWidgetRange(g),d=d||h;if(h&&h.end.row>=f)break}g--}return{range:-1!==g&&h,firstRange:d}},this.onFoldWidgetClick=function(f,m){var p={children:(m=m instanceof C?m.domEvent:m).shiftKey,all:m.ctrlKey||m.metaKey,siblings:m.altKey};this.$toggleFoldWidget(f,p)||(f=m.target||m.srcElement)&&/ace_fold-widget/.test(f.className)&&(f.className+=" ace_invalid")},this.$toggleFoldWidget=function(f,m){var p,g,y,h;if(this.getFoldWidget)return p=this.getFoldWidget(f),g=this.getLine(f),(g=this.getFoldAt(f,-1==(p="end"===p?-1:1)?0:g.length,p))?(m.children||m.all?this.removeFold(g):this.expandFold(g),g):(p=this.getFoldWidgetRange(f,!0))&&!p.isMultiLine()&&(g=this.getFoldAt(p.start.row,p.start.column,1))&&p.isEqual(g.range)?(this.removeFold(g),g):(m.siblings?((g=this.getParentFoldRangeData(f)).range&&(y=g.range.start.row+1,h=g.range.end.row),this.foldAll(y,h,m.all?1e4:0)):m.children?(h=p?p.end.row:this.getLength(),this.foldAll(f+1,h,m.all?1e4:0)):p&&(m.all&&(p.collapseChildren=1e4),this.addFold("...",p)),p)},this.toggleFoldWidget=function(f){var m,p=this.selection.getCursor().row;p=this.getRowFoldStart(p),!this.$toggleFoldWidget(p,{})&&(m=(m=this.getParentFoldRangeData(p,!0)).range||m.firstRange)&&((p=this.getFoldAt(p=m.start.row,this.getLine(p).length,1))?this.removeFold(p):this.addFold("...",m))},this.updateFoldWidgets=function(f){var m=f.start.row,p=f.end.row-m;0==p?this.foldWidgets[m]=null:"remove"==f.action?this.foldWidgets.splice(m,1+p,null):((f=Array(1+p)).unshift(m,1),this.foldWidgets.splice.apply(this.foldWidgets,f))},this.tokenizerUpdateFoldWidgets=function(f){(f=f.data).first!=f.last&&this.foldWidgets.length>f.first&&this.foldWidgets.splice(f.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(B,M,Z){"use strict";var O=B("../token_iterator").TokenIterator,D=B("../range").Range;M.BracketMatch=function(){this.findMatchingBracket=function(_,I){return 0!=_.column&&""!=(I=I||this.getLine(_.row).charAt(_.column-1))&&(I=I.match(/([\(\[\{])|([\)\]\}])/))?I[1]?this.$findClosingBracket(I[1],_):this.$findOpeningBracket(I[2],_):null},this.getBracketRange=function(_){var I,C,f=this.getLine(_.row),m=!0,p=f.charAt(_.column-1),g=p&&p.match(/([\(\[\{])|([\)\]\}])/);if(g||(p=f.charAt(_.column),_={row:_.row,column:_.column+1},g=p&&p.match(/([\(\[\{])|([\)\]\}])/),m=!1),!g)return null;if(g[1]){if(!(C=this.$findClosingBracket(g[1],_)))return null;I=D.fromPoints(_,C),m||(I.end.column++,I.start.column--),I.cursor=I.end}else{if(!(C=this.$findOpeningBracket(g[2],_)))return null;I=D.fromPoints(C,_),m||(I.start.column++,I.end.column--),I.cursor=I.start}return I},this.getMatchingBracketRanges=function(_,I){var C=this.getLine(_.row),f=/([\(\[\{])|([\)\]\}])/,m=!I&&C.charAt(_.column-1),p=m&&m.match(f);return p||(m=(void 0===I||I)&&C.charAt(_.column),_={row:_.row,column:_.column+1},p=m&&m.match(f)),p?(I=new D(_.row,_.column-1,_.row,_.column),(C=p[1]?this.$findClosingBracket(p[1],_):this.$findOpeningBracket(p[2],_))?[I,new D(C.row,C.column,C.row,C.column+1)]:[I]):null},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(_,I,C){var f=this.$brackets[_],m=1,p=new O(this,I.row,I.column),g=p.getCurrentToken();if(g=g||p.stepForward()){C=C||new RegExp("(\\.?"+g.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+");for(var y=I.column-p.getCurrentTokenColumn()-2,h=g.value;;){for(;0<=y;){var d=h.charAt(y);if(d==f){if(0==--m)return{row:p.getCurrentTokenRow(),column:y+p.getCurrentTokenColumn()}}else d==_&&(m+=1);--y}for(;(g=p.stepBackward())&&!C.test(g.type););if(null==g)break;y=(h=g.value).length-1}return null}},this.$findClosingBracket=function(_,I,C){var f=this.$brackets[_],m=1,p=new O(this,I.row,I.column),g=p.getCurrentToken();if(g=g||p.stepForward()){C=C||new RegExp("(\\.?"+g.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+");for(var y=I.column-p.getCurrentTokenColumn();;){for(var h=g.value,d=h.length;y<d;){var v=h.charAt(y);if(v==f){if(0==--m)return{row:p.getCurrentTokenRow(),column:y+p.getCurrentTokenColumn()}}else v==_&&(m+=1);y+=1}for(;(g=p.stepForward())&&!C.test(g.type););if(null==g)break;y=0}return null}},this.getMatchingTags=function(I){I=new O(this,I.row,I.column);var C=this.$findTagName(I);if(C)return"<"===I.stepBackward().value?this.$findClosingTag(I,C):this.$findOpeningTag(I,C)},this.$findTagName=function(_){var I=_.getCurrentToken(),C=!1,f=!1;if(I&&-1===I.type.indexOf("tag-name"))for(;(I=f?_.stepBackward():_.stepForward())&&("/>"===I.value?f=!0:-1!==I.type.indexOf("tag-name")&&(C=!0)),I&&!C;);return I},this.$findClosingTag=function(_,I){var C=I.value,f=I.value,m=0,p=new D(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+1),g=(I=_.stepForward(),new D(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+I.value.length)),y=!1;do{var h,d=I;if(I=_.stepForward())if(">"!==I.value||y||(h=new D(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+1),y=!0),-1!==I.type.indexOf("tag-name")){if(f===(C=I.value))if("<"===d.value)m++;else if("</"===d.value&&--m<0){_.stepBackward();var v=new D(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+2),A=(I=_.stepForward(),new D(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+I.value.length));if(!(I=_.stepForward())||">"!==I.value)return;var E=new D(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+1)}}else f===C&&"/>"===I.value&&--m<0&&(E=A=v=new D(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+2),h=new D(g.end.row,g.end.column,g.end.row,g.end.column+1))}while(I&&0<=m);if(p&&h&&v&&E&&g&&A)return{openTag:new D(p.start.row,p.start.column,h.end.row,h.end.column),closeTag:new D(v.start.row,v.start.column,E.end.row,E.end.column),openTagName:g,closeTagName:A}},this.$findOpeningTag=function(_,I){var C,f=_.getCurrentToken(),m=I.value,p=0,g=_.getCurrentTokenRow(),y=_.getCurrentTokenColumn(),h=new D(g,y,g,y+2),d=(_.stepForward(),new D(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+I.value.length));if((I=_.stepForward())&&">"===I.value){var v=new D(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+1);_.stepBackward(),_.stepBackward();do{if(I=f,g=_.getCurrentTokenRow(),C=(y=_.getCurrentTokenColumn())+I.value.length,f=_.stepBackward(),I)if(-1!==I.type.indexOf("tag-name")){if(m===I.value)if("<"===f.value){if(0<++p){for(var A=new D(g,y,g,C),E=new D(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+1);(I=_.stepForward())&&">"!==I.value;);var T=new D(_.getCurrentTokenRow(),_.getCurrentTokenColumn(),_.getCurrentTokenRow(),_.getCurrentTokenColumn()+1)}}else"</"===f.value&&p--}else if("/>"===I.value){for(var F=0,$=f;$;){if(-1!==$.type.indexOf("tag-name")&&$.value===m){p--;break}if("<"===$.value)break;$=_.stepBackward(),F++}for(var j=0;j<F;j++)_.stepForward()}}while(f&&p<=0);return E&&T&&h&&v&&A&&d?{openTag:new D(E.start.row,E.start.column,T.end.row,T.end.column),closeTag:new D(h.start.row,h.start.column,v.end.row,v.end.column),openTagName:A,closeTagName:d}:void 0}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(B,M,Z){"use strict";var O=B("./lib/oop"),D=B("./lib/lang"),_=B("./bidihandler").BidiHandler,I=B("./config"),C=B("./lib/event_emitter").EventEmitter,f=B("./selection").Selection,m=B("./mode/text").Mode,p=B("./range").Range,g=B("./document").Document,y=B("./background_tokenizer").BackgroundTokenizer,h=B("./search_highlight").SearchHighlight,d=(v.prototype.setDocument=function(S){this.doc&&this.doc.off("change",this.$onChange),(this.doc=S).on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},v.prototype.getDocument=function(){return this.doc},v.prototype.$resetRowCache=function(S){var R;S?(R=this.$docRowCache.length,(S=this.$getRowCacheIndex(this.$docRowCache,S)+1)<R&&(this.$docRowCache.splice(S,R),this.$screenRowCache.splice(S,R))):(this.$docRowCache=[],this.$screenRowCache=[])},v.prototype.$getRowCacheIndex=function(S,R){for(var X=0,N=S.length-1;X<=N;){var K=X+N>>1,ie=S[K];if(ie<R)X=1+K;else{if(!(R<ie))return K;N=K-1}}return X-1},v.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},v.prototype.onChangeFold=function(S){this.$resetRowCache((S=S.data).start.row)},v.prototype.onChange=function(S){this.$modified=!0,this.$bidiHandler.onChange(S),this.$resetRowCache(S.start.row);var R=this.$updateInternalDataOnChange(S);!this.$fromUndo&&this.$undoManager&&(R&&R.length&&(this.$undoManager.add({action:"removeFolds",folds:R},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(S,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(S),this._signal("change",S)},v.prototype.setValue=function(S){this.doc.setValue(S),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},v.prototype.toString=function(){return this.doc.getValue()},v.prototype.getSelection=function(){return this.selection},v.prototype.getState=function(S){return this.bgTokenizer.getState(S)},v.prototype.getTokens=function(S){return this.bgTokenizer.getTokens(S)},v.prototype.getTokenAt=function(S,R){var X=this.bgTokenizer.getTokens(S),K=0;if(null==R){var N=X.length-1;K=this.getLine(S).length}else for(N=0;N<X.length&&!(R<=(K+=X[N].value.length));N++);return(S=X[N])?(S.index=N,S.start=K-S.value.length,S):null},v.prototype.setUndoManager=function(S){var R;this.$undoManager=S,this.$informUndoManager&&this.$informUndoManager.cancel(),S?(S.addSession(R=this),this.$syncInformUndoManager=function(){R.$informUndoManager.cancel(),R.mergeUndoDeltas=!1},this.$informUndoManager=D.delayedCall(this.$syncInformUndoManager)):this.$syncInformUndoManager=function(){}},v.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},v.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},v.prototype.getTabString=function(){return this.getUseSoftTabs()?D.stringRepeat(" ",this.getTabSize()):"\t"},v.prototype.setUseSoftTabs=function(S){this.setOption("useSoftTabs",S)},v.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},v.prototype.setTabSize=function(S){this.setOption("tabSize",S)},v.prototype.getTabSize=function(){return this.$tabSize},v.prototype.isTabStop=function(S){return this.$useSoftTabs&&S.column%this.$tabSize==0},v.prototype.setNavigateWithinSoftTabs=function(S){this.setOption("navigateWithinSoftTabs",S)},v.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},v.prototype.setOverwrite=function(S){this.setOption("overwrite",S)},v.prototype.getOverwrite=function(){return this.$overwrite},v.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},v.prototype.addGutterDecoration=function(S,R){this.$decorations[S]||(this.$decorations[S]=""),this.$decorations[S]+=" "+R,this._signal("changeBreakpoint",{})},v.prototype.removeGutterDecoration=function(S,R){this.$decorations[S]=(this.$decorations[S]||"").replace(" "+R,""),this._signal("changeBreakpoint",{})},v.prototype.getBreakpoints=function(){return this.$breakpoints},v.prototype.setBreakpoints=function(S){this.$breakpoints=[];for(var R=0;R<S.length;R++)this.$breakpoints[S[R]]="ace_breakpoint";this._signal("changeBreakpoint",{})},v.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},v.prototype.setBreakpoint=function(S,R){(R=void 0===R?"ace_breakpoint":R)?this.$breakpoints[S]=R:delete this.$breakpoints[S],this._signal("changeBreakpoint",{})},v.prototype.clearBreakpoint=function(S){delete this.$breakpoints[S],this._signal("changeBreakpoint",{})},v.prototype.addMarker=function(ie,R,X,N){var K=this.$markerId++;return ie={range:ie,type:X||"line",renderer:"function"==typeof X?X:null,clazz:R,inFront:!!N,id:K},N?(this.$frontMarkers[K]=ie,this._signal("changeFrontMarker")):(this.$backMarkers[K]=ie,this._signal("changeBackMarker")),K},v.prototype.addDynamicMarker=function(S,R){var X;if(S.update)return X=this.$markerId++,S.id=X,S.inFront=!!R,R?(this.$frontMarkers[X]=S,this._signal("changeFrontMarker")):(this.$backMarkers[X]=S,this._signal("changeBackMarker")),S},v.prototype.removeMarker=function(S){var R=this.$frontMarkers[S]||this.$backMarkers[S];R&&(delete(R.inFront?this.$frontMarkers:this.$backMarkers)[S],this._signal(R.inFront?"changeFrontMarker":"changeBackMarker"))},v.prototype.getMarkers=function(S){return S?this.$frontMarkers:this.$backMarkers},v.prototype.highlight=function(S){var R;this.$searchHighlight||(R=new h(null,"ace_selected-word","text"),this.$searchHighlight=this.addDynamicMarker(R)),this.$searchHighlight.setRegexp(S)},v.prototype.highlightLines=function(S,R,X,N){return"number"!=typeof R&&(X=R,R=S),X=X||"ace_step",(S=new p(S,0,R,1/0)).id=this.addMarker(S,X,"fullLine",N),S},v.prototype.setAnnotations=function(S){this.$annotations=S,this._signal("changeAnnotation",{})},v.prototype.getAnnotations=function(){return this.$annotations||[]},v.prototype.clearAnnotations=function(){this.setAnnotations([])},v.prototype.$detectNewLine=function(S){S=S.match(/^.*?(\r?\n)/m),this.$autoNewLine=S?S[1]:"\n"},v.prototype.getWordRange=function(S,R){var X,N=this.getLine(S),K=!1,ie=(X=(K=(K=0<R?!!N.charAt(R-1).match(this.tokenRe):K)||!!N.charAt(R).match(this.tokenRe))?this.tokenRe:/^\s+$/.test(N.slice(R-1,R+1))?/\s/:this.nonTokenRe,R);if(0<ie){for(;0<=--ie&&N.charAt(ie).match(X););ie++}for(var Q=R;Q<N.length&&N.charAt(Q).match(X);)Q++;return new p(S,ie,S,Q)},v.prototype.getAWordRange=function(S,R){for(var X=this.getWordRange(S,R),N=this.getLine(X.end.row);N.charAt(X.end.column).match(/[ \t]/);)X.end.column+=1;return X},v.prototype.setNewLineMode=function(S){this.doc.setNewLineMode(S)},v.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},v.prototype.setUseWorker=function(S){this.setOption("useWorker",S)},v.prototype.getUseWorker=function(){return this.$useWorker},v.prototype.onReloadTokenizer=function(S){this.bgTokenizer.start(S.data.first),this._signal("tokenizerUpdate",S)},v.prototype.setMode=function(S,R){if(S&&"object"==typeof S){if(S.getTokenizer)return this.$onChangeMode(S);var X=S,N=S.path}else N=S||"ace/mode/text";this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new m),this.$modes[N]&&!X?(this.$onChangeMode(this.$modes[N]),R&&R()):(this.$modeId=N,I.loadModule(["mode",N],function(K){if(this.$modeId!==N)return R&&R();this.$modes[N]&&!X?this.$onChangeMode(this.$modes[N]):K&&K.Mode&&(K=new K.Mode(X),X||((this.$modes[N]=K).$id=N),this.$onChangeMode(K)),R&&R()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0))},v.prototype.$onChangeMode=function(S,R){var X,N,K;R||(this.$modeId=S.$id),this.$mode===S||(X=this.$mode,this.$mode=S,this.$stopWorker(),this.$useWorker&&this.$startWorker(),void 0!==(N=S.getTokenizer()).on&&(K=this.onReloadTokenizer.bind(this),N.on("update",K)),this.bgTokenizer.setTokenizer(N),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=S.tokenRe,this.nonTokenRe=S.nonTokenRe,R)||(S.attachToSession&&S.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(S.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:X,mode:S}))},v.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},v.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(S){I.warn("Could not load worker",S),this.$worker=null}},v.prototype.getMode=function(){return this.$mode},v.prototype.setScrollTop=function(S){this.$scrollTop===S||isNaN(S)||(this.$scrollTop=S,this._signal("changeScrollTop",S))},v.prototype.getScrollTop=function(){return this.$scrollTop},v.prototype.setScrollLeft=function(S){this.$scrollLeft===S||isNaN(S)||(this.$scrollLeft=S,this._signal("changeScrollLeft",S))},v.prototype.getScrollLeft=function(){return this.$scrollLeft},v.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},v.prototype.getLineWidgetMaxWidth=function(){var S;return null!=this.lineWidgetsWidth?this.lineWidgetsWidth:(S=0,this.lineWidgets.forEach(function(R){R&&R.screenWidth>S&&(S=R.screenWidth)}),this.lineWidgetWidth=S)},v.prototype.$computeWidth=function(S){if(this.$modified||S){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var R=this.doc.getAllLines(),X=this.$rowLengthCache,N=0,K=0,ie=this.$foldData[K],Q=ie?ie.start.row:1/0,be=R.length,Ie=0;Ie<be;Ie++){if(Q<Ie){if(be<=(Ie=ie.end.row+1))break;Q=(ie=this.$foldData[K++])?ie.start.row:1/0}null==X[Ie]&&(X[Ie]=this.$getStringScreenWidth(R[Ie])[0]),X[Ie]>N&&(N=X[Ie])}this.screenWidth=N}},v.prototype.getLine=function(S){return this.doc.getLine(S)},v.prototype.getLines=function(S,R){return this.doc.getLines(S,R)},v.prototype.getLength=function(){return this.doc.getLength()},v.prototype.getTextRange=function(S){return this.doc.getTextRange(S||this.selection.getRange())},v.prototype.insert=function(S,R){return this.doc.insert(S,R)},v.prototype.remove=function(S){return this.doc.remove(S)},v.prototype.removeFullLines=function(S,R){return this.doc.removeFullLines(S,R)},v.prototype.undoChanges=function(S,R){if(S.length){this.$fromUndo=!0;for(var X=S.length-1;-1!=X;X--){var N=S[X];"insert"==N.action||"remove"==N.action?this.doc.revertDelta(N):N.folds&&this.addFolds(N.folds)}!R&&this.$undoSelect&&(S.selectionBefore?this.selection.fromJSON(S.selectionBefore):this.selection.setRange(this.$getUndoSelection(S,!0))),this.$fromUndo=!1}},v.prototype.redoChanges=function(S,R){if(S.length){this.$fromUndo=!0;for(var X=0;X<S.length;X++){var N=S[X];"insert"!=N.action&&"remove"!=N.action||this.doc.$safeApplyDelta(N)}!R&&this.$undoSelect&&(S.selectionAfter?this.selection.fromJSON(S.selectionAfter):this.selection.setRange(this.$getUndoSelection(S,!1))),this.$fromUndo=!1}},v.prototype.setUndoSelect=function(S){this.$undoSelect=S},v.prototype.$getUndoSelection=function(S,R){function X(be){return R?"insert"!==be.action:"insert"===be.action}for(var N,K,ie=0;ie<S.length;ie++){var Q=S[ie];Q.start&&(N?X(Q)?(-1==N.compare((K=Q.start).row,K.column)&&N.setStart(K),1==N.compare((K=Q.end).row,K.column)&&N.setEnd(K)):-1==N.compare((K=Q.start).row,K.column)&&(N=p.fromPoints(Q.start,Q.start)):N=X(Q)?p.fromPoints(Q.start,Q.end):p.fromPoints(Q.start,Q.start))}return N},v.prototype.replace=function(S,R){return this.doc.replace(S,R)},v.prototype.moveText=function(S,Ie,X){var N,K,ie,Q=this.getTextRange(S),be=this.getFoldsInRange(S);return Ie=p.fromPoints(Ie,Ie),X||(this.remove(S),(ie=(K=S.start.row-S.end.row)?-S.end.column:S.start.column-S.end.column)&&(Ie.start.row==S.end.row&&Ie.start.column>S.end.column&&(Ie.start.column+=ie),Ie.end.row==S.end.row)&&Ie.end.column>S.end.column&&(Ie.end.column+=ie),K&&Ie.start.row>=S.end.row&&(Ie.start.row+=K,Ie.end.row+=K)),Ie.end=this.insert(Ie.start,Q),be.length&&(K=(X=Ie.start).row-(N=S.start).row,ie=X.column-N.column,this.addFolds(be.map(function(pe){return(pe=pe.clone()).start.row==N.row&&(pe.start.column+=ie),pe.end.row==N.row&&(pe.end.column+=ie),pe.start.row+=K,pe.end.row+=K,pe}))),Ie},v.prototype.indentRows=function(S,R,X){X=X.replace(/\t/g,this.getTabString());for(var N=S;N<=R;N++)this.doc.insertInLine({row:N,column:0},X)},v.prototype.outdentRows=function(S){for(var R=S.collapseRows(),X=new p(0,0,0,0),N=this.getTabSize(),K=R.start.row;K<=R.end.row;++K){var ie=this.getLine(K);X.start.row=K,X.end.row=K;for(var Q=0;Q<N&&" "==ie.charAt(Q);++Q);Q<N&&"\t"==ie.charAt(Q)?(X.start.column=Q,X.end.column=Q+1):(X.start.column=0,X.end.column=Q),this.remove(X)}},v.prototype.$moveLines=function(S,R,ie){if(S=this.getRowFoldStart(S),R=this.getRowFoldEnd(R),ie<0){if((K=this.getRowFoldStart(S+ie))<0)return 0;var N=K-S}else if(0<ie){if((K=this.getRowFoldEnd(R+ie))>this.doc.getLength()-1)return 0;N=K-R}else S=this.$clipRowToDocument(S),N=(R=this.$clipRowToDocument(R))-S+1;var K=new p(S,0,R,Number.MAX_VALUE);return K=this.getFoldsInRange(K).map(function(Q){return(Q=Q.clone()).start.row+=N,Q.end.row+=N,Q}),ie=0==ie?this.doc.getLines(S,R):this.doc.removeFullLines(S,R),this.doc.insertFullLines(S+N,ie),K.length&&this.addFolds(K),N},v.prototype.moveLinesUp=function(S,R){return this.$moveLines(S,R,-1)},v.prototype.moveLinesDown=function(S,R){return this.$moveLines(S,R,1)},v.prototype.duplicateLines=function(S,R){return this.$moveLines(S,R,0)},v.prototype.$clipRowToDocument=function(S){return Math.max(0,Math.min(S,this.doc.getLength()-1))},v.prototype.$clipColumnToRow=function(S,R){return R<0?0:Math.min(this.doc.getLine(S).length,R)},v.prototype.$clipPositionToDocument=function(S,R){var X;return R=Math.max(0,R),R=S<0?S=0:(X=this.doc.getLength())<=S?this.doc.getLine(S=X-1).length:Math.min(this.doc.getLine(S).length,R),{row:S,column:R}},v.prototype.$clipRangeToDocument=function(S){S.start.row<0?(S.start.row=0,S.start.column=0):S.start.column=this.$clipColumnToRow(S.start.row,S.start.column);var R=this.doc.getLength()-1;return S.end.row>R?(S.end.row=R,S.end.column=this.doc.getLine(R).length):S.end.column=this.$clipColumnToRow(S.end.row,S.end.column),S},v.prototype.setUseWrapMode=function(S){S!=this.$useWrapMode&&(this.$useWrapMode=S,this.$modified=!0,this.$resetRowCache(0),S&&(S=this.getLength(),this.$wrapData=Array(S),this.$updateWrapData(0,S-1)),this._signal("changeWrapMode"))},v.prototype.getUseWrapMode=function(){return this.$useWrapMode},v.prototype.setWrapLimitRange=function(S,R){this.$wrapLimitRange.min===S&&this.$wrapLimitRange.max===R||(this.$wrapLimitRange={min:S,max:R},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},v.prototype.adjustWrapLimit=function(S,N){var X=this.$wrapLimitRange;return X.max<0&&(X={min:N,max:N}),(N=this.$constrainWrapLimit(S,X.min,X.max))!=this.$wrapLimit&&1<N&&(this.$wrapLimit=N,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},v.prototype.$constrainWrapLimit=function(S,R,X){return R&&(S=Math.max(R,S)),X?Math.min(X,S):S},v.prototype.getWrapLimit=function(){return this.$wrapLimit},v.prototype.setWrapLimit=function(S){this.setWrapLimitRange(S,S)},v.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},v.prototype.$updateInternalDataOnChange=function(S){var se,R=this.$useWrapMode,X=S.action,N=S.start,K=S.end,ie=N.row,Q=K.row,be=Q-ie,Ie=null;if(this.$updating=!0,0!=be)if("remove"===X){this[R?"$wrapData":"$rowLengthCache"].splice(ie,be);var pe=this.$foldData;Ie=this.getFoldsInRange(S),this.removeFolds(Ie);var Te=0;for((se=this.getFoldLine(K.row))&&(se.addRemoveChars(K.row,K.column,N.column-K.column),se.shiftRow(-be),(U=this.getFoldLine(ie))&&U!==se&&(U.merge(se),se=U),Te=pe.indexOf(se)+1);Te<pe.length;Te++)(se=pe[Te]).start.row>=K.row&&se.shiftRow(-be);Q=ie}else{var U=Array(be),re=(U.unshift(ie,0),R?this.$wrapData:this.$rowLengthCache);for(re.splice.apply(re,U),pe=this.$foldData,Te=0,(se=this.getFoldLine(ie))&&(0==(re=se.range.compareInside(N.row,N.column))?(se=se.split(N.row,N.column))&&(se.shiftRow(be),se.addRemoveChars(Q,0,K.column-N.column)):-1==re&&(se.addRemoveChars(ie,0,K.column-N.column),se.shiftRow(be)),Te=pe.indexOf(se)+1);Te<pe.length;Te++)(se=pe[Te]).start.row>=ie&&se.shiftRow(be)}else be=Math.abs(S.start.column-S.end.column),"remove"===X&&(Ie=this.getFoldsInRange(S),this.removeFolds(Ie),be=-be),(se=this.getFoldLine(ie))&&se.addRemoveChars(ie,N.column,be);return R&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,R?this.$updateWrapData(ie,Q):this.$updateRowLengthCache(ie,Q),Ie},v.prototype.$updateRowLengthCache=function(S,R,X){this.$rowLengthCache[S]=null,this.$rowLengthCache[R]=null},v.prototype.$updateWrapData=function(S,R){var X,N,K=this.doc.getAllLines(),ie=this.getTabSize(),Q=this.$wrapData,be=this.$wrapLimit,Ie=S;for(R=Math.min(R,K.length-1);Ie<=R;)(N=this.getFoldLine(Ie,N))?(X=[],N.walk(function(pe,Te,U,re){var se;if(null!=pe){(se=this.$getDisplayTokens(pe,X.length))[0]=T;for(var ge=1;ge<se.length;ge++)se[ge]=F}else se=this.$getDisplayTokens(K[Te].substring(re,U),X.length);X=X.concat(se)}.bind(this),N.end.row,K[N.end.row].length+1),Q[N.start.row]=this.$computeWrapSplits(X,be,ie),Ie=N.end.row+1):(X=this.$getDisplayTokens(K[Ie]),Q[Ie]=this.$computeWrapSplits(X,be,ie),Ie++)},v.prototype.$computeWrapSplits=function(S,R,X){if(0==S.length)return[];var N=[],K=S.length,ie=0,Q=0,be=this.$wrapAsCode,Ie=this.$indentedSoftWrap,pe=R<=Math.max(2*X,8)||!1===Ie?0:Math.floor(R/2);function Te(ge){for(var G=ge-ie,W=ie;W<ge;W++){var q=S[W];12!==q&&2!==q||--G}N.length||(U=function(){var ce=0;if(0===pe)return ce;if(Ie)for(var Ae=0;Ae<S.length;Ae++){var Ve=S[Ae];if(Ve==j)ce+=1;else if(Ve==te)ce+=X;else if(Ve!=Y)break}return be&&!1!==Ie&&(ce+=X),Math.min(ce,pe)}(),N.indent=U),N.push(Q+=G),ie=ge}for(var U=0;R-U<K-ie;){var re=ie+R-U;if(S[re-1]>=j&&S[re]>=j)Te(re);else if(S[re]==T||S[re]==F){for(;re!=ie-1&&S[re]!=T;re--);if(!(ie<re)){for(re=ie+R;re<S.length&&S[re]==F;re++);if(re==S.length)break}Te(re)}else{for(var se=Math.max(re-(R-(R>>2)),ie-1);se<re&&S[re]<T;)re--;if(be){for(;se<re&&S[re]<T;)re--;for(;se<re&&S[re]==$;)re--}else for(;se<re&&S[re]<j;)re--;se<re?Te(++re):(S[re=ie+R]==E&&re--,Te(re-U))}}return N},v.prototype.$getDisplayTokens=function(S,R){var X,N=[];R=R||0;for(var K=0;K<S.length;K++){var ie=S.charCodeAt(K);if(9==ie){X=this.getScreenTabSize(N.length+R),N.push(te);for(var Q=1;Q<X;Q++)N.push(Y)}else 32==ie?N.push(j):39<ie&&ie<48||57<ie&&ie<64?N.push($):4352<=ie&&ae(ie)?N.push(A,E):N.push(A)}return N},v.prototype.$getStringScreenWidth=function(S,R,X){if(0==R)return[0,0];var N,K;for(null==R&&(R=1/0),X=X||0,K=0;K<S.length&&(9==(N=S.charCodeAt(K))?X+=this.getScreenTabSize(X):4352<=N&&ae(N)?X+=2:X+=1,!(R<X));K++);return[X,K]},v.prototype.getRowLength=function(S){var R=1;return this.lineWidgets&&(R+=this.lineWidgets[S]&&this.lineWidgets[S].rowCount||0),this.$useWrapMode&&this.$wrapData[S]?this.$wrapData[S].length+R:R},v.prototype.getRowLineCount=function(S){return this.$useWrapMode&&this.$wrapData[S]?this.$wrapData[S].length+1:1},v.prototype.getRowWrapIndent=function(S){var R;return this.$useWrapMode&&(S=this.screenToDocumentPosition(S,Number.MAX_VALUE),(R=this.$wrapData[S.row]).length)&&R[0]<S.column?R.indent:0},v.prototype.getScreenLastRowColumn=function(S){return S=this.screenToDocumentPosition(S,Number.MAX_VALUE),this.documentToScreenColumn(S.row,S.column)},v.prototype.getDocumentLastRowColumn=function(S,R){return S=this.documentToScreenRow(S,R),this.getScreenLastRowColumn(S)},v.prototype.getDocumentLastRowColumnPosition=function(S,R){return S=this.documentToScreenRow(S,R),this.screenToDocumentPosition(S,Number.MAX_VALUE/10)},v.prototype.getRowSplitData=function(S){if(this.$useWrapMode)return this.$wrapData[S]},v.prototype.getScreenTabSize=function(S){return this.$tabSize-(S%this.$tabSize|0)},v.prototype.screenToDocumentRow=function(S,R){return this.screenToDocumentPosition(S,R).row},v.prototype.screenToDocumentColumn=function(S,R){return this.screenToDocumentPosition(S,R).column},v.prototype.screenToDocumentPosition=function(S,R,X){if(S<0)return{row:0,column:0};for(var N,K,ie,Q=0,be=0,Ie=0,pe=0,Te=this.$screenRowCache,U=this.$getRowCacheIndex(Te,S),re=Te.length,se=(ie=re&&0<=U?(Ie=Te[U],Q=this.$docRowCache[U],S>Te[re-1]):!re,this.getLength()-1),ge=this.getNextFoldLine(Q),G=ge?ge.start.row:1/0;Ie<=S&&!(S<Ie+(pe=this.getRowLength(Q))||se<=Q);)Ie+=pe,G<++Q&&(G=(ge=this.getNextFoldLine(Q=ge.end.row+1,ge))?ge.start.row:1/0),ie&&(this.$docRowCache.push(Q),this.$screenRowCache.push(Ie));if(ge&&ge.start.row<=Q)N=this.getFoldDisplayLine(ge),Q=ge.start.row;else{if(Ie+pe<=S||se<Q)return{row:se,column:this.getLine(se).length};N=this.getLine(Q),ge=null}return U=0,Te=Math.floor(S-Ie),this.$useWrapMode&&(re=this.$wrapData[Q])&&(K=re[Te],0<Te)&&re.length&&(U=re.indent,N=N.substring(be=re[Te-1]||re[re.length-1])),void 0!==X&&this.$bidiHandler.isBidiRow(Ie+Te,Q,Te)&&(R=this.$bidiHandler.offsetToCol(X)),be+=this.$getStringScreenWidth(N,R-U)[1],this.$useWrapMode&&K<=be&&(be=K-1),ge?ge.idxToPosition(be):{row:Q,column:be}},v.prototype.documentToScreenPosition=function(S,R){var X=(S=(U=void 0===R?this.$clipPositionToDocument(S.row,S.column):this.$clipPositionToDocument(S,R)).row,R=U.column,0),U=null;(Q=this.getFoldAt(S,R,1))&&(S=Q.start.row,R=Q.start.column);for(var N,K,ie=0,Q=this.$docRowCache,re=this.$getRowCacheIndex(Q,S),be=Q.length,Ie=(K=be&&0<=re?(ie=Q[re],X=this.$screenRowCache[re],S>Q[be-1]):!be,this.getNextFoldLine(ie)),pe=Ie?Ie.start.row:1/0;ie<S;){if(pe<=ie){if(S<(N=Ie.end.row+1))break;pe=(Ie=this.getNextFoldLine(N,Ie))?Ie.start.row:1/0}else N=ie+1;X+=this.getRowLength(ie),ie=N,K&&(this.$docRowCache.push(ie),this.$screenRowCache.push(X))}var Te="";if(U=Ie&&pe<=ie?(Te=this.getFoldDisplayLine(Ie,S,R),Ie.start.row):(Te=this.getLine(S).substring(0,R),S),re=0,this.$useWrapMode){var se=this.$wrapData[U];if(se){for(var ge=0;Te.length>=se[ge];)X++,ge++;Te=Te.substring(se[ge-1]||0,Te.length),re=0<ge?se.indent:0}}return this.lineWidgets&&this.lineWidgets[ie]&&this.lineWidgets[ie].rowsAbove&&(X+=this.lineWidgets[ie].rowsAbove),{row:X,column:re+this.$getStringScreenWidth(Te)[0]}},v.prototype.documentToScreenColumn=function(S,R){return this.documentToScreenPosition(S,R).column},v.prototype.documentToScreenRow=function(S,R){return this.documentToScreenPosition(S,R).row},v.prototype.getScreenLength=function(){var S=0,R=null;if(this.$useWrapMode)for(var X=this.$wrapData.length,N=0,K=0,ie=(R=this.$foldData[K++])?R.start.row:1/0;N<X;){var Q=this.$wrapData[N];S+=Q?Q.length+1:1,ie<++N&&(N=R.end.row+1,ie=(R=this.$foldData[K++])?R.start.row:1/0)}else{S=this.getLength();var be=this.$foldData;for(K=0;K<be.length;K++)S-=(R=be[K]).end.row-R.start.row}return this.lineWidgets&&(S+=this.$getWidgetScreenLength()),S},v.prototype.$setFontMetrics=function(S){this.$enableVarChar&&(this.$getStringScreenWidth=function(R,X,N){if(0===X)return[0,0];var K,ie;for(X=X||1/0,N=N||0,ie=0;ie<R.length&&!(X<(N+="\t"===(K=R.charAt(ie))?this.getScreenTabSize(N):S.getCharacterWidth(K)));ie++);return[N,ie]})},v.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},v);function v(S,R){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++v.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new y((new m).getTokenizer(),this);var X=this;this.bgTokenizer.on("update",function(N){X._signal("tokenizerUpdate",N)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof S&&S.getLine||(S=new g(S)),this.setDocument(S),this.selection=new f(this),this.$bidiHandler=new _(this),I.resetOptions(this),this.setMode(R),I._signal("session",this),this.destroyed=!1}d.$uid=0,d.prototype.$modes=I.$modes,d.prototype.getValue=d.prototype.toString,d.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},d.prototype.$overwrite=!1,d.prototype.$mode=null,d.prototype.$modeId=null,d.prototype.$scrollTop=0,d.prototype.$scrollLeft=0,d.prototype.$wrapLimit=80,d.prototype.$useWrapMode=!1,d.prototype.$wrapLimitRange={min:null,max:null},d.prototype.lineWidgets=null,d.prototype.isFullWidth=ae,O.implement(d.prototype,C);var A=1,E=2,T=3,F=4,$=9,j=10,te=11,Y=12;function ae(S){return!(S<4352)&&(4352<=S&&S<=4447||4515<=S&&S<=4519||4602<=S&&S<=4607||9001<=S&&S<=9002||11904<=S&&S<=11929||11931<=S&&S<=12019||12032<=S&&S<=12245||12272<=S&&S<=12283||12288<=S&&S<=12350||12353<=S&&S<=12438||12441<=S&&S<=12543||12549<=S&&S<=12589||12593<=S&&S<=12686||12688<=S&&S<=12730||12736<=S&&S<=12771||12784<=S&&S<=12830||12832<=S&&S<=12871||12880<=S&&S<=13054||13056<=S&&S<=19903||19968<=S&&S<=42124||42128<=S&&S<=42182||43360<=S&&S<=43388||44032<=S&&S<=55203||55216<=S&&S<=55238||55243<=S&&S<=55291||63744<=S&&S<=64255||65040<=S&&S<=65049||65072<=S&&S<=65106||65108<=S&&S<=65126||65128<=S&&S<=65131||65281<=S&&S<=65376||65504<=S&&S<=65510)}B("./edit_session/folding").Folding.call(d.prototype),B("./edit_session/bracket_match").BracketMatch.call(d.prototype),I.defineOptions(d.prototype,"session",{wrap:{set:function(S){S&&"off"!=S?"free"==S?S=!0:"printMargin"==S?S=-1:"string"==typeof S&&(S=parseInt(S,10)||!1):S=!1,this.$wrap!=S&&((this.$wrap=S)?(this.setWrapLimitRange(S="number"==typeof S?S:null,S),this.setUseWrapMode(!0)):this.setUseWrapMode(!1))},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(S){(S="auto"==S?"text"!=this.$mode.type:"text"!=S)!=this.$wrapAsCode&&(this.$wrapAsCode=S,this.$useWrapMode)&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(S){this.$useWorker=S,this.$stopWorker(),S&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(S){0<(S=parseInt(S))&&this.$tabSize!==S&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=S,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(S){this.setFoldStyle(S)},handlesSet:!0},overwrite:{set:function(S){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(S){this.doc.setNewLineMode(S)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(S){this.setMode(S)},get:function(){return this.$modeId},handlesSet:!0}}),M.EditSession=d}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(B,M,Z){"use strict";var O=B("./lib/lang"),D=B("./lib/oop"),_=B("./range").Range;function I(){this.$options={}}I.prototype.set=function(C){return D.mixin(this.$options,C),this},I.prototype.getOptions=function(){return O.copyObject(this.$options)},I.prototype.setOptions=function(C){this.$options=C},I.prototype.find=function(p){var f,m=this.$options;return!!(p=this.$matchIterator(p,m))&&(f=null,p.forEach(function(g,y,h,d){return f=new _(g,y,h,d),!(y==d&&m.start&&m.start.start&&0!=m.skipCurrent&&f.isEqual(m.start)&&(f=null,1))}),f)},I.prototype.findAll=function(C){var f=this.$options;if(!f.needle)return[];this.$assembleRegExp(f);var m=f.range,p=m?C.getLines(m.start.row,m.end.row):C.doc.getAllLines(),g=[],y=f.re;if(f.$isMultiLine){var h,d=y.length,v=p.length-d;e:for(var A=y.offset||0;A<=v;A++){for(var E=0;E<d;E++)if(-1==p[A+E].search(y[E]))continue e;var F=p[A+d-1],T=(T=p[A]).length-T.match(y[0])[0].length;F=F.match(y[d-1])[0].length,h&&h.end.row===A&&h.end.column>T||(g.push(h=new _(A,T,A+d-1,F)),2<d&&(A=A+d-2))}}else for(var $=0;$<p.length;$++){var j=O.getMatchOffsets(p[$],y);for(E=0;E<j.length;E++){var te=j[E];g.push(new _($,te.offset,$,te.offset+te.length))}}if(m){var Y=m.start.column,ae=m.end.column;for($=0,E=g.length-1;$<E&&g[$].start.column<Y&&0==g[$].start.row;)$++;for(var S=m.end.row-m.start.row;$<E&&g[E].end.column>ae&&g[E].end.row==S;)E--;for(g=g.slice($,E+1),$=0,E=g.length;$<E;$++)g[$].start.row+=m.start.row,g[$].end.row+=m.start.row}return g},I.prototype.replace=function(C,f){var m=this.$options,p=this.$assembleRegExp(m);if(m.$isMultiLine)return f;if(p){var g=p.exec(C);if(!g||g[0].length!=C.length)return null;if(f=C.replace(p,f),m.preserveCase){f=f.split("");for(var y=Math.min(C.length,C.length);y--;){var h=C[y];f[y]=h&&h.toLowerCase()!=h?f[y].toUpperCase():f[y].toLowerCase()}f=f.join("")}return f}},I.prototype.$assembleRegExp=function(C,f){if(C.needle instanceof RegExp)return C.re=C.needle;var m,p,g,y,h=C.needle;if(!C.needle)return C.re=!1;void 0===C.$supportsUnicodeFlag&&(C.$supportsUnicodeFlag=O.supportsUnicodeFlag());try{new RegExp(h,"u")}catch{C.$supportsUnicodeFlag=!1}function d(E,T){return void 0===T&&(T=!0),(g&&p.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w")).test(E)||p.regExp?g&&p.$supportsUnicodeFlag?T?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}C.regExp||(h=O.escapeRegExp(h)),C.wholeWord&&(m=h,p=C,g=O.supportsLookbehind(),v=(y=Array.from(m))[0],y=y[y.length-1],h=d(v)+m+d(y,!1));var v=C.caseSensitive?"gm":"gmi";if(C.$supportsUnicodeFlag&&(v+="u"),C.$isMultiLine=!f&&/[\n\r]/.test(h),C.$isMultiLine)return C.re=this.$assembleMultilineRegExp(h,v);try{var A=new RegExp(h,v)}catch{A=!1}return C.re=A},I.prototype.$assembleMultilineRegExp=function(C,f){for(var m=C.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),p=[],g=0;g<m.length;g++)try{p.push(new RegExp(m[g],f))}catch{return!1}return p},I.prototype.$matchIterator=function(C,f){var m,p,g,y,h,d,v,A,E=this.$assembleRegExp(f);return!!E&&(m=1==f.backwards,p=0!=f.skipCurrent,g=f.range,(y=(y=f.start)||(g?g[m?"end":"start"]:C.selection.getRange())).start&&(y=y[p!=m?"end":"start"]),h=g?g.start.row:0,d=g?g.end.row:C.getLength()-1,A=f.$isMultiLine?(v=E.length,function(T,F,$){var j=m?T-v+1:T;if(!(j<0||j+v>C.getLength())){var te=C.getLine(j);if(T=te.search(E[0]),!(!m&&T<F||-1===T)){for(var Y=1;Y<v;Y++)if(-1==(te=C.getLine(j+Y)).search(E[Y]))return;var ae=te.match(E[v-1])[0].length;if(!(m&&F<ae))return!!$(j,T,j+v-1,ae)||void 0}}}):m?function(T,F,$){var j,te=C.getLine(T),Y=[];for(E.lastIndex=0;j=E.exec(te);){var ae=j[0].length,S=j.index;if(!ae){if(S>=te.length)break;E.lastIndex=S+=1}if(j.index+ae>F)break;Y.push(j.index,ae)}for(var R=Y.length-1;0<=R;R-=2){var X=Y[R-1];if($(T,X,T,X+(ae=Y[R])))return!0}}:function(T,F,$){var j=C.getLine(T);for(E.lastIndex=F;te=E.exec(j);){var te,Y=te[0].length;if($(T,te=te.index,T,te+Y))return!0;if(!Y&&(E.lastIndex=te+=1,te>=j.length))return!1}},{forEach:m?function(T){var F=y.row;if(!A(F,y.column,T)){for(F--;h<=F;F--)if(A(F,Number.MAX_VALUE,T))return;if(0!=f.wrap)for(F=d,h=y.row;h<=F;F--)if(A(F,Number.MAX_VALUE,T))return}}:function(T){var F=y.row;if(!A(F,y.column,T)){for(F+=1;F<=d;F++)if(A(F,0,T))return;if(0!=f.wrap)for(F=h,d=y.row;F<=d;F++)if(A(F,0,T))return}}})},M.Search=I}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(y,M,Z){"use strict";var O,g,D=this&&this.__extends||(O=function(d,v){return(O=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(A,E){A.__proto__=E}:function(A,E){for(var T in E)Object.prototype.hasOwnProperty.call(E,T)&&(A[T]=E[T])}))(d,v)},function(d,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function A(){this.constructor=d}O(d,v),d.prototype=null===v?Object.create(v):(A.prototype=v.prototype,new A)}),_=y("../lib/keys"),I=y("../lib/useragent"),C=_.KEY_MODS,f=(m.prototype.$init=function(d,v,A){this.platform=v||(I.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(d),this.$singleCommand=A},m.prototype.addCommand=function(d){this.commands[d.name]&&this.removeCommand(d),(this.commands[d.name]=d).bindKey&&this._buildKeyHash(d)},m.prototype.removeCommand=function(d,v){var A,E=d&&("string"==typeof d?d:d.name),T=(d=this.commands[E],v||delete this.commands[E],this.commandKeyBinding);for(A in T){var F,$=T[A];$==d?delete T[A]:Array.isArray($)&&-1!=(F=$.indexOf(d))&&($.splice(F,1),1==$.length)&&(T[A]=$[0])}},m.prototype.bindKey=function(d,v,A){if("object"==typeof d&&d&&(null==A&&(A=d.position),d=d[this.platform]),d)return"function"==typeof v?this.addCommand({exec:v,bindKey:d,name:v.name||d}):void d.split("|").forEach(function($){var T="",F=(-1!=$.indexOf(" ")&&($=(F=$.split(/\s+/)).pop(),F.forEach(function(j){j=this.parseKeys(j),this._addCommandToBinding(T+=(T?" ":"")+(j=C[j.hashId]+j.key),"chainKeys")},this),T+=" "),this.parseKeys($));this._addCommandToBinding(T+($=C[F.hashId]+F.key),v,A)},this)},m.prototype._addCommandToBinding=function(d,v,A){var E=this.commandKeyBinding;if(v)if(!E[d]||this.$singleCommand)E[d]=v;else{Array.isArray(E[d])?-1!=(F=E[d].indexOf(v))&&E[d].splice(F,1):E[d]=[E[d]],"number"!=typeof A&&(A=p(v));for(var T=E[d],F=0;F<T.length&&!(A<p(T[F]));F++);T.splice(F,0,v)}else delete E[d]},m.prototype.addCommands=function(d){d&&Object.keys(d).forEach(function(v){var A=d[v];if(A){if("string"==typeof A)return this.bindKey(A,v);"object"==typeof(A="function"==typeof A?{exec:A}:A)&&(A.name||(A.name=v),this.addCommand(A))}},this)},m.prototype.removeCommands=function(d){Object.keys(d).forEach(function(v){this.removeCommand(d[v])},this)},m.prototype.bindKeys=function(d){Object.keys(d).forEach(function(v){this.bindKey(v,d[v])},this)},m.prototype._buildKeyHash=function(d){this.bindKey(d.bindKey,d)},m.prototype.parseKeys=function(d){var v=d.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(j){return j}),A=v.pop(),E=_[A];if(_.FUNCTION_KEYS[E])A=_.FUNCTION_KEYS[E].toLowerCase();else{if(!v.length)return{key:A,hashId:-1};if(1==v.length&&"shift"==v[0])return{key:A.toUpperCase(),hashId:-1}}for(var T=0,F=v.length;F--;){var $=_.KEY_MODS[v[F]];if(null==$)return typeof console<"u"&&console.error("invalid modifier "+v[F]+" in "+d),!1;T|=$}return{key:A,hashId:T}},m.prototype.findKeyCommand=function(d,v){return this.commandKeyBinding[d=C[d]+v]},m.prototype.handleKeyboard=function(d,v,A,E){var T,F;if(!(E<0))return F=this.commandKeyBinding[T=C[v]+A],d.$keyChain&&(d.$keyChain+=" "+T,F=this.commandKeyBinding[d.$keyChain]||F),!F||"chainKeys"!=F&&"chainKeys"!=F[F.length-1]?(d.$keyChain&&(v&&4!=v||1!=A.length?(-1==v||0<E)&&(d.$keyChain=""):d.$keyChain=d.$keyChain.slice(0,-T.length-1)),{command:F}):(d.$keyChain=d.$keyChain||T,{command:"null"})},m.prototype.getStatusText=function(d,v){return v.$keyChain||""},m);function m(d,v){this.$init(d,v,!1)}function p(d){return"object"==typeof d&&d.bindKey&&d.bindKey.position||(d.isDefault?-100:0)}function h(d,v){return(d=g.call(this,d,v)||this).$singleCommand=!0,d}D(h,g=f),(y=h).call=function(d,v,A){f.prototype.$init.call(d,v,A,!0)},f.call=function(d,v,A){f.prototype.$init.call(d,v,A,!1)},M.HashHandler=y,M.MultiHashHandler=f}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(C,M,Z){"use strict";var O,D,f=this&&this.__extends||(O=function(p,g){return(O=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(y,h){y.__proto__=h}:function(y,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(y[d]=h[d])}))(p,g)},function(p,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function y(){this.constructor=p}O(p,g),p.prototype=null===g?Object.create(g):(y.prototype=g.prototype,new y)}),_=C("../lib/oop"),I=C("../keyboard/hash_handler").MultiHashHandler;function m(p,g){return(g=D.call(this,g,p)||this).byName=g.commands,g.setDefaultHandler("exec",function(y){return y.args?y.command.exec(y.editor,y.args,y.event,!1):y.command.exec(y.editor,{},y.event,!0)}),g}C=C("../lib/event_emitter").EventEmitter,f(m,D=I),m.prototype.exec=function(p,g,y){if(Array.isArray(p)){for(var h=p.length;h--;)if(this.exec(p[h],g,y))return!0;return!1}var d;return!!(p="string"==typeof p?this.commands[p]:p)&&!(g&&g.$readOnly&&!p.readOnly||0!=this.$checkCommandState&&p.isAvailable&&!p.isAvailable(g)||((d={editor:g,command:p,args:y}).returnValue=this._emit("exec",d),this._signal("afterExec",d),!1===d.returnValue))},m.prototype.toggleRecording=function(p){if(!this.$inReplay)return p&&p._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(g){this.macro.push([g.command,g.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},m.prototype.replay=function(p){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(p);try{this.$inReplay=!0,this.macro.forEach(function(g){"string"==typeof g?this.exec(g,p):this.exec(g[0],p,g[1])},this)}finally{this.$inReplay=!1}}},m.prototype.trimMacro=function(p){return p.map(function(g){return"string"!=typeof g[0]&&(g[0]=g[0].name),g[1]?g:g[0]})},_.implement((f=m).prototype,C),M.CommandManager=f}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(B,M,Z){"use strict";var O=B("../lib/lang"),D=B("../config"),_=B("../range").Range;function I(f,m){return{win:f,mac:m}}M.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:I("Ctrl-,","Command-,"),exec:function(f){D.loadModule("ace/ext/settings_menu",function(m){m.init(f),f.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:I("Alt-E","F4"),exec:function(f){D.loadModule("ace/ext/error_marker",function(m){m.showErrorMarker(f,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:I("Alt-Shift-E","Shift-F4"),exec:function(f){D.loadModule("ace/ext/error_marker",function(m){m.showErrorMarker(f,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:I("Ctrl-A","Command-A"),exec:function(f){f.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:I(null,"Ctrl-L"),exec:function(f){f.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:I("Ctrl-L","Command-L"),exec:function(f,m){"number"!=typeof m||isNaN(m)||f.gotoLine(m),f.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:I("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(f){f.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:I("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(f){f.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:I("F2","F2"),exec:function(f){f.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:I("Alt-F2","Alt-F2"),exec:function(f){f.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:I(null,"Ctrl-Command-Option-0"),exec:function(f){f.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:I(null,"Ctrl-Command-Option-0"),exec:function(f){f.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:I("Alt-0","Command-Option-0"),exec:function(f){f.session.foldAll(),f.session.unfold(f.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:I("Alt-Shift-0","Command-Option-Shift-0"),exec:function(f){f.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:I("Ctrl-K","Command-G"),exec:function(f){f.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:I("Ctrl-Shift-K","Command-Shift-G"),exec:function(f){f.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:I("Alt-K","Ctrl-G"),exec:function(f){f.selection.isEmpty()?f.selection.selectWord():f.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:I("Alt-Shift-K","Ctrl-Shift-G"),exec:function(f){f.selection.isEmpty()?f.selection.selectWord():f.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:I("Ctrl-F","Command-F"),exec:function(f){D.loadModule("ace/ext/searchbox",function(m){m.Search(f)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(f){f.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:I("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(f){f.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:I("Ctrl-Home","Command-Home|Command-Up"),exec:function(f){f.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:I("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(f){f.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:I("Up","Up|Ctrl-P"),exec:function(f,m){f.navigateUp(m.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:I("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(f){f.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:I("Ctrl-End","Command-End|Command-Down"),exec:function(f){f.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:I("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(f){f.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:I("Down","Down|Ctrl-N"),exec:function(f,m){f.navigateDown(m.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:I("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(f){f.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:I("Ctrl-Left","Option-Left"),exec:function(f){f.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:I("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(f){f.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:I("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(f){f.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:I("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(f){f.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:I("Left","Left|Ctrl-B"),exec:function(f,m){f.navigateLeft(m.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:I("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(f){f.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:I("Ctrl-Right","Option-Right"),exec:function(f){f.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:I("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(f){f.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:I("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(f){f.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:I("Shift-Right","Shift-Right"),exec:function(f){f.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:I("Right","Right|Ctrl-F"),exec:function(f,m){f.navigateRight(m.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(f){f.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:I(null,"Option-PageDown"),exec:function(f){f.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:I("PageDown","PageDown|Ctrl-V"),exec:function(f){f.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(f){f.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:I(null,"Option-PageUp"),exec:function(f){f.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(f){f.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:I("Ctrl-Up",null),exec:function(f){f.renderer.scrollBy(0,-2*f.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:I("Ctrl-Down",null),exec:function(f){f.renderer.scrollBy(0,2*f.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(f){f.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(f){f.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:I("Ctrl-Alt-E","Command-Option-E"),exec:function(f){f.commands.toggleRecording(f)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:I("Ctrl-Shift-E","Command-Shift-E"),exec:function(f){f.commands.replay(f)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:I("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(f){f.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:I("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(f){f.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:I("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(f){f.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:I(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(f){},readOnly:!0},{name:"cut",description:"Cut",exec:function(f){var m=f.$copyWithEmptySelection&&f.selection.isEmpty()?f.selection.getLineRange():f.selection.getRange();f._emit("cut",m),m.isEmpty()||f.session.remove(m),f.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(f,m){f.$handlePaste(m)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:I("Ctrl-D","Command-D"),exec:function(f){f.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:I("Ctrl-Shift-D","Command-Shift-D"),exec:function(f){f.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:I("Ctrl-Alt-S","Command-Alt-S"),exec:function(f){f.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:I("Ctrl-/","Command-/"),exec:function(f){f.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:I("Ctrl-Shift-/","Command-Shift-/"),exec:function(f){f.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:I("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(f){f.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:I("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(f){f.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:I("Ctrl-H","Command-Option-F"),exec:function(f){D.loadModule("ace/ext/searchbox",function(m){m.Search(f,!0)})}},{name:"undo",description:"Undo",bindKey:I("Ctrl-Z","Command-Z"),exec:function(f){f.undo()}},{name:"redo",description:"Redo",bindKey:I("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(f){f.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:I("Alt-Shift-Up","Command-Option-Up"),exec:function(f){f.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:I("Alt-Up","Option-Up"),exec:function(f){f.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:I("Alt-Shift-Down","Command-Option-Down"),exec:function(f){f.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:I("Alt-Down","Option-Down"),exec:function(f){f.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:I("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(f){f.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:I("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(f){f.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:I("Shift-Delete",null),exec:function(f){if(!f.selection.isEmpty())return!1;f.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:I("Alt-Backspace","Command-Backspace"),exec:function(f){f.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:I("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(f){f.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:I("Ctrl-Shift-Backspace",null),exec:function(f){var m=f.selection.getRange();m.start.column=0,f.session.remove(m)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:I("Ctrl-Shift-Delete",null),exec:function(f){var m=f.selection.getRange();m.end.column=Number.MAX_VALUE,f.session.remove(m)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:I("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(f){f.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:I("Ctrl-Delete","Alt-Delete"),exec:function(f){f.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:I("Shift-Tab","Shift-Tab"),exec:function(f){f.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:I("Tab","Tab"),exec:function(f){f.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:I("Ctrl-[","Ctrl-["),exec:function(f){f.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:I("Ctrl-]","Ctrl-]"),exec:function(f){f.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(f,m){f.insert(m)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(f,m){f.insert(O.stringRepeat(m.text||"",m.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:I(null,"Ctrl-O"),exec:function(f){f.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:I("Alt-Shift-X","Ctrl-T"),exec:function(f){f.transposeLetters()},multiSelectAction:function(f){f.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:I("Ctrl-U","Ctrl-U"),exec:function(f){f.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:I("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(f){f.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:I(null,null),exec:function(f){f.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:I("Ctrl-Shift-L","Command-Shift-L"),exec:function(f){var m=f.selection.getRange();m.start.column=m.end.column=0,m.end.row++,f.selection.setRange(m,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:I("Ctrl+F3","F3"),exec:function(f){f.openLink()}},{name:"joinlines",description:"Join lines",bindKey:I(null,null),exec:function(f){for(var m=(g=f.selection.isBackwards())?f.selection.getSelectionLead():f.selection.getSelectionAnchor(),p=g?f.selection.getSelectionAnchor():f.selection.getSelectionLead(),g=f.session.doc.getLine(m.row).length,y=f.session.doc.getTextRange(f.selection.getRange()).replace(/\n\s*/," ").length,h=f.session.doc.getLine(m.row),d=m.row+1;d<=p.row+1;d++){var v=O.stringTrimLeft(O.stringTrimRight(f.session.doc.getLine(d)));h+=v=0!==v.length?" "+v:v}p.row+1<f.session.doc.getLength()-1&&(h+=f.session.doc.getNewLineCharacter()),f.clearSelection(),f.session.doc.replace(new _(m.row,0,p.row+2,0),h),0<y?(f.selection.moveCursorTo(m.row,m.column),f.selection.selectTo(m.row,m.column+y)):(g=f.session.doc.getLine(m.row).length>g?g+1:g,f.selection.moveCursorTo(m.row,g))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:I(null,null),exec:function(f){var m=f.session.doc.getLength()-1,p=f.session.doc.getLine(m).length,g=f.selection.rangeList.ranges,y=[];g.length<1&&(g=[f.selection.getRange()]);for(var h=0;h<g.length;h++)h!=g.length-1||g[h].end.row===m&&g[h].end.column===p||y.push(new _(g[h].end.row,g[h].end.column,m,p)),0===h?0===g[h].start.row&&0===g[h].start.column||y.push(new _(0,0,g[h].start.row,g[h].start.column)):y.push(new _(g[h-1].end.row,g[h-1].end.column,g[h].start.row,g[h].start.column));for(f.exitMultiSelectMode(),f.clearSelection(),h=0;h<y.length;h++)f.selection.addRange(y[h],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(f){f.selection.clearSelection(),f.navigateLineEnd(),f.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(f){f.selection.clearSelection();var m=f.getCursorPosition();f.selection.moveTo(m.row-1,Number.MAX_VALUE),f.insert("\n"),0===m.row&&f.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:I("F1","F1"),exec:function(f){f.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:I(null,null),exec:function(f){f.prompt({$type:"modes"})},readOnly:!0}];for(var C=1;C<9;C++)M.commands.push({name:"foldToLevel"+C,description:"Fold To Level "+C,level:C,exec:function(f){f.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(B,M,Z){"use strict";var O=B("./lib/dom");function D(_){this.session=_,(this.session.widgetManager=this).session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}D.prototype.getRowLength=function(_){var I=this.lineWidgets&&this.lineWidgets[_]&&this.lineWidgets[_].rowCount||0;return this.$useWrapMode&&this.$wrapData[_]?this.$wrapData[_].length+1+I:1+I},D.prototype.$getWidgetScreenLength=function(){var _=0;return this.lineWidgets.forEach(function(I){I&&I.rowCount&&!I.hidden&&(_+=I.rowCount)}),_},D.prototype.$onChangeEditor=function(_){this.attach(_.editor)},D.prototype.attach=function(_){_&&_.widgetManager&&_.widgetManager!=this&&_.widgetManager.detach(),this.editor!=_&&(this.detach(),this.editor=_)&&(_.widgetManager=this,_.renderer.on("beforeRender",this.measureWidgets),_.renderer.on("afterRender",this.renderWidgets))},D.prototype.detach=function(_){var I=this.editor;I&&(this.editor=null,I.widgetManager=null,I.renderer.off("beforeRender",this.measureWidgets),I.renderer.off("afterRender",this.renderWidgets),I=this.session.lineWidgets)&&I.forEach(function(C){C&&C.el&&C.el.parentNode&&(C._inDocument=!1,C.el.parentNode.removeChild(C.el))})},D.prototype.updateOnFold=function(_,I){var C=I.lineWidgets;if(C&&_.action){for(var f=(I=_.data).start.row,m=I.end.row,p="add"==_.action,g=f+1;g<m;g++)C[g]&&(C[g].hidden=p);C[m]&&(p?C[f]?C[m].hidden=p:C[f]=C[m]:(C[f]==C[m]&&(C[f]=void 0),C[m].hidden=p))}},D.prototype.updateOnChange=function(_){var I,C,f,m=this.session.lineWidgets;m&&0!=(C=_.end.row-(I=_.start.row))&&("remove"==_.action?(f=m.splice(I+1,C),!m[I]&&f[f.length-1]&&(m[I]=f.pop()),f.forEach(function(p){p&&this.removeLineWidget(p)},this)):(f=new Array(C),m[I]&&null!=m[I].column&&_.start.column>m[I].column&&I++,f.unshift(I,0),m.splice.apply(m,f)),this.$updateRows())},D.prototype.$updateRows=function(){var _,I=this.session.lineWidgets;I&&(_=!0,I.forEach(function(C,f){if(C)for(_=!1,C.row=f;C.$oldWidget;)C.$oldWidget.row=f,C=C.$oldWidget}),_)&&(this.session.lineWidgets=null)},D.prototype.$registerLineWidget=function(_){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var I=this.session.lineWidgets[_.row];return I&&(_.$oldWidget=I).el&&I.el.parentNode&&(I.el.parentNode.removeChild(I.el),I._inDocument=!1),this.session.lineWidgets[_.row]=_},D.prototype.addLineWidget=function(_){var I,C,f;return this.$registerLineWidget(_),_.session=this.session,this.editor&&(I=this.editor.renderer,_.html&&!_.el&&(_.el=O.createElement("div"),_.el.innerHTML=_.html),_.text&&!_.el&&(_.el=O.createElement("div"),_.el.textContent=_.text),_.el&&(O.addCssClass(_.el,"ace_lineWidgetContainer"),_.className&&O.addCssClass(_.el,_.className),_.el.style.position="absolute",_.el.style.zIndex=5,I.container.appendChild(_.el),_._inDocument=!0,_.coverGutter||(_.el.style.zIndex=3),null==_.pixelHeight)&&(_.pixelHeight=_.el.offsetHeight),null==_.rowCount&&(_.rowCount=_.pixelHeight/I.layerConfig.lineHeight),C=this.session.getFoldAt(_.row,0),(_.$fold=C)&&(f=this.session.lineWidgets,_.row!=C.end.row||f[C.start.row]?_.hidden=!0:f[C.start.row]=_),this.session._emit("changeFold",{data:{start:{row:_.row}}}),this.$updateRows(),this.renderWidgets(null,I),this.onWidgetChanged(_)),_},D.prototype.removeLineWidget=function(_){if(_._inDocument=!1,_.session=null,_.el&&_.el.parentNode&&_.el.parentNode.removeChild(_.el),_.editor&&_.editor.destroy)try{_.editor.destroy()}catch{}if(this.session.lineWidgets){var I=this.session.lineWidgets[_.row];if(I==_)this.session.lineWidgets[_.row]=_.$oldWidget,_.$oldWidget&&this.onWidgetChanged(_.$oldWidget);else for(;I;){if(I.$oldWidget==_){I.$oldWidget=_.$oldWidget;break}I=I.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:_.row}}}),this.$updateRows()},D.prototype.getWidgetsAtRow=function(_){for(var I=this.session.lineWidgets,C=I&&I[_],f=[];C;)f.push(C),C=C.$oldWidget;return f},D.prototype.onWidgetChanged=function(_){this.session._changedWidgets.push(_),this.editor&&this.editor.renderer.updateFull()},D.prototype.measureWidgets=function(_,I){var C=this.session._changedWidgets,f=I.layerConfig;if(C&&C.length){for(var m=1/0,p=0;p<C.length;p++){var g=C[p];if(g&&g.el&&g.session==this.session){if(!g._inDocument){if(this.session.lineWidgets[g.row]!=g)continue;g._inDocument=!0,I.container.appendChild(g.el)}g.h=g.el.offsetHeight,g.fixedWidth||(g.w=g.el.offsetWidth,g.screenWidth=Math.ceil(g.w/f.characterWidth));var y=g.h/f.lineHeight;g.coverLine&&(y-=this.session.getRowLineCount(g.row))<0&&(y=0),g.rowCount!=y&&(g.rowCount=y,g.row<m)&&(m=g.row)}}m!=1/0&&(this.session._emit("changeFold",{data:{start:{row:m}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},D.prototype.renderWidgets=function(_,I){var C=I.layerConfig,f=this.session.lineWidgets;if(f){for(var m=Math.min(this.firstRow,C.firstRow),p=Math.max(this.lastRow,C.lastRow,f.length);0<m&&!f[m];)m--;this.firstRow=C.firstRow,this.lastRow=C.lastRow,I.$cursorLayer.config=C;for(var g=m;g<=p;g++){var y,h=f[g];h&&h.el&&(h.hidden?h.el.style.top=-100-(h.pixelHeight||0)+"px":(h._inDocument||(h._inDocument=!0,I.container.appendChild(h.el)),y=I.$cursorLayer.getPixelPosition({row:g,column:0},!0).top,h.coverLine||(y+=C.lineHeight*this.session.getRowLineCount(h.row)),h.el.style.top=y-C.offset+"px",y=h.coverGutter?0:I.gutterWidth,h.fixedWidth||(y-=I.scrollLeft),h.el.style.left=y+"px",h.fullWidth&&h.screenWidth&&(h.el.style.minWidth=C.width+2*C.padding+"px"),h.el.style.right=h.fixedWidth?I.scrollBar.getWidth()+"px":""))}}},M.LineWidgets=D}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(B,M,Z){"use strict";var O=B("../lib/keys"),D=B("../mouse/default_gutter_handler").GutterTooltip;function _(f){this.editor=f,this.gutterLayer=f.renderer.$gutterLayer,this.element=f.renderer.$gutter,this.lines=f.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new D(this.editor)}_.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},_.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},_.prototype.$onGutterKeyDown=function(f){var m;this.annotationTooltip.isOpen?(f.preventDefault(),f.keyCode===O.escape&&this.annotationTooltip.hideTooltip()):f.target===this.element?f.keyCode==O.enter&&(f.preventDefault(),m=this.editor.getCursorPosition().row,this.editor.isRowVisible(m)||this.editor.scrollToLine(m,!0,!0),setTimeout(function(){var p=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),g=this.$findNearestFoldWidget(p),y=this.$findNearestAnnotation(p);null===g&&null===y||(null===g&&null!==y||(null===g||null!==y)&&Math.abs(y-p)<Math.abs(g-p)?(this.activeRowIndex=y,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex)):(this.activeRowIndex=g,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex)))}.bind(this),10)):(this.$handleGutterKeyboardInteraction(f),setTimeout(function(){this.editor._signal("gutterkeydown",new I(f,this))}.bind(this),10))},_.prototype.$handleGutterKeyboardInteraction=function(f){if(f.keyCode===O.tab)f.preventDefault();else if(f.keyCode===O.escape)f.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;else if(f.keyCode===O.up)switch(f.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp()}else if(f.keyCode===O.down)switch(f.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown()}else if(f.keyCode===O.left)f.preventDefault(),this.$switchLane("annotation");else if(f.keyCode===O.right)f.preventDefault(),this.$switchLane("fold");else if(f.keyCode===O.enter||f.keyCode===O.space)switch(f.preventDefault(),this.activeLane){case"fold":if("start"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]){var m=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),f),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==m&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(m),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}if("end"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)])break;return;case"annotation":var p=this.lines.cells[this.activeRowIndex].element.childNodes[2].getBoundingClientRect(),g=this.annotationTooltip.getElement().style;g.left=p.right+"px",g.top=p.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex))}},_.prototype.$blurGutter=function(){if(null!==this.activeRowIndex)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex)}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},_.prototype.$isFoldWidgetVisible=function(p){var m=this.editor.isRowFullyVisible(this.$rowIndexToRow(p));return p="none"!==this.$getFoldWidget(p).style.display,m&&p},_.prototype.$isAnnotationVisible=function(p){var m=this.editor.isRowFullyVisible(this.$rowIndexToRow(p));return p="none"!==this.$getAnnotation(p).style.display,m&&p},_.prototype.$getFoldWidget=function(f){return this.lines.get(f).element.childNodes[1]},_.prototype.$getAnnotation=function(f){return this.lines.get(f).element.childNodes[2]},_.prototype.$findNearestFoldWidget=function(f){if(this.$isFoldWidgetVisible(f))return f;for(var m=0;0<f-m||f+m<this.lines.getLength()-1;){if(0<=f-++m&&this.$isFoldWidgetVisible(f-m))return f-m;if(f+m<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(f+m))return f+m}return null},_.prototype.$findNearestAnnotation=function(f){if(this.$isAnnotationVisible(f))return f;for(var m=0;0<f-m||f+m<this.lines.getLength()-1;){if(0<=f-++m&&this.$isAnnotationVisible(f-m))return f-m;if(f+m<=this.lines.getLength()-1&&this.$isAnnotationVisible(f+m))return f+m}return null},_.prototype.$focusFoldWidget=function(f){null!=f&&((f=this.$getFoldWidget(f)).classList.add(this.editor.renderer.keyboardFocusClassName),f.focus())},_.prototype.$focusAnnotation=function(f){null!=f&&((f=this.$getAnnotation(f)).classList.add(this.editor.renderer.keyboardFocusClassName),f.focus())},_.prototype.$blurFoldWidget=function(f){(f=this.$getFoldWidget(f)).classList.remove(this.editor.renderer.keyboardFocusClassName),f.blur()},_.prototype.$blurAnnotation=function(f){(f=this.$getAnnotation(f)).classList.remove(this.editor.renderer.keyboardFocusClassName),f.blur()},_.prototype.$moveFoldWidgetUp=function(){for(var f=this.activeRowIndex;0<f;)if(this.$isFoldWidgetVisible(--f))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=f,void this.$focusFoldWidget(this.activeRowIndex)},_.prototype.$moveFoldWidgetDown=function(){for(var f=this.activeRowIndex;f<this.lines.getLength()-1;)if(this.$isFoldWidgetVisible(++f))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=f,void this.$focusFoldWidget(this.activeRowIndex)},_.prototype.$moveAnnotationUp=function(){for(var f=this.activeRowIndex;0<f;)if(this.$isAnnotationVisible(--f))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=f,void this.$focusAnnotation(this.activeRowIndex)},_.prototype.$moveAnnotationDown=function(){for(var f=this.activeRowIndex;f<this.lines.getLength()-1;)if(this.$isAnnotationVisible(++f))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=f,void this.$focusAnnotation(this.activeRowIndex)},_.prototype.$switchLane=function(f){switch(f){case"annotation":"annotation"!==this.activeLane&&null!=(m=this.$findNearestAnnotation(this.activeRowIndex))&&(this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=m,this.$focusAnnotation(this.activeRowIndex));break;case"fold":var m;"fold"!==this.activeLane&&null!=(m=this.$findNearestFoldWidget(this.activeRowIndex))&&(this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=m,this.$focusFoldWidget(this.activeRowIndex))}},_.prototype.$rowIndexToRow=function(f){return(f=this.lines.get(f))?f.row:null},_.prototype.$rowToRowIndex=function(f){for(var m=0;m<this.lines.getLength();m++)if(this.lines.get(m).row==f)return m;return null},M.GutterKeyboardHandler=_,C.prototype.getKey=function(){return O.keyCodeToString(this.domEvent.keyCode)},C.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},C.prototype.isInAnnotationLane=function(){return"annotation"===this.gutterKeyboardHandler.activeLane},C.prototype.isInFoldLane=function(){return"fold"===this.gutterKeyboardHandler.activeLane};var I=C;function C(f,m){this.gutterKeyboardHandler=m,this.domEvent=f}M.GutterKeyboardEvent=I}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(S,M,Z){"use strict";var O=this&&this.__values||function(N){var K="function"==typeof Symbol&&Symbol.iterator,ie=K&&N[K],Q=0;if(ie)return ie.call(N);if(N&&"number"==typeof N.length)return{next:function(){return{value:(N=N&&Q>=N.length?void 0:N)&&N[Q++],done:!N}}};throw new TypeError(K?"Object is not iterable.":"Symbol.iterator is not defined.")},D=S("./lib/oop"),_=S("./lib/dom"),I=S("./lib/lang"),C=S("./lib/useragent"),f=S("./keyboard/textinput").TextInput,m=S("./mouse/mouse_handler").MouseHandler,p=S("./mouse/fold_handler").FoldHandler,g=S("./keyboard/keybinding").KeyBinding,y=S("./edit_session").EditSession,h=S("./search").Search,d=S("./range").Range,v=S("./lib/event_emitter").EventEmitter,A=S("./commands/command_manager").CommandManager,E=S("./commands/default_commands").commands,T=S("./config"),F=S("./token_iterator").TokenIterator,$=S("./line_widgets").LineWidgets,j=S("./keyboard/gutter_handler").GutterKeyboardHandler,te=S("./config").nls,Y=S("./clipboard"),ae=S("./lib/keys");function R(N,K,ie){this.$toDestroy=[];var Q=N.getContainerElement();this.container=Q,this.renderer=N,this.id="editor"+ ++R.$uid,this.commands=new A(C.isMac?"mac":"win",E),"object"==typeof document&&(this.textInput=new f(N.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new m(this),new p(this)),this.keyBinding=new g(this),this.$search=(new h).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=I.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(be,Ie){Ie._$emitInputEvent.schedule(31)}),this.setSession(K||ie&&ie.session||new y("")),T.resetOptions(this),ie&&this.setOptions(ie),T._signal("editor",this)}(R.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=I.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},R.prototype.startOperation=function(N){if(this.curOp){if(!N||this.curOp.command)return;this.prevOp=this.curOp}N||(this.previousCommand=null,N={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:N.command||{},args:N.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},R.prototype.endOperation=function(N){if(this.curOp&&this.session){if(N&&!1===N.returnValue||!this.session)return this.curOp=null;if((1!=N||!this.curOp.command||"mouse"!=this.curOp.command.name)&&(this._signal("beforeEndOperation"),this.curOp)){var K=(N=this.curOp.command)&&N.scrollIntoView;if(K){switch(K){case"center-animate":K="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var ie=this.selection.getRange(),Q=this.renderer.layerConfig;(ie.start.row>=Q.lastRow||ie.end.row<=Q.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==K&&this.renderer.animateScrolling(this.curOp.scrollTop)}N=this.selection.toJSON(),this.curOp.selectionAfter=N,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(N),this.prevOp=this.curOp,this.curOp=null}}},R.prototype.$historyTracker=function(N){var K,ie,Q,be;this.$mergeUndoDeltas&&(ie=this.$mergeableCommands,Q=(K=this.prevOp).command&&N.command.name==K.command.name,"insertstring"==N.command.name?(be=N.args,void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),Q=Q&&this.mergeNextCommand&&(!/\s/.test(be)||/\s/.test(K.args)),this.mergeNextCommand=!0):Q=Q&&-1!==ie.indexOf(N.command.name),(Q=!("always"!=this.$mergeUndoDeltas&&2e3<Date.now()-this.sequenceStartTime)&&Q)?this.session.mergeUndoDeltas=!0:-1!==ie.indexOf(N.command.name)&&(this.sequenceStartTime=Date.now()))},R.prototype.setKeyboardHandler=function(N,K){var ie;N&&"string"==typeof N&&"ace"!=N?(this.$keybindingId=N,ie=this,T.loadModule(["keybinding",N],function(Q){ie.$keybindingId==N&&ie.keyBinding.setKeyboardHandler(Q&&Q.handler),K&&K()})):(this.$keybindingId=null,this.keyBinding.setKeyboardHandler(N),K&&K())},R.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},R.prototype.setSession=function(N){var K,ie;this.session!=N&&(this.curOp&&this.endOperation(),this.curOp={},(K=this.session)&&(this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),(ie=this.session.getSelection()).off("changeCursor",this.$onCursorChange),ie.off("changeSelection",this.$onSelectionChange)),(this.session=N)?(this.$onDocumentChange=this.onDocumentChange.bind(this),N.on("change",this.$onDocumentChange),this.renderer.setSession(N),this.$onChangeMode=this.onChangeMode.bind(this),N.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),N.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),N.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),N.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),N.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),N.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=N.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(N)),this._signal("changeSession",{session:N,oldSession:K}),this.curOp=null,K&&K._signal("changeEditor",{oldEditor:this}),N&&N._signal("changeEditor",{editor:this}),N)&&!N.destroyed&&N.bgTokenizer.scheduleStart()},R.prototype.getSession=function(){return this.session},R.prototype.setValue=function(N,K){return this.session.doc.setValue(N),K?1==K?this.navigateFileEnd():-1==K&&this.navigateFileStart():this.selectAll(),N},R.prototype.getValue=function(){return this.session.getValue()},R.prototype.getSelection=function(){return this.selection},R.prototype.resize=function(N){this.renderer.onResize(N)},R.prototype.setTheme=function(N,K){this.renderer.setTheme(N,K)},R.prototype.getTheme=function(){return this.renderer.getTheme()},R.prototype.setStyle=function(N){this.renderer.setStyle(N)},R.prototype.unsetStyle=function(N){this.renderer.unsetStyle(N)},R.prototype.getFontSize=function(){return this.getOption("fontSize")||_.computedStyle(this.container).fontSize},R.prototype.setFontSize=function(N){this.setOption("fontSize",N)},R.prototype.$highlightBrackets=function(){var N;this.$highlightPending||((N=this).$highlightPending=!0,setTimeout(function(){N.$highlightPending=!1;var K,ie,Q,be,Ie=N.session;Ie&&!Ie.destroyed&&(Ie.$bracketHighlight&&(Ie.$bracketHighlight.markerIds.forEach(function(pe){Ie.removeMarker(pe)}),Ie.$bracketHighlight=null),K=N.getCursorPosition(),ie=(ie=N.getKeyboardHandler())&&ie.$getDirectionForHighlight&&ie.$getDirectionForHighlight(N),(ie=Ie.getMatchingBracketRanges(K,ie))||(Q=new F(Ie,K.row,K.column).getCurrentToken())&&/\b(?:tag-open|tag-name)/.test(Q.type)&&(Q=Ie.getMatchingTags(K))&&(ie=[Q.openTagName,Q.closeTagName]),(ie=!ie&&Ie.$mode.getMatching?Ie.$mode.getMatching(N.session):ie)&&(be="ace_bracket",Array.isArray(ie)?1==ie.length&&(be="ace_error_bracket"):ie=[ie],2==ie.length&&(0==d.comparePoints(ie[0].end,ie[1].start)?ie=[d.fromPoints(ie[0].start,ie[1].end)]:0==d.comparePoints(ie[0].start,ie[1].end)&&(ie=[d.fromPoints(ie[1].start,ie[0].end)])),Ie.$bracketHighlight={ranges:ie,markerIds:ie.map(function(pe){return Ie.addMarker(pe,be,"text")})}),N.getHighlightIndentGuides())&&N.renderer.$textLayer.$highlightIndentGuide()},50))},R.prototype.focus=function(){this.textInput.focus()},R.prototype.isFocused=function(){return this.textInput.isFocused()},R.prototype.blur=function(){this.textInput.blur()},R.prototype.onFocus=function(N){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",N))},R.prototype.onBlur=function(N){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",N))},R.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},R.prototype.onDocumentChange=function(N){this.renderer.updateLines(N.start.row,N.start.row==N.end.row?N.end.row:1/0,this.session.$useWrapMode),this._signal("change",N),this.$cursorChange()},R.prototype.onTokenizerUpdate=function(N){this.renderer.updateLines((N=N.data).first,N.last)},R.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},R.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},R.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},R.prototype.$updateHighlightActiveLine=function(){var N,K,ie=this.getSession();this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(N=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(N=!1),!this.renderer.$maxLines||1!==this.session.getLength()||1<this.renderer.$minLines||(N=!1)),ie.$highlightLineMarker&&!N?(ie.removeMarker(ie.$highlightLineMarker.id),ie.$highlightLineMarker=null):!ie.$highlightLineMarker&&N?((K=new d(N.row,N.column,N.row,1/0)).id=ie.addMarker(K,"ace_active-line","screenLine"),ie.$highlightLineMarker=K):N&&(ie.$highlightLineMarker.start.row=N.row,ie.$highlightLineMarker.end.row=N.row,ie.$highlightLineMarker.start.column=N.column,ie._signal("changeBackMarker"))},R.prototype.onSelectionChange=function(N){var K,ie,Q=((Q=this.session).$selectionMarker&&Q.removeMarker(Q.$selectionMarker),Q.$selectionMarker=null,this.selection.isEmpty()?this.$updateHighlightActiveLine():(K=this.selection.getRange(),ie=this.getSelectionStyle(),Q.$selectionMarker=Q.addMarker(K,"ace_selection",ie)),this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp());this.session.highlight(Q),this._signal("changeSelection")},R.prototype.$getSelectionHighLightRegexp=function(){var N=this.session;if(!(K=this.getSelectionRange()).isEmpty()&&!K.isMultiLine()){var K,ie=K.start.column,Q=K.end.column;if(!(5e3<(K=(N=N.getLine(K.start.row)).substring(ie,Q)).length)&&/[\w\d]/.test(K)&&(K=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:K}),N=N.substring(ie-1,Q+1),K.test(N)))return K}},R.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},R.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},R.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},R.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},R.prototype.onChangeMode=function(N){this.renderer.updateText(),this._emit("changeMode",N)},R.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},R.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},R.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},R.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},R.prototype.getCopyText=function(){var N=this.getSelectedText(),K=this.session.doc.getNewLineCharacter(),ie=!1;if(!N&&this.$copyWithEmptySelection){ie=!0;for(var Q=this.selection.getAllRanges(),be=0;be<Q.length;be++){var Ie=Q[be];be&&Q[be-1].start.row==Ie.start.row||(N+=this.session.getLine(Ie.start.row)+K)}}var pe={text:N};return this._signal("copy",pe),Y.lineMode=!!ie&&pe.text,pe.text},R.prototype.onCopy=function(){this.commands.exec("copy",this)},R.prototype.onCut=function(){this.commands.exec("cut",this)},R.prototype.onPaste=function(N,K){this.commands.exec("paste",this,{text:N,event:K})},R.prototype.$handlePaste=function(ie){this._signal("paste",ie="string"==typeof ie?{text:ie}:ie);var K=ie.text,Q=(ie=K===Y.lineMode,this.session);if(!this.inMultiSelectMode||this.inVirtualSelectionMode)ie?Q.insert({row:this.selection.lead.row,column:0},K):this.insert(K);else if(ie)this.selection.rangeList.ranges.forEach(function(U){Q.insert({row:U.start.row,column:0},K)});else{var be=K.split(/\r\n|\r|\n/),Ie=this.selection.rangeList.ranges;if(ie=!(2!=be.length||be[0]&&be[1]),be.length!=Ie.length||ie)return this.commands.exec("insertstring",this,K);for(var pe=Ie.length;pe--;){var Te=Ie[pe];Te.isEmpty()||Q.remove(Te),Q.insert(Te.start,be[pe])}}},R.prototype.execCommand=function(N,K){return this.commands.exec(N,this,K)},R.prototype.insert=function(N,Te){var ie,Q=this.session,be=Q.getMode(),Ie=this.getCursorPosition(),pe=(this.getBehavioursEnabled()&&!Te&&(ie=be.transformAction(Q.getState(Ie.row),"insertion",this,Q,N))&&(N===ie.text||this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1),N=ie.text),"\t"==N&&(N=this.session.getTabString()),this.selection.isEmpty()?this.session.getOverwrite()&&-1==N.indexOf("\n")&&((pe=new d.fromPoints(Ie,Ie)).end.column+=N.length,this.session.remove(pe)):(pe=this.getSelectionRange(),Ie=this.session.remove(pe),this.clearSelection()),"\n"!=N&&"\r\n"!=N||(U=Q.getLine(Ie.row),Ie.column>U.search(/\S|$/)&&(Te=U.substr(Ie.column).search(/\S|$/),Q.doc.removeInLine(Ie.row,Ie.column,Ie.column+Te))),this.clearSelection(),Ie.column),U=(Te=Q.getState(Ie.row),Q.getLine(Ie.row)),re=be.checkOutdent(Te,U,N);Q.insert(Ie,N),ie&&ie.selection&&this.selection.setSelectionRange(2==ie.selection.length?new d(Ie.row,pe+ie.selection[0],Ie.row,pe+ie.selection[1]):new d(Ie.row+ie.selection[0],ie.selection[1],Ie.row+ie.selection[2],ie.selection[3])),this.$enableAutoIndent&&(Q.getDocument().isNewLine(N)&&(pe=be.getNextLineIndent(Te,U.slice(0,Ie.column),Q.getTabString()),Q.insert({row:Ie.row+1,column:0},pe)),re)&&be.autoOutdent(Te,Q,Ie.row)},R.prototype.autoIndent=function(){for(var N,K,ie,Q,be,Ie=this.session,pe=Ie.getMode(),Te=(ie=this.selection.isEmpty()?(K=0,Ie.doc.getLength()-1):(K=(N=this.getSelectionRange()).start.row,N.end.row),""),U="",re=Ie.getTabString(),se=K;se<=ie;se++)0<se&&(Te=Ie.getState(se-1),Q=Ie.getLine(se-1),U=pe.getNextLineIndent(Te,Q,re)),Q=Ie.getLine(se),U!==(be=pe.$getIndent(Q))&&(0<be.length&&(be=new d(se,0,se,be.length),Ie.remove(be)),0<U.length)&&Ie.insert({row:se,column:0},U),pe.autoOutdent(Te,Ie,se)},R.prototype.onTextInput=function(N,K){if(!K)return this.keyBinding.onTextInput(N);this.startOperation({command:{name:"insertstring"}}),N=this.applyComposition.bind(this,N,K),this.selection.rangeCount?this.forEachSelection(N):N(),this.endOperation()},R.prototype.applyComposition=function(N,K){var ie;(K.extendLeft||K.extendRight)&&((ie=this.selection.getRange()).start.column-=K.extendLeft,ie.end.column+=K.extendRight,ie.start.column<0&&(ie.start.row--,ie.start.column+=this.session.getLine(ie.start.row).length+1),this.selection.setRange(ie),N||ie.isEmpty()||this.remove()),!N&&this.selection.isEmpty()||this.insert(N,!0),(K.restoreStart||K.restoreEnd)&&((ie=this.selection.getRange()).start.column-=K.restoreStart,ie.end.column-=K.restoreEnd,this.selection.setRange(ie))},R.prototype.onCommandKey=function(N,K,ie){return this.keyBinding.onCommandKey(N,K,ie)},R.prototype.setOverwrite=function(N){this.session.setOverwrite(N)},R.prototype.getOverwrite=function(){return this.session.getOverwrite()},R.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},R.prototype.setScrollSpeed=function(N){this.setOption("scrollSpeed",N)},R.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},R.prototype.setDragDelay=function(N){this.setOption("dragDelay",N)},R.prototype.getDragDelay=function(){return this.getOption("dragDelay")},R.prototype.setSelectionStyle=function(N){this.setOption("selectionStyle",N)},R.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},R.prototype.setHighlightActiveLine=function(N){this.setOption("highlightActiveLine",N)},R.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},R.prototype.setHighlightGutterLine=function(N){this.setOption("highlightGutterLine",N)},R.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},R.prototype.setHighlightSelectedWord=function(N){this.setOption("highlightSelectedWord",N)},R.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},R.prototype.setAnimatedScroll=function(N){this.renderer.setAnimatedScroll(N)},R.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},R.prototype.setShowInvisibles=function(N){this.renderer.setShowInvisibles(N)},R.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},R.prototype.setDisplayIndentGuides=function(N){this.renderer.setDisplayIndentGuides(N)},R.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},R.prototype.setHighlightIndentGuides=function(N){this.renderer.setHighlightIndentGuides(N)},R.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},R.prototype.setShowPrintMargin=function(N){this.renderer.setShowPrintMargin(N)},R.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},R.prototype.setPrintMarginColumn=function(N){this.renderer.setPrintMarginColumn(N)},R.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},R.prototype.setReadOnly=function(N){this.setOption("readOnly",N)},R.prototype.getReadOnly=function(){return this.getOption("readOnly")},R.prototype.setBehavioursEnabled=function(N){this.setOption("behavioursEnabled",N)},R.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},R.prototype.setWrapBehavioursEnabled=function(N){this.setOption("wrapBehavioursEnabled",N)},R.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},R.prototype.setShowFoldWidgets=function(N){this.setOption("showFoldWidgets",N)},R.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},R.prototype.setFadeFoldWidgets=function(N){this.setOption("fadeFoldWidgets",N)},R.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},R.prototype.remove=function(be){var K,ie,Q;this.selection.isEmpty()&&("left"==be?this.selection.selectLeft():this.selection.selectRight()),be=this.getSelectionRange(),this.getBehavioursEnabled()&&(ie=(K=this.session).getState(be.start.row),ie=K.getMode().transformAction(ie,"deletion",this,K,be),0===be.end.column&&"\n"==(Q=K.getTextRange(be))[Q.length-1]&&(Q=K.getLine(be.end.row),/^\s+$/.test(Q))&&(be.end.column=Q.length),ie)&&(be=ie),this.session.remove(be),this.clearSelection()},R.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},R.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},R.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},R.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var N=this.getSelectionRange();N.start.column==N.end.column&&N.start.row==N.end.row&&(N.end.column=0,N.end.row++),this.session.remove(N),this.clearSelection()},R.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var N=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(N)},R.prototype.setGhostText=function(N,K){this.session.widgetManager||(this.session.widgetManager=new $(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(N,K)},R.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},R.prototype.transposeLetters=function(){var N,K,ie,Q;this.selection.isEmpty()&&0!==(K=(N=this.getCursorPosition()).column)&&(Q=K<(Q=this.session.getLine(N.row)).length?(ie=Q.charAt(K)+Q.charAt(K-1),new d(N.row,K-1,N.row,K+1)):(ie=Q.charAt(K-1)+Q.charAt(K-2),new d(N.row,K-2,N.row,K)),this.session.replace(Q,ie),this.session.selection.moveToPosition(Q.end))},R.prototype.toLowerCase=function(){var N=this.getSelectionRange(),K=(this.selection.isEmpty()&&this.selection.selectWord(),this.getSelectionRange()),ie=this.session.getTextRange(K);this.session.replace(K,ie.toLowerCase()),this.selection.setSelectionRange(N)},R.prototype.toUpperCase=function(){var N=this.getSelectionRange(),K=(this.selection.isEmpty()&&this.selection.selectWord(),this.getSelectionRange()),ie=this.session.getTextRange(K);this.session.replace(K,ie.toUpperCase()),this.selection.setSelectionRange(N)},R.prototype.indent=function(){var N=this.session,K=this.getSelectionRange();if(!(K.start.row<K.end.row)){if(K.start.column<K.end.column){var ie,Ie=N.getTextRange(K);if(!/^\s+$/.test(Ie))return ie=this.$getSelectedRows(),void N.indentRows(ie.first,ie.last,"\t")}var Q=N.getLine(K.start.row),be=(Ie=K.start,N.getTabSize());if(Ie=N.documentToScreenColumn(Ie.row,Ie.column),this.session.getUseSoftTabs())var pe=be-Ie%be,Te=I.stringRepeat(" ",pe);else{for(pe=Ie%be;" "==Q[K.start.column-1]&&pe;)K.start.column--,pe--;this.selection.setSelectionRange(K),Te="\t"}return this.insert(Te)}ie=this.$getSelectedRows(),N.indentRows(ie.first,ie.last,"\t")},R.prototype.blockIndent=function(){var N=this.$getSelectedRows();this.session.indentRows(N.first,N.last,"\t")},R.prototype.blockOutdent=function(){var N=this.session.getSelection();this.session.outdentRows(N.getRange())},R.prototype.sortLines=function(){for(var N=this.$getSelectedRows(),K=this.session,ie=[],Q=N.first;Q<=N.last;Q++)ie.push(K.getLine(Q));ie.sort(function(pe,Te){return pe.toLowerCase()<Te.toLowerCase()?-1:pe.toLowerCase()>Te.toLowerCase()?1:0});var be=new d(0,0,0,0);for(Q=N.first;Q<=N.last;Q++){var Ie=K.getLine(Q);be.start.row=Q,be.end.row=Q,be.end.column=Ie.length,K.replace(be,ie[Q-N.first])}},R.prototype.toggleCommentLines=function(){var N=this.session.getState(this.getCursorPosition().row),K=this.$getSelectedRows();this.session.getMode().toggleCommentLines(N,this.session,K.first,K.last)},R.prototype.toggleBlockComment=function(){var N=this.getCursorPosition(),K=this.session.getState(N.row),ie=this.getSelectionRange();this.session.getMode().toggleBlockComment(K,this.session,ie,N)},R.prototype.getNumberAt=function(N,K){for(var ie=/[\-]?[0-9]+(?:\.[0-9]+)?/g,Q=(ie.lastIndex=0,this.session.getLine(N));ie.lastIndex<K;){var be=ie.exec(Q);if(be.index<=K&&be.index+be[0].length>=K)return{value:be[0],start:be.index,end:be.index+be[0].length}}return null},R.prototype.modifyNumber=function(N){var K,ie,Q,be=this.selection.getCursor().row,Ie=this.selection.getCursor().column,pe=new d(be,Ie-1,be,Ie);pe=this.session.getTextRange(pe),!isNaN(parseFloat(pe))&&isFinite(pe)?(pe=this.getNumberAt(be,Ie))&&(Q=0<=pe.value.indexOf(".")?pe.start+pe.value.indexOf(".")+1:pe.end,K=pe.start+pe.value.length-Q,ie=parseFloat(pe.value),ie*=Math.pow(10,K),Q=(ie=(ie+=N*=Q!==pe.end&&Ie<Q?Math.pow(10,pe.end-Ie-1):Math.pow(10,pe.end-Ie))/Math.pow(10,K)).toFixed(K),N=new d(be,pe.start,be,pe.end),this.session.replace(N,Q),this.moveCursorTo(be,Math.max(pe.start+1,Ie+Q.length-pe.value.length))):this.toggleWord()},R.prototype.toggleWord=function(){for(var N,K=this.selection.getCursor().row,ie=this.selection.getCursor().column,Q=(this.selection.selectWord(),this.getSelectedText()),be=this.selection.getWordRange().start.column,Ie=Q.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),pe=ie-be-1,Te=(pe<0&&(pe=0),0),U=this,re=(Q.match(/[A-Za-z0-9_]+/)&&Ie.forEach(function(ce,Ae){N=Te+ce.length,Te<=pe&&pe<=N&&(Q=ce,U.selection.clearSelection(),U.moveCursorTo(K,Te+be),U.selection.selectTo(K,N+be)),Te=N}),this.$toggleWordPairs),se=0;se<re.length;se++)for(var ge=re[se],G=0;G<=1;G++){var W=+!G,q=Q.match(new RegExp("^\\s?_?("+I.escapeRegExp(ge[G])+")\\s?$","i"));q&&Q.match(new RegExp("([_]|^|\\s)("+I.escapeRegExp(q[1])+")($|\\s)","g"))&&(q=Q.replace(new RegExp(I.escapeRegExp(ge[G]),"i"),function(ce){var Ae=ge[W];return ce.toUpperCase()==ce?Ae=Ae.toUpperCase():ce.charAt(0).toUpperCase()==ce.charAt(0)&&(Ae=Ae.substr(0,0)+ge[W].charAt(0).toUpperCase()+Ae.substr(1)),Ae}),this.insert(q))}},R.prototype.findLinkAt=function(Ie,K){Ie=this.session.getLine(Ie).split(/((?:https?|ftp):\/\/[\S]+)/);var ie,Q,be,pe=K,Te=(pe<0&&(pe=0),0);try{for(var U=O(Ie),re=U.next();!re.done;re=U.next()){var se=re.value,ge=Te+se.length;if(Te<=pe&&pe<=ge&&se.match(/((?:https?|ftp):\/\/[\S]+)/)){be=se.replace(/[\s:.,'";}\]]+$/,"");break}Te=ge}}catch(G){ie={error:G}}finally{try{re&&!re.done&&(Q=U.return)&&Q.call(U)}finally{if(ie)throw ie.error}}return be},R.prototype.openLink=function(){var N=this.selection.getCursor();return(N=this.findLinkAt(N.row,N.column))&&window.open(N,"_blank"),null!=N},R.prototype.removeLines=function(){var N=this.$getSelectedRows();this.session.removeFullLines(N.first,N.last),this.clearSelection()},R.prototype.duplicateSelection=function(){var N,K=this.selection,ie=this.session,Q=K.getRange(),be=K.isBackwards();Q.isEmpty()?ie.duplicateLines(N=Q.start.row,N):(ie=ie.insert(N=be?Q.start:Q.end,ie.getTextRange(Q),!1),Q.start=N,Q.end=ie,K.setSelectionRange(Q,be))},R.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},R.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},R.prototype.moveText=function(N,K,ie){return this.session.moveText(N,K,ie)},R.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},R.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},R.prototype.$moveLines=function(N,K){var ie=this.selection;if(!ie.inMultiSelectMode||this.inVirtualSelectionMode){var Q=ie.toOrientedRange(),be=this.$getSelectedRows(Q),Ie=this.session.$moveLines(be.first,be.last,K?0:N);Q.moveBy(Ie=K&&-1==N?0:Ie,0),ie.fromOrientedRange(Q)}else{for(var pe=ie.rangeList.ranges,Te=(ie.rangeList.detach(this.session),this.inVirtualSelectionMode=!0,0),U=0,re=pe.length,se=0;se<re;se++){for(var ge=se,G=(pe[se].moveBy(Te,0),(be=this.$getSelectedRows(pe[se])).first),W=be.last;++se<re;){U&&pe[se].moveBy(U,0);var q=this.$getSelectedRows(pe[se]);if(K&&q.first!=W||!K&&q.first>W+1)break;W=q.last}for(se--,Te=this.session.$moveLines(G,W,K?0:N),K&&-1==N&&(ge=se+1);ge<=se;)pe[ge].moveBy(Te,0),ge++;U+=Te=K?Te:0}ie.fromOrientedRange(ie.ranges[0]),ie.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},R.prototype.$getSelectedRows=function(N){return N=(N||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(N.start.row),last:this.session.getRowFoldEnd(N.end.row)}},R.prototype.onCompositionStart=function(N){this.renderer.showComposition(N)},R.prototype.onCompositionUpdate=function(N){this.renderer.setCompositionText(N)},R.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},R.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},R.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},R.prototype.isRowVisible=function(N){return N>=this.getFirstVisibleRow()&&N<=this.getLastVisibleRow()},R.prototype.isRowFullyVisible=function(N){return N>=this.renderer.getFirstFullyVisibleRow()&&N<=this.renderer.getLastFullyVisibleRow()},R.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},R.prototype.$moveByPage=function(Ie,K){var ie=this.renderer,Q=this.renderer.layerConfig,be=Ie*Math.floor(Q.height/Q.lineHeight);!0===K?this.selection.$moveSelection(function(){this.moveCursorBy(be,0)}):!1===K&&(this.selection.moveCursorBy(be,0),this.selection.clearSelection()),Ie=ie.scrollTop,ie.scrollBy(0,be*Q.lineHeight),null!=K&&ie.scrollCursorIntoView(null,.5),ie.animateScrolling(Ie)},R.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},R.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},R.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},R.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},R.prototype.scrollPageDown=function(){this.$moveByPage(1)},R.prototype.scrollPageUp=function(){this.$moveByPage(-1)},R.prototype.scrollToRow=function(N){this.renderer.scrollToRow(N)},R.prototype.scrollToLine=function(N,K,ie,Q){this.renderer.scrollToLine(N,K,ie,Q)},R.prototype.centerSelection=function(){var N=this.getSelectionRange();N={row:Math.floor(N.start.row+(N.end.row-N.start.row)/2),column:Math.floor(N.start.column+(N.end.column-N.start.column)/2)},this.renderer.alignCursor(N,.5)},R.prototype.getCursorPosition=function(){return this.selection.getCursor()},R.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},R.prototype.getSelectionRange=function(){return this.selection.getRange()},R.prototype.selectAll=function(){this.selection.selectAll()},R.prototype.clearSelection=function(){this.selection.clearSelection()},R.prototype.moveCursorTo=function(N,K){this.selection.moveCursorTo(N,K)},R.prototype.moveCursorToPosition=function(N){this.selection.moveCursorToPosition(N)},R.prototype.jumpToMatching=function(N,K){var ie=this.getCursorPosition(),Q=new F(this.session,ie.row,ie.column),be=Q.getCurrentToken(),Ie=0,pe=(be=be&&-1!==be.type.indexOf("tag-name")?Q.stepBackward():be)||Q.stepForward();if(pe){var Te,U,re=!1,se={},ge=ie.column-pe.start,G={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(pe.value.match(/[{}()\[\]]/g)){for(;ge<pe.value.length&&!re;ge++)if(G[pe.value[ge]])switch(U=G[pe.value[ge]]+"."+pe.type.replace("rparen","lparen"),isNaN(se[U])&&(se[U]=0),pe.value[ge]){case"(":case"[":case"{":se[U]++;break;case")":case"]":case"}":se[U]--,-1===se[U]&&(Te="bracket",re=!0)}}else-1!==pe.type.indexOf("tag-name")&&(isNaN(se[pe.value])&&(se[pe.value]=0),"<"===be.value&&1<Ie?se[pe.value]++:"</"===be.value&&se[pe.value]--,-1===se[pe.value])&&(Te="tag",re=!0)}while(re||(be=pe,Ie++,pe=Q.stepForward(),ge=0),pe&&!re);if(Te){if("bracket"===Te)!(q=this.session.getBracketRange(ie))&&(ce=(q=new d(Q.getCurrentTokenRow(),Q.getCurrentTokenColumn()+ge-1,Q.getCurrentTokenRow(),Q.getCurrentTokenColumn()+ge-1)).start,K||ce.row===ie.row&&Math.abs(ce.column-ie.column)<2)&&(q=this.session.getBracketRange(ce));else if("tag"===Te){if(!pe||-1===pe.type.indexOf("tag-name"))return;var W,q,ce=(ce=0===(q=new d(Q.getCurrentTokenRow(),Q.getCurrentTokenColumn()-2,Q.getCurrentTokenRow(),Q.getCurrentTokenColumn()-2)).compare(ie.row,ie.column)&&(W=this.session.getMatchingTags(ie))?W.openTag.contains(ie.row,ie.column)?(q=W.closeTag).start:(q=W.openTag,W.closeTag.start.row===ie.row&&W.closeTag.start.column===ie.column?q.end:q.start):ce)||q.start}(ce=q&&q.cursor||ce)&&(N?q&&K?this.selection.setRange(q):q&&q.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(ce.row,ce.column):this.selection.moveTo(ce.row,ce.column))}}},R.prototype.gotoLine=function(N,K,ie){this.selection.clearSelection(),this.session.unfold({row:N-1,column:K||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(N-1,K||0),this.isRowFullyVisible(N-1)||this.scrollToLine(N-1,!0,ie)},R.prototype.navigateTo=function(N,K){this.selection.moveTo(N,K)},R.prototype.navigateUp=function(N){var K;if(this.selection.isMultiLine()&&!this.selection.isBackwards())return K=this.selection.anchor.getPosition(),this.moveCursorToPosition(K);this.selection.clearSelection(),this.selection.moveCursorBy(-N||-1,0)},R.prototype.navigateDown=function(N){var K;if(this.selection.isMultiLine()&&this.selection.isBackwards())return K=this.selection.anchor.getPosition(),this.moveCursorToPosition(K);this.selection.clearSelection(),this.selection.moveCursorBy(N||1,0)},R.prototype.navigateLeft=function(N){if(this.selection.isEmpty())for(N=N||1;N--;)this.selection.moveCursorLeft();else{var K=this.getSelectionRange().start;this.moveCursorToPosition(K)}this.clearSelection()},R.prototype.navigateRight=function(N){if(this.selection.isEmpty())for(N=N||1;N--;)this.selection.moveCursorRight();else{var K=this.getSelectionRange().end;this.moveCursorToPosition(K)}this.clearSelection()},R.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},R.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},R.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},R.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},R.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},R.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},R.prototype.replace=function(N,ie){ie&&this.$search.set(ie);var Q=0;return(ie=this.$search.find(this.session))&&(this.$tryReplace(ie,N)&&(Q=1),this.selection.setSelectionRange(ie),this.renderer.scrollSelectionIntoView(ie.start,ie.end)),Q},R.prototype.replaceAll=function(N,K){K&&this.$search.set(K);var ie=this.$search.findAll(this.session),Q=0;if(ie.length){K=this.getSelectionRange(),this.selection.moveTo(0,0);for(var be=ie.length-1;0<=be;--be)this.$tryReplace(ie[be],N)&&Q++;this.selection.setSelectionRange(K)}return Q},R.prototype.$tryReplace=function(N,K){var ie=this.session.getTextRange(N);return null!==(K=this.$search.replace(ie,K))?(N.end=this.session.replace(N,K),N):null},R.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},R.prototype.find=function(be,K,ie){K=K||{},"string"==typeof be||be instanceof RegExp?K.needle=be:"object"==typeof be&&D.mixin(K,be);var Q=this.selection.getRange();return null==K.needle&&((be=this.session.getTextRange(Q)||this.$search.$options.needle)||(Q=this.session.getWordRange(Q.start.row,Q.start.column),be=this.session.getTextRange(Q)),this.$search.set({needle:be})),this.$search.set(K),K.start||this.$search.set({start:Q}),be=this.$search.find(this.session),K.preventScroll?be:be?(this.revealRange(be,ie),be):(K.backwards?Q.start=Q.end:Q.end=Q.start,void this.selection.setRange(Q))},R.prototype.findNext=function(N,K){this.find({skipCurrent:!0,backwards:!1},N,K)},R.prototype.findPrevious=function(N,K){this.find(N,{skipCurrent:!0,backwards:!0},K)},R.prototype.revealRange=function(N,K){this.session.unfold(N),this.selection.setSelectionRange(N);var ie=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(N.start,N.end,.5),!1!==K&&this.renderer.animateScrolling(ie)},R.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},R.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},R.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(N){N.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},R.prototype.setAutoScrollEditorIntoView=function(N){var K,ie,Q,be,Ie,pe,Te;N&&(Q=!1,(ie=this).$scrollAnchor||(this.$scrollAnchor=document.createElement("div")),(be=this.$scrollAnchor).style.cssText="position:absolute",this.container.insertBefore(be,this.container.firstChild),Ie=this.on("changeSelection",function(){Q=!0}),pe=this.renderer.on("beforeRender",function(){Q&&(K=ie.renderer.container.getBoundingClientRect())}),Te=this.renderer.on("afterRender",function(){var U,re,se;Q&&K&&(ie.isFocused()||ie.searchBox&&ie.searchBox.isFocused())&&(se=(U=(re=ie.renderer).$cursorLayer.$pixelPos).top-(re=re.layerConfig).offset,null!=(Q=0<=U.top&&se+K.top<0||!(U.top<re.height&&U.top+K.top+re.lineHeight>window.innerHeight)&&null)&&(be.style.top=se+"px",be.style.left=U.left+"px",be.style.height=re.lineHeight+"px",be.scrollIntoView(Q)),Q=K=null)}),this.setAutoScrollEditorIntoView=function(U){U||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",Ie),this.renderer.off("afterRender",Te),this.renderer.off("beforeRender",pe))})},R.prototype.$resetCursorStyle=function(){var N=this.$cursorStyle||"ace",K=this.renderer.$cursorLayer;K&&(K.setSmoothBlinking(/smooth/.test(N)),K.isBlinking=!this.$readOnly&&"wide"!=N,_.setCssClass(K.element,"ace_slim-cursors",/slim/.test(N)))},R.prototype.prompt=function(N,K,ie){var Q=this;T.loadModule("ace/ext/prompt",function(be){be.prompt(Q,N,K,ie)})},S=R).$uid=0,S.prototype.curOp=null,S.prototype.prevOp={},S.prototype.$mergeableCommands=["backspace","del","insertstring"],S.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],D.implement(S.prototype,v),T.defineOptions(S.prototype,"editor",{selectionStyle:{set:function(N){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:N})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(N){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(N){this.textInput.setReadOnly(N),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(N){this.textInput.setCopyWithEmptySelection(N)},initialValue:!1},cursorStyle:{set:function(N){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(N){this.setAutoScrollEditorIntoView(N)}},keyboardHandler:{set:function(N){this.setKeyboardHandler(N)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(N){this.session.setValue(N)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(N){this.setSession(N)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(N){this.renderer.$gutterLayer.setShowLineNumbers(N),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),N&&this.$relativeLineNumbers?X.attach(this):X.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(N){this.$showLineNumbers&&N?X.attach(this):X.detach(this)}},placeholder:{set:function(N){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var K=this.session&&(this.renderer.$composition||1<this.session.getLength()||0<this.session.getLine(0).length);K&&this.renderer.placeholderNode?(this.renderer.off("afterRender",this.$updatePlaceholder),_.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null):K||this.renderer.placeholderNode?!K&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||""):(this.renderer.on("afterRender",this.$updatePlaceholder),_.addCssClass(this.container,"ace_hasPlaceholder"),(K=_.createElement("div")).className="ace_placeholder",K.textContent=this.$placeholder||"",this.renderer.placeholderNode=K,this.renderer.content.appendChild(this.renderer.placeholderNode))}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(N){function K(be){be.target==this.renderer.scroller&&be.keyCode===ae.enter&&(be.preventDefault(),be=this.getCursorPosition().row,this.isRowVisible(be)||this.scrollToLine(be,!0,!0),this.focus())}var ie,Q={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(be){be.blur(),be.renderer.scroller.focus()},readOnly:!0};N?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(C.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",te("editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",te("Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",K.bind(this)),this.commands.addCommand(Q),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",te("editor")),this.renderer.$gutter.setAttribute("aria-label",te("Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),(ie=ie||new j(this)).addListener()):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",K.bind(this)),this.commands.removeCommand(Q),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),ie&&ie.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var X={getText:function(N,K){return(Math.abs(N.selection.lead.row-K)||K+1+(K<9?"\xb7":""))+""},getWidth:function(N,K,ie){return Math.max(K.toString().length,(ie.lastRow+1).toString().length,2)*ie.characterWidth},update:function(N,K){K.renderer.$loop.schedule(K.renderer.CHANGE_GUTTER)},attach:function(N){N.renderer.$gutterLayer.$renderer=this,N.on("changeSelection",this.update),this.update(null,N)},detach:function(N){N.renderer.$gutterLayer.$renderer==this&&(N.renderer.$gutterLayer.$renderer=null),N.off("changeSelection",this.update),this.update(null,N)}};M.Editor=S}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(B,M,Z){"use strict";D.prototype.addSession=function(d){this.$session=d},D.prototype.add=function(d,v,A){this.$fromUndo||d!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),!1!==v&&this.lastDeltas||(this.lastDeltas=[],(v=this.$undoStack.length)>this.$undoDepth-1&&this.$undoStack.splice(0,v-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),d.id=this.$rev=++this.$maxRev),"remove"!=d.action&&"insert"!=d.action||(this.$lastDelta=d),this.lastDeltas.push(d))},D.prototype.addSelection=function(d,v){this.selections.push({value:d,rev:v||this.$rev})},D.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},D.prototype.markIgnored=function(d,v){null==v&&(v=this.$rev+1);for(var A=this.$undoStack,E=A.length;E--;){var T=A[E][0];if(T.id<=d)break;T.id<v&&(T.ignore=!0)}this.lastDeltas=null},D.prototype.getSelection=function(d,v){for(var A=this.selections,E=A.length;E--;){var T=A[E];if(T.rev<d)return v?A[E+1]:T}},D.prototype.getRevision=function(){return this.$rev},D.prototype.getDeltas=function(d,v){null==v&&(v=this.$rev+1);for(var A=this.$undoStack,E=null,T=0,F=A.length;F--;){var $=A[F][0];if($.id<v&&!E&&(E=F+1),$.id<=d){T=F+1;break}}return A.slice(T,E)},D.prototype.getChangedRanges=function(d,v){},D.prototype.getChangedLines=function(d,v){},D.prototype.undo=function(d,v){this.lastDeltas=null;var A,E=this.$undoStack;if(function(T,F){for(var $=F;$--;){var j=T[$];if(j&&!j[0].ignore){for(;$<F-1;){var te=function(Y,ae){for(var S=Y.length;S--;)for(var R=0;R<ae.length;R++)if(!p(Y[S],ae[R])){for(;S<Y.length;){for(;R--;)p(ae[R],Y[S]);R=ae.length,S++}return[Y,ae]}return Y.selectionBefore=ae.selectionBefore=Y.selectionAfter=ae.selectionAfter=null,[ae,Y]}(T[$],T[$+1]);T[$]=te[0],T[$+1]=te[1],$++}return 1}}}(E,E.length))return d=d||this.$session,this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0,A=null,(E=E.pop())&&(A=d.undoChanges(E,v),this.$redoStack.push(E),this.$syncRev()),this.$fromUndo=!1,A},D.prototype.redo=function(d,v){if(this.lastDeltas=null,d=d||this.$session,this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){for(var X=this.getDeltas(this.$redoStackBaseRev,this.$rev+1),A=this.$redoStack,E=X,T=0;T<E.length;T++)for(var F=E[T],$=0;$<F.length;$++){j=void 0,te=void 0,Y=void 0,ae=void 0,S=void 0,R=void 0;var j=A,te=F[$];te={start:C((ie=te).start),end:C(ie.end),action:ie.action,lines:ie.lines.slice()};for(var Y=j.length;Y--;){for(var ae=j[Y],S=0;S<ae.length;S++){var R=function(ie,Q){var be,Ie,pe="insert"==ie.action,Te="insert"==Q.action;if(pe&&Te)I(ie.start,Q.start)<0?g(Q,ie,1):g(ie,Q,1);else if(pe&&!Te)0<=I(ie.start,Q.end)?g(ie,Q,-1):(I(ie.start,Q.start)<=0||g(ie,_.fromPoints(Q.start,ie.start),-1),g(Q,ie,1));else if(!pe&&Te)0<=I(Q.start,ie.end)?g(Q,ie,-1):(I(Q.start,ie.start)<=0||g(Q,_.fromPoints(ie.start,Q.start),-1),g(ie,Q,1));else if(!pe&&!Te)if(0<=I(Q.start,ie.end))g(Q,ie,-1);else{if(!(I(Q.end,ie.start)<=0))return I(ie.start,Q.start)<0&&(ie=h(be=ie,Q.start)),0<I(ie.end,Q.end)&&(Ie=h(ie,Q.end)),y(Q.end,ie.start,ie.end,-1),Ie&&!be&&(ie.lines=Ie.lines,ie.start=Ie.start,ie.end=Ie.end,Ie=ie),[Q,be,Ie].filter(Boolean);g(ie,Q,-1)}return[Q,ie]}(ae[S],te);te=R[0],2!=R.length&&(R[2]?(ae.splice(S+1,1,R[1],R[2]),S++):R[1]||(ae.splice(S,1),S--))}ae.length||j.splice(Y,1)}}this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(K){K[0].id=++this.$maxRev},this)}var ie,N=null;return(X=this.$redoStack.pop())&&(N=d.redoChanges(X,v),this.$undoStack.push(X),this.$syncRev()),this.$fromUndo=!1,N},D.prototype.$syncRev=function(){var d;this.$redoStackBaseRev=d=(d=(d=this.$undoStack)[d.length-1])&&d[0].id||0,this.$rev=d},D.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},D.prototype.canUndo=function(){return 0<this.$undoStack.length},D.prototype.canRedo=function(){return 0<this.$redoStack.length},D.prototype.bookmark=function(d){null==d&&(d=this.$rev),this.mark=d},D.prototype.isAtBookmark=function(){return this.$rev===this.mark},D.prototype.toJSON=function(){},D.prototype.fromJSON=function(){},D.prototype.$prettyPrint=function(d){return d?f(d):f(this.$undoStack)+"\n---\n"+f(this.$redoStack)};var O=D;function D(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}O.prototype.hasUndo=O.prototype.canUndo,O.prototype.hasRedo=O.prototype.canRedo,O.prototype.isClean=O.prototype.isAtBookmark,O.prototype.markClean=O.prototype.bookmark;var _=B("./range").Range,I=_.comparePoints;function C(d){return{row:d.row,column:d.column}}function f(d){var v;return d=d||this,Array.isArray(d)?d.map(f).join("\n"):(v="",d.action?(v="insert"==d.action?"+":"-",v+="["+d.lines+"]"):d.value&&(v=Array.isArray(d.value)?d.value.map(m).join("\n"):m(d.value)),d.start&&(v+=m(d)),(d.id||d.rev)&&(v+="\t("+(d.id||d.rev)+")"),v)}function m(d){return d.start.row+":"+d.start.column+"=>"+d.end.row+":"+d.end.column}function p(d,v){var A="insert"==d.action,E="insert"==v.action;if(A&&E)if(0<=I(v.start,d.end))g(v,d,-1);else{if(!(I(v.start,d.start)<=0))return;g(d,v,1)}else if(A&&!E)if(0<=I(v.start,d.end))g(v,d,-1);else{if(!(I(v.end,d.start)<=0))return;g(d,v,-1)}else if(!A&&E)if(0<=I(v.start,d.start))g(v,d,1);else{if(!(I(v.start,d.start)<=0))return;g(d,v,1)}else if(!A&&!E)if(0<=I(v.start,d.start))g(v,d,1);else{if(!(I(v.end,d.start)<=0))return;g(d,v,-1)}return 1}function g(d,v,A){y(d.start,v.start,v.end,A),y(d.end,v.start,v.end,A)}function y(d,v,A,E){d.row==(1==E?v:A).row&&(d.column+=E*(A.column-v.column)),d.row+=E*(A.row-v.row)}function h(d,v){var A=d.lines,E=d.end,F=(d.end=C(v),d.end.row-d.start.row),T=A.splice(F,A.length);return A.push(T[0].substring(0,F=F?v.column:v.column-d.start.column)),T[0]=T[0].substr(F),{start:C(v),end:E,lines:T,action:d.action}}M.UndoManager=O}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(B,M,Z){"use strict";var O=B("../lib/dom");function D(_,I){this.element=_,this.canvasHeight=I||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}D.prototype.moveContainer=function(_){O.translate(this.element,0,-_.firstRowScreen*_.lineHeight%this.canvasHeight-_.offset*this.$offsetCoefficient)},D.prototype.pageChanged=function(_,I){return Math.floor(_.firstRowScreen*_.lineHeight/this.canvasHeight)!==Math.floor(I.firstRowScreen*I.lineHeight/this.canvasHeight)},D.prototype.computeLineTop=function(_,I,C){var f=I.firstRowScreen*I.lineHeight;return f=Math.floor(f/this.canvasHeight),C.documentToScreenRow(_,0)*I.lineHeight-f*this.canvasHeight},D.prototype.computeLineHeight=function(_,I,C){return I.lineHeight*C.getRowLineCount(_)},D.prototype.getLength=function(){return this.cells.length},D.prototype.get=function(_){return this.cells[_]},D.prototype.shift=function(){this.$cacheCell(this.cells.shift())},D.prototype.pop=function(){this.$cacheCell(this.cells.pop())},D.prototype.push=function(_){if(Array.isArray(_)){this.cells.push.apply(this.cells,_);for(var I=O.createFragment(this.element),C=0;C<_.length;C++)I.appendChild(_[C].element);this.element.appendChild(I)}else this.cells.push(_),this.element.appendChild(_.element)},D.prototype.unshift=function(_){if(Array.isArray(_)){this.cells.unshift.apply(this.cells,_);for(var I=O.createFragment(this.element),C=0;C<_.length;C++)I.appendChild(_[C].element);this.element.firstChild?this.element.insertBefore(I,this.element.firstChild):this.element.appendChild(I)}else this.cells.unshift(_),this.element.insertAdjacentElement("afterbegin",_.element)},D.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},D.prototype.$cacheCell=function(_){_&&(_.element.remove(),this.cellCache.push(_))},D.prototype.createCell=function(_,I,C,f){var m,p=this.cellCache.pop();return p||(m=O.createElement("div"),f&&f(m),this.element.appendChild(m),p={element:m,text:"",row:_}),p.row=_,p},M.Lines=D}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(m,M,Z){"use strict";var O=m("../lib/dom"),D=m("../lib/oop"),_=m("../lib/lang"),I=m("../lib/event_emitter").EventEmitter,C=m("./lines").Lines,f=m("../config").nls;function p(y){this.element=O.createElement("div"),this.element.className="ace_layer ace_gutter-layer",y.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new C(this.element),this.$lines.$offsetCoefficient=1}function g(y){var h=document.createTextNode(""),d=(y.appendChild(h),h=O.createElement("span"),y.appendChild(h),h=O.createElement("span"),y.appendChild(h),O.createElement("span"));return h.appendChild(d),y}(p.prototype.setSession=function(y){this.session&&this.session.off("change",this.$updateAnnotations),(this.session=y)&&y.on("change",this.$updateAnnotations)},p.prototype.addGutterDecoration=function(y,h){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(y,h)},p.prototype.removeGutterDecoration=function(y,h){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(y,h)},p.prototype.setAnnotations=function(y){this.$annotations=[];for(var h=0;h<y.length;h++){var d=y[h],v=(v=this.$annotations[E=d.row])||(this.$annotations[E]={text:[],type:[]}),A=d.type,E=(E=d.text)?_.escapeHTML(E):d.html||"";-1===v.text.indexOf(E)&&(v.text.push(E),v.type.push(A)),(E=d.className)?v.className=E:"error"==A?v.className=" ace_error":"warning"==A&&" ace_error"!=v.className?v.className=" ace_warning":"info"!=A||v.className||(v.className=" ace_info")}},p.prototype.$updateAnnotations=function(y){var h,d;this.$annotations.length&&0!=(d=y.end.row-(h=y.start.row))&&("remove"==y.action?this.$annotations.splice(h,1+d,null):((y=new Array(1+d)).unshift(h,1),this.$annotations.splice.apply(this.$annotations,y)))},p.prototype.update=function(y){this.config=y;for(var h=this.session,d=y.firstRow,v=Math.min(y.lastRow+y.gutterOffset,h.getLength()-1),A=(this.oldLastRow=v,this.config=y,this.$lines.moveContainer(y),this.$updateCursorRow(),h.getNextFoldLine(d)),E=A?A.start.row:1/0,T=null,F=-1,$=d;;){if(E<$&&(E=(A=h.getNextFoldLine($=A.end.row+1,A))?A.start.row:1/0),v<$){for(;this.$lines.getLength()>F+1;)this.$lines.pop();break}(T=this.$lines.get(++F))?T.row=$:(T=this.$lines.createCell($,y,this.session,g),this.$lines.push(T)),this.$renderCell(T,y,A,$),$++}this._signal("afterRender"),this.$updateGutterWidth(y)},p.prototype.$updateGutterWidth=function(y){var h=this.session,A=h.gutterRenderer||this.$renderer,v=h.$firstLineNumber,d=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||h.$useWrapMode)&&(d=h.getLength()+v-1),v=A?A.getWidth(h,d,y):d.toString().length*y.characterWidth,(v+=(A=this.$padding||this.$computePadding()).left+A.right)===this.gutterWidth||isNaN(v)||(this.gutterWidth=v,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",v))},p.prototype.$updateCursorRow=function(){var y;this.$highlightGutterLine&&(y=this.session.selection.getCursor(),this.$cursorRow!==y.row)&&(this.$cursorRow=y.row)},p.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var y=this.session.selection.cursor.row;if(this.$cursorRow=y,!this.$cursorCell||this.$cursorCell.row!=y){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var h=this.$lines.cells;this.$cursorCell=null;for(var d=0;d<h.length;d++){var v=h[d];if(v.row>=this.$cursorRow){if(v.row>this.$cursorRow){var A=this.session.getFoldLine(this.$cursorRow);if(!(0<d&&A&&A.start.row==h[d-1].row))break;v=h[d-1]}v.element.className="ace_gutter-active-line "+v.element.className,this.$cursorCell=v;break}}}}},p.prototype.scrollLines=function(y){var h=this.config;if(this.config=y,this.$updateCursorRow(),this.$lines.pageChanged(h,y))return this.update(y);this.$lines.moveContainer(y);var d=Math.min(y.lastRow+y.gutterOffset,this.session.getLength()-1),v=this.oldLastRow;if(this.oldLastRow=d,!h||v<y.firstRow)return this.update(y);if(d<h.firstRow)return this.update(y);if(h.firstRow<y.firstRow)for(var A=this.session.getFoldedRowCount(h.firstRow,y.firstRow-1);0<A;A--)this.$lines.shift();if(d<v)for(A=this.session.getFoldedRowCount(d+1,v);0<A;A--)this.$lines.pop();y.firstRow<h.firstRow&&this.$lines.unshift(this.$renderLines(y,y.firstRow,h.firstRow-1)),v<d&&this.$lines.push(this.$renderLines(y,v+1,d)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(y)},p.prototype.$renderLines=function(y,h,d){for(var v=[],A=h,E=this.session.getNextFoldLine(A),T=E?E.start.row:1/0;T<A&&(T=(E=this.session.getNextFoldLine(A=E.end.row+1,E))?E.start.row:1/0),!(d<A);){var F=this.$lines.createCell(A,y,this.session,g);this.$renderCell(F,y,E,A),v.push(F),A++}return v},p.prototype.$renderCell=function(y,h,d,v){var A,E=y.element,T=this.session,F=E.childNodes[0],$=E.childNodes[1],j=E.childNodes[2],te=j.firstChild,Y=T.$firstLineNumber,ae=T.$breakpoints,S=T.$decorations,Q=T.gutterRenderer||this.$renderer,R=this.$showFoldWidgets&&T.foldWidgets,X=d?d.start.row:Number.MAX_VALUE,N=h.lineHeight+"px",K=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",ie=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon";if(Q=(Q?Q.getText(T,v):v+Y).toString(),this.$highlightGutterLine&&(v==this.$cursorRow||d&&v<this.$cursorRow&&X<=v&&this.$cursorRow<=d.end.row)&&(K+="ace_gutter-active-line ",this.$cursorCell!=y)&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=y),ae[v]&&(K+=ae[v]),S[v]&&(K+=S[v]),this.$annotations[v]&&v!==X&&(K+=this.$annotations[v].className),A=R&&null==(A=R[v])?R[v]=T.getFoldWidget(v):A){if(Y="ace_fold-widget ace_"+A,ae="start"==A&&v==X&&v<d.end.row){Y+=" ace_closed";for(var be="",Ie=!1,pe=v+1;pe<=d.end.row;pe++)if(this.$annotations[pe]){if(" ace_error"===this.$annotations[pe].className){Ie=!0,be=" ace_error_fold";break}" ace_warning"===this.$annotations[pe].className&&(Ie=!0,be=" ace_warning_fold")}K+=be}else Y+=" ace_open";$.className!=Y&&($.className=Y),O.setStyle($.style,"height",N),O.setStyle($.style,"display","inline-block"),$.setAttribute("role","button"),$.setAttribute("tabindex","-1"),S=T.getFoldWidgetRange(v),$.setAttribute("aria-label",S?f("Toggle code folding, rows $0 through $1",[S.start.row+1,S.end.row+1]):d?f("Toggle code folding, rows $0 through $1",[d.start.row+1,d.end.row+1]):f("Toggle code folding, row $0",[v+1])),ae?($.setAttribute("aria-expanded","false"),$.setAttribute("title",f("Unfold code"))):($.setAttribute("aria-expanded","true"),$.setAttribute("title",f("Fold code")))}else $&&(O.setStyle($.style,"display","none"),$.setAttribute("tabindex","0"),$.removeAttribute("role"),$.removeAttribute("aria-label"));return Ie&&this.$showFoldedAnnotations?(j.className="ace_gutter_annotation",te.className=ie,te.className+=be,O.setStyle(te.style,"height",N),O.setStyle(j.style,"display","block"),O.setStyle(j.style,"height",N),j.setAttribute("aria-label",f("Read annotations row $0",[Q])),j.setAttribute("tabindex","-1"),j.setAttribute("role","button")):this.$annotations[v]?(j.className="ace_gutter_annotation",te.className=ie,this.$useSvgGutterIcons?te.className+=this.$annotations[v].className:E.classList.add(this.$annotations[v].className.replace(" ","")),O.setStyle(te.style,"height",N),O.setStyle(j.style,"display","block"),O.setStyle(j.style,"height",N),j.setAttribute("aria-label",f("Read annotations row $0",[Q])),j.setAttribute("tabindex","-1"),j.setAttribute("role","button")):(O.setStyle(j.style,"display","none"),j.removeAttribute("aria-label"),j.removeAttribute("role"),j.setAttribute("tabindex","0")),Q!==F.data&&(F.data=Q),E.className!=K&&(E.className=K),O.setStyle(y.element.style,"height",this.$lines.computeLineHeight(v,h,T)+"px"),O.setStyle(y.element.style,"top",this.$lines.computeLineTop(v,h,T)+"px"),y.text=Q,y.element.setAttribute("aria-hidden","none"===j.style.display&&"none"===$.style.display),y},p.prototype.setHighlightGutterLine=function(y){this.$highlightGutterLine=y},p.prototype.setShowLineNumbers=function(y){this.$renderer=!y&&{getWidth:function(){return 0},getText:function(){return""}}},p.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},p.prototype.setShowFoldWidgets=function(y){y?O.addCssClass(this.element,"ace_folding-enabled"):O.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=y,this.$padding=null},p.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},p.prototype.$computePadding=function(){var y;return this.element.firstChild?(y=O.computedStyle(this.element.firstChild),this.$padding={},this.$padding.left=(parseInt(y.borderLeftWidth)||0)+(parseInt(y.paddingLeft)||0)+1,this.$padding.right=(parseInt(y.borderRightWidth)||0)+(parseInt(y.paddingRight)||0),this.$padding):{left:0,right:0}},p.prototype.getRegion=function(y){var h=this.$padding||this.$computePadding(),d=this.element.getBoundingClientRect();return y.x<h.left+d.left?"markers":this.$showFoldWidgets&&y.x>d.right-h.right?"foldWidgets":void 0},m=p).prototype.$fixedWidth=!1,m.prototype.$highlightGutterLine=!0,m.prototype.$renderer="",m.prototype.$showLineNumbers=!0,m.prototype.$showFoldWidgets=!0,D.implement(m.prototype,I),M.Gutter=m}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(_,M,Z){"use strict";var O=_("../range").Range,D=_("../lib/dom");function I(C){this.element=D.createElement("div"),this.element.className="ace_layer ace_marker-layer",C.appendChild(this.element)}(I.prototype.setPadding=function(C){this.$padding=C},I.prototype.setSession=function(C){this.session=C},I.prototype.setMarkers=function(C){this.markers=C},I.prototype.elt=function(C,f){var m=-1!=this.i&&this.element.childNodes[this.i];m?this.i++:(m=document.createElement("div"),this.element.appendChild(m),this.i=-1),m.style.cssText=f,m.className=C},I.prototype.update=function(C){if(C){var f,m;for(m in this.config=C,this.i=0,this.markers){var p,y,h=this.markers[m];h.range?(y=h.range.clipRows(C.firstRow,C.lastRow)).isEmpty()||(y=y.toScreenRange(this.session),h.renderer?(p=this.$getTop(y.start.row,C),h.renderer(f,y,this.$padding+y.start.column*C.characterWidth,p,C)):"fullLine"==h.type?this.drawFullLineMarker(f,y,h.clazz,C):"screenLine"==h.type?this.drawScreenLineMarker(f,y,h.clazz,C):y.isMultiLine()?"text"==h.type?this.drawTextMarker(f,y,h.clazz,C):this.drawMultiLineMarker(f,y,h.clazz,C):this.drawSingleLineMarker(f,y,h.clazz+" ace_start ace_br15",C)):h.update(f,this,this.session,C)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},I.prototype.$getTop=function(C,f){return(C-f.firstRowScreen)*f.lineHeight},I.prototype.drawTextMarker=function(C,f,m,p,g){for(var y,h=this.session,d=f.start.row,v=f.end.row,A=d,E=0,T=h.getScreenLastRowColumn(A),F=new O(A,f.start.column,A,E);A<=v;A++)F.start.row=F.end.row=A,F.start.column=A==d?f.start.column:h.getRowWrapIndent(A),F.end.column=T,y=E,E=T,T=A+1<v?h.getScreenLastRowColumn(A+1):A==v?0:f.end.column,this.drawSingleLineMarker(C,F,m+(A==d?" ace_start":"")+" ace_br"+((A==d||A==d+1&&f.start.column?1:0)|(y<E?2:0)|(T<E?4:0)|(A==v?8:0)),p,A==v?0:1,g)},I.prototype.drawMultiLineMarker=function(C,f,m,p,g){var y,h=this.$padding,d=p.lineHeight,v=this.$getTop(f.start.row,p),A=h+f.start.column*p.characterWidth;g=g||"",this.session.$bidiHandler.isBidiRow(f.start.row)?((y=f.clone()).end.row=y.start.row,y.end.column=this.session.getLine(y.start.row).length,this.drawBidiSingleLineMarker(C,y,m+" ace_br1 ace_start",p,null,g)):this.elt(m+" ace_br1 ace_start","height:"+d+"px;right:0;top:"+v+"px;left:"+A+"px;"+(g||"")),this.session.$bidiHandler.isBidiRow(f.end.row)?((y=f.clone()).start.row=y.end.row,y.start.column=0,this.drawBidiSingleLineMarker(C,y,m+" ace_br12",p,null,g)):(v=this.$getTop(f.end.row,p),this.elt(m+" ace_br12","height:"+d+"px;width:"+(A=f.end.column*p.characterWidth)+"px;top:"+v+"px;left:"+h+"px;"+(g||""))),(d=(f.end.row-f.start.row-1)*p.lineHeight)<=0||(v=this.$getTop(f.start.row+1,p),this.elt(m+((C=(f.start.column?1:0)|(f.end.column?0:8))?" ace_br"+C:""),"height:"+d+"px;right:0;top:"+v+"px;left:"+h+"px;"+(g||"")))},I.prototype.drawSingleLineMarker=function(h,A,m,p,d,y){if(this.session.$bidiHandler.isBidiRow(A.start.row))return this.drawBidiSingleLineMarker(h,A,m,p,d,y);h=p.lineHeight,d=(A.end.column+(d||0)-A.start.column)*p.characterWidth;var v=this.$getTop(A.start.row,p);this.elt(m,"height:"+h+"px;width:"+d+"px;top:"+v+"px;left:"+(A=this.$padding+A.start.column*p.characterWidth)+"px;"+(y||""))},I.prototype.drawBidiSingleLineMarker=function(C,f,m,p,g,y){var h=p.lineHeight,d=this.$getTop(f.start.row,p),v=this.$padding;this.session.$bidiHandler.getSelections(f.start.column,f.end.column).forEach(function(A){this.elt(m,"height:"+h+"px;width:"+(A.width+(g||0))+"px;top:"+d+"px;left:"+(v+A.left)+"px;"+(y||""))},this)},I.prototype.drawFullLineMarker=function(C,f,m,p,g){var y=this.$getTop(f.start.row,p),h=p.lineHeight;f.start.row!=f.end.row&&(h+=this.$getTop(f.end.row,p)-y),this.elt(m,"height:"+h+"px;top:"+y+"px;left:0;right:0;"+(g||""))},I.prototype.drawScreenLineMarker=function(C,f,m,p,g){f=this.$getTop(f.start.row,p),this.elt(m,"height:"+(p=p.lineHeight)+"px;top:"+f+"px;left:0;right:0;"+(g||""))},_=I).prototype.$padding=0,M.Marker=_}),ace.define("ace/layer/text_util",["require","exports","module"],function(B,M,Z){var O=new Set(["text","rparen","lparen"]);M.isTextToken=function(D){return O.has(D)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(p,M,Z){"use strict";var O=p("../lib/oop"),D=p("../lib/dom"),_=p("../lib/lang"),I=p("./lines").Lines,C=p("../lib/event_emitter").EventEmitter,f=p("../config").nls,m=p("./text_util").isTextToken;function g(y){this.dom=D,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",y.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new I(this.element)}(g.prototype.$updateEolChar=function(){var y="\n"==(y=this.session.doc).getNewLineCharacter()&&"windows"!=y.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=y)return this.EOL_CHAR=y,!0},g.prototype.setPadding=function(y){this.$padding=y,this.element.style.margin="0 "+y+"px"},g.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},g.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},g.prototype.$setFontMetrics=function(y){this.$fontMetrics=y,this.$fontMetrics.on("changeCharacterSize",function(h){this._signal("changeCharacterSize",h)}.bind(this)),this.$pollSizeChanges()},g.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},g.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},g.prototype.setSession=function(y){(this.session=y)&&this.$computeTabString()},g.prototype.setShowInvisibles=function(y){return this.showInvisibles!=y&&("string"==typeof(this.showInvisibles=y)?(this.showSpaces=/tab/i.test(y),this.showTabs=/space/i.test(y),this.showEOL=/eol/i.test(y)):this.showSpaces=this.showTabs=this.showEOL=y,this.$computeTabString(),!0)},g.prototype.setDisplayIndentGuides=function(y){return this.displayIndentGuides!=y&&(this.displayIndentGuides=y,this.$computeTabString(),!0)},g.prototype.setHighlightIndentGuides=function(y){return this.$highlightIndentGuides!==y&&(this.$highlightIndentGuides=y)},g.prototype.$computeTabString=function(){for(var y,h,d,v,A,E,T=this.session.getTabSize(),F=(this.tabSize=T,this.$tabStrings=[0]),$=1;$<T+1;$++)this.showTabs?((E=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",E.textContent=_.stringRepeat(this.TAB_CHAR,$),F.push(E)):F.push(this.dom.createTextNode(_.stringRepeat(" ",$),this.element));this.displayIndentGuides&&(this.$indentGuideRe=/\s\S| \t|\t |\s$/,y="ace_indent-guide",h=this.showSpaces?" ace_invisible ace_invisible_space":"",d=_.stringRepeat(this.showSpaces?this.SPACE_CHAR:" ",this.tabSize),v=this.showTabs?" ace_invisible ace_invisible_tab":"",A=this.showTabs?_.stringRepeat(this.TAB_CHAR,this.tabSize):d,(E=this.dom.createElement("span")).className=y+h,E.textContent=d,this.$tabStrings[" "]=E,(E=this.dom.createElement("span")).className=y+v,E.textContent=A,this.$tabStrings["\t"]=E)},g.prototype.updateLines=function(y,h,d){if(this.config.lastRow!=y.lastRow||this.config.firstRow!=y.firstRow)return this.update(y);this.config=y;for(var v=Math.max(h,y.firstRow),A=Math.min(d,y.lastRow),E=this.element.childNodes,T=0,F=y.firstRow;F<v;F++){if($=this.session.getFoldLine(F)){if($.containsRow(v)){v=$.start.row;break}F=$.end.row}T++}for(var $,j=!1,te=($=this.session.getNextFoldLine(F=v))?$.start.row:1/0;te<F&&(te=($=this.session.getNextFoldLine(F=$.end.row+1,$))?$.start.row:1/0),!(A<F);){var Y,ae=E[T++];ae&&(this.dom.removeChildren(ae),this.$renderLine(ae,F,F==te&&$),j&&(ae.style.top=this.$lines.computeLineTop(F,y,this.session)+"px"),Y=y.lineHeight*this.session.getRowLength(F)+"px",ae.style.height!=Y)&&(j=!0,ae.style.height=Y),F++}if(j)for(;T<this.$lines.cells.length;){var S=this.$lines.cells[T++];S.element.style.top=this.$lines.computeLineTop(S.row,y,this.session)+"px"}},g.prototype.scrollLines=function(y){var h=this.config;if(this.config=y,this.$lines.pageChanged(h,y))return this.update(y);this.$lines.moveContainer(y);var d=y.lastRow;if(!h||(h?h.lastRow:-1)<y.firstRow)return this.update(y);if(d<h.firstRow)return this.update(y);if(!h||h.lastRow<y.firstRow)return this.update(y);if(y.lastRow<h.firstRow)return this.update(y);if(h.firstRow<y.firstRow)for(var A=this.session.getFoldedRowCount(h.firstRow,y.firstRow-1);0<A;A--)this.$lines.shift();if(h.lastRow>y.lastRow)for(A=this.session.getFoldedRowCount(y.lastRow+1,h.lastRow);0<A;A--)this.$lines.pop();y.firstRow<h.firstRow&&this.$lines.unshift(this.$renderLinesFragment(y,y.firstRow,h.firstRow-1)),y.lastRow>h.lastRow&&this.$lines.push(this.$renderLinesFragment(y,h.lastRow+1,y.lastRow)),this.$highlightIndentGuide()},g.prototype.$renderLinesFragment=function(y,h,d){for(var v=[],A=h,E=this.session.getNextFoldLine(A),T=E?E.start.row:1/0;T<A&&(T=(E=this.session.getNextFoldLine(A=E.end.row+1,E))?E.start.row:1/0),!(d<A);){var F=this.$lines.createCell(A,y,this.session),$=F.element;this.dom.removeChildren($),D.setStyle($.style,"height",this.$lines.computeLineHeight(A,y,this.session)+"px"),D.setStyle($.style,"top",this.$lines.computeLineTop(A,y,this.session)+"px"),this.$renderLine($,A,A==T&&E),$.className=this.$useLineGroups()?"ace_line_group":"ace_line",v.push(F),A++}return v},g.prototype.update=function(y){this.$lines.moveContainer(y);for(var h=(this.config=y).firstRow,d=y.lastRow,v=this.$lines;v.getLength();)v.pop();v.push(this.$renderLinesFragment(y,h,d))},g.prototype.$renderToken=function(y,h,d,v){for(var A,E,T=this,F=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,$=this.dom.createFragment(this.element),j=0;A=F.exec(v);){var te,Y,ae=A[1],S=A[2],R=A[3],X=A[4],N=A[5];!T.showSpaces&&S||(te=j!=A.index?v.slice(j,A.index):"",j=A.index+A[0].length,te&&$.appendChild(this.dom.createTextNode(te,this.element)),ae?(te=T.session.getScreenTabSize(h+A.index),$.appendChild(T.$tabStrings[te].cloneNode(!0)),h+=te-1):S?T.showSpaces?((Y=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",Y.textContent=_.stringRepeat(T.SPACE_CHAR,S.length),$.appendChild(Y)):$.appendChild(this.dom.createTextNode(S,this.element)):R?((Y=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",Y.textContent=_.stringRepeat(T.SPACE_CHAR,R.length),$.appendChild(Y)):X?(h+=1,(Y=this.dom.createElement("span")).style.width=2*T.config.characterWidth+"px",Y.className=T.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",Y.textContent=T.showSpaces?T.SPACE_CHAR:X,$.appendChild(Y)):N&&(h+=1,(Y=this.dom.createElement("span")).style.width=2*T.config.characterWidth+"px",Y.className="ace_cjk",Y.textContent=N,$.appendChild(Y)))}return $.appendChild(this.dom.createTextNode(j?v.slice(j):v,this.element)),m(d.type)?y.appendChild($):(E="ace_"+d.type.replace(/\./g," ace_"),Y=this.dom.createElement("span"),"fold"==d.type&&(Y.style.width=d.value.length*this.config.characterWidth+"px",Y.setAttribute("title",f("Unfold code"))),Y.className=E,Y.appendChild($),y.appendChild(Y)),h+v.length},g.prototype.renderIndentGuide=function(y,h,d){var v=h.search(this.$indentGuideRe);if(!(v<=0||d<=v)){if(" "==h[0]){for(var A=(v-=v%this.tabSize)/this.tabSize,E=0;E<A;E++)y.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),h.substr(v)}if("\t"==h[0]){for(E=0;E<v;E++)y.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),h.substr(v)}this.$highlightIndentGuide()}return h},g.prototype.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var y=this.session.doc.$lines;if(y){var h=this.session.selection.getCursor(),d=/^\s*/.exec(this.session.doc.getLine(h.row))[0].length,v=Math.floor(d/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:v,start:h.row},this.session.$bracketHighlight)for(var A=this.session.$bracketHighlight.ranges,E=0;E<A.length;E++)if(h.row!==A[E].start.row){this.$highlightIndentGuideMarker.end=A[E].start.row,this.$highlightIndentGuideMarker.dir=h.row>A[E].start.row?-1:1;break}if(!this.$highlightIndentGuideMarker.end&&""!==y[h.row]&&h.column===y[h.row].length)for(this.$highlightIndentGuideMarker.dir=1,E=h.row+1;E<y.length;E++){var T=y[E],F=/^\s*/.exec(T)[0].length;if(""!==T&&(this.$highlightIndentGuideMarker.end=E,F<=d))break}this.$renderHighlightIndentGuide()}}},g.prototype.$clearActiveIndentGuide=function(){for(var y=this.$lines.cells,h=0;h<y.length;h++){var d=y[h].element.childNodes;if(0<d.length)for(var v=0;v<d.length;v++)if(d[v].classList&&d[v].classList.contains("ace_indent-guide-active")){d[v].classList.remove("ace_indent-guide-active");break}}},g.prototype.$setIndentGuideActive=function(y,h){""!==this.session.doc.getLine(y.row)&&(y=y.element.childNodes)&&(y=y[h-1])&&y.classList&&y.classList.contains("ace_indent-guide")&&y.classList.add("ace_indent-guide-active")},g.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var y=this.$lines.cells,h=(this.$clearActiveIndentGuide(),this.$highlightIndentGuideMarker.indentLevel);if(0!==h)if(1===this.$highlightIndentGuideMarker.dir)for(var d=0;d<y.length;d++){var v=y[d];if(this.$highlightIndentGuideMarker.end&&v.row>=this.$highlightIndentGuideMarker.start+1){if(v.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(v,h)}}else for(d=y.length-1;0<=d;d--)if(v=y[d],this.$highlightIndentGuideMarker.end&&v.row<this.$highlightIndentGuideMarker.start){if(v.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(v,h)}}},g.prototype.$createLineElement=function(y){var h=this.dom.createElement("div");return h.className="ace_line",h.style.height=this.config.lineHeight+"px",h},g.prototype.$renderWrappedLine=function(y,h,d){var v=0,A=0,E=d[0],T=0,F=this.$createLineElement();y.appendChild(F);for(var $=0;$<h.length;$++){var j=h[$],te=j.value;if(0==$&&this.displayIndentGuides){if(v=te.length,!(te=this.renderIndentGuide(F,te,E)))continue;v-=te.length}if(v+te.length<E)T=this.$renderToken(F,T,j,te),v+=te.length;else{for(;v+te.length>=E;)T=this.$renderToken(F,T,j,te.substring(0,E-v)),te=te.substring(E-v),v=E,F=this.$createLineElement(),y.appendChild(F),F.appendChild(this.dom.createTextNode(_.stringRepeat("\xa0",d.indent),this.element)),T=0,E=d[++A]||Number.MAX_VALUE;0!=te.length&&(v+=te.length,T=this.$renderToken(F,T,j,te))}}d[d.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(F,T,null,"",!0)},g.prototype.$renderSimpleLine=function(y,h){for(var d=0,v=0;v<h.length;v++){var A=h[v],E=A.value;if(0!=v||!this.displayIndentGuides||(E=this.renderIndentGuide(y,E))){if(d+E.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(y,d,A,E);d=this.$renderToken(y,d,A,E)}}},g.prototype.$renderOverflowMessage=function(y,h,d,v,A){d&&this.$renderToken(y,h,d,v.slice(0,this.MAX_LINE_LENGTH-h)),(d=this.dom.createElement("span")).className="ace_inline_button ace_keyword ace_toggle_wrap",d.textContent=A?"<hide>":"<click to see more...>",y.appendChild(d)},g.prototype.$renderLine=function(y,h,d){var v,A,E=y;(v=(d=d||0==d?d:this.session.getFoldLine(h))?this.$getFoldLineTokens(h,d):this.session.getTokens(h)).length?(A=this.session.getRowSplitData(h))&&A.length?(this.$renderWrappedLine(y,v,A),E=y.lastChild):(E=y,this.$useLineGroups()&&(E=this.$createLineElement(),y.appendChild(E)),this.$renderSimpleLine(E,v)):this.$useLineGroups()&&(E=this.$createLineElement(),y.appendChild(E)),this.showEOL&&E&&(d&&(h=d.end.row),(A=this.dom.createElement("span")).className="ace_invisible ace_invisible_eol",A.textContent=h==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,E.appendChild(A))},g.prototype.$getFoldLineTokens=function(y,h){var d=this.session,v=[],A=d.getTokens(y);return h.walk(function(E,T,F,$,j){if(null!=E)v.push({type:"fold",value:E});else if((A=j?d.getTokens(T):A).length){for(var te,Y=A,ae=$,S=F,R=0,X=0;X+Y[R].value.length<ae;)if(X+=Y[R].value.length,++R==Y.length)return;for(X!=ae&&((te=Y[R].value.substring(ae-X)).length>S-ae&&(te=te.substring(0,S-ae)),v.push({type:Y[R].type,value:te}),X=ae+te.length,R+=1);X<S&&R<Y.length;)(te=Y[R].value).length+X>S?v.push({type:Y[R].type,value:te.substring(0,S-X)}):v.push(Y[R]),X+=te.length,R+=1}},h.end.row,this.session.getLine(h.end.row).length),v},g.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},p=g).prototype.EOF_CHAR="\xb6",p.prototype.EOL_CHAR_LF="\xac",p.prototype.EOL_CHAR_CRLF="\xa4",p.prototype.EOL_CHAR=p.prototype.EOL_CHAR_LF,p.prototype.TAB_CHAR="\u2014",p.prototype.SPACE_CHAR="\xb7",p.prototype.$padding=0,p.prototype.MAX_LINE_LENGTH=1e4,p.prototype.showInvisibles=!1,p.prototype.showSpaces=!1,p.prototype.showTabs=!1,p.prototype.showEOL=!1,p.prototype.displayIndentGuides=!0,p.prototype.$highlightIndentGuides=!0,p.prototype.$tabStrings=[],p.prototype.destroy={},p.prototype.onChangeTabSize=p.prototype.$computeTabString,O.implement(p.prototype,C),M.Text=p}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(D,M,Z){"use strict";var O=D("../lib/dom");function _(I){this.element=O.createElement("div"),this.element.className="ace_layer ace_cursor-layer",I.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),O.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}(_.prototype.$updateOpacity=function(I){for(var C=this.cursors,f=C.length;f--;)O.setStyle(C[f].style,"opacity",I?"":"0")},_.prototype.$startCssAnimation=function(){for(var I=this.cursors,C=I.length;C--;)I[C].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&O.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},_.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,O.removeCssClass(this.element,"ace_animate-blinking")},_.prototype.setPadding=function(I){this.$padding=I},_.prototype.setSession=function(I){this.session=I},_.prototype.setBlinking=function(I){I!=this.isBlinking&&(this.isBlinking=I,this.restartTimer())},_.prototype.setBlinkInterval=function(I){I!=this.blinkInterval&&(this.blinkInterval=I,this.restartTimer())},_.prototype.setSmoothBlinking=function(I){I!=this.smoothBlinking&&(this.smoothBlinking=I,O.setCssClass(this.element,"ace_smooth-blinking",I),this.$updateCursors(!0),this.restartTimer())},_.prototype.addCursor=function(){var I=O.createElement("div");return I.className="ace_cursor",this.element.appendChild(I),this.cursors.push(I),I},_.prototype.removeCursor=function(){var I;if(1<this.cursors.length)return(I=this.cursors.pop()).parentNode.removeChild(I),I},_.prototype.hideCursor=function(){this.isVisible=!1,O.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},_.prototype.showCursor=function(){this.isVisible=!0,O.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},_.prototype.restartTimer=function(){var I,C=this.$updateCursors;clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,O.removeCssClass(this.element,"ace_smooth-blinking")),C(!0),this.isBlinking&&this.blinkInterval&&this.isVisible?(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&O.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),O.HAS_CSS_ANIMATION?this.$startCssAnimation():(I=function(){this.timeoutId=setTimeout(function(){C(!1)},.6*this.blinkInterval)}.bind(this),this.intervalId=setInterval(function(){C(!0),I()},this.blinkInterval),I())):this.$stopCssAnimation()},_.prototype.getPixelPosition=function(I,C){if(!this.config||!this.session)return{left:0,top:0};I=I||this.session.selection.getCursor();var f=this.session.documentToScreenPosition(I);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(f.row,I.row)?this.session.$bidiHandler.getPosLeft(f.column):f.column*this.config.characterWidth),top:(f.row-(C?this.config.firstRowScreen:0))*this.config.lineHeight}},_.prototype.isCursorInView=function(I,C){return 0<=I.top&&I.top<C.maxHeight},_.prototype.update=function(I){this.config=I;for(var C=this.session.$selectionMarkers,m=0,f=0,p=(m=0,(C=void 0!==C&&0!==C.length?C:[{cursor:null}]).length);m<p;m++){var g,y,h=this.getPixelPosition(C[m].cursor,!0);(h.top>I.height+I.offset||h.top<0)&&1<m||(y=(g=this.cursors[f++]||this.addCursor()).style,this.drawCursor?this.drawCursor(g,h,I,C[m],this.session):this.isCursorInView(h,I)?(O.setStyle(y,"display","block"),O.translate(g,h.left,h.top),O.setStyle(y,"width",Math.round(I.characterWidth)+"px"),O.setStyle(y,"height",I.lineHeight+"px")):O.setStyle(y,"display","none"))}for(;this.cursors.length>f;)this.removeCursor();var d=this.session.getOverwrite();this.$setOverwrite(d),this.$pixelPos=h,this.restartTimer()},_.prototype.$setOverwrite=function(I){I!=this.overwrite&&((this.overwrite=I)?O.addCssClass(this.element,"ace_overwrite-cursors"):O.removeCssClass(this.element,"ace_overwrite-cursors"))},_.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},D=_).prototype.$padding=0,D.prototype.drawCursor=null,M.Cursor=D}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(h,M,Z){"use strict";var O,m,y,D=this&&this.__extends||(O=function(v,A){return(O=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(E,T){E.__proto__=T}:function(E,T){for(var F in T)Object.prototype.hasOwnProperty.call(T,F)&&(E[F]=T[F])}))(v,A)},function(v,A){if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function E(){this.constructor=v}O(v,A),v.prototype=null===A?Object.create(A):(E.prototype=A.prototype,new E)}),p=h("./lib/oop"),_=h("./lib/dom"),I=h("./lib/event"),C=(h=h("./lib/event_emitter").EventEmitter,f.prototype.setVisible=function(v){this.element.style.display=v?"":"none",this.isVisible=v,this.coeff=1},f);function f(v,A){this.element=_.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+A,this.inner=_.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xa0",this.element.appendChild(this.inner),v.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,I.addListener(this.element,"scroll",this.onScroll.bind(this)),I.addListener(this.element,"mousedown",I.preventDefault)}function g(v,A){var E=m.call(this,v,"-v")||this;return E.scrollTop=0,E.scrollHeight=0,A.$scrollbarWidth=E.width=_.scrollbarWidth(v.ownerDocument),E.inner.style.width=E.element.style.width=(E.width||15)+5+"px",E.$minWidth=0,E}function d(v,A){return(v=y.call(this,v,"-h")||this).scrollLeft=0,v.height=A.$scrollbarWidth,v.inner.style.height=v.element.style.height=(v.height||15)+5+"px",v}p.implement(C.prototype,h),D(g,m=C),g.prototype.onScroll=function(){var v;this.skipEvent||(this.scrollTop=this.element.scrollTop,1!=this.coeff&&(this.scrollTop=this.scrollTop*(1-(v=this.element.clientHeight/this.scrollHeight))/(this.coeff-v)),this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},g.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},g.prototype.setHeight=function(v){this.element.style.height=v+"px"},g.prototype.setScrollHeight=function(v){32768<(this.scrollHeight=v)?(this.coeff=32768/v,v=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=v+"px"},g.prototype.setScrollTop=function(v){this.scrollTop!=v&&(this.skipEvent=!0,this.scrollTop=v,this.element.scrollTop=v*this.coeff)},(p=g).prototype.setInnerHeight=p.prototype.setScrollHeight,D(d,y=C),d.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},d.prototype.getHeight=function(){return this.isVisible?this.height:0},d.prototype.setWidth=function(v){this.element.style.width=v+"px"},d.prototype.setInnerWidth=function(v){this.inner.style.width=v+"px"},d.prototype.setScrollWidth=function(v){this.inner.style.width=v+"px"},d.prototype.setScrollLeft=function(v){this.scrollLeft!=v&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=v)},h=d,M.ScrollBar=p,M.ScrollBarV=p,M.ScrollBarH=h,M.VScrollBar=p,M.HScrollBar=h}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(h,M,Z){"use strict";var O,m,y,D=this&&this.__extends||(O=function(v,A){return(O=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(E,T){E.__proto__=T}:function(E,T){for(var F in T)Object.prototype.hasOwnProperty.call(T,F)&&(E[F]=T[F])}))(v,A)},function(v,A){if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function E(){this.constructor=v}O(v,A),v.prototype=null===A?Object.create(A):(E.prototype=A.prototype,new E)}),p=h("./lib/oop"),_=h("./lib/dom"),I=h("./lib/event"),C=(h=h("./lib/event_emitter").EventEmitter,_.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1),f.prototype.setVisible=function(v){this.element.style.display=v?"":"none",this.isVisible=v,this.coeff=1},f);function f(v,A){this.element=_.createElement("div"),this.element.className="ace_sb"+A,this.inner=_.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,v.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,I.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}function g(v,A){var E=m.call(this,v,"-v")||this;return E.scrollTop=0,E.scrollHeight=0,E.parent=v,E.width=E.VScrollWidth,E.renderer=A,E.inner.style.width=E.element.style.width=(E.width||15)+"px",E.$minWidth=0,E}function d(v,A){return(v=y.call(this,v,"-h")||this).scrollLeft=0,v.scrollWidth=0,v.height=v.HScrollHeight,v.inner.style.height=v.element.style.height=(v.height||12)+"px",v.renderer=A,v}p.implement(C.prototype,h),D(g,m=C),g.prototype.onMouseDown=function(v,A){var E,T,F,$,j;if("mousedown"===v&&0===I.getButton(A)&&2!==A.detail)return A.target===this.inner?(E=this,T=A.clientY,F=A.clientY,$=this.thumbTop,I.capture(this.inner,function(te){T=te.clientY},function(){clearInterval(j)}),j=setInterval(function(){var te;void 0!==T&&(te=E.scrollTopFromThumbTop($+T-F))!==E.scrollTop&&E._emit("scroll",{data:te})},20)):(v=A.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2,this._emit("scroll",{data:this.scrollTopFromThumbTop(v)})),I.preventDefault(A)},g.prototype.getHeight=function(){return this.height},g.prototype.scrollTopFromThumbTop=function(v){return v=v*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight),(v>>=0)<0?v=0:v>this.pageHeight-this.viewHeight&&(v=this.pageHeight-this.viewHeight),v},g.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},g.prototype.setHeight=function(v){this.height=Math.max(0,v),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},g.prototype.setScrollHeight=function(v,A){(this.pageHeight!==v||A)&&(this.pageHeight=v,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight)&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop}))},g.prototype.setScrollTop=function(v){this.scrollTop=v,this.thumbTop=(v=v<0?0:v)*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},(p=g).prototype.setInnerHeight=p.prototype.setScrollHeight,D(d,y=C),d.prototype.onMouseDown=function(v,A){var E,T,F,$,j;if("mousedown"===v&&0===I.getButton(A)&&2!==A.detail)return A.target===this.inner?(E=this,T=A.clientX,F=A.clientX,$=this.thumbLeft,I.capture(this.inner,function(te){T=te.clientX},function(){clearInterval(j)}),j=setInterval(function(){var te;void 0!==T&&(te=E.scrollLeftFromThumbLeft($+T-F))!==E.scrollLeft&&E._emit("scroll",{data:te})},20)):(v=A.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2,this._emit("scroll",{data:this.scrollLeftFromThumbLeft(v)})),I.preventDefault(A)},d.prototype.getHeight=function(){return this.isVisible?this.height:0},d.prototype.scrollLeftFromThumbLeft=function(v){return v=v*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth),(v>>=0)<0?v=0:v>this.pageWidth-this.viewWidth&&(v=this.pageWidth-this.viewWidth),v},d.prototype.setWidth=function(v){this.width=Math.max(0,v),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},d.prototype.setScrollWidth=function(v,A){(this.pageWidth!==v||A)&&(this.pageWidth=v,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth)&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft}))},d.prototype.setScrollLeft=function(v){this.scrollLeft=v,this.thumbLeft=(v=v<0?0:v)*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},(h=d).prototype.setInnerWidth=h.prototype.setScrollWidth,M.ScrollBar=p,M.ScrollBarV=p,M.ScrollBarH=h,M.VScrollBar=p,M.HScrollBar=h}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(B,M,Z){"use strict";var O=B("./lib/event");function D(_,I){this.onRender=_,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=I||window;var C=this;this._flush=function(f){C.pending=!1;var m=C.changes;m&&(O.blockIdle(100),C.changes=0,C.onRender(m)),C.changes?C.$recursionLimit--<0||C.schedule():C.$recursionLimit=2}}D.prototype.schedule=function(_){this.changes=this.changes|_,this.changes&&!this.pending&&(O.nextFrame(this._flush),this.pending=!0)},D.prototype.clear=function(_){var I=this.changes;return this.changes=0,I},M.RenderLoop=D}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(f,M,Z){var O=f("../lib/oop"),D=f("../lib/dom"),_=f("../lib/lang"),I=f("../lib/event"),C=f("../lib/useragent"),m=(f=f("../lib/event_emitter").EventEmitter,"function"==typeof ResizeObserver),p=(g.prototype.$setMeasureNodeStyles=function(y,h){y.width=y.height="auto",y.left=y.top="0px",y.visibility="hidden",y.position="absolute",y.whiteSpace="pre",C.isIE<8?y["font-family"]="inherit":y.font="inherit",y.overflow=h?"hidden":"visible"},g.prototype.checkForSizeChanges=function(y){var h;!(y=void 0===y?this.$measureSizes():y)||this.$characterSize.width===y.width&&this.$characterSize.height===y.height||(this.$measureNode.style.fontWeight="bold",h=this.$measureSizes(),this.$measureNode.style.fontWeight="",this.$characterSize=y,this.charSizes=Object.create(null),this.allowBoldFonts=h&&h.width===y.width&&h.height===y.height,this._emit("changeCharacterSize",{data:y}))},g.prototype.$addObserver=function(){var y=this;this.$observer=new window.ResizeObserver(function(h){y.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},g.prototype.$pollSizeChanges=function(){var y;return this.$pollSizeChangesTimer||this.$observer?this.$pollSizeChangesTimer:(y=this).$pollSizeChangesTimer=I.onIdle(function h(){y.checkForSizeChanges(),I.onIdle(h,500)},500)},g.prototype.setPolling=function(y){y?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},g.prototype.$measureSizes=function(y){return 0===(y={height:(y||this.$measureNode).clientHeight,width:(y||this.$measureNode).clientWidth/512}).width||0===y.height?null:y},g.prototype.$measureCharWidth=function(y){return this.$main.textContent=_.stringRepeat(y,512),this.$main.getBoundingClientRect().width/512},g.prototype.getCharacterWidth=function(y){var h=this.charSizes[y];return void 0===h?this.charSizes[y]=this.$measureCharWidth(y)/this.$characterSize.width:h},g.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},g.prototype.$getZoom=function(y){return y&&y.parentElement?(window.getComputedStyle(y).zoom||1)*this.$getZoom(y.parentElement):1},g.prototype.$initTransformMeasureNodes=function(){function y(h,d){return["div",{style:"position: absolute;top:"+h+"px;left:"+d+"px;"}]}this.els=D.buildDom([y(0,0),y(200,0),y(0,200),y(200,200)],this.el)},g.prototype.transformCoordinates=function(y,h){function d(ae,S,R){var X=ae[1]*S[0]-ae[0]*S[1];return[(-S[1]*R[0]+S[0]*R[1])/X,(+ae[1]*R[0]-ae[0]*R[1])/X]}function v(ae,S){return[ae[0]-S[0],ae[1]-S[1]]}function A(ae,S){return[ae[0]+S[0],ae[1]+S[1]]}function E(ae,S){return[ae*S[0],ae*S[1]]}function T(ae){return[(ae=ae.getBoundingClientRect()).left,ae.top]}y=y&&E(1/this.$getZoom(this.el),y),this.els||this.$initTransformMeasureNodes();var F,j,$=T(this.els[0]),te=T(this.els[1]),Y=T(this.els[2]);return te=E(1+(j=d(v(j=T(this.els[3]),te),v(j,Y),v(A(te,Y),A(j,$))))[0],v(te,$)),Y=E(1+j[1],v(Y,$)),h?(F=j[0]*h[0]/200+j[1]*h[1]/200+1,h=A(E(h[0],te),E(h[1],Y)),A(E(1/F/200,h),$)):(F=v(y,$),h=d(v(te,E(j[0],F)),v(Y,E(j[1],F)),F),E(200,h))},g);function g(y){this.el=D.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=D.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=D.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),y.appendChild(this.el),this.$measureNode.textContent=_.stringRepeat("X",512),this.$characterSize={width:0,height:0},m?this.$addObserver():this.checkForSizeChanges()}p.prototype.$characterSize={width:0,height:0},O.implement(p.prototype,f),M.FontMetrics=p}),ace.define("ace/css/editor-css",["require","exports","module"],function(B,M,Z){Z.exports='\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'Source Code Pro\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_keyboard-focus:focus {\n    box-shadow: inset 0 0 0 2px #5E9ED6;\n    outline: none;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n    pointer-events: none;\n}\n\n.ace_gutter-cell, .ace_gutter-cell_svg-icons {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell_svg-icons .ace_gutter_annotation {\n    margin-left: -14px;\n    float: left;\n}\n\n.ace_gutter-cell .ace_gutter_annotation {\n    margin-left: -19px;\n    float: left;\n}\n\n.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info, .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_icon_svg.ace_error {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: darkorange;\n}\n.ace_icon_svg.ace_info {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: royalblue;\n}\n\n.ace_icon_svg.ace_error_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");\n    background-color: darkorange;\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #f5f5f5;\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n}\n\n.ace_tooltip.ace_dark {\n    background-color: #636363;\n    color: #fff;\n}\n\n.ace_tooltip:focus {\n    outline: 1px solid #5E9ED6;\n}\n\n.ace_icon {\n    display: inline-block;\n    width: 18px;\n    vertical-align: top;\n}\n\n.ace_icon_svg {\n    display: inline-block;\n    width: 12px;\n    vertical-align: top;\n    -webkit-mask-repeat: no-repeat;\n    -webkit-mask-size: 12px;\n    -webkit-mask-position: center;\n}\n\n.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}\n\n.ace_ghost_text {\n    opacity: 0.5;\n    font-style: italic;\n    white-space: pre;\n}'}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(_,M,Z){"use strict";var O=_("../lib/dom"),D=_("../lib/oop"),I=(_=_("../lib/event_emitter").EventEmitter,C.prototype.$updateDecorators=function(f){var m=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light,p=(f&&(this.maxHeight=f.maxHeight,this.lineHeight=f.lineHeight,this.canvasHeight=f.height,this.heightRatio=(f.lastRow+1)*this.lineHeight<this.canvasHeight?1:this.canvasHeight/this.maxHeight),this.canvas.getContext("2d")),g=this.renderer.session.$annotations;if(p.clearRect(0,0,this.canvas.width,this.canvas.height),g)for(var y={info:1,warning:2,error:3},h=(g.forEach(function($){$.priority=y[$.type]||null}),g=g.sort(function($,j){return $.priority<j.priority?-1:$.priority>j.priority?1:0}),this.renderer.session.$foldData),d=0;d<g.length;d++){var v,F,A=this.compensateFoldRows(F=g[d].row,h),E=Math.round((F-A)*this.lineHeight*this.heightRatio),T=Math.round((F-A)*this.lineHeight*this.heightRatio);(F=Math.round(((F-A)*this.lineHeight+this.lineHeight)*this.heightRatio))-T<this.minDecorationHeight&&((v=(T+F)/2|0)<this.halfMinDecorationHeight?v=this.halfMinDecorationHeight:v+this.halfMinDecorationHeight>this.canvasHeight&&(v=this.canvasHeight-this.halfMinDecorationHeight),T=Math.round(v-this.halfMinDecorationHeight),F=Math.round(v+this.halfMinDecorationHeight)),p.fillStyle=m[g[d].type]||null,p.fillRect(0,E,this.canvasWidth,F-T)}(f=this.renderer.session.selection.getCursor())&&(A=this.compensateFoldRows(f.row,h),E=Math.round((f.row-A)*this.lineHeight*this.heightRatio),p.fillStyle="rgba(0, 0, 0, 0.5)",p.fillRect(0,E,this.canvasWidth,2))},C.prototype.compensateFoldRows=function(f,m){var p=0;if(m&&0<m.length)for(var g=0;g<m.length;g++)f>m[g].start.row&&f<m[g].end.row?p+=f-m[g].start.row:f>=m[g].end.row&&(p+=m[g].end.row-m[g].start.row);return p},C);function C(f,m){this.canvas=O.createElement("canvas"),this.renderer=m,this.pixelRatio=1,this.maxHeight=m.layerConfig.maxHeight,this.lineHeight=m.layerConfig.lineHeight,this.canvasHeight=f.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=f.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},f.element.appendChild(this.canvas)}D.implement(I.prototype,_),M.Decorator=I}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent"],function(j,M,Z){"use strict";var O=j("./lib/oop"),D=j("./lib/dom"),_=j("./lib/lang"),I=j("./config"),C=j("./layer/gutter").Gutter,f=j("./layer/marker").Marker,m=j("./layer/text").Text,p=j("./layer/cursor").Cursor,g=j("./scrollbar").HScrollBar,y=j("./scrollbar").VScrollBar,h=j("./scrollbar_custom").HScrollBar,d=j("./scrollbar_custom").VScrollBar,v=j("./renderloop").RenderLoop,A=j("./layer/font_metrics").FontMetrics,E=j("./lib/event_emitter").EventEmitter,T=j("./css/editor-css"),F=j("./layer/decorators").Decorator,$=j("./lib/useragent");function te(R,ae){var S=this;this.container=R||D.createElement("div"),D.addCssClass(this.container,"ace_editor"),D.HI_DPI&&D.addCssClass(this.container,"ace_hidpi"),this.setTheme(ae),null==I.get("useStrictCSP")&&I.set("useStrictCSP",!1),this.$gutter=D.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=D.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=D.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new C(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new f(this.content),R=this.$textLayer=new m(this.content),this.canvas=R.element,this.$markerFront=new f(this.content),this.$cursorLayer=new p(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new y(this.container,this),this.scrollBarH=new g(this.container,this),this.scrollBarV.on("scroll",function(X){S.$scrollAnimation||S.session.setScrollTop(X.data-S.scrollMargin.top)}),this.scrollBarH.on("scroll",function(X){S.$scrollAnimation||S.session.setScrollLeft(X.data-S.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new A(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(X){S.updateCharacterSize(),S.onResize(!0,S.gutterWidth,S.$size.width,S.$size.height),S._signal("changeCharacterSize",X)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!$.isIOS,this.$loop=new v(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),I.resetOptions(this),I._signal("renderer",this)}(D.importCssString(T,"ace_editor.css",!1),te.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),D.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},te.prototype.setSession=function(Y){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),(this.session=Y)&&this.scrollMargin.top&&Y.getScrollTop()<=0&&Y.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(Y),this.$markerBack.setSession(Y),this.$markerFront.setSession(Y),this.$gutterLayer.setSession(Y),this.$textLayer.setSession(Y),Y&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},te.prototype.updateLines=function(Y,ae,S){if(void 0===ae&&(ae=1/0),this.$changedLines?(this.$changedLines.firstRow>Y&&(this.$changedLines.firstRow=Y),this.$changedLines.lastRow<ae&&(this.$changedLines.lastRow=ae)):this.$changedLines={firstRow:Y,lastRow:ae},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!S)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},te.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},te.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},te.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},te.prototype.updateFull=function(Y){Y?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},te.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},te.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},te.prototype.onResize=function(Y,ae,S,R){if(!(2<this.resizing)){0<this.resizing?this.resizing++:this.resizing=Y?1:0;var X=this.container;if(X=this.$updateCachedSize(Y,ae,S=S||X.clientWidth||X.scrollWidth,R=R||X.clientHeight||X.scrollHeight),this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!S&&!R)return this.resizing=0;Y&&(this.$gutterLayer.$padding=null),Y?this.$renderChanges(X|this.$changes,!0):this.$loop.schedule(X|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},te.prototype.$updateCachedSize=function(Y,ae,S,R){var X=0,N=this.$size,K={width:N.width,height:N.height,scrollerHeight:N.scrollerHeight,scrollerWidth:N.scrollerWidth};return(R-=this.$extraHeight||0)&&(Y||N.height!=R)&&(N.height=R,X|=this.CHANGE_SIZE,N.scrollerHeight=N.height,this.$horizScroll&&(N.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(N.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",X|=this.CHANGE_SCROLL),S&&(Y||N.width!=S)&&(X|=this.CHANGE_SIZE,N.width=S,null==ae&&(ae=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=ae,D.setStyle(this.scrollBarH.element.style,"left",ae+"px"),D.setStyle(this.scroller.style,"left",ae+this.margin.left+"px"),N.scrollerWidth=Math.max(0,S-ae-this.scrollBarV.getWidth()-this.margin.h),D.setStyle(this.$gutter.style,"left",this.margin.left+"px"),ae=this.scrollBarV.getWidth()+"px",D.setStyle(this.scrollBarH.element.style,"right",ae),D.setStyle(this.scroller.style,"right",ae),D.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(N.scrollerWidth),this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||Y)&&(X|=this.CHANGE_FULL),N.$dirty=!S||!R,X&&this._signal("resize",K),X},te.prototype.onGutterResize=function(Y){(Y=this.$showGutter?Y:0)!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,Y,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},te.prototype.adjustWrapLimit=function(){var Y=this.$size.scrollerWidth-2*this.$padding;return Y=Math.floor(Y/this.characterWidth),this.session.adjustWrapLimit(Y,this.$showPrintMargin&&this.$printMarginColumn)},te.prototype.setAnimatedScroll=function(Y){this.setOption("animatedScroll",Y)},te.prototype.getAnimatedScroll=function(){return this.$animatedScroll},te.prototype.setShowInvisibles=function(Y){this.setOption("showInvisibles",Y),this.session.$bidiHandler.setShowInvisibles(Y)},te.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},te.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},te.prototype.setDisplayIndentGuides=function(Y){this.setOption("displayIndentGuides",Y)},te.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},te.prototype.setHighlightIndentGuides=function(Y){this.setOption("highlightIndentGuides",Y)},te.prototype.setShowPrintMargin=function(Y){this.setOption("showPrintMargin",Y)},te.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},te.prototype.setPrintMarginColumn=function(Y){this.setOption("printMarginColumn",Y)},te.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},te.prototype.getShowGutter=function(){return this.getOption("showGutter")},te.prototype.setShowGutter=function(Y){return this.setOption("showGutter",Y)},te.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},te.prototype.setFadeFoldWidgets=function(Y){this.setOption("fadeFoldWidgets",Y)},te.prototype.setHighlightGutterLine=function(Y){this.setOption("highlightGutterLine",Y)},te.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},te.prototype.$updatePrintMargin=function(){var Y;(this.$showPrintMargin||this.$printMarginEl)&&(this.$printMarginEl||((Y=D.createElement("div")).className="ace_layer ace_print-margin-layer",this.$printMarginEl=D.createElement("div"),this.$printMarginEl.className="ace_print-margin",Y.appendChild(this.$printMarginEl),this.content.insertBefore(Y,this.content.firstChild)),(Y=this.$printMarginEl.style).left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",Y.visibility=this.$showPrintMargin?"visible":"hidden",this.session)&&-1==this.session.$wrap&&this.adjustWrapLimit()},te.prototype.getContainerElement=function(){return this.container},te.prototype.getMouseEventTarget=function(){return this.scroller},te.prototype.getTextAreaContainer=function(){return this.container},te.prototype.$moveTextAreaToCursor=function(){var Y,ae,S,R,X,N,K;this.$isMousePressed||(Y=this.textarea.style,N=this.$composition,this.$keepTextAreaAtCursor||N?(S=this.$cursorLayer.$pixelPos)&&(N&&N.markerRange&&(S=this.$cursorLayer.getPixelPosition(N.markerRange.start,!0)),ae=S.top,S=S.left,R=N&&N.useTextareaForIME||$.isMobile?this.lineHeight:1,(ae-=(K=this.layerConfig).offset)<0||ae>K.height-R?D.translate(this.textarea,0,0):(K=1,X=this.$size.height-R,N?N.useTextareaForIME?K=this.characterWidth*this.session.$getStringScreenWidth(N=this.textarea.value)[0]:ae+=this.lineHeight+2:ae+=this.lineHeight,(S-=this.scrollLeft)>this.$size.scrollerWidth-K&&(S=this.$size.scrollerWidth-K),S+=this.gutterWidth+this.margin.left,D.setStyle(Y,"height",R+"px"),D.setStyle(Y,"width",K+"px"),D.translate(this.textarea,Math.min(S,this.$size.scrollerWidth-K),Math.min(ae,X)))):D.translate(this.textarea,-100,0))},te.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},te.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},te.prototype.getLastFullyVisibleRow=function(){var Y=this.layerConfig,ae=Y.lastRow;return this.session.documentToScreenRow(ae,0)*Y.lineHeight-this.session.getScrollTop()>Y.height-Y.lineHeight?ae-1:ae},te.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},te.prototype.setPadding=function(Y){this.$padding=Y,this.$textLayer.setPadding(Y),this.$cursorLayer.setPadding(Y),this.$markerFront.setPadding(Y),this.$markerBack.setPadding(Y),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},te.prototype.setScrollMargin=function(Y,ae,S,R){var X=this.scrollMargin;X.top=0|Y,X.bottom=0|ae,X.right=0|R,X.left=0|S,X.v=X.top+X.bottom,X.h=X.left+X.right,X.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-X.top),this.updateFull()},te.prototype.setMargin=function(Y,ae,S,R){var X=this.margin;X.top=0|Y,X.bottom=0|ae,X.right=0|R,X.left=0|S,X.v=X.top+X.bottom,X.h=X.left+X.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},te.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},te.prototype.setHScrollBarAlwaysVisible=function(Y){this.setOption("hScrollBarAlwaysVisible",Y)},te.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},te.prototype.setVScrollBarAlwaysVisible=function(Y){this.setOption("vScrollBarAlwaysVisible",Y)},te.prototype.$updateScrollBarV=function(){var Y=this.layerConfig.maxHeight,ae=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>(Y-=(ae-this.lineHeight)*this.$scrollPastEnd)-ae&&(Y=this.scrollTop+ae,this.scrollBarV.scrollTop=null),this.scrollBarV.setScrollHeight(Y+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},te.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},te.prototype.freeze=function(){this.$frozen=!0},te.prototype.unfreeze=function(){this.$frozen=!1},te.prototype.$renderChanges=function(Y,ae){if(this.$changes&&(Y|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(Y||ae)){if(this.$size.$dirty)return this.$changes|=Y,this.onResize(!0);var S,R;this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",Y),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics),ae=this.layerConfig,(Y&this.CHANGE_FULL||Y&this.CHANGE_SIZE||Y&this.CHANGE_TEXT||Y&this.CHANGE_LINES||Y&this.CHANGE_SCROLL||Y&this.CHANGE_H_SCROLL)&&(Y|=this.$computeLayerConfig()|this.$loop.clear(),ae.firstRow!=this.layerConfig.firstRow&&ae.firstRowScreen==this.layerConfig.firstRowScreen&&0<(S=this.scrollTop+(ae.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight)&&(this.scrollTop=S,Y=(Y|=this.CHANGE_SCROLL)|this.$computeLayerConfig()|this.$loop.clear()),ae=this.layerConfig,this.$updateScrollBarV(),Y&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),D.translate(this.content,-this.scrollLeft,-ae.offset),R=ae.minHeight+"px",D.setStyle(this.content.style,"width",S=ae.width+2*this.$padding+"px"),D.setStyle(this.content.style,"height",R)),Y&this.CHANGE_H_SCROLL&&(D.translate(this.content,-this.scrollLeft,-ae.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility)&&(this.scroller.className+=this.keyboardFocusClassName),Y&this.CHANGE_FULL?(this.$changedLines=null,this.$textLayer.update(ae),this.$showGutter&&this.$gutterLayer.update(ae),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(ae),this.$markerBack.update(ae),this.$markerFront.update(ae),this.$cursorLayer.update(ae),this.$moveTextAreaToCursor()):Y&this.CHANGE_SCROLL?(this.$changedLines=null,Y&this.CHANGE_TEXT||Y&this.CHANGE_LINES?this.$textLayer.update(ae):this.$textLayer.scrollLines(ae),this.$showGutter&&(Y&this.CHANGE_GUTTER||Y&this.CHANGE_LINES?this.$gutterLayer.update(ae):this.$gutterLayer.scrollLines(ae)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(ae),this.$markerBack.update(ae),this.$markerFront.update(ae),this.$cursorLayer.update(ae),this.$moveTextAreaToCursor()):(Y&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(ae),this.$showGutter&&this.$gutterLayer.update(ae),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(ae)):Y&this.CHANGE_LINES?((this.$updateLines()||Y&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(ae),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(ae)):Y&this.CHANGE_TEXT||Y&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(ae),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(ae)):Y&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(ae),this.$customScrollbar)&&this.$scrollDecorator.$updateDecorators(ae),Y&this.CHANGE_CURSOR&&(this.$cursorLayer.update(ae),this.$moveTextAreaToCursor()),Y&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(ae),Y&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(ae)),this._signal("afterRender",Y)}else this.$changes|=Y},te.prototype.$autosize=function(){var Y=this.session.getScreenLength()*this.lineHeight,ae=this.$maxLines*this.lineHeight,S=Math.min(ae,Math.max((this.$minLines||1)*this.lineHeight,Y))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(S+=this.scrollBarH.getHeight()),ae=!((S=this.$maxPixelHeight&&S>this.$maxPixelHeight?this.$maxPixelHeight:S)<=2*this.lineHeight)&&ae<Y,S==this.desiredHeight&&this.$size.height==this.desiredHeight&&ae==this.$vScroll||(ae!=this.$vScroll&&(this.$vScroll=ae,this.scrollBarV.setVisible(ae)),Y=this.container.clientWidth,this.container.style.height=S+"px",this.$updateCachedSize(!0,this.$gutterWidth,Y,S),this.desiredHeight=S,this._signal("autosize"))},te.prototype.$computeLayerConfig=function(){var Y,K,Te=this.session,ae=this.$size,Ie=ae.height<=2*this.lineHeight,S=this.session.getScreenLength()*this.lineHeight,R=this.$getLongestLine(),X=this.$horizScroll!==(Q=!Ie&&(this.$hScrollBarAlwaysVisible||ae.scrollerWidth-R-2*this.$padding<0)),Q=(X&&(this.$horizScroll=Q,this.scrollBarH.setVisible(Q)),this.$vScroll),N=(this.$maxLines&&1<this.lineHeight&&this.$autosize(),ae.scrollerHeight+this.lineHeight),ie=(S+=K=!this.$maxLines&&this.$scrollPastEnd?(ae.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0,this.scrollMargin),be=((K=Q!==(this.session.setScrollTop(Math.max(-ie.top,Math.min(this.scrollTop,S-ae.scrollerHeight+ie.bottom))),this.session.setScrollLeft(Math.max(-ie.left,Math.min(this.scrollLeft,R+2*this.$padding-ae.scrollerWidth+ie.right))),Ie=!Ie&&(this.$vScrollBarAlwaysVisible||ae.scrollerHeight-S+K<0||this.scrollTop>ie.top)))&&(this.$vScroll=Ie,this.scrollBarV.setVisible(Ie)),ie=this.scrollTop%this.lineHeight,Q=Math.ceil(N/this.lineHeight)-1,Q=(Ie=Math.max(0,Math.round((this.scrollTop-ie)/this.lineHeight)))+Q,this.lineHeight),pe=(Ie=Te.screenToDocumentRow(Ie,0),Te.getFoldLine(Ie));return pe&&(Ie=pe.start.row),pe=Te.documentToScreenRow(Ie,0),Y=Te.getRowLength(Ie)*be,Q=Math.min(Te.screenToDocumentRow(Q,0),Te.getLength()-1),N=ae.scrollerHeight+Te.getRowLength(Q)*be+Y,ie=this.scrollTop-pe*be,Te=0,this.layerConfig.width==R&&!X||(Te=this.CHANGE_H_SCROLL),(X||K)&&(Te|=this.$updateCachedSize(!0,this.gutterWidth,ae.width,ae.height),this._signal("scrollbarVisibilityChanged"),K)&&(R=this.$getLongestLine()),this.layerConfig={width:R,padding:this.$padding,firstRow:Ie,firstRowScreen:pe,lastRow:Q,lineHeight:be,characterWidth:this.characterWidth,minHeight:N,maxHeight:S,offset:ie,gutterOffset:be?Math.max(0,Math.ceil((ie+ae.height-ae.scrollerHeight)/be)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(R-this.$padding),Te},te.prototype.$updateLines=function(){if(this.$changedLines){var Y=this.$changedLines.firstRow,ae=this.$changedLines.lastRow,S=(this.$changedLines=null,this.layerConfig);if(!(Y>S.lastRow+1||ae<S.firstRow)){if(ae!==1/0)return this.$textLayer.updateLines(S,Y,ae),!0;this.$showGutter&&this.$gutterLayer.update(S),this.$textLayer.update(S)}}},te.prototype.$getLongestLine=function(){var Y=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(Y+=1),this.$textLayer&&Y>this.$textLayer.MAX_LINE_LENGTH&&(Y=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(Y*this.characterWidth))},te.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},te.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},te.prototype.addGutterDecoration=function(Y,ae){this.$gutterLayer.addGutterDecoration(Y,ae)},te.prototype.removeGutterDecoration=function(Y,ae){this.$gutterLayer.removeGutterDecoration(Y,ae)},te.prototype.updateBreakpoints=function(Y){this.$loop.schedule(this.CHANGE_GUTTER)},te.prototype.setAnnotations=function(Y){this.$gutterLayer.setAnnotations(Y),this.$loop.schedule(this.CHANGE_GUTTER)},te.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},te.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},te.prototype.showCursor=function(){this.$cursorLayer.showCursor()},te.prototype.scrollSelectionIntoView=function(Y,ae,S){this.scrollCursorIntoView(Y,S),this.scrollCursorIntoView(ae,S)},te.prototype.scrollCursorIntoView=function(Y,ae,S){var R,X,N;0!==this.$size.scrollerHeight&&(R=(Y=this.$cursorLayer.getPixelPosition(Y)).left,Y=Y.top,X=S&&S.top||0,S=S&&S.bottom||0,this.$scrollAnimation&&(this.$stopAnimation=!0),Y<(N=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop)+X?(ae&&N+X>Y+this.lineHeight&&(Y-=ae*this.$size.scrollerHeight),0===Y&&(Y=-this.scrollMargin.top),this.session.setScrollTop(Y)):N+this.$size.scrollerHeight-S<Y+this.lineHeight&&(ae&&N+this.$size.scrollerHeight-S<Y-this.lineHeight&&(Y+=ae*this.$size.scrollerHeight),this.session.setScrollTop(Y+this.lineHeight+S-this.$size.scrollerHeight)),R-(N=2*this.layerConfig.characterWidth)<(X=this.scrollLeft)?((R-=N)<this.$padding+N&&(R=-this.scrollMargin.left),this.session.setScrollLeft(R)):X+this.$size.scrollerWidth<(R+=N)+this.characterWidth?this.session.setScrollLeft(Math.round(R+this.characterWidth-this.$size.scrollerWidth)):X<=this.$padding&&R-X<this.characterWidth&&this.session.setScrollLeft(0))},te.prototype.getScrollTop=function(){return this.session.getScrollTop()},te.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},te.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},te.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},te.prototype.scrollToRow=function(Y){this.session.setScrollTop(Y*this.lineHeight)},te.prototype.alignCursor=function(R,ae){return R=this.$cursorLayer.getPixelPosition(R="number"==typeof R?{row:R,column:0}:R),this.session.setScrollTop(R=R.top-(this.$size.scrollerHeight-this.lineHeight)*(ae||0)),R},te.prototype.$calcSteps=function(Y,ae){var R,K=0,X=this.STEPS,N=[];for(K=0;K<X;++K)N.push((ae-(R=Y))*(Math.pow(K/this.STEPS-1,3)+1)+R);return N},te.prototype.scrollToLine=function(Y,ae,S,R){Y=this.$cursorLayer.getPixelPosition({row:Y,column:0}).top,ae&&(Y-=this.$size.scrollerHeight/2),ae=this.scrollTop,this.session.setScrollTop(Y),!1!==S&&this.animateScrolling(ae,R)},te.prototype.animateScrolling=function(Y,ae){var S=this.scrollTop;if(this.$animatedScroll){var R=this;if(Y!=S){if(this.$scrollAnimation){var X=this.$scrollAnimation.steps;if(X.length&&(Y=X[0])==S)return}var N=R.$calcSteps(Y,S);this.$scrollAnimation={from:Y,to:S,steps:N},clearInterval(this.$timer),R.session.setScrollTop(N.shift()),R.session.$scrollTop=S,this.$timer=setInterval(function(){if(!R.$stopAnimation)return R.session?void(N.length?(R.session.setScrollTop(N.shift()),R.session.$scrollTop=S):null!=S?(R.session.$scrollTop=-1,R.session.setScrollTop(S),S=null):K()):clearInterval(R.$timer);K()},10)}}function K(){R.$timer=clearInterval(R.$timer),R.$scrollAnimation=null,R.$stopAnimation=!1,ae&&ae()}},te.prototype.scrollToY=function(Y){this.scrollTop!==Y&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=Y)},te.prototype.scrollToX=function(Y){this.scrollLeft!==Y&&(this.scrollLeft=Y),this.$loop.schedule(this.CHANGE_H_SCROLL)},te.prototype.scrollTo=function(Y,ae){this.session.setScrollTop(ae),this.session.setScrollLeft(Y)},te.prototype.scrollBy=function(Y,ae){ae&&this.session.setScrollTop(this.session.getScrollTop()+ae),Y&&this.session.setScrollLeft(this.session.getScrollLeft()+Y)},te.prototype.isScrollableBy=function(Y,ae){return ae<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||0<ae&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||Y<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||0<Y&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},te.prototype.pixelToScreenCoordinates=function(R,X){this.$hasCssTransforms?(N={top:0,left:0},R=(S=this.$fontMetrics.transformCoordinates([R,X]))[1]-this.gutterWidth-this.margin.left,X=S[0]):N=this.scroller.getBoundingClientRect();var S=R+this.scrollLeft-N.left-this.$padding,N=(R=S/this.characterWidth,X=Math.floor((X+this.scrollTop-N.top)/this.lineHeight),this.$blockCursor?Math.floor(R):Math.round(R));return{row:X,column:N,side:0<R-N?1:-1,offsetX:S}},te.prototype.screenToTextCoordinates=function(X,N){this.$hasCssTransforms?(S={top:0,left:0},X=(R=this.$fontMetrics.transformCoordinates([X,N]))[1]-this.gutterWidth-this.margin.left,N=R[0]):S=this.scroller.getBoundingClientRect();var S,R=X+this.scrollLeft-S.left-this.$padding;return X=R/this.characterWidth,X=this.$blockCursor?Math.floor(X):Math.round(X),N=Math.floor((N+this.scrollTop-S.top)/this.lineHeight),this.session.screenToDocumentPosition(N,Math.max(X,0),R)},te.prototype.textToScreenCoordinates=function(R,X){var S=this.scroller.getBoundingClientRect();return X=this.session.documentToScreenPosition(R,X),R=this.$padding+(this.session.$bidiHandler.isBidiRow(X.row,R)?this.session.$bidiHandler.getPosLeft(X.column):Math.round(X.column*this.characterWidth)),{pageX:S.left+R-this.scrollLeft,pageY:S.top+(X=X.row*this.lineHeight)-this.scrollTop}},te.prototype.visualizeFocus=function(){D.addCssClass(this.container,"ace_focus")},te.prototype.visualizeBlur=function(){D.removeCssClass(this.container,"ace_focus")},te.prototype.showComposition=function(Y){(this.$composition=Y).cssText||(Y.cssText=this.textarea.style.cssText),null==Y.useTextareaForIME&&(Y.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(D.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):Y.markerId=this.session.addMarker(Y.markerRange,"ace_composition_marker","text")},te.prototype.setCompositionText=function(Y){var ae=this.session.selection.cursor;this.addToken(Y,"composition_placeholder",ae.row,ae.column),this.$moveTextAreaToCursor()},te.prototype.hideComposition=function(){var Y;this.$composition&&(this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),D.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText,this.removeExtraToken((Y=this.session.selection.cursor).row,Y.column),this.$composition=null,this.$cursorLayer.element.style.display="")},te.prototype.setGhostText=function(Y,S){var R=this.session.selection.cursor;S=S||{row:R.row,column:R.column},this.removeGhostText(),R=Y.split("\n"),this.addToken(R[0],"ghost_text",S.row,S.column),this.$ghostText={text:Y,position:{row:S.row,column:S.column}},1<R.length&&(this.$ghostTextWidget={text:R.slice(1).join("\n"),row:S.row,column:S.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget))},te.prototype.removeGhostText=function(){var Y;this.$ghostText&&(this.removeExtraToken((Y=this.$ghostText.position).row,Y.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null)},te.prototype.addToken=function(Y,ae,S,R){var X=this.session,N=(X.bgTokenizer.lines[S]=null,{type:ae,value:Y}),K=X.getTokens(S);if(null!=R&&K.length)for(var ie=0,Q=0;Q<K.length;Q++){var be=K[Q];if(R<=(ie+=be.value.length)){var Ie=be.value.slice(0,pe=be.value.length-(ie-R)),pe=be.value.slice(pe);K.splice(Q,1,{type:be.type,value:Ie},N,{type:be.type,value:pe});break}}else K.push(N);this.updateLines(S,S)},te.prototype.removeExtraToken=function(Y,ae){this.session.bgTokenizer.lines[Y]=null,this.updateLines(Y,Y)},te.prototype.setTheme=function(Y,ae){var R=this;function X(N){if(R.$themeId!=Y)return ae&&ae();if(!N||!N.cssClass)throw new Error("couldn't load module "+Y+" or it didn't call define");N.$id&&(R.$themeId=N.$id),D.importCssString(N.cssText,N.cssClass,R.container),R.theme&&D.removeCssClass(R.container,R.theme.cssClass);var K="padding"in N?N.padding:"padding"in(R.theme||{})?4:R.$padding;R.$padding&&K!=R.$padding&&R.setPadding(K),R.$theme=N.cssClass,R.theme=N,D.addCssClass(R.container,N.cssClass),D.setCssClass(R.container,"ace_dark",N.isDark),R.$size&&(R.$size.width=0,R.$updateSizeAsync()),R._dispatchEvent("themeLoaded",{theme:N}),ae&&ae()}this.$themeId=Y,R._dispatchEvent("themeChange",{theme:Y}),Y&&"string"!=typeof Y?X(Y):I.loadModule(["theme",Y||this.$options.theme.initialValue],X)},te.prototype.getTheme=function(){return this.$themeId},te.prototype.setStyle=function(Y,ae){D.setCssClass(this.container,Y,!1!==ae)},te.prototype.unsetStyle=function(Y){D.removeCssClass(this.container,Y)},te.prototype.setCursorStyle=function(Y){D.setStyle(this.scroller.style,"cursor",Y)},te.prototype.setMouseCursor=function(Y){D.setStyle(this.scroller.style,"cursor",Y)},te.prototype.attachToShadowRoot=function(){D.importCssString(T,"ace_editor.css",this.container)},te.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},te.prototype.$updateCustomScrollbar=function(Y){var ae=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===Y?(this.scrollBarV=new d(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(S){ae.$scrollAnimation||ae.session.setScrollTop(S.data-ae.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(S){ae.$scrollAnimation||ae.session.setScrollLeft(S.data-ae.scrollMargin.left)}),this.$scrollDecorator=new F(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new y(this.container,this),this.scrollBarH=new g(this.container,this),this.scrollBarV.addEventListener("scroll",function(S){ae.$scrollAnimation||ae.session.setScrollTop(S.data-ae.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(S){ae.$scrollAnimation||ae.session.setScrollLeft(S.data-ae.scrollMargin.left)}))},te.prototype.$addResizeObserver=function(){var Y;window.ResizeObserver&&!this.$resizeObserver&&((Y=this).$resizeTimer=_.delayedCall(function(){Y.destroyed||Y.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(R){var S=R[0].contentRect.width;R=R[0].contentRect.height,1<Math.abs(Y.$size.width-S)||1<Math.abs(Y.$size.height-R)?Y.$resizeTimer.delay():Y.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container))},j=te).prototype.CHANGE_CURSOR=1,j.prototype.CHANGE_MARKER=2,j.prototype.CHANGE_GUTTER=4,j.prototype.CHANGE_SCROLL=8,j.prototype.CHANGE_LINES=16,j.prototype.CHANGE_TEXT=32,j.prototype.CHANGE_SIZE=64,j.prototype.CHANGE_MARKER_BACK=128,j.prototype.CHANGE_MARKER_FRONT=256,j.prototype.CHANGE_FULL=512,j.prototype.CHANGE_H_SCROLL=1024,j.prototype.$changes=0,j.prototype.$padding=null,j.prototype.$frozen=!1,j.prototype.STEPS=8,O.implement(j.prototype,E),I.defineOptions(j.prototype,"renderer",{useResizeObserver:{set:function(Y){!Y&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):Y&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(Y){this.$textLayer.setShowInvisibles(Y)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(Y){"number"==typeof Y&&(this.$printMarginColumn=Y),this.$showPrintMargin=!!Y,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(Y){this.$gutter.style.display=Y?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(Y){this.$gutterLayer.$useSvgGutterIcons=Y},initialValue:!1},showFoldedAnnotations:{set:function(Y){this.$gutterLayer.$showFoldedAnnotations=Y},initialValue:!1},fadeFoldWidgets:{set:function(Y){D.setCssClass(this.$gutter,"ace_fade-fold-widgets",Y)},initialValue:!1},showFoldWidgets:{set:function(Y){this.$gutterLayer.setShowFoldWidgets(Y),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(Y){this.$textLayer.setDisplayIndentGuides(Y)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(Y){1==this.$textLayer.setHighlightIndentGuides(Y)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(Y){this.$gutterLayer.setHighlightGutterLine(Y),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(Y){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(Y){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(Y){"number"==typeof Y&&(Y+="px"),this.container.style.fontSize=Y,this.updateFontSize()},initialValue:12},fontFamily:{set:function(Y){this.container.style.fontFamily=Y,this.updateFontSize()}},maxLines:{set:function(Y){this.updateFull()}},minLines:{set:function(Y){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(Y){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(Y){this.$scrollPastEnd!=(Y=+Y||0)&&(this.$scrollPastEnd=Y,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(Y){this.$gutterLayer.$fixedWidth=!!Y,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(Y){this.$updateCustomScrollbar(Y)},initialValue:!1},theme:{set:function(Y){this.setTheme(Y)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!$.isMobile&&!$.isIE}}),M.VirtualRenderer=j}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(B,M,Z){"use strict";var O=B("../lib/oop"),D=B("../lib/net"),_=B("../lib/event_emitter").EventEmitter,I=B("../config");function C(m){var p;return typeof Worker>"u"?{postMessage:function(){},terminate:function(){}}:I.get("loadWorkerFromBlob")?(p=function(g){g="importScripts('"+D.qualifyURL(g)+"');";try{return new Blob([g],{type:"application/javascript"})}catch{var y=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return y.append(g),y.getBlob("application/javascript")}}(m),p=(window.URL||window.webkitURL).createObjectURL(p),new Worker(p)):new Worker(m)}function f(m){m.postMessage||(m=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=m,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage}(function(){O.implement(this,_),this.$createWorkerFromOldConfig=function(m,p,g,y,h){var d,v;return B.nameToUrl&&!B.toUrl&&(B.toUrl=B.nameToUrl),I.get("packaged")||!B.toUrl?y=y||I.moduleUrl(p,"worker"):(d=this.$normalizePath,y=y||d(B.toUrl("ace/worker/worker.js",null,"_")),v={},m.forEach(function(A){v[A]=d(B.toUrl(A,null,"_").replace(/(\.js)?(\?.*)?$/,""))})),this.$worker=C(y),h&&this.send("importScripts",h),this.$worker.postMessage({init:!0,tlns:v,module:p,classname:g}),this.$worker},this.onMessage=function(m){var p=m.data;switch(p.type){case"event":this._signal(p.name,{data:p.data});break;case"call":var g=this.callbacks[p.id];g&&(g(p.data),delete this.callbacks[p.id]);break;case"error":this.reportError(p.data);break;case"log":window.console&&console.log&&console.log.apply(console,p.data)}},this.reportError=function(m){window.console&&console.error&&console.error(m)},this.$normalizePath=function(m){return D.qualifyURL(m)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(m){m.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(m,p){this.$worker.postMessage({command:m,args:p})},this.call=function(m,p,g){var y;g&&(y=this.callbackId++,this.callbacks[y]=g,p.push(y)),this.send(m,p)},this.emit=function(m,p){try{p.data&&p.data.err&&(p.data.err={message:p.data.err.message,stack:p.data.err.stack,code:p.data.err.code}),this.$worker&&this.$worker.postMessage({event:m,data:{data:p.data}})}catch(g){console.error(g.stack)}},this.attachToDocument=function(m){this.$doc&&this.terminate(),this.$doc=m,this.call("setValue",[m.getValue()]),m.on("change",this.changeListener,!0)},this.changeListener=function(m){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),this.deltaQueue.push(m.start,"insert"==m.action?m.lines:m.end)},this.$sendDeltaQueue=function(){var m=this.deltaQueue;m&&(this.deltaQueue=null,50<m.length&&m.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:m}))}}).call(f.prototype),M.UIWorkerClient=function(m,p,g){var y=null,h=!1,d=Object.create(_),v=[],A=new f({messageBuffer:v,terminate:function(){},postMessage:function(T){v.push(T),y&&(h?setTimeout(E):E())}}),E=(A.setEmitSync=function(T){h=T},function(){var T=v.shift();T.command?y[T.command].apply(y,T.args):T.event&&d._signal(T.event,T.data)});return d.postMessage=function(T){A.onMessage({data:T})},d.callback=function(T,F){this.postMessage({type:"call",id:F,data:T})},d.emit=function(T,F){this.postMessage({type:"event",name:T,data:F})},I.loadModule(["worker",p],function(T){for(y=new T[g](d);v.length;)E()}),A},M.WorkerClient=f,M.createWorker=C}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(_,M,Z){"use strict";var O=_("./range").Range,D=_("./lib/event_emitter").EventEmitter,I=(_=_("./lib/oop"),C.prototype.setup=function(){var f=this,m=this.doc,p=this.session,g=(this.selectionBefore=p.selection.toJSON(),p.selection.inMultiSelectMode&&p.selection.toSingleRange(),this.pos=m.createAnchor(this.$pos.row,this.$pos.column),this.pos);g.$insertRight=!0,g.detach(),g.markerId=p.addMarker(new O(g.row,g.column,g.row,g.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(y){(y=m.createAnchor(y.row,y.column)).$insertRight=!0,y.detach(),f.others.push(y)}),p.setUndoSelect(!1)},C.prototype.showOtherMarkers=function(){var f,m;this.othersActive||(f=this.session,(m=this).othersActive=!0,this.others.forEach(function(p){p.markerId=f.addMarker(new O(p.row,p.column,p.row,p.column+m.length),m.othersClass,null,!1)}))},C.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var f=0;f<this.others.length;f++)this.session.removeMarker(this.others[f].markerId)}},C.prototype.onUpdate=function(f){if(this.$updating)return this.updateAnchors(f);var m=f;if(m.start.row===m.end.row&&m.start.row===this.pos.row){this.$updating=!0;var p="insert"===f.action?m.end.column-m.start.column:m.start.column-m.end.column,g=m.start.column>=this.pos.column&&m.start.column<=this.pos.column+this.length+1,y=m.start.column-this.pos.column;if(this.updateAnchors(f),g&&(this.length+=p),g&&!this.session.$fromUndo)if("insert"===f.action)for(var h=this.others.length-1;0<=h;h--){var d={row:(v=this.others[h]).row,column:v.column+y};this.doc.insertMergedLines(d,f.lines)}else if("remove"===f.action)for(h=this.others.length-1;0<=h;h--){var v;d={row:(v=this.others[h]).row,column:v.column+y},this.doc.remove(new O(d.row,d.column,d.row,d.column-p))}this.$updating=!1,this.updateMarkers()}},C.prototype.updateAnchors=function(f){this.pos.onChange(f);for(var m=this.others.length;m--;)this.others[m].onChange(f);this.updateMarkers()},C.prototype.updateMarkers=function(){if(!this.$updating){var f=this,m=this.session,p=function(y,h){m.removeMarker(y.markerId),y.markerId=m.addMarker(new O(y.row,y.column,y.row,y.column+f.length),h,null,!1)};p(this.pos,this.mainClass);for(var g=this.others.length;g--;)p(this.others[g],this.othersClass)}},C.prototype.onCursorChange=function(f){var m;!this.$updating&&this.session&&((m=this.session.selection.getCursor()).row===this.pos.row&&m.column>=this.pos.column&&m.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",f)):(this.hideOtherMarkers(),this._emit("cursorLeave",f)))},C.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},C.prototype.cancel=function(){if(-1!==this.$undoStackDepth){for(var f=this.session.getUndoManager(),m=(f.$undoStack||f.$undostack).length-this.$undoStackDepth,p=0;p<m;p++)f.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},C);function C(f,v,p,g,y,h){var d=this;this.length=v,this.session=f,this.doc=f.getDocument(),this.mainClass=y,this.othersClass=h,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=g,this.$onCursorChange=function(){setTimeout(function(){d.onCursorChange()})},this.$pos=p,v=f.getUndoManager().$undoStack||f.getUndoManager().$undostack||{length:-1},this.$undoStackDepth=v.length,this.setup(),f.selection.on("changeCursor",this.$onCursorChange)}_.implement(I.prototype,D),M.PlaceHolder=I}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(B,M,Z){var O=B("../lib/event"),D=B("../lib/useragent");function _(I,C){return I.row==C.row&&I.column==C.column}M.onMouseDown=function(I){var C=I.domEvent,f=C.altKey,m=C.shiftKey,p=C.ctrlKey,g=I.getAccelKey(),y=I.getButton();if(p&&D.isMac&&(y=C.button),I.editor.inMultiSelectMode&&2==y)I.editor.textInput.onContextMenu(I.domEvent);else if(p||f||g){if(0===y){var h,d,v,A,E,T,F,$,j=I.editor,te=j.selection,Y=j.inMultiSelectMode,ae=I.getDocumentPosition(),S=te.getCursor(),R=(S=I.inSelection()||te.isEmpty()&&_(ae,S),I.x),X=I.y,N=j.session,K=j.renderer.pixelToScreenCoordinates(R,X),ie=K;if(j.$mouseHandler.$enableJumpToDef)p&&f||g&&f?h=m?"block":"add":f&&j.$blockSelectEnabled&&(h="block");else if(g&&!f){if(h="add",!Y&&m)return}else f&&j.$blockSelectEnabled&&(h="block");if(h&&D.isMac&&C.ctrlKey&&j.$mouseHandler.cancelContextMenu(),"add"==h)!Y&&S||(Y||(d=te.toOrientedRange(),j.addSelectionMarker(d)),v=te.rangeList.rangeAtPoint(ae),j.inVirtualSelectionMode=!0,m&&(v=null,j.removeSelectionMarker(d=te.ranges[0]||d)),j.once("mouseup",function(){var Q=te.toOrientedRange();v&&Q.isEmpty()&&_(v.cursor,Q.cursor)?te.substractPoint(Q.cursor):(m?te.substractPoint(d.cursor):d&&(j.removeSelectionMarker(d),te.addRange(d)),te.addRange(Q)),j.inVirtualSelectionMode=!1}));else if("block"==h)return I.stop(),j.inVirtualSelectionMode=!0,E=[],T=function(){var Q=j.renderer.pixelToScreenCoordinates(R,X),be=N.screenToDocumentPosition(Q.row,Q.column,Q.offsetX);_(ie,Q)&&_(be,te.lead)||(ie=Q,j.selection.moveToPosition(be),j.renderer.scrollCursorIntoView(),j.removeSelectionMarkers(E),E=te.rectangularRangeBlock(ie,K),j.$mouseHandler.$clickSelection&&1==E.length&&E[0].isEmpty()&&(E[0]=j.$mouseHandler.$clickSelection.clone()),E.forEach(j.addSelectionMarker,j),j.updateSelectionMarkers())},Y&&!g?te.toSingleRange():!Y&&g&&(A=te.toOrientedRange(),j.addSelectionMarker(A)),m?K=N.documentToScreenPosition(te.lead):te.moveToPosition(ae),ie={row:-1,column:-1},F=T,O.capture(j.container,function(Q){R=Q.clientX,X=Q.clientY},function(Q){T(),clearInterval($),j.removeSelectionMarkers(E),E.length||(E=[te.toOrientedRange()]),A&&(j.removeSelectionMarker(A),te.toSingleRange(A));for(var be=0;be<E.length;be++)te.addRange(E[be]);j.inVirtualSelectionMode=!1,j.$mouseHandler.$clickSelection=null}),$=setInterval(function(){F()},20),I.preventDefault()}}else 0===y&&I.editor.inMultiSelectMode&&I.editor.exitMultiSelectMode()}}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(B,M,Z){M.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(O){O.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(O){O.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(O){O.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(O){O.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(O){O.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(O){O.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(O){O.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(O){O.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(O){1<O.multiSelect.rangeCount?O.multiSelect.joinSelections():O.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(O){O.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(O){O.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(O){O.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],M.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(O){O.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(O){return O&&O.inMultiSelectMode}}],B=B("../keyboard/hash_handler").HashHandler,M.keyboardHandler=new B(M.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(B,M,Z){var O=B("./range_list").RangeList,D=B("./range").Range,_=B("./selection").Selection,I=B("./mouse/multi_select_handler").onMouseDown,C=B("./lib/event"),f=B("./lib/lang"),m=B("./commands/multi_select_commands");M.commands=m.defaultCommands.concat(m.multiSelectCommands);var p=new(B("./search").Search),g=B("./edit_session").EditSession;function y(h){var d,v;function A(E){v&&(d.renderer.setMouseCursor(""),v=!1)}h.$multiselectOnSessionChange||(h.$onAddRange=h.$onAddRange.bind(h),h.$onRemoveRange=h.$onRemoveRange.bind(h),h.$onMultiSelect=h.$onMultiSelect.bind(h),h.$onSingleSelect=h.$onSingleSelect.bind(h),h.$multiselectOnSessionChange=M.onSessionChange.bind(h),h.$checkMultiselectChange=h.$checkMultiselectChange.bind(h),h.$multiselectOnSessionChange(h),h.on("changeSession",h.$multiselectOnSessionChange),h.on("mousedown",I),h.commands.addCommands(m.defaultCommands),(d=h).textInput&&(h=d.textInput.getElement(),v=!1,C.addListener(h,"keydown",function(E){E=18==E.keyCode&&!(E.ctrlKey||E.shiftKey||E.metaKey),d.$blockSelectEnabled&&E?v||(d.renderer.setMouseCursor("crosshair"),v=!0):v&&A()},d),C.addListener(h,"keyup",A,d),C.addListener(h,"blur",A,d)))}(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(g.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(h,d){if(h){if(!this.inMultiSelectMode&&0===this.rangeCount){var v=this.toOrientedRange();if(this.rangeList.add(v),this.rangeList.add(h),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),d||this.fromOrientedRange(h);this.rangeList.removeAll(),this.rangeList.add(v),this.$onAddRange(v)}return h.cursor||(h.cursor=h.end),v=this.rangeList.add(h),this.$onAddRange(h),v.length&&this.$onRemoveRange(v),1<this.rangeCount&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),d||this.fromOrientedRange(h)}},this.toSingleRange=function(h){h=h||this.ranges[0];var d=this.rangeList.removeAll();d.length&&this.$onRemoveRange(d),h&&this.fromOrientedRange(h)},this.substractPoint=function(h){if(h=this.rangeList.substractPoint(h))return this.$onRemoveRange(h),h[0]},this.mergeOverlappingRanges=function(){var h=this.rangeList.merge();h.length&&this.$onRemoveRange(h)},this.$onAddRange=function(h){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(h),this._signal("addRange",{range:h})},this.$onRemoveRange=function(h){var d;this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode&&(d=this.rangeList.ranges.pop(),h.push(d),this.rangeCount=0);for(var v=h.length;v--;){var A=this.ranges.indexOf(h[v]);this.ranges.splice(A,1)}this._signal("removeRange",{ranges:h}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(d=d||this.ranges[0])&&!d.isEqual(this.getRange())&&this.fromOrientedRange(d)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new O,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var h=this.ranges.length?this.ranges:[this.getRange()],d=[],v=0;v<h.length;v++){var A=h[v],E=A.start.row,T=A.end.row;if(E===T)d.push(A.clone());else{for(d.push(new D(E,A.start.column,E,this.session.getLine(E).length));++E<T;)d.push(this.getLineRange(E,!0));d.push(new D(T,0,T,A.end.column))}0!=v||this.isBackwards()||(d=d.reverse())}for(this.toSingleRange(),v=d.length;v--;)this.addRange(d[v])},this.joinSelections=function(){var h=(d=this.rangeList.ranges)[d.length-1],d=D.fromPoints(d[0].start,h.end);this.toSingleRange(),this.setSelectionRange(d,h.cursor==h.start)},this.toggleBlockSelection=function(){var h,d;1<this.rangeCount?(d=(h=this.rangeList.ranges)[h.length-1],h=D.fromPoints(h[0].start,d.end),this.toSingleRange(),this.setSelectionRange(h,d.cursor==d.start)):(h=this.session.documentToScreenPosition(this.cursor),d=this.session.documentToScreenPosition(this.anchor),this.rectangularRangeBlock(h,d).forEach(this.addRange,this))},this.rectangularRangeBlock=function(h,d,v){var A,E,T,F,$,j,te,Y=[],ae=h.column<d.column,S=(F=(ae?(A=h.column,E=d.column,T=h.offsetX,d):(A=d.column,E=h.column,T=d.offsetX,h)).offsetX,h.row<d.row);j=(S?($=h.row,d):($=d.row,h)).row,A<0&&(A=0),($=$<0?0:$)==j&&(v=!0);for(var R,X,N=$;N<=j;N++){var K=D.fromPoints(this.session.screenToDocumentPosition(N,A,T),this.session.screenToDocumentPosition(N,E,F));if(K.isEmpty()){if(te&&(R=K.end).row==(X=te).row&&R.column==X.column)break;te=K.end}K.cursor=ae?K.start:K.end,Y.push(K)}if(S&&Y.reverse(),!v){for(var ie=Y.length-1;Y[ie].isEmpty()&&0<ie;)ie--;if(0<ie)for(var Q=0;Y[Q].isEmpty();)Q++;for(var be=ie;Q<=be;be--)Y[be].isEmpty()&&Y.splice(be,1)}return Y}}.call(_.prototype),g=B("./editor").Editor,function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(h){h.cursor||(h.cursor=h.end);var d=this.getSelectionStyle();return h.marker=this.session.addMarker(h,"ace_selection",d),this.session.$selectionMarkers.push(h),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,h},this.removeSelectionMarker=function(h){h.marker&&(this.session.removeMarker(h.marker),-1!=(h=this.session.$selectionMarkers.indexOf(h))&&this.session.$selectionMarkers.splice(h,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length)},this.removeSelectionMarkers=function(h){for(var d=this.session.$selectionMarkers,v=h.length;v--;){var A=h[v];A.marker&&(this.session.removeMarker(A.marker),-1!=(A=d.indexOf(A)))&&d.splice(A,1)}this.session.selectionMarkerCount=d.length},this.$onAddRange=function(h){this.addSelectionMarker(h.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(h){this.removeSelectionMarkers(h.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(h){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(m.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(h){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(m.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(h){var d,v=h.command,A=h.editor;if(A.multiSelect)return v.multiSelectAction?d="forEach"==v.multiSelectAction?A.forEachSelection(v,h.args):"forEachLine"==v.multiSelectAction?A.forEachSelection(v,h.args,!0):"single"==v.multiSelectAction?(A.exitMultiSelectMode(),v.exec(A,h.args||{})):v.multiSelectAction(A,h.args||{}):(d=v.exec(A,h.args||{}),A.multiSelect.addRange(A.multiSelect.toOrientedRange()),A.multiSelect.mergeOverlappingRanges()),d},this.forEachSelection=function(h,d,v){if(!this.inVirtualSelectionMode){var A,j=v&&v.keepOrder,E=1==v||v&&v.$byLines,T=this.session,F=(v=this.selection).rangeList,$=(j?v:F).ranges;if(!$.length)return h.exec?h.exec(this,d||{}):h(this,d||{});j=v._eventRegistry;var te=(v._eventRegistry={},new _(T));this.inVirtualSelectionMode=!0;for(var Y=$.length;Y--;){if(E)for(;0<Y&&$[Y].start.row==$[Y-1].end.row;)Y--;te.fromOrientedRange($[Y]),te.index=Y,this.selection=T.selection=te;var ae=h.exec?h.exec(this,d||{}):h(this,d||{});A||void 0===ae||(A=ae),te.toOrientedRange($[Y])}return te.detach(),this.selection=T.selection=v,this.inVirtualSelectionMode=!1,v._eventRegistry=j,v.mergeOverlappingRanges(),v.ranges[0]&&v.fromOrientedRange(v.ranges[0]),F=this.renderer.$scrollAnimation,this.onCursorChange(),this.onSelectionChange(),F&&F.from==F.to&&this.renderer.animateScrolling(F.from),A}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var h="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var d=this.multiSelect.rangeList.ranges,v=[],A=0;A<d.length;A++)v.push(this.session.getTextRange(d[A]));var E=this.session.getDocument().getNewLineCharacter();(h=v.join(E)).length==(v.length-1)*E.length&&(h="")}else this.selection.isEmpty()||(h=this.session.getTextRange(this.getSelectionRange()));return h},this.$checkMultiselectChange=function(h,d){var v;this.inMultiSelectMode&&!this.inVirtualSelectionMode&&(v=this.multiSelect.ranges[0],this.multiSelect.isEmpty()&&d==this.multiSelect.anchor||((v=d==this.multiSelect.anchor?v.cursor==v.start?v.end:v.start:v.cursor).row!=d.row||this.session.$clipPositionToDocument(v.row,v.column).column!=d.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()))},this.findAll=function(h,d,v){(d=d||{}).needle=h||d.needle,null==d.needle&&(A=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange(),d.needle=this.session.getTextRange(A)),this.$search.set(d);var A,E=this.$search.findAll(this.session);if(!E.length)return 0;var T=this.multiSelect;v||T.toSingleRange(E[0]);for(var F=E.length;F--;)T.addRange(E[F],!0);return A&&T.rangeList.rangeAtPoint(A.start)&&T.addRange(A,!0),E.length},this.selectMoreLines=function(h,d){var v,A,E,T=this.selection.toOrientedRange(),F=T.cursor==T.end,$=this.session.documentToScreenPosition(T.cursor),j=(this.selection.$desiredColumn&&($.column=this.selection.$desiredColumn),this.session.screenToDocumentPosition($.row+h,$.column));h=T.isEmpty()?j:(v=this.session.documentToScreenPosition(F?T.end:T.start),this.session.screenToDocumentPosition(v.row+h,v.column)),F?(A=D.fromPoints(j,h)).cursor=A.start:(A=D.fromPoints(h,j)).cursor=A.end,A.desiredColumn=$.column,this.selection.inMultiSelectMode?d&&(E=T.cursor):this.selection.addRange(T),this.selection.addRange(A),E&&this.selection.substractPoint(E)},this.transposeSelections=function(h){for(var d=this.session,v=d.multiSelect,A=v.ranges,E=A.length;E--;)(F=A[E]).isEmpty()&&($=d.getWordRange(F.start.row,F.start.column),F.start.row=$.start.row,F.start.column=$.start.column,F.end.row=$.end.row,F.end.column=$.end.column);v.mergeOverlappingRanges();var T=[];for(E=A.length;E--;){var F=A[E];T.unshift(d.getTextRange(F))}for(h<0?T.unshift(T.pop()):T.push(T.shift()),E=A.length;E--;){var $=(F=A[E]).clone();d.replace(F,T[E]),F.start.row=$.start.row,F.start.column=$.start.column}v.fromOrientedRange(v.ranges[0])},this.selectMore=function(h,d,v){var A,E=this.session,T=E.multiSelect.toOrientedRange();T.isEmpty()&&((T=E.getWordRange(T.start.row,T.start.column)).cursor=-1==h?T.start:T.end,this.multiSelect.addRange(T),v)||(v=E.getTextRange(T),A=h,p.$options.wrap=!0,p.$options.needle=v,p.$options.backwards=-1==A,(v=p.find(E))&&(v.cursor=-1==h?v.start:v.end,this.session.unfold(v),this.multiSelect.addRange(v),this.renderer.scrollCursorIntoView(null,.5)),d&&this.multiSelect.substractPoint(T.cursor))},this.alignCursors=function(){var h=this.session,d=h.multiSelect,A=-1,E=(v=d.ranges).filter(function(R){if(R.cursor.row==A)return!0;A=R.cursor.row});if(v.length&&E.length!=v.length-1){E.forEach(function(R){d.substractPoint(R.cursor)});var T=0,F=1/0,$=v.map(function(X){var N=h.getLine((X=X.cursor).row).substr(X.column).search(/\S/g);return X.column>T&&(T=X.column),(N=-1==N?0:N)<F&&(F=N),N});v.forEach(function(R,ie){var N=R.cursor,K=T-N.column;(ie=$[ie]-F)<K?h.insert(N,f.stringRepeat(" ",K-ie)):h.remove(new D(N.row,N.column,N.row,N.column-K+ie)),R.start.column=R.end.column=T,R.start.row=R.end.row=N.row,R.cursor=R.end}),d.fromOrientedRange(v[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var v,j=(E=this.selection.getRange()).start.row,te=E.end.row;if(v=j==te){for(var Y,ae=this.session.getLength();Y=this.session.getLine(te),/[=:]/.test(Y)&&++te<ae;);for(;Y=this.session.getLine(j),/[=:]/.test(Y)&&0<--j;);j<0&&(j=0),ae<=te&&(te=ae-1)}var S=this.session.removeFullLines(j,te);S=this.$reAlignText(S,v),this.session.insert({row:j,column:0},S.join("\n")+"\n"),v||(E.start.column=0,E.end.column=S[S.length-1].length),this.selection.setRange(E)}},this.$reAlignText=function(h,d){var v,A,E,T=!0,F=!0;return h.map(function(te){var Y=te.match(/(\s*)(.*?)(\s*)([=:].*)/);return Y?(null==v?(v=Y[1].length,A=Y[2].length,E=Y[3].length):(v+A+E!=Y[1].length+Y[2].length+Y[3].length&&(F=!1),v!=Y[1].length&&(T=!1),v>Y[1].length&&(v=Y[1].length),A<Y[2].length&&(A=Y[2].length),E>Y[3].length&&(E=Y[3].length)),Y):[te]}).map(d?j:T?F?function(te){return te[2]?$(v+A-te[2].length)+te[2]+$(E)+te[4].replace(/^([=:])\s+/,"$1 "):te[0]}:j:function(te){return te[2]?$(v)+te[2]+$(E)+te[4].replace(/^([=:])\s+/,"$1 "):te[0]});function $(te){return f.stringRepeat(" ",te)}function j(te){return te[2]?$(v)+te[2]+$(A-te[2].length+E)+te[4].replace(/^([=:])\s+/,"$1 "):te[0]}}}.call(g.prototype),M.onSessionChange=function(v){var d=v.session;d&&!d.multiSelect&&(d.$selectionMarkers=[],d.selection.$initRangeList(),d.multiSelect=d.selection),this.multiSelect=d&&d.multiSelect,(v=v.oldSession)&&(v.multiSelect.off("addRange",this.$onAddRange),v.multiSelect.off("removeRange",this.$onRemoveRange),v.multiSelect.off("multiSelect",this.$onMultiSelect),v.multiSelect.off("singleSelect",this.$onSingleSelect),v.multiSelect.lead.off("change",this.$checkMultiselectChange),v.multiSelect.anchor.off("change",this.$checkMultiselectChange)),d&&(d.multiSelect.on("addRange",this.$onAddRange),d.multiSelect.on("removeRange",this.$onRemoveRange),d.multiSelect.on("multiSelect",this.$onMultiSelect),d.multiSelect.on("singleSelect",this.$onSingleSelect),d.multiSelect.lead.on("change",this.$checkMultiselectChange),d.multiSelect.anchor.on("change",this.$checkMultiselectChange)),d&&this.inMultiSelectMode!=d.selection.inMultiSelectMode&&(d.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},M.MultiSelect=y,B("./config").defineOptions(g.prototype,"editor",{enableMultiselect:{set:function(h){y(this),h?this.on("mousedown",I):this.off("mousedown",I)},value:!0},enableBlockSelect:{set:function(h){this.$blockSelectEnabled=h},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(D,M,Z){"use strict";var O=D("../../range").Range;D=M.FoldMode=function(){},function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(_,I,C){return _=_.getLine(C),this.foldingStartMarker.test(_)?"start":"markbeginend"==I&&this.foldingStopMarker&&this.foldingStopMarker.test(_)?"end":""},this.getFoldWidgetRange=function(_,I,C){return null},this.indentationBlock=function(_,I,C){var f=/\S/,p=(m=_.getLine(I)).search(f);if(-1!=p){C=C||m.length;for(var g,y=_.getLength(),m=I,h=I;++I<y;){var d=_.getLine(I).search(f);if(-1!=d){if(d<=p&&(!(d=_.getTokenAt(I,0))||"string"!==d.type))break;h=I}}return m<h?(g=_.getLine(h).length,new O(m,C,h,g)):void 0}},this.openingBracketBlock=function(_,I,C,f,m){if(f=_.$findClosingBracket(I,C={row:C,column:f+1},m))return"start"==(I=null==(I=_.foldWidgets[f.row])?_.getFoldWidget(f.row):I)&&f.row>C.row&&(f.row--,f.column=_.getLine(f.row).length),O.fromPoints(C,f)},this.closingBracketBlock=function(_,I,C,f,m){if(f=_.$findOpeningBracket(I,C={row:C,column:f}))return f.column++,C.column--,O.fromPoints(f,C)}}.call(D.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(B,M,Z){"use strict";var O=B("../line_widgets").LineWidgets,D=B("../lib/dom"),_=B("../range").Range,I=B("../config").nls;M.showErrorMarker=function(f,A){var p,g=f.session,y=(g.widgetManager||(g.widgetManager=new O(g),g.widgetManager.attach(f)),f.getCursorPosition());if((E=g.widgetManager.getWidgetsAtRow(v=y.row).filter(function(T){return"errorMarker"==T.type})[0])?E.destroy():v-=A,v=function C(f,m,p){var g=f.getAnnotations().sort(_.comparePoints);if(g.length){var y=function(v,A,E){for(var T=0,F=v.length-1;T<=F;){var $=T+F>>1,j=E(A,v[$]);if(0<j)T=1+$;else{if(!(j<0))return $;F=$-1}}return-(T+1)}(g,{row:m,column:-1},_.comparePoints),h=((y=y<0?-y-1:y)>=g.length?y=0<p?0:g.length-1:0===y&&p<0&&(y=g.length-1),g[y]);if(h&&p){if(h.row===m){for(;(h=g[y+=p])&&h.row===m;);if(!h)return g.slice()}var d=[];for(m=h.row;d[p<0?"unshift":"push"](h),(h=g[y+=p])&&h.row==m;);return d.length&&d}}}(g,v,A))y.column=((A=v[0]).pos&&"number"!=typeof A.column?A.pos.sc:A.column)||0,y.row=A.row,p=f.renderer.$gutterLayer.$annotations[y.row];else{if(E)return;p={text:[I("Looks good!")],className:"ace_ok"}}function h(T,F,$){if(0===F&&("esc"===$||"return"===$))return d.destroy(),{command:"null"}}f.session.unfold(y.row),f.selection.moveToPosition(y);var d={row:y.row,fixedWidth:!0,coverGutter:!0,el:D.createElement("div"),type:"errorMarker"},v=d.el.appendChild(D.createElement("div")),E=((A=d.el.appendChild(D.createElement("div"))).className="error_widget_arrow "+p.className,f.renderer.$cursorLayer.getPixelPosition(y).left);A.style.left=E+f.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",v.className="error_widget "+p.className,v.innerHTML=p.text.join("<br>"),v.appendChild(D.createElement("div")),d.destroy=function(){f.$mouseHandler.isMousePressed||(f.keyBinding.removeKeyboardHandler(h),g.widgetManager.removeLineWidget(d),f.off("changeSelection",d.destroy),f.off("changeSession",d.destroy),f.off("mouseup",d.destroy),f.off("change",d.destroy))},f.keyBinding.addKeyboardHandler(h),f.on("changeSelection",d.destroy),f.on("changeSession",d.destroy),f.on("mouseup",d.destroy),f.on("change",d.destroy),f.session.widgetManager.addLineWidget(d),d.el.onmousedown=f.focus.bind(f),f.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},D.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(B,M,Z){"use strict";B("./loader_build")(M);var O=B("./lib/dom"),D=B("./range").Range,_=B("./editor").Editor,I=B("./edit_session").EditSession,C=B("./undomanager").UndoManager,f=B("./virtual_renderer").VirtualRenderer;B("./worker/worker_client"),B("./keyboard/hash_handler"),B("./placeholder"),B("./multi_select"),B("./mode/folding/fold_mode"),B("./theme/textmate"),B("./ext/error_marker"),M.config=B("./config"),M.edit=function(m,p){if("string"==typeof m){var g=m;if(!(m=document.getElementById(g)))throw new Error("ace.edit can't find div #"+g)}var y,h;return m&&m.env&&m.env.editor instanceof _?m.env.editor:(g="",m&&/input|textarea/i.test(m.tagName)?(g=(y=m).value,m=O.createElement("pre"),y.parentNode.replaceChild(m,y)):m&&(g=m.textContent,m.innerHTML=""),g=M.createEditSession(g),m=new _(new f(m),g,p),h={document:g,editor:m,onResize:m.resize.bind(m,null)},y&&(h.textarea=y),m.on("destroy",function(){h.editor.container.env=null}),m.container.env=m.env=h,m)},M.createEditSession=function(m,p){return(m=new I(m,p)).setUndoManager(new C),m},M.Range=D,M.Editor=_,M.EditSession=I,M.UndoManager=C,M.VirtualRenderer=f,M.version=M.config.version}),ace.require(["ace/ace"],function(B){B&&(B.config.init(!0),B.define=ace.define);var M,Z=function(){return this}();for(M in(Z=(Z=Z||typeof window>"u"?Z:window)||typeof self>"u"?Z:self).ace||(Z.ace=B),B)B.hasOwnProperty(M)&&(Z.ace[M]=B[M]);Z.ace.default=Z.ace,me&&(me.exports=Z.ace)})},4317:function(me,k,ue){me=ue.nmd(me),ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(we,V,ne){"use strict";var fe=we("./lib/dom"),y=we("./lib/oop"),he=we("./lib/event_emitter").EventEmitter,ye=we("./lib/lang"),oe=we("./range").Range,J=we("./range_list").RangeList,B=we("./keyboard/hash_handler").HashHandler,M=we("./tokenizer").Tokenizer,Z=we("./clipboard"),O={CURRENT_WORD:function(h){return h.session.getTextRange(h.session.getWordRange())},SELECTION:function(h,d,v){return h=h.session.getTextRange(),v?h.replace(/\n\r?([ \t]*\S)/g,"\n"+v+"$1"):h},CURRENT_LINE:function(h){return h.session.getLine(h.getCursorPosition().row)},PREV_LINE:function(h){return h.session.getLine(h.getCursorPosition().row-1)},LINE_INDEX:function(h){return h.getCursorPosition().row},LINE_NUMBER:function(h){return h.getCursorPosition().row+1},SOFT_TABS:function(h){return h.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(h){return h.session.getTabSize()},CLIPBOARD:function(h){return Z.getText&&Z.getText()},FILENAME:function(h){return/[^/\\]*$/.exec(this.FILEPATH(h))[0]},FILENAME_BASE:function(h){return/[^/\\]*$/.exec(this.FILEPATH(h))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(h){return this.FILEPATH(h).replace(/[^/\\]*$/,"")},FILEPATH:function(h){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(h){return(h=h.session.$mode||{}).blockComment&&h.blockComment.start||""},BLOCK_COMMENT_END:function(h){return(h=h.session.$mode||{}).blockComment&&h.blockComment.end||""},LINE_COMMENT:function(h){return(h.session.$mode||{}).lineCommentStart||""},CURRENT_YEAR:D.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:D.bind(null,{year:"2-digit"}),CURRENT_MONTH:D.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:D.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:D.bind(null,{month:"short"}),CURRENT_DATE:D.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:D.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:D.bind(null,{weekday:"short"}),CURRENT_HOUR:D.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:D.bind(null,{minute:"2-digit"}),CURRENT_SECOND:D.bind(null,{second:"2-digit"})};function D(h){return 1==(h=(new Date).toLocaleString("en-us",h)).length?"0"+h:h}O.SELECTED_TEXT=O.SELECTION,I.prototype.getTokenizer=function(){return I.$tokenizer||this.createTokenizer()},I.prototype.createTokenizer=function(){function h(A){return A=A.substr(1),/^\d+$/.test(A)?[{tabstopId:parseInt(A,10)}]:[{text:A}]}function d(A){return"(?:[^\\\\"+A+"]|\\\\.)"}var v={regex:"/("+d("/")+"+)/",onMatch:function(A,E,T){return(T=T[0]).fmtString=!0,T.guard=A.slice(1,-1),T.flag=""},next:"formatString"};return I.$tokenizer=new M({start:[{regex:/\\./,onMatch:function(A,E,T){var F=A[1];return[A="}"==F&&T.length||-1!="`$\\".indexOf(F)?F:A]}},{regex:/}/,onMatch:function(A,E,T){return[T.length?T.shift():A]}},{regex:/\$(?:\d+|\w+)/,onMatch:h},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(A,E,T){return A=h(A.substr(1)),T.unshift(A[0]),A},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+d("\\|")+"*\\|",onMatch:function(A,E,T){return A=A.slice(1,-1).replace(/\\[,|\\]|,/g,function(F){return 2==F.length?F[1]:"\0"}).split("\0").map(function(F){return{value:F}}),[(T[0].choices=A)[0]]},next:"start"},v,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(A,E,T){return T.length&&T[0].expectElse?(T[0].expectElse=!1,T[0].ifEnd={elseEnd:T[0]},[T[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(A,E,T){var F=A[1];return"}"==F&&T.length||-1!="`$\\".indexOf(F)?A=F:"n"==F?A="\n":"t"==F?A="\t":-1!="ulULE".indexOf(F)&&(A={changeCase:F,local:"a"<F}),[A]}},{regex:"/\\w*}",onMatch:function(A,E,T){return(T=T.shift())&&(T.flag=A.slice(1,-1)),this.next=T&&T.tabstopId?"start":"",[T||A]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(A,E,T){return[{text:A.slice(1)}]}},{regex:/\${\w+/,onMatch:function(A,E,T){return A={text:A.slice(2)},T.unshift(A),[A]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(A,E,T){return T=T.shift(),this.next=T&&T.tabstopId?"start":"",[T||A]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(A,E,T){return T[0].formatFunction=A.slice(2,-1),[T.shift()]},next:"formatString"},v,{regex:/:[\?\-+]?/,onMatch:function(A,E,T){"+"==A[1]&&(T[0].ifEnd=T[0]),"?"==A[1]&&(T[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]})},I.prototype.tokenizeTmSnippet=function(h,d){return this.getTokenizer().getLineTokens(h,d).tokens.map(function(v){return v.value||v})},I.prototype.getVariableValue=function(h,d,v){var A;return/^\d+$/.test(d)?(this.variables.__||{})[d]||"":/^[A-Z]\d+$/.test(d)?(this.variables[d[0]+"__"]||{})[d.substr(1)]||"":(d=d.replace(/^TM_/,""),this.variables.hasOwnProperty(d)&&null!=(A="function"==typeof(A=this.variables[d])?this.variables[d](h,d,v):A)?A:"")},I.prototype.tmStrFormat=function(h,d,v){var E,T,F;return d.fmt?(E=d.guard,E=new RegExp(E,(d.flag||"").replace(/[^gim]/g,"")),T="string"==typeof d.fmt?this.tokenizeTmSnippet(d.fmt,"formatString"):d.fmt,F=this,h.replace(E,function(){for(var $=F.variables.__,j=(F.variables.__=[].slice.call(arguments),F.resolveVariables(T,v)),te="E",Y=0;Y<j.length;Y++){var ae,S=j[Y];"object"==typeof S?(j[Y]="",S.changeCase&&S.local?(ae=j[Y+1])&&"string"==typeof ae&&(j[Y]="u"==S.changeCase?ae[0].toUpperCase():ae[0].toLowerCase(),j[Y+1]=ae.substr(1)):S.changeCase&&(te=S.changeCase)):"U"==te?j[Y]=S.toUpperCase():"L"==te&&(j[Y]=S.toLowerCase())}return F.variables.__=$,j.join("")})):h},I.prototype.tmFormatFunction=function(h,d,v){return"upcase"==d.formatFunction?h.toUpperCase():"downcase"==d.formatFunction?h.toLowerCase():h},I.prototype.resolveVariables=function(h,d){for(var v=[],A="",E=!0,T=0;T<h.length;T++){var F,$=h[T];"string"==typeof $?(v.push($),"\n"==$?(E=!0,A=""):E&&(A=/^\t*/.exec($)[0],E=/\S/.test($))):$&&(E=!1,$.fmtString&&(-1==(F=h.indexOf($,T+1))&&(F=h.length),$.fmt=h.slice(T+1,F),T=F),$.text?(F=this.getVariableValue(d,$.text,A)+"",$.fmtString&&(F=this.tmStrFormat(F,$,d)),(F=$.formatFunction?this.tmFormatFunction(F,$,d):F)&&!$.ifEnd?(v.push(F),j($)):!F&&$.ifEnd&&j($.ifEnd)):$.elseEnd?j($.elseEnd):null==$.tabstopId&&null==$.changeCase||v.push($))}function j(te){-1!=(te=h.indexOf(te,T+1))&&(T=te)}return v},I.prototype.getDisplayTextForSnippet=function(h,d){return C.call(this,h,d).text},I.prototype.insertSnippetForSelection=function($,A,E){A=C.call(this,$,A,E=void 0===E?{}:E),E=$.getSelectionRange();var T=$.session.replace(E,A.text);new f($).addTabstops(A.tabstops,E.start,T,$=$.inVirtualSelectionMode&&$.selection.index)},I.prototype.insertSnippet=function(h,d,v){void 0===v&&(v={});var A=this;if(h.inVirtualSelectionMode)return A.insertSnippetForSelection(h,d,v);h.forEachSelection(function(){A.insertSnippetForSelection(h,d,v)},null,{keepOrder:!0}),h.tabstopManager&&h.tabstopManager.tabNext()},I.prototype.$getScope=function(h){var d,v=h.session.$mode.$id||"";return"html"!==(v=v.split("/").pop())&&"php"!==v||("php"!==v||h.session.$mode.inlinePhp||(v="html"),d=h.getCursorPosition(),(h="object"==typeof(h=h.session.getState(d.row))?h[0]:h).substring&&("js-"==h.substring(0,3)?v="javascript":"css-"==h.substring(0,4)?v="css":"php-"==h.substring(0,4)&&(v="php"))),v},I.prototype.getActiveScopes=function(d){var v=[d=this.$getScope(d)],A=this.snippetMap;return A[d]&&A[d].includeScopes&&v.push.apply(v,A[d].includeScopes),v.push("_"),v},I.prototype.expandWithTab=function(h,d){var v=this,A=h.forEachSelection(function(){return v.expandSnippetForSelection(h,d)},null,{keepOrder:!0});return A&&h.tabstopManager&&h.tabstopManager.tabNext(),A},I.prototype.expandSnippetForSelection=function(h,d){var v,A=h.getCursorPosition(),E=h.session.getLine(A.row),T=E.substring(0,A.column),F=E.substr(A.column),$=this.snippetMap;return this.getActiveScopes(h).some(function(j){return!!(v=(j=$[j])?this.findMatchingSnippet(j,T,F):v)},this),!!v&&(d&&d.dryRun||(h.session.doc.removeInLine(A.row,A.column-v.replaceBefore.length,A.column+v.replaceAfter.length),this.variables.M__=v.matchBefore,this.variables.T__=v.matchAfter,this.insertSnippetForSelection(h,v.content),this.variables.M__=this.variables.T__=null),!0)},I.prototype.findMatchingSnippet=function(h,d,v){for(var A=h.length;A--;){var E=h[A];if((!E.startRe||E.startRe.test(d))&&(!E.endRe||E.endRe.test(v))&&(E.startRe||E.endRe))return E.matchBefore=E.startRe?E.startRe.exec(d):[""],E.matchAfter=E.endRe?E.endRe.exec(v):[""],E.replaceBefore=E.triggerRe?E.triggerRe.exec(d)[0]:"",E.replaceAfter=E.endTriggerRe?E.endTriggerRe.exec(v)[0]:"",E}},I.prototype.register=function(h,d){var v=this.snippetMap,A=this.snippetNameMap,E=this;function T(j){return(j=j&&!/^\^?\(.*\)\$?$|^\\b$/.test(j)?"(?:"+j+")":j)||""}function F(j,te,Y){return j=T(j),te=T(te),Y?(j=te+j)&&"$"!=j[j.length-1]&&(j+="$"):(j+=te)&&"^"!=j[0]&&(j="^"+j),new RegExp(j)}function $(j){j.scope||(j.scope=d||"_"),v[d=j.scope]||(v[d]=[],A[d]={});var te,Y=A[d];j.name&&((te=Y[j.name])&&E.unregister(te),Y[j.name]=j),v[d].push(j),j.prefix&&(j.tabTrigger=j.prefix),!j.content&&j.body&&(j.content=Array.isArray(j.body)?j.body.join("\n"):j.body),j.tabTrigger&&!j.trigger&&(!j.guard&&/^\w/.test(j.tabTrigger)&&(j.guard="\\b"),j.trigger=ye.escapeRegExp(j.tabTrigger)),(j.trigger||j.guard||j.endTrigger||j.endGuard)&&(j.startRe=F(j.trigger,j.guard,!0),j.triggerRe=new RegExp(j.trigger),j.endRe=F(j.endTrigger,j.endGuard,!0),j.endTriggerRe=new RegExp(j.endTrigger))}h=h||[],Array.isArray(h)?h.forEach($):Object.keys(h).forEach(function(j){$(h[j])}),this._signal("registerSnippets",{scope:d})},I.prototype.unregister=function(h,d){var v=this.snippetMap,A=this.snippetNameMap;function E(T){var F=A[T.scope||d];F&&F[T.name]&&(delete F[T.name],0<=(T=(F=v[T.scope||d])&&F.indexOf(T)))&&F.splice(T,1)}h.content?E(h):Array.isArray(h)&&h.forEach(E)},I.prototype.parseSnippetFile=function(h){h=h.replace(/\r/g,"");for(var d,v,A,E=[],T={},F=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;v=F.exec(h);){if(v[1])try{T=JSON.parse(v[1]),E.push(T)}catch{}v[4]?(T.content=v[4].replace(/^\t/gm,""),E.push(T),T={}):(d=v[2],v=v[3],"regex"==d?(T.guard=(A=/\/((?:[^\/\\]|\\.)*)|$/g).exec(v)[1],T.trigger=A.exec(v)[1],T.endTrigger=A.exec(v)[1],T.endGuard=A.exec(v)[1]):"snippet"==d?(T.tabTrigger=v.match(/^\S*/)[0],T.name||(T.name=v)):d&&(T[d]=v))}return E},I.prototype.getSnippetByName=function(h,d){var v,A=this.snippetNameMap;return this.getActiveScopes(d).some(function(E){return!!(v=(E=A[E])?E[h]:v)},this),v};var _=I;function I(){this.snippetMap={},this.snippetNameMap={},this.variables=O}y.implement(_.prototype,he);var C=function(h,d,v){void 0===v&&(v={});for(var A=h.getCursorPosition(),E=h.session.getLine(A.row),T=h.session.getTabString(),F=E.match(/^\s*/)[0],$=(A.column<F.length&&(F=F.slice(0,A.column)),d=d.replace(/\r/g,""),this.tokenizeTmSnippet(d)),j=($=($=this.resolveVariables($,h)).map(function(Q){return"\n"!=Q||v.excludeExtraIndent?"string"==typeof Q?Q.replace(/\t/g,T):Q:Q+F}),[]),te=($.forEach(function(Q,be){var Ie,pe,Te;"object"==typeof Q&&((Ie=j[Te=Q.tabstopId])||((Ie=j[Te]=[]).index=Te,Ie.value="",Ie.parents={}),-1===Ie.indexOf(Q))&&(Q.choices&&!Ie.choices&&(Ie.choices=Q.choices),Ie.push(Q),-1!==(pe=$.indexOf(Q,be+1)))&&((Te=$.slice(be+1,pe)).some(function(U){return"object"==typeof U})&&!Ie.value?Ie.value=Te:!Te.length||Ie.value&&"string"==typeof Ie.value||(Ie.value=Te.join("")))}),j.forEach(function(Q){Q.length=0}),{}),Y=0;Y<$.length;Y++){var ae,S,R,X=$[Y];"object"==typeof X&&(ae=j[R=X.tabstopId],S=$.indexOf(X,Y+1),te[R]?te[R]===X&&(delete te[R],Object.keys(te).forEach(function(Q){ae.parents[Q]=!0})):(te[R]=X,"string"!=typeof(R=ae.value)?R=function(Q){for(var be=[],Ie=0;Ie<Q.length;Ie++){if("object"==typeof(pe=Q[Ie])){if(te[pe.tabstopId])continue;var pe=be[Q.lastIndexOf(pe,Ie-1)]||{tabstopId:pe.tabstopId}}be[Ie]=pe}return be}(R):X.fmt&&(R=this.tmStrFormat(R,X,h)),$.splice.apply($,[Y+1,Math.max(0,S-Y)].concat(R,X)),-1===ae.indexOf(X)&&ae.push(X)))}var N=0,K=0,ie="";return $.forEach(function(Q){var be;"string"==typeof Q?(1<(be=Q.split("\n")).length?(K=be[be.length-1].length,N+=be.length-1):K+=Q.length,ie+=Q):Q&&(Q.start?Q.end={row:N,column:K}:Q.start={row:N,column:K})}),{text:ie,tabstops:j,tokens:$}},f=(m.prototype.attach=function(h){this.$openTabstops=null,this.selectedTabstop=null,this.editor=h,this.session=h.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},m.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},m.prototype.onChange=function(h){for(var d="r"==h.action[0],v=this.selectedTabstop||{},A=v.parents||{},E=this.tabstops.slice(),T=0;T<E.length;T++){var F=E[T];if(F.rangeList.$bias=($=F==v||A[F.index])?0:1,"remove"==h.action&&F!==v)for(var j=(j=F.rangeList.pointIndex(h.start,$=F.parents&&F.parents[v.index]))<0?-j-1:j+1,$=F.rangeList.pointIndex(h.end,$),te=F.rangeList.ranges.slice(j,$<0?-$-1:$-1),Y=0;Y<te.length;Y++)this.removeRange(te[Y]);F.rangeList.$onChange(h)}var ae=this.session;this.$inChange||!d||1!=ae.getLength()||ae.getValue()||this.detach()},m.prototype.updateLinkedFields=function(){var h=this.selectedTabstop;if(h&&h.hasLinkedRanges&&h.firstNonLinked){this.$inChange=!0;for(var d=this.session,v=d.getTextRange(h.firstNonLinked),A=0;A<h.length;A++){var E,T=h[A];T.linked&&(E=V.snippetManager.tmStrFormat(v,E=T.original,this.editor),d.replace(T,E))}this.$inChange=!1}},m.prototype.onAfterExec=function(h){h.command&&!h.command.readOnly&&this.updateLinkedFields()},m.prototype.onChangeSelection=function(){if(this.editor){for(var h=this.editor.selection.lead,d=this.editor.selection.anchor,v=this.editor.selection.isEmpty(),A=0;A<this.ranges.length;A++)if(!this.ranges[A].linked){var E=this.ranges[A].contains(h.row,h.column),T=v||this.ranges[A].contains(d.row,d.column);if(E&&T)return}this.detach()}},m.prototype.onChangeSession=function(){this.detach()},m.prototype.tabNext=function(v){var d=this.tabstops.length;v=this.index+(v||1),v=Math.min(Math.max(v,1),d),this.selectTabstop(v=v==d?0:v),0===v&&this.detach()},m.prototype.selectTabstop=function(h){this.$openTabstops=null;var d=this.tabstops[this.index];if(d&&this.addTabstopMarkers(d),this.index=h,(d=this.tabstops[this.index])&&d.length){if(h=(this.selectedTabstop=d).firstNonLinked||d,d.choices&&(h.cursor=h.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(h);else{var v=this.editor.multiSelect;v.toSingleRange(h);for(var A=0;A<d.length;A++)d.hasLinkedRanges&&d[A].linked||v.addRange(d[A].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},m.prototype.addTabstops=function(h,d,v){var A=this.useLink||!this.editor.getOption("enableMultiselect");this.$openTabstops||(this.$openTabstops=[]),h[0]||(v=oe.fromPoints(v,v),g(v.start,d),g(v.end,d),h[0]=[v],h[0].index=0);var E=[this.index+1,0],T=this.ranges;h.forEach(function(F,$){for(var j=this.$openTabstops[$]||F,te=0;te<F.length;te++){var Y=F[te],ae=oe.fromPoints(Y.start,Y.end||Y.start);p(ae.start,d),p(ae.end,d),ae.original=Y,ae.tabstop=j,T.push(ae),j!=F?j.unshift(ae):j[te]=ae,Y.fmtString||j.firstNonLinked&&A?(ae.linked=!0,j.hasLinkedRanges=!0):j.firstNonLinked||(j.firstNonLinked=ae)}j.firstNonLinked||(j.hasLinkedRanges=!1),j===F&&(E.push(j),this.$openTabstops[$]=j),this.addTabstopMarkers(j),j.rangeList=j.rangeList||new J,j.rangeList.$bias=0,j.rangeList.addList(j)},this),2<E.length&&(this.tabstops.length&&E.push(E.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,E))},m.prototype.addTabstopMarkers=function(h){var d=this.session;h.forEach(function(v){v.markerId||(v.markerId=d.addMarker(v,"ace_snippet-marker","text"))})},m.prototype.removeTabstopMarkers=function(h){var d=this.session;h.forEach(function(v){d.removeMarker(v.markerId),v.markerId=null})},m.prototype.removeRange=function(h){var d=h.tabstop.indexOf(h);-1!=d&&h.tabstop.splice(d,1),-1!=(d=this.ranges.indexOf(h))&&this.ranges.splice(d,1),-1!=(d=h.tabstop.rangeList.ranges.indexOf(h))&&h.tabstop.splice(d,1),this.session.removeMarker(h.markerId),h.tabstop.length||(-1!=(d=this.tabstops.indexOf(h.tabstop))&&this.tabstops.splice(d,1),this.tabstops.length)||this.detach()},m);function m(h){if(this.index=0,this.ranges=[],this.tabstops=[],h.tabstopManager)return h.tabstopManager;(h.tabstopManager=this).$onChange=this.onChange.bind(this),this.$onChangeSelection=ye.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(h)}f.prototype.keyboardHandler=new B,f.prototype.keyboardHandler.bindKeys({Tab:function(h){V.snippetManager&&V.snippetManager.expandWithTab(h)||(h.tabstopManager.tabNext(1),h.renderer.scrollCursorIntoView())},"Shift-Tab":function(h){h.tabstopManager.tabNext(-1),h.renderer.scrollCursorIntoView()},Esc:function(h){h.tabstopManager.detach()}});var p=function(h,d){0==h.row&&(h.column+=d.column),h.row+=d.row},g=function(h,d){h.row==d.row&&(h.column-=d.column),h.row-=d.row};fe.importCssString("\n.ace_snippet-marker {\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    background: rgba(194, 193, 208, 0.09);\n    border: 1px dotted rgba(211, 208, 235, 0.62);\n    position: absolute;\n}","snippets.css",!1),V.snippetManager=new _,y=we("./editor").Editor,function(){this.insertSnippet=function(h,d){return V.snippetManager.insertSnippet(this,h,d)},this.expandSnippet=function(h){return V.snippetManager.expandWithTab(this,h)}}.call(y.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config"],function(we,V,ne){"use strict";function fe(_){return"suggest-aria-id:".concat(_)}function he(_){return(_=new oe(_)).$maxLines=4,(_=new J(_)).setHighlightActiveLine(!1),_.setShowPrintMargin(!1),_.renderer.setShowGutter(!1),_.renderer.setHighlightGutterLine(!1),_.$mouseHandler.$focusTimeout=0,_.$highlightTagPending=!0,_}var oe=we("../virtual_renderer").VirtualRenderer,J=we("../editor").Editor,B=we("../range").Range,M=we("../lib/event"),Z=we("../lib/lang"),O=we("../lib/dom"),D=we("../config").nls;O.importCssString("\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #CAD6FA;\n    z-index: 1;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #3a674e;\n}\n.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid #abbffe;\n    margin-top: -1px;\n    background: rgba(233,233,253,0.4);\n    position: absolute;\n    z-index: 2;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid rgba(109, 150, 13, 0.8);\n    background: rgba(58, 103, 78, 0.62);\n}\n.ace_completion-meta {\n    opacity: 0.5;\n    margin-left: 0.9em;\n}\n.ace_completion-message {\n    color: blue;\n}\n.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #2d69c7;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #93ca12;\n}\n.ace_editor.ace_autocomplete {\n    width: 300px;\n    z-index: 200000;\n    border: 1px lightgray solid;\n    position: fixed;\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n    line-height: 1.4;\n    background: #fefefe;\n    color: #111;\n}\n.ace_dark.ace_editor.ace_autocomplete {\n    border: 1px #484747 solid;\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\n    line-height: 1.4;\n    background: #25282c;\n    color: #c1c1c1;\n}\n.ace_autocomplete .ace_text-layer  {\n    width: calc(100% - 8px);\n}\n.ace_autocomplete .ace_line {\n    display: flex;\n    align-items: center;\n}\n.ace_autocomplete .ace_line > * {\n    min-width: 0;\n    flex: 0 0 auto;\n}\n.ace_autocomplete .ace_line .ace_ {\n    flex: 0 1 auto;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n.ace_autocomplete .ace_completion-spacer {\n    flex: 1;\n}\n","autocompletion.css",!1),V.AcePopup=function ye(_){function I(){}function C(){h(-1)}var f,m=O.createElement("div"),p=new he(m),g=(_&&_.appendChild(m),m.style.display="none",p.renderer.content.style.cursor="default",p.renderer.setStyle("ace_autocomplete"),p.renderer.$textLayer.element.setAttribute("role","listbox"),p.renderer.$textLayer.element.setAttribute("aria-label",D("Autocomplete suggestions")),p.renderer.textarea.setAttribute("aria-hidden","true"),p.setOption("displayIndentGuides",!1),p.setOption("dragDelay",150),p.focus=I,p.$isFocused=!0,p.renderer.$cursorLayer.restartTimer=I,p.renderer.$cursorLayer.element.style.opacity=0,p.renderer.$maxLines=8,p.renderer.$keepTextAreaAtCursor=!1,p.setHighlightActiveLine(!1),p.session.highlight(""),p.session.$searchHighlight.clazz="ace_highlight-marker",p.on("mousedown",function(d){var v=d.getDocumentPosition();p.selection.moveToPosition(v),y.start.row=y.end.row=v.row,d.stop()}),new B(-1,0,-1,1/0)),y=new B(-1,0,-1,1/0),h=(y.id=p.session.addMarker(y,"ace_active-line","fullLine"),p.setSelectOnHover=function(d){d?g.id&&(p.session.removeMarker(g.id),g.id=null):g.id=p.session.addMarker(g,"ace_line-hover","fullLine")},p.setSelectOnHover(!1),p.on("mousemove",function(d){var v;f?f.x==d.x&&f.y==d.y||((f=d).scrollTop=p.renderer.scrollTop,v=f.getDocumentPosition().row,g.start.row!=v&&(g.id||p.setRow(v),h(v))):f=d}),p.renderer.on("beforeRender",function(){var d;f&&-1!=g.start.row&&(f.$pos=null,d=f.getDocumentPosition().row,g.id||p.setRow(d),h(d,!0))}),p.renderer.on("afterRender",function(){var d,v=p.getRow(),A=p.renderer.$textLayer,E=A.element.childNodes[v-A.config.firstRow],T=document.activeElement;E!==A.selectedNode&&A.selectedNode&&(O.removeCssClass(A.selectedNode,"ace_selected"),T.removeAttribute("aria-activedescendant"),A.selectedNode.removeAttribute("id")),(A.selectedNode=E)&&(O.addCssClass(E,"ace_selected"),d=fe(v),E.id=d,A.element.setAttribute("aria-activedescendant",d),T.setAttribute("aria-activedescendant",d),E.setAttribute("role","option"),E.setAttribute("aria-label",p.getData(v).value),E.setAttribute("aria-setsize",p.data.length),E.setAttribute("aria-posinset",v+1),E.setAttribute("aria-describedby","doc-tooltip"))}),function(d,v){d!==g.start.row&&(g.start.row=g.end.row=d,v||p.session._emit("changeBackMarker"),p._emit("changeHoverMarker"))});return p.getHoveredRow=function(){return g.start.row},M.addListener(p.container,"mouseout",C),p.on("hide",C),p.on("changeSelection",C),p.session.doc.getLength=function(){return p.data.length},p.session.doc.getLine=function(d){return"string"==typeof(d=p.data[d])?d:d&&d.value||""},(_=p.session.bgTokenizer).$tokenizeRow=function(d){var v=p.data[d],A=[];if(v){for(var E,T,F=(v="string"==typeof v?{value:v}:v).caption||v.value||v.name,$=F.toLowerCase(),j=(p.filterText||"").toLowerCase(),te=0,Y=0,ae=0;ae<=j.length;ae++)ae!=Y&&(v.matchMask&1<<ae||ae==j.length)&&(E=j.slice(Y,ae),Y=ae,-1!=(T=$.indexOf(E,te)))&&(S(F.slice(te,T),""),S(F.slice(T,te=T+E.length),"completion-highlight"));S(F.slice(te,F.length),""),A.push({type:"completion-spacer",value:" "}),v.meta&&A.push({type:"completion-meta",value:v.meta}),v.message&&A.push({type:"completion-message",value:v.message})}return A;function S(R,X){R&&A.push({type:(v.className||"")+(X||""),value:R})}},_.$updateOnChange=I,_.start=I,p.session.$computeWidth=function(){return this.screenWidth=0},p.isOpen=!1,p.isTopdown=!1,p.autoSelect=!0,p.filterText="",p.data=[],p.setData=function(d,v){p.filterText=v||"",p.setValue(Z.stringRepeat("\n",d.length),-1),p.data=d||[],p.setRow(0)},p.getData=function(d){return p.data[d]},p.getRow=function(){return y.start.row},p.setRow=function(d){d=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,d)),y.start.row!=d&&(p.selection.clearSelection(),y.start.row=y.end.row=d||0,p.session._emit("changeBackMarker"),p.moveCursorTo(d||0,0),p.isOpen)&&p._signal("select")},p.on("changeSelection",function(){p.isOpen&&p.setRow(p.selection.lead.row),p.renderer.scrollCursorIntoView()}),p.hide=function(){this.container.style.display="none",p.anchorPos=null,p.anchor=null,p.isOpen&&(p.isOpen=!1,this._signal("hide"))},p.tryShow=function(d,v,A,E){if(E||!p.isOpen||!p.anchorPos||!p.anchor||p.anchorPos.top!==d.top||p.anchorPos.left!==d.left||p.anchor!==A){var T=this.container,F=window.innerHeight,$=window.innerWidth,j=this.renderer,te=j.$maxLines*v*1.4,Y={top:0,bottom:0,left:0},ae=F-d.top-3*this.$borderSize-v,S=d.top-3*this.$borderSize;if("top"===(A=A||(S<=ae||te<=ae?"bottom":"top"))?(Y.bottom=d.top-this.$borderSize,Y.top=Y.bottom-te):"bottom"===A&&(Y.top=d.top+v+this.$borderSize,Y.bottom=Y.top+te),v=0<=Y.top&&Y.bottom<=F,!E&&!v)return!1;j.$maxPixelHeight=v?null:"top"===A?S:ae,"top"===A?(T.style.top="",T.style.bottom=F-Y.bottom+"px",p.isTopdown=!1):(T.style.top=Y.top+"px",T.style.bottom="",p.isTopdown=!0),T.style.display="",(te=d.left)+T.offsetWidth>$&&(te=$-T.offsetWidth),T.style.left=te+"px",T.style.right="",p.isOpen||(p.isOpen=!0,this._signal("show"),f=null),p.anchorPos=d,p.anchor=A}return!0},p.show=function(d,v,A){this.tryShow(d,v,A?"bottom":void 0,!0)},p.goTo=function(d){var v=this.getRow(),A=this.session.getLength()-1;switch(d){case"up":v=v<=0?A:v-1;break;case"down":v=A<=v?-1:v+1;break;case"start":v=0;break;case"end":v=A}this.setRow(v)},p.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},p.$imageSize=0,p.$borderSize=1,p},V.$singleLineEditor=he,V.getAriaId=fe}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets"],function(we,V,ne){"use strict";var fe=we("../snippets").snippetManager;function he(){this.editor=null}he.prototype.show=function(ye,oe,J){var B;return J=J||"",ye&&this.editor&&this.editor!==ye&&(this.hide(),this.editor=null),!(!ye||!oe||(B=oe.snippet?fe.getDisplayTextForSnippet(ye,oe.snippet):oe.value,oe.hideInlinePreview)||!B||!B.startsWith(J)||(this.editor=ye,""===(B=B.slice(J.length))?ye.removeGhostText():ye.setGhostText(B),0))},he.prototype.isOpen=function(){return!!this.editor&&!!this.editor.renderer.$ghostText},he.prototype.hide=function(){return!!this.editor&&(this.editor.removeGhostText(),!0)},he.prototype.destroy=function(){this.hide(),this.editor=null},V.AceInline=he}),ace.define("ace/autocomplete/util",["require","exports","module"],function(we,V,ne){"use strict";V.parForEach=function(he,ye,oe){var J=0,B=he.length;0===B&&oe();for(var M=0;M<B;M++)ye(he[M],function(Z,O){++J===B&&oe(Z,O)})};var fe=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;V.retrievePrecedingIdentifier=function(he,ye,oe){oe=oe||fe;for(var J=[],B=ye-1;0<=B&&oe.test(he[B]);B--)J.push(he[B]);return J.reverse().join("")},V.retrieveFollowingIdentifier=function(he,ye,oe){oe=oe||fe;for(var J=[],B=ye;B<he.length&&oe.test(he[B]);B++)J.push(he[B]);return J},V.getCompletionPrefix=function(he){var ye,oe=he.getCursorPosition(),J=he.session.getLine(oe.row);return he.completers.forEach(function(B){B.identifierRegexps&&B.identifierRegexps.forEach(function(M){!ye&&M&&(ye=this.retrievePrecedingIdentifier(J,oe.column,M))}.bind(this))}.bind(this)),ye||this.retrievePrecedingIdentifier(J,oe.column)},V.triggerAutocomplete=function(he){var ye=he.getCursorPosition(),oe=he.session.getLine(ye.row)[0===ye.column?0:ye.column-1];return he.completers.some(function(J){if(J.triggerCharacters&&Array.isArray(J.triggerCharacters))return J.triggerCharacters.includes(oe)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],function(we,V,ne){"use strict";function fe(g,y){y.completer&&y.completer.destroy()}var he=we("./keyboard/hash_handler").HashHandler,ye=we("./autocomplete/popup").AcePopup,oe=we("./autocomplete/inline").AceInline,J=we("./autocomplete/popup").getAriaId,B=we("./autocomplete/util"),M=we("./lib/lang"),Z=we("./lib/dom"),O=we("./snippets").snippetManager,D=we("./config"),_=(I.prototype.$init=function(){return this.popup=new ye(this.parentNode||document.body||document.documentElement),this.popup.on("click",function(g){this.insertMatch(),g.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupChange.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},I.prototype.$initInline=function(){if(this.inlineEnabled&&!this.inlineRenderer)return this.inlineRenderer=new oe,this.inlineRenderer},I.prototype.getPopup=function(){return this.popup||this.$init()},I.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip()},I.prototype.$onPopupChange=function(g){var y;this.inlineRenderer&&this.inlineEnabled&&(g=g?null:this.popup.getData(this.popup.getRow()),y=B.getCompletionPrefix(this.editor),this.inlineRenderer.show(this.editor,g,y)||this.inlineRenderer.hide(),this.$updatePopupPosition()),this.tooltipTimer.call(null,null)},I.prototype.observeLayoutChanges=function(){if(!this.$elements&&this.editor){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var g=this.editor.container.parentNode,y=[];g;)y.push(g),g.addEventListener("scroll",this.onLayoutChange,{passive:!0}),g=g.parentNode;this.$elements=y}},I.prototype.unObserveLayoutChanges=function(){var g=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(y){y.removeEventListener("scroll",g.onLayoutChange,{passive:!0})}),this.$elements=null},I.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},I.prototype.$updatePopupPosition=function(){var g=this.editor,y=g.renderer,h=y.layerConfig.lineHeight,d=y.$cursorLayer.getPixelPosition(this.base,!0),v=(d.left-=this.popup.getTextLeftOffset(),g.container.getBoundingClientRect());d.top+=v.top-y.layerConfig.offset,d.left+=v.left-g.renderer.scrollLeft,d.left+=y.gutterWidth,v={top:d.top,left:d.left},y.$ghostText&&y.$ghostTextWidget&&this.base.row===y.$ghostText.position.row&&(v.top+=y.$ghostTextWidget.el.offsetHeight),this.popup.tryShow(v,h,"bottom")||this.popup.tryShow(d,h,"top")||this.popup.show(d,h)},I.prototype.openPopup=function(g,y,h){this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover),this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:J(this.popup.getRow()),inline:this.inlineEnabled}),g.keyBinding.addKeyboardHandler(this.keyboardHandler),this.popup.setRow(this.autoSelect?0:-1),h?y||this.detach():(this.popup.setTheme(g.getTheme()),this.popup.setFontSize(g.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},I.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},I.prototype.changeListener=function(g){var y=this.editor.selection.lead;(y.row!=this.base.row||y.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},I.prototype.blurListener=function(g){var y=document.activeElement,h=this.editor.textInput.getElement(),d=g.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(g.relatedTarget);y==h||y.parentNode==(this.popup&&this.popup.container)||d||y==this.tooltipNode||g.relatedTarget==h||this.detach()},I.prototype.mousedownListener=function(g){this.detach()},I.prototype.mousewheelListener=function(g){this.detach()},I.prototype.goTo=function(g){this.popup.goTo(g)},I.prototype.insertMatch=function(g,y){var h;return!!(g=g||this.popup.getData(this.popup.getRow()))&&(""===g.value?this.detach():(h=this.completions,g=this.getCompletionProvider().insertMatch(this.editor,g,h.filterText,y),this.completions==h&&this.detach(),g))},I.prototype.showPopup=function(g,y){this.editor&&this.detach(),this.activated=!0,(this.editor=g).completer!=this&&(g.completer&&g.completer.detach(),g.completer=this),g.on("changeSelection",this.changeListener),g.on("blur",this.blurListener),g.on("mousedown",this.mousedownListener),g.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,y)},I.prototype.getCompletionProvider=function(g){return this.completionProvider||(this.completionProvider=new C(g)),this.completionProvider},I.prototype.gatherCompletions=function(g,y){return this.getCompletionProvider().gatherCompletions(g,y)},I.prototype.updateCompletions=function(g,y){var h,d;return g&&this.base&&this.completions?(h=this.editor.getCursorPosition(),(d=this.editor.session.getTextRange({start:this.base,end:h}))==this.completions.filterText?void 0:(this.completions.setFilter(d),this.completions.filtered.length&&(1!=this.completions.filtered.length||this.completions.filtered[0].value!=d||this.completions.filtered[0].snippet)?void this.openPopup(this.editor,d,g):this.detach())):y&&y.matches?(h=this.editor.getSelectionRange().start,this.base=this.editor.session.doc.createAnchor(h.row,h.column),this.base.$insertRight=!0,this.completions=new m(y.matches),this.openPopup(this.editor,"",g)):(y=this.editor.getSession(),h=this.editor.getCursorPosition(),d=B.getCompletionPrefix(this.editor),this.base=y.doc.createAnchor(h.row,h.column-d.length),this.base.$insertRight=!0,y={exactMatch:this.exactMatch},void this.getCompletionProvider({prefix:d,pos:h}).provideCompletions(this.editor,y,function(v,A,E){var T=A.filtered,F=B.getCompletionPrefix(this.editor);if(E){if(!T.length)return(E="function"==typeof(E=!this.autoShown&&this.emptyMessage)?this.emptyMessage(F):E)?(E=[{caption:this.emptyMessage(F),value:""}],this.completions=new m(E),void this.openPopup(this.editor,F,g)):this.detach();if(1==T.length&&T[0].value==F&&!T[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&1==T.length)return this.insertMatch(T[0])}this.completions=A,this.openPopup(this.editor,F,g)}.bind(this)))},I.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},I.prototype.updateDocTooltip=function(){var g=this.popup,y=g.data,h=y&&(y[g.getHoveredRow()]||y[g.getRow()]),d=null;if(!h||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var v=this.editor.completers.length,A=0;A<v;A++){var E=this.editor.completers[A];if(E.getDocTooltip&&h.completerId===E.id){d=E.getDocTooltip(h);break}}if(!(d="string"==typeof(d=d||"string"==typeof h?d:h)?{docText:d}:d)||!d.docHTML&&!d.docText)return this.hideDocTooltip();this.showDocTooltip(d)},I.prototype.showDocTooltip=function(h){this.tooltipNode||(this.tooltipNode=Z.createElement("div"),this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"));var y=(this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+((y=this.editor.renderer.theme).isDark?"ace_dark ":"")+(y.cssClass||""),this.tooltipNode),d=(h.docHTML?y.innerHTML=h.docHTML:h.docText&&(y.textContent=h.docText),y.parentNode||this.popup.container.appendChild(this.tooltipNode),h=this.popup).container.getBoundingClientRect();y.style.top=h.container.style.top,y.style.bottom=h.container.style.bottom,y.style.display="block",window.innerWidth-d.right<320?d.left<320?(y.style.top=h.isTopdown?d.bottom+"px":h.container.offsetTop-y.offsetHeight+"px",y.style.left=d.left+"px",y.style.right="",y.style.bottom=""):(y.style.right=window.innerWidth-d.left+"px",y.style.left=""):(y.style.left=d.right+1+"px",y.style.right="")},I.prototype.hideDocTooltip=function(){var g;this.tooltipTimer.cancel(),this.tooltipNode&&(g=this.tooltipNode,this.editor.isFocused()||document.activeElement!=g||this.editor.focus(),this.tooltipNode=null,g.parentNode)&&g.parentNode.removeChild(g)},I.prototype.onTooltipClick=function(g){for(var y=g.target;y&&y!=this.tooltipNode;){if("A"==y.nodeName&&y.href){y.rel="noreferrer",y.target="_blank";break}y=y.parentNode}},I.prototype.destroy=function(){var g;this.detach(),this.popup&&(this.popup.destroy(),g=this.popup.container)&&g.parentNode&&g.parentNode.removeChild(g),this.editor&&this.editor.completer==this&&(this.editor.off("destroy",fe),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},I);function I(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new he,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=M.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=M.delayedCall(this.updateDocTooltip.bind(this),50)}_.prototype.commands={Up:function(g){g.completer.goTo("up")},Down:function(g){g.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(g){g.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(g){g.completer.goTo("end")},Esc:function(g){g.completer.detach()},Return:function(g){return g.completer.insertMatch()},"Shift-Return":function(g){g.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(g){var y=g.completer.insertMatch();if(y||g.tabstopManager)return y;g.completer.goTo("down")},PageUp:function(g){g.completer.popup.gotoPageUp()},PageDown:function(g){g.completer.popup.gotoPageDown()}},_.for=function(g){return g.completer instanceof _||(g.completer&&(g.completer.destroy(),g.completer=null),D.get("sharedPopups")?(_.$sharedInstance||(_.$sharedInstance=new _),g.completer=_.$sharedInstance):(g.completer=new _,g.once("destroy",fe))),g.completer},_.startCommand={name:"startAutocomplete",exec:function(g,y){var h=_.for(g);h.autoInsert=!1,h.autoSelect=!0,h.autoShown=!1,h.showPopup(g,y),h.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"},f.prototype.insertByIndex=function(g,y,h){return!(!this.completions||!this.completions.filtered)&&this.insertMatch(g,this.completions.filtered[y],h)},f.prototype.insertMatch=function(g,y,h){if(!y)return!1;if(g.startOperation({command:{name:"insertMatch"}}),y.completer&&y.completer.insertMatch)y.completer.insertMatch(g,y);else{if(!this.completions)return!1;var d=this.completions.filterText.length,v=0;if(y.range&&y.range.start.row===y.range.end.row&&(d=(d-=this.initialPosition.prefix.length)+(this.initialPosition.pos.column-y.range.start.column),v+=y.range.end.column-this.initialPosition.pos.column),d||v)for(var A,E=g.selection.getAllRanges?g.selection.getAllRanges():[g.getSelectionRange()],T=0;A=E[T];T++)A.start.column-=d,A.end.column+=v,g.session.remove(A);y.snippet?O.insertSnippet(g,y.snippet):this.$insertString(g,y),y.command&&"startAutocomplete"===y.command&&g.execCommand(y.command)}return g.endOperation(),!0},f.prototype.$insertString=function(g,y){g.execCommand("insertstring",y=y.value||y)},f.prototype.gatherCompletions=function(g,y){var h=g.getSession(),d=g.getCursorPosition(),v=B.getCompletionPrefix(g),A=[],E=(this.completers=g.completers,g.completers.length);return g.completers.forEach(function(T,F){T.getCompletions(g,h,d,v,function($,j){T.hideInlinePreview&&(j=j.map(function(te){return Object.assign(te,{hideInlinePreview:T.hideInlinePreview})})),!$&&j&&(A=A.concat(j)),y(null,{prefix:B.getCompletionPrefix(g),matches:A,finished:0==--E})})}),!0},f.prototype.provideCompletions=function(g,y,h){var d=function(E){var T=E.prefix;this.completions=new m(E.matches),y.exactMatch&&(this.completions.exactMatch=!0),y.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(T),(E.finished||this.completions.filtered.length)&&h(null,this.completions,E.finished)}.bind(this),v=!0,A=null;this.gatherCompletions(g,function(E,T){this.active&&(E&&(h(E,[],!0),this.detach()),0===T.prefix.indexOf(T.prefix))&&(v?A=T:d(T))}.bind(this)),v=!1,A&&(g=A,A=null,d(g))},f.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(g){"function"==typeof g.cancel&&g.cancel()})};var C=f;function f(g){this.initialPosition=g,this.active=!0}p.prototype.setFilter=function(g){y=g.length>this.filterText&&0===g.lastIndexOf(this.filterText,0)?this.filtered:this.all,this.filterText=g,y=(y=this.filterCompletions(y,this.filterText)).sort(function(d,v){return v.exactMatch-d.exactMatch||v.$score-d.$score||(d.caption||d.value).localeCompare(v.caption||v.value)});var y,h=null;y=y.filter(function(d){return(d=d.snippet||d.caption||d.value)!==h&&(h=d,!0)}),this.filtered=y},p.prototype.filterCompletions=function(g,y){var h=[],d=y.toUpperCase(),v=y.toLowerCase();e:for(var A,E=0;A=g[E];E++){var T=!this.ignoreCaption&&A.caption||A.value||A.snippet;if(T){var F=-1,$=0,j=0;if(this.exactMatch){if(y!==T.substr(0,y.length))continue}else{var te=T.toLowerCase().indexOf(v);if(-1<te)j=te;else for(var Y=0;Y<y.length;Y++){var ae=T.indexOf(v[Y],F+1),S=T.indexOf(d[Y],F+1);if((ae=0<=ae&&(S<0||ae<S)?ae:S)<0)continue e;0<(S=ae-F-1)&&(-1===F&&(j+=10),j+=S,$|=1<<Y),F=ae}}A.matchMask=$,A.exactMatch=j?0:1,A.$score=(A.score||0)-j,h.push(A)}}return h};var m=p;function p(g,y){this.all=g,this.filtered=g,this.filterText=y||"",this.exactMatch=!1,this.ignoreCaption=!1}V.Autocomplete=_,V.CompletionProvider=C,V.FilteredList=m}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(we,V,ne){var fe=we("../range").Range,he=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;V.getCompletions=function(oe,J,B,M,Z){var O=function ye(oe,J){var B=oe.getTextRange(fe.fromPoints({row:0,column:0},J)).split(he).length-1,M=oe.getValue().split(he),Z=Object.create(null),O=M[B];return M.forEach(function(D,_){D&&D!==O&&(_=Math.abs(B-_),_=M.length-_,Z[D]=Z[D]?Math.max(_,Z[D]):_)}),Z}(J,B);Z(null,Object.keys(O).map(function(D){return{caption:D,value:D,score:O[D],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(we,V,ne){"use strict";function fe(y,h){C(h.session.$mode)}function he(y){var h=y.editor,d=h.completer&&h.completer.activated;"backspace"===y.command.name?d&&!Z.getCompletionPrefix(h)&&h.completer.detach():"insertstring"!==y.command.name||d||((h=(ye=y).editor.$liveAutocompletionDelay)?m.delay(h):p(y))}var ye,oe=we("../snippets").snippetManager,J=we("../autocomplete").Autocomplete,B=we("../config"),M=we("../lib/lang"),Z=we("../autocomplete/util"),g=we("../autocomplete/text_completer"),O={getCompletions:function(y,h,d,v,A){if(h.$mode.completer)return h.$mode.completer.getCompletions(y,h,d,v,A);y=y.session.getState(d.row),A(null,h.$mode.getCompletions(y,h,d,v).map(function(E){return E.completerId=O.id,E}))},id:"keywordCompleter"},D={getCompletions:function(y,T,d,v,A){var E=[],F=((T=T.getTokenAt(d.row,d.column))&&T.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?E.push("html-tag"):E=oe.getActiveScopes(y),oe.snippetMap),$=[];E.forEach(function(j){for(var te=F[j]||[],Y=te.length;Y--;){var ae=te[Y],S=ae.name||ae.tabTrigger;S&&$.push({caption:S,snippet:ae.content,meta:ae.tabTrigger&&!ae.name?ae.tabTrigger+"\u21e5 ":"snippet",completerId:D.id})}},this),A(null,$)},getDocTooltip:function(y){var h;y.snippet&&!y.docHTML&&(y.docHTML=["<b>",M.escapeHTML(y.caption),"</b>","<hr></hr>",M.escapeHTML((y=y.snippet,h={},y.replace(/\${(\d+)(:(.*?))?}/g,function(d,v,A,E){return h[v]=E||""}).replace(/\$(\d+?)/g,function(d,v){return h[v]})))].join(""))},id:"snippetCompleter"},_=[D,g,O],I=(V.setCompleters=function(y){_.length=0,y&&_.push.apply(_,y)},V.addCompleter=function(y){_.push(y)},V.textCompleter=g,V.keyWordCompleter=O,V.snippetCompleter=D,{name:"expandSnippet",exec:function(y){return oe.expandWithTab(y)},bindKey:"Tab"}),C=function(y){(y="string"==typeof y?B.$modes[y]:y)&&(oe.files||(oe.files={}),f(y.$id,y.snippetFileId),y.modes)&&y.modes.forEach(C)},f=function(y,h){h&&y&&!oe.files[y]&&(oe.files[y]={},B.loadModule(h,function(d){d&&(!(oe.files[y]=d).snippets&&d.snippetText&&(d.snippets=oe.parseSnippetFile(d.snippetText)),oe.register(d.snippets||[],d.scope),d.includeScopes)&&(oe.snippetMap[d.scope].includeScopes=d.includeScopes,d.includeScopes.forEach(function(v){C("ace/mode/"+v)}))}))},m=M.delayedCall(function(){p(ye)},0),p=function(h){var d=Z.getCompletionPrefix(h=h.editor),v=Z.triggerAutocomplete(h);(d&&d.length>=h.$liveAutocompletionThreshold||v)&&((d=J.for(h)).autoShown=!0,d.showPopup(h))};g=we("../editor").Editor,we("../config").defineOptions(g.prototype,"editor",{enableBasicAutocompletion:{set:function(y){y?(this.completers||(this.completers=Array.isArray(y)?y:_),this.commands.addCommand(J.startCommand)):this.commands.removeCommand(J.startCommand)},value:!1},enableLiveAutocompletion:{set:function(y){y?(this.completers||(this.completers=Array.isArray(y)?y:_),this.commands.on("afterExec",he)):this.commands.off("afterExec",he)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(y){y?(this.commands.addCommand(I),this.on("changeMode",fe),fe(0,this)):(this.commands.removeCommand(I),this.off("changeMode",fe))},value:!1}})}),ace.require(["ace/ext/language_tools"],function(we){me&&(me.exports=we)})},3330:function(me,k,ue){me=ue.nmd(me),ace.define("ace/ext/searchbox-css",["require","exports","module"],function(we,V,ne){ne.exports='\n\n/* ------------------------------------------------------------------------------------------\n * Editor Search Form\n * --------------------------------------------------------------------------------------- */\n.ace_search {\n    background-color: #ddd;\n    color: #666;\n    border: 1px solid #cbcbcb;\n    border-top: 0 none;\n    overflow: hidden;\n    margin: 0;\n    padding: 4px 6px 0 4px;\n    position: absolute;\n    top: 0;\n    z-index: 99;\n    white-space: normal;\n}\n.ace_search.left {\n    border-left: 0 none;\n    border-radius: 0px 0px 5px 0px;\n    left: 0;\n}\n.ace_search.right {\n    border-radius: 0px 0px 0px 5px;\n    border-right: 0 none;\n    right: 0;\n}\n\n.ace_search_form, .ace_replace_form {\n    margin: 0 20px 4px 0;\n    overflow: hidden;\n    line-height: 1.9;\n}\n.ace_replace_form {\n    margin-right: 0;\n}\n.ace_search_form.ace_nomatch {\n    outline: 1px solid red;\n}\n\n.ace_search_field {\n    border-radius: 3px 0 0 3px;\n    background-color: white;\n    color: black;\n    border: 1px solid #cbcbcb;\n    border-right: 0 none;\n    outline: 0;\n    padding: 0;\n    font-size: inherit;\n    margin: 0;\n    line-height: inherit;\n    padding: 0 6px;\n    min-width: 17em;\n    vertical-align: top;\n    min-height: 1.8em;\n    box-sizing: content-box;\n}\n.ace_searchbtn {\n    border: 1px solid #cbcbcb;\n    line-height: inherit;\n    display: inline-block;\n    padding: 0 6px;\n    background: #fff;\n    border-right: 0 none;\n    border-left: 1px solid #dcdcdc;\n    cursor: pointer;\n    margin: 0;\n    position: relative;\n    color: #666;\n}\n.ace_searchbtn:last-child {\n    border-radius: 0 3px 3px 0;\n    border-right: 1px solid #cbcbcb;\n}\n.ace_searchbtn:disabled {\n    background: none;\n    cursor: default;\n}\n.ace_searchbtn:hover {\n    background-color: #eef1f6;\n}\n.ace_searchbtn.prev, .ace_searchbtn.next {\n     padding: 0px 0.7em\n}\n.ace_searchbtn.prev:after, .ace_searchbtn.next:after {\n     content: "";\n     border: solid 2px #888;\n     width: 0.5em;\n     height: 0.5em;\n     border-width:  2px 0 0 2px;\n     display:inline-block;\n     transform: rotate(-45deg);\n}\n.ace_searchbtn.next:after {\n     border-width: 0 2px 2px 0 ;\n}\n.ace_searchbtn_close {\n    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;\n    border-radius: 50%;\n    border: 0 none;\n    color: #656565;\n    cursor: pointer;\n    font: 16px/16px Arial;\n    padding: 0;\n    height: 14px;\n    width: 14px;\n    top: 9px;\n    right: 7px;\n    position: absolute;\n}\n.ace_searchbtn_close:hover {\n    background-color: #656565;\n    background-position: 50% 100%;\n    color: white;\n}\n\n.ace_button {\n    margin-left: 2px;\n    cursor: pointer;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    overflow: hidden;\n    opacity: 0.7;\n    border: 1px solid rgba(100,100,100,0.23);\n    padding: 1px;\n    box-sizing:    border-box!important;\n    color: black;\n}\n\n.ace_button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_button:active {\n    background-color: #ddd;\n}\n\n.ace_button.checked {\n    border-color: #3399ff;\n    opacity:1;\n}\n\n.ace_search_options{\n    margin-bottom: 3px;\n    text-align: right;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    clear: both;\n}\n\n.ace_search_counter {\n    float: left;\n    font-family: arial;\n    padding: 0 8px;\n}'}),ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/ext/searchbox-css","ace/keyboard/hash_handler","ace/lib/keys","ace/config"],function(we,V,ne){"use strict";var fe=we("../lib/dom"),he=we("../lib/lang"),ye=we("../lib/event"),oe=we("./searchbox-css"),J=we("../keyboard/hash_handler").HashHandler,B=we("../lib/keys"),M=we("../config").nls,Z=(fe.importCssString(oe,"ace_searchbox",!1),O.prototype.setEditor=function(D){D.searchBox=this,D.renderer.scroller.appendChild(this.element),this.editor=D},O.prototype.setSession=function(D){this.searchRange=null,this.$syncOptions(!0)},O.prototype.$initElements=function(D){this.searchBox=D.querySelector(".ace_search_form"),this.replaceBox=D.querySelector(".ace_replace_form"),this.searchOption=D.querySelector("[action=searchInSelection]"),this.replaceOption=D.querySelector("[action=toggleReplace]"),this.regExpOption=D.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=D.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=D.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=D.querySelector(".ace_search_counter")},O.prototype.$init=function(){var D=this.element,_=(this.$initElements(D),this);ye.addListener(D,"mousedown",function(I){setTimeout(function(){_.activeInput.focus()},0),ye.stopPropagation(I)}),ye.addListener(D,"click",function(I){var C=(I.target||I.srcElement).getAttribute("action");C&&_[C]?_[C]():_.$searchBarKb.commands[C]&&_.$searchBarKb.commands[C].exec(_),ye.stopPropagation(I)}),ye.addCommandKeyListener(D,function(I,C,f){f=B.keyCodeToString(f),(C=_.$searchBarKb.findKeyCommand(C,f))&&C.exec&&(C.exec(_),ye.stopEvent(I))}),this.$onChange=he.delayedCall(function(){_.find(!1,!1)}),ye.addListener(this.searchInput,"input",function(){_.$onChange.schedule(20)}),ye.addListener(this.searchInput,"focus",function(){_.activeInput=_.searchInput,_.searchInput.value&&_.highlight()}),ye.addListener(this.replaceInput,"focus",function(){_.activeInput=_.replaceInput,_.searchInput.value&&_.highlight()})},O.prototype.setSearchRange=function(D){(this.searchRange=D)?this.searchRangeMarker=this.editor.session.addMarker(D,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},O.prototype.$syncOptions=function(D){fe.setCssClass(this.replaceOption,"checked",this.searchRange),fe.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",fe.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),fe.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),fe.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);var _=this.editor.getReadOnly();this.replaceOption.style.display=_?"none":"",this.replaceBox.style.display=this.replaceOption.checked&&!_?"":"none",this.find(!1,!1,D)},O.prototype.highlight=function(D){this.editor.session.highlight(D||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},O.prototype.find=function(D,_,I){D=!this.editor.find(this.searchInput.value,{skipCurrent:D,backwards:_,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:I,range:this.searchRange})&&this.searchInput.value,fe.setCssClass(this.searchBox,"ace_nomatch",D),this.editor._emit("findSearchBox",{match:!D}),this.highlight(),this.updateCounter()},O.prototype.updateCounter=function(){var D=this.editor,_=D.$search.$options.re,I=0,C=0;if(_){var f,m,p=this.searchRange?D.session.getTextRange(this.searchRange):D.getValue(),g=D.session.doc.positionToIndex(D.selection.anchor);for(this.searchRange&&(g-=D.session.doc.positionToIndex(this.searchRange.start)),_.lastIndex=0;(m=_.exec(p))&&((f=m.index)<=g&&C++,!(999<++I))&&(m[0]||(_.lastIndex=f+=1,!(f>=p.length))););}this.searchCounter.textContent=M("$0 of $1",[C,999<I?"999+":I])},O.prototype.findNext=function(){this.find(!0,!1)},O.prototype.findPrev=function(){this.find(!0,!0)},O.prototype.findAll=function(){var D=!this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked})&&this.searchInput.value;fe.setCssClass(this.searchBox,"ace_nomatch",D),this.editor._emit("findSearchBox",{match:!D}),this.highlight(),this.hide()},O.prototype.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},O.prototype.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},O.prototype.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},O.prototype.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},O.prototype.show=function(D,_){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=_,D&&(this.searchInput.value=D),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},O.prototype.isFocused=function(){var D=document.activeElement;return D==this.searchInput||D==this.replaceInput},O);function O(D,_,I){var C=fe.createElement("div");fe.buildDom(["div",{class:"ace_search right"},["span",{action:"hide",class:"ace_searchbtn_close"}],["div",{class:"ace_search_form"},["input",{class:"ace_search_field",placeholder:M("Search for"),spellcheck:"false"}],["span",{action:"findPrev",class:"ace_searchbtn prev"},"\u200b"],["span",{action:"findNext",class:"ace_searchbtn next"},"\u200b"],["span",{action:"findAll",class:"ace_searchbtn",title:"Alt-Enter"},M("All")]],["div",{class:"ace_replace_form"},["input",{class:"ace_search_field",placeholder:M("Replace with"),spellcheck:"false"}],["span",{action:"replaceAndFindNext",class:"ace_searchbtn"},M("Replace")],["span",{action:"replaceAll",class:"ace_searchbtn"},M("All")]],["div",{class:"ace_search_options"},["span",{action:"toggleReplace",class:"ace_button",title:M("Toggle Replace mode"),style:"float:left;margin-top:-2px;padding:0 5px;"},"+"],["span",{class:"ace_search_counter"}],["span",{action:"toggleRegexpMode",class:"ace_button",title:M("RegExp Search")},".*"],["span",{action:"toggleCaseSensitive",class:"ace_button",title:M("CaseSensitive Search")},"Aa"],["span",{action:"toggleWholeWords",class:"ace_button",title:M("Whole Word Search")},"\\b"],["span",{action:"searchInSelection",class:"ace_button",title:M("Search In Selection")},"S"]]],C),this.element=C.firstChild,this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(D),fe.importCssString(oe,"ace_searchbox",D.container)}(we=new J).bindKeys({"Ctrl-f|Command-f":function(D){var _=D.isReplace=!D.isReplace;D.replaceBox.style.display=_?"":"none",D.replaceOption.checked=!1,D.$syncOptions(),D.searchInput.focus()},"Ctrl-H|Command-Option-F":function(D){D.editor.getReadOnly()||(D.replaceOption.checked=!0,D.$syncOptions(),D.replaceInput.focus())},"Ctrl-G|Command-G":function(D){D.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(D){D.findPrev()},esc:function(D){setTimeout(function(){D.hide()})},Return:function(D){D.activeInput==D.replaceInput&&D.replace(),D.findNext()},"Shift-Return":function(D){D.activeInput==D.replaceInput&&D.replace(),D.findPrev()},"Alt-Return":function(D){D.activeInput==D.replaceInput&&D.replaceAll(),D.findAll()},Tab:function(D){(D.activeInput==D.replaceInput?D.searchInput:D.replaceInput).focus()}}),we.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(D){D.regExpOption.checked=!D.regExpOption.checked,D.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(D){D.caseSensitiveOption.checked=!D.caseSensitiveOption.checked,D.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(D){D.wholeWordOption.checked=!D.wholeWordOption.checked,D.$syncOptions()}},{name:"toggleReplace",exec:function(D){D.replaceOption.checked=!D.replaceOption.checked,D.$syncOptions()}},{name:"searchInSelection",exec:function(D){D.searchOption.checked=!D.searchRange,D.setSearchRange(D.searchOption.checked&&D.editor.getSelectionRange()),D.$syncOptions()}}]),J=new J([{bindKey:"Esc",name:"closeSearchBar",exec:function(D){D.searchBox.hide()}}]),Z.prototype.$searchBarKb=we,Z.prototype.$closeSearchBarKb=J,V.SearchBox=Z,V.Search=function(D,_){(D.searchBox||new Z(D)).show(D.session.getTextRange(),_)}}),ace.require(["ace/ext/searchbox"],function(we){me&&(me.exports=we)})},4091:function(me,k,ue){me=ue.nmd(me),ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(ye,V,ne){"use strict";function fe(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}}var he=ye("../lib/oop");ye=ye("./text_highlight_rules").TextHighlightRules,he.inherits(fe,ye),V.JsonHighlightRules=fe}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(we,V,ne){"use strict";function fe(){}var he=we("../range").Range;(function(){this.checkOutdent=function(ye,oe){return!!/^\s+$/.test(ye)&&/^\s*\}/.test(oe)},this.autoOutdent=function(ye,oe){var J,B=ye.getLine(oe).match(/^(\s*\})/);return B&&(J=ye.findMatchingBracket({row:oe,column:B=B[1].length}))&&J.row!=oe?(J=this.$getIndent(ye.getLine(J.row)),void ye.replace(new he(oe,0,oe,B-1),J)):0},this.$getIndent=function(ye){return ye.match(/^\s*/)[0]}}).call(fe.prototype),V.MatchingBraceOutdent=fe}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(ye,oe,ne){"use strict";var fe=ye("../../lib/oop"),he=ye("../../range").Range;ye=ye("./fold_mode").FoldMode,oe=oe.FoldMode=function(J){J&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+J.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+J.end)))},fe.inherits(oe,ye),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(J,B,M){var Z=J.getLine(M);return!this.singleLineBlockCommentRe.test(Z)||this.startRegionRe.test(Z)||this.tripleStarBlockCommentRe.test(Z)?!(J=this._getFoldWidgetBase(J,B,M))&&this.startRegionRe.test(Z)?"start":J:""},this.getFoldWidgetRange=function(J,B,M,Z){var O,D,_,I=J.getLine(M);return this.startRegionRe.test(I)?this.getCommentRegionBlock(J,I,M):(D=I.match(this.foldingStartMarker))?(_=D.index,D[1]?this.openingBracketBlock(J,D[1],M,_):((O=J.getCommentFoldRange(M,_+D[0].length,1))&&!O.isMultiLine()&&(Z?O=this.getSectionRange(J,M):"all"!=B&&(O=null)),O)):"markbegin"!==B&&(D=I.match(this.foldingStopMarker))?(_=D.index+D[0].length,D[1]?this.closingBracketBlock(J,D[1],M,_):J.getCommentFoldRange(M,_,-1)):void 0},this.getSectionRange=function(J,B){for(var M=(I=J.getLine(B)).search(/\S/),Z=B,O=I.length,D=B+=1,_=J.getLength();++B<_;){var I,C=(I=J.getLine(B)).search(/\S/);if(-1!==C){if(C<M)break;var f=this.getFoldWidgetRange(J,"all",B);if(f){if(f.start.row<=Z)break;if(f.isMultiLine())B=f.end.row;else if(M==C)break}D=B}}return new he(Z,O,D,J.getLine(D).length)},this.getCommentRegionBlock=function(J,B,M){for(var Z=B.search(/\s*$/),O=J.getLength(),D=M,_=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,I=1;++M<O;){B=J.getLine(M);var C=_.exec(B);if(C&&(C[1]?I--:I++,!I))break}if(D<M)return new he(D,Z,M,B.length)}}.call(oe.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],function(we,V,ne){"use strict";function fe(){this.HighlightRules=oe,this.$outdent=new J,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new B}var he=we("../lib/oop"),ye=we("./text").Mode,oe=we("./json_highlight_rules").JsonHighlightRules,J=we("./matching_brace_outdent").MatchingBraceOutdent,B=we("./folding/cstyle").FoldMode,M=we("../worker/worker_client").WorkerClient;he.inherits(fe,ye),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(Z,O,D){var _=this.$getIndent(O);return"start"==Z&&O.match(/^.*[\{\(\[]\s*$/)&&(_+=D),_},this.checkOutdent=function(Z,O,D){return this.$outdent.checkOutdent(O,D)},this.autoOutdent=function(Z,O,D){this.$outdent.autoOutdent(O,D)},this.createWorker=function(Z){var O=new M(["ace"],"ace/mode/json_worker","JsonWorker");return O.attachToDocument(Z.getDocument()),O.on("annotate",function(D){Z.setAnnotations(D.data)}),O.on("terminate",function(){Z.clearAnnotations()}),O},this.$id="ace/mode/json"}.call(fe.prototype),V.Mode=fe}),ace.require(["ace/mode/json"],function(we){me&&(me.exports=we)})},8903:function(M,k,ue){"use strict";var we=ue(5689),V=ue(3969),ne=ue(5255),fe=ue(4293),he=ue(3508),ye=ue(3368),oe=ue(742),J=ue(9394),B=ue(3724),Z=((M.exports=_).prototype.validate=function(h,d){var v;if("string"==typeof h){if(!(v=this.getSchema(h)))throw new Error('no schema with key or ref "'+h+'"')}else v=(h=this._addSchema(h)).validate||this._compile(h);return h=v(d),!0!==v.$async&&(this.errors=v.errors),h},_.prototype.compile=function(h,d){return(h=this._addSchema(h,void 0,d)).validate||this._compile(h)},_.prototype.addSchema=function(h,d,v,A){if(Array.isArray(h))for(var E=0;E<h.length;E++)this.addSchema(h[E],void 0,v,A);else{var T=this._getId(h);if(void 0!==T&&"string"!=typeof T)throw new Error("schema id must be string");g(this,d=V.normalizeId(d||T)),this._schemas[d]=this._addSchema(h,v,A,!0)}return this},_.prototype.addMetaSchema=function(h,d,v){return this.addSchema(h,d,v,!0),this},_.prototype.validateSchema=function(h,d){var A,E,v=h.$schema;if(void 0!==v&&"string"!=typeof v)throw new Error("$schema must be a string");if(!(v=v||this._opts.defaultMeta||(A=this,E=A._opts.meta,A._opts.defaultMeta="object"==typeof E?A._getId(E)||E:A.getSchema(Z)?Z:void 0,A._opts.defaultMeta)))return this.logger.warn("meta-schema not available"),!(this.errors=null);if(!(v=this.validate(v,h))&&d){if(h="schema is invalid: "+this.errorsText(),"log"!=this._opts.validateSchema)throw new Error(h);this.logger.error(h)}return v},_.prototype.getSchema=function(h){var d=I(this,h);switch(typeof d){case"object":return d.validate||this._compile(d);case"string":return this.getSchema(d);case"undefined":return function(v,A){var T,F,$,E=V.schema.call(v,{schema:{}},A);if(E)return $=we.call(v,T=E.schema,F=E.root,void 0,E=E.baseId),v._fragments[A]=new fe({ref:A,fragment:!0,schema:T,root:F,baseId:E,validate:$}),$}(this,h)}},_.prototype.removeSchema=function(h){if(h instanceof RegExp)C(this,this._schemas,h),C(this,this._refs,h);else switch(typeof h){case"undefined":return C(this,this._schemas),C(this,this._refs),this._cache.clear(),this;case"string":var d=I(this,h);return d&&this._cache.del(d.cacheKey),delete this._schemas[h],delete this._refs[h],this;case"object":d=(d=this._opts.serialize)?d(h):h,this._cache.del(d),(d=this._getId(h))&&(d=V.normalizeId(d),delete this._schemas[d],delete this._refs[d])}return this},_.prototype.addFormat=function(h,d){return"string"==typeof d&&(d=new RegExp(d)),this._formats[h]=d,this},_.prototype.errorsText=function(h,d){if(!(h=h||this.errors))return"No errors";for(var v=void 0===(d=d||{}).separator?", ":d.separator,A=void 0===d.dataVar?"data":d.dataVar,E="",T=0;T<h.length;T++){var F=h[T];F&&(E+=A+F.dataPath+" "+F.message+v)}return E.slice(0,-v.length)},_.prototype._addSchema=function(h,$,v,A){if("object"!=typeof h&&"boolean"!=typeof h)throw new Error("schema should be object or boolean");var F,E=(E=this._opts.serialize)?E(h):h,T=this._cache.get(E);if(T)return T;A=A||!1!==this._opts.addUsedSchema,(T=V.normalizeId(this._getId(h)))&&A&&g(this,T),($=!1!==this._opts.validateSchema&&!$)&&!(F=T&&T==V.normalizeId(h.$schema))&&this.validateSchema(h,!0);var j=V.ids.call(this,h);return j=new fe({id:T,schema:h,localRefs:j,cacheKey:E,meta:v}),"#"!=T[0]&&A&&(this._refs[T]=j),this._cache.put(E,j),$&&F&&this.validateSchema(h,!0),j},_.prototype._compile=function(h,d){if(h.compiling)return(h.validate=E).schema=h.schema,E.errors=null,E.root=d||E,!0===h.schema.$async&&(E.$async=!0),E;var v,A;h.compiling=!0,h.meta&&(v=this._opts,this._opts=this._metaOpts);try{A=we.call(this,h.schema,d,h.localRefs)}catch(T){throw delete h.validate,T}finally{h.compiling=!1,h.meta&&(this._opts=v)}return h.validate=A,h.refs=A.refs,h.refVal=A.refVal,h.root=A.root,A;function E(){var T=h.validate,F=T.apply(this,arguments);return E.errors=T.errors,F}},_.prototype.compileAsync=ue(9677),M=ue(7931),_.prototype.addKeyword=M.add,_.prototype.getKeyword=M.get,_.prototype.removeKeyword=M.remove,_.prototype.validateKeyword=M.validate,M=ue(5359),_.ValidationError=M.Validation,_.MissingRefError=M.MissingRef,_.$dataMetaSchema=J,"http://json-schema.org/draft-07/schema"),O=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],D=["/properties"];function _(h){if(!(this instanceof _))return new _(h);h=this._opts=B.copy(h)||{};var d=(te=this)._opts.logger;if(!1===d)te.logger={log:y,warn:y,error:y};else{if(!("object"==typeof(d=void 0===d?console:d)&&d.log&&d.warn&&d.error))throw new Error("logger must implement log, warn and error methods");te.logger=d}if(this._schemas={},this._refs={},this._fragments={},this._formats=ye(h.format),this._cache=h.cache||new ne,this._loadingSchemas={},this._compilations=[],this.RULES=oe(),this._getId=function(R){switch(R.schemaId){case"auto":return p;case"id":return f;default:return m}}(h),h.loopRequired=h.loopRequired||1/0,"property"==h.errorDataPath&&(h._errorDataPathProperty=!0),void 0===h.serialize&&(h.serialize=he),this._metaOpts=function(R){for(var X=B.copy(R._opts),N=0;N<O.length;N++)delete X[O[N]];return X}(this),h.formats){var v,A=this;for(v in A._opts.formats)A.addFormat(v,A._opts.formats[v])}if(h.keywords){var T,F=this;for(T in F._opts.keywords)F.addKeyword(T,F._opts.keywords[T])}var j,te,Y=((te=this)._opts.$data&&(j=ue(894),te.addMetaSchema(j,j.$id,!0)),!1!==te._opts.meta&&(j=ue(6680),te._opts.$data&&(j=J(j,D)),te.addMetaSchema(j,Z,!0),te._refs["http://json-schema.org/schema"]=Z),"object"==typeof h.meta&&this.addMetaSchema(h.meta),h.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),this),ae=Y._opts.schemas;if(ae)if(Array.isArray(ae))Y.addSchema(ae);else for(var S in ae)Y.addSchema(ae[S],S)}function I(h,d){return d=V.normalizeId(d),h._schemas[d]||h._refs[d]||h._fragments[d]}function C(h,d,v){for(var A in d){var E=d[A];E.meta||v&&!v.test(A)||(h._cache.del(E.cacheKey),delete d[A])}}function f(h){return h.$id&&this.logger.warn("schema $id ignored",h.$id),h.id}function m(h){return h.id&&this.logger.warn("schema id ignored",h.id),h.$id}function p(h){if(h.$id&&h.id&&h.$id!=h.id)throw new Error("schema $id is different from id");return h.$id||h.id}function g(h,d){if(h._schemas[d]||h._refs[d])throw new Error('schema with key or id "'+d+'" already exists')}function y(){}},5255:function(me){"use strict";(me=me.exports=function(){this._cache={}}).prototype.put=function(k,ue){this._cache[k]=ue},me.prototype.get=function(k){return this._cache[k]},me.prototype.del=function(k){delete this._cache[k]},me.prototype.clear=function(){this._cache={}}},9677:function(me,k,ue){"use strict";var we=ue(5359).MissingRef;me.exports=function V(ne,fe,he){var ye=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof fe&&(he=fe,fe=void 0);var oe=J(ne).then(function(){var B=ye._addSchema(ne,void 0,fe);return B.validate||function M(Z){try{return ye._compile(Z)}catch(D){if(D instanceof we)return function O(D){var _=D.missingSchema;if(C(_))throw new Error("Schema "+_+" is loaded but "+D.missingRef+" cannot be resolved");return(D=ye._loadingSchemas[_])||(D=ye._loadingSchemas[_]=ye._opts.loadSchema(_)).then(I,I),D.then(function(f){if(!C(_))return J(f).then(function(){C(_)||ye.addSchema(f,_,void 0,fe)})}).then(function(){return M(Z)});function I(){delete ye._loadingSchemas[_]}function C(f){return ye._refs[f]||ye._schemas[f]}}(D);throw D}}(B)});return he&&oe.then(function(B){he(null,B)},he),oe;function J(B){return(B=B.$schema)&&!ye.getSchema(B)?V.call(ye,{$ref:B},!0):Promise.resolve()}}},5359:function(me,k,ue){"use strict";var we=ue(3969);function V(fe,he,ye){this.message=ye||V.message(fe,he),this.missingRef=we.url(fe,he),this.missingSchema=we.normalizeId(we.fullPath(this.missingRef))}function ne(fe){return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe}me.exports={Validation:ne(function(fe){this.message="validation failed",this.errors=fe,this.ajv=this.validation=!0}),MissingRef:ne(V)},V.message=function(fe,he){return"can't resolve reference "+he+" from id "+fe}},3368:function(me,k,he){"use strict";var we=he(3724),V=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,ne=[0,31,28,31,30,31,30,31,31,30,31,30,31],fe=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,ye=(he=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i),oe=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,J=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,B=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,M=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Z=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,O=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function D(g){return we.copy(D[g="full"==g?"full":"fast"])}function _(d){var y,h;return!!(d=d.match(V))&&(y=+d[1],h=+d[2],d=+d[3],1<=h)&&h<=12&&1<=d&&d<=(2!=h||(d=y)%4!=0||d%100==0&&d%400!=0?ne[h]:29)}function I(A,y){var h,d,v;return!!(A=A.match(fe))&&(h=A[1],d=A[2],v=A[3],A=A[5],h<=23&&d<=59&&v<=59||23==h&&59==d&&60==v)&&(!y||A)}(me.exports=D).fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":oe,url:J,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:he,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:p,uuid:B,"json-pointer":M,"json-pointer-uri-fragment":Z,"relative-json-pointer":O},D.full={date:_,time:I,"date-time":function(g){return 2==(g=g.split(C)).length&&_(g[0])&&I(g[1],!0)},uri:function(g){return f.test(g)&&ye.test(g)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":oe,url:J,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:he,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:p,uuid:B,"json-pointer":M,"json-pointer-uri-fragment":Z,"relative-json-pointer":O};var C=/t|\s/i,f=/\/|:/,m=/[^\\]\\Z/;function p(g){if(m.test(g))return!1;try{return new RegExp(g),!0}catch{return!1}}},5689:function(me,k,ue){"use strict";var we=ue(3969),V=ue(3724),ne=ue(5359),fe=ue(3508),he=ue(1869),ye=V.ucs2length,oe=ue(2303),J=ne.Validation;function M(C,f,m){for(var p=0;p<this._compilations.length;p++){var g=this._compilations[p];if(g.schema==C&&g.root==f&&g.baseId==m)return p}return-1}function Z(C,f){return"var pattern"+C+" = new RegExp("+V.toQuotedString(f[C])+");"}function O(C){return"var default"+C+" = defaults["+C+"];"}function D(C,f){return void 0===f[C]?"":"var refVal"+C+" = refVal["+C+"];"}function _(C){return"var customRule"+C+" = customRules["+C+"];"}function I(C,f){if(!C.length)return"";for(var m="",p=0;p<C.length;p++)m+=f(p,C);return m}me.exports=function B(C,f,m,p){var g=this,y=this._opts,h=[void 0],d={},v=[],A={},E=[],T={},F=[],$=function(pe,Te,U){var re=M.call(this,pe,Te,U);return 0<=re?{index:re,compiling:!0}:(this._compilations[re=this._compilations.length]={schema:pe,root:Te,baseId:U},{index:re,compiling:!1})}.call(this,C,f=f||{schema:C,refVal:h,refs:d},p),j=this._compilations[$.index];if($.compiling)return j.callValidate=function R(){var pe=j.validate,Te=pe.apply(this,arguments);return R.errors=pe.errors,Te};var te=this._formats,Y=this.RULES;try{var ae=X(C,f,m,p),S=(j.validate=ae,j.callValidate);return S&&(S.schema=ae.schema,S.errors=null,S.refs=ae.refs,S.refVal=ae.refVal,S.root=ae.root,S.$async=ae.$async,y.sourceCode)&&(S.source=ae.source),ae}finally{(function(pe,Te,U){0<=(pe=M.call(this,pe,Te,U))&&this._compilations.splice(pe,1)}).call(this,C,f,p)}function X(pe,Te,U,re){var se=!Te||Te.schema==pe;if(Te.schema!=f.schema)return B.call(g,pe,Te,U,re);U=!0===pe.$async,re=he({isTop:!0,schema:pe,isRoot:se,baseId:re,root:Te,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:ne.MissingRef,RULES:Y,validate:he,util:V,resolve:we,resolveRef:N,usePattern:Q,useDefault:be,useCustomRule:Ie,opts:y,formats:te,logger:g.logger,self:g}),re=I(h,D)+I(v,Z)+I(E,O)+I(F,_)+re,y.processCode&&(re=y.processCode(re,pe));try{var ge=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",re)(g,Y,te,f,h,E,F,oe,ye,J);h[0]=ge}catch(G){throw g.logger.error("Error compiling schema, function code:",re),G}return ge.schema=pe,ge.errors=null,ge.refs=d,ge.refVal=h,ge.root=se?ge:Te,U&&(ge.$async=!0),!0===y.sourceCode&&(ge.source={code:re,patterns:v,defaults:E}),ge}function N(pe,Te,G){Te=we.url(pe,Te);var re=d[Te];if(void 0!==re)return ie(se=h[re],ge="refVal["+re+"]");if(!G&&f.refs&&void 0!==(re=f.refs[Te]))return ie(se=f.refVal[re],ge=K(Te,se));var se,ge=K(Te);if(void 0!==(G=void 0===(G=we.call(g,X,f,Te))&&(re=m&&m[Te])?we.inlineRef(re,y.inlineRefs)?re:B.call(g,re,f,m,pe):G))return re=d[re=Te],h[re]=se=G,ie(G,ge);delete d[Te]}function K(pe,Te){var U=h.length;return h[U]=Te,"refVal"+(d[pe]=U)}function ie(pe,Te){return"object"==typeof pe||"boolean"==typeof pe?{code:Te,schema:pe,inline:!0}:{code:Te,$async:pe&&!!pe.$async}}function Q(pe){var Te=A[pe];return void 0===Te&&(Te=A[pe]=v.length,v[Te]=pe),"pattern"+Te}function be(pe){switch(typeof pe){case"boolean":case"number":return""+pe;case"string":return V.toQuotedString(pe);case"object":var Te,U;return null===pe?"null":(Te=fe(pe),void 0===(U=T[Te])&&(U=T[Te]=E.length,E[U]=pe),"default"+U)}}function Ie(pe,Te,U,re){if(!1!==g._opts.validateSchema){if((ge=pe.definition.dependencies)&&!ge.every(function(ce){return Object.prototype.hasOwnProperty.call(U,ce)}))throw new Error("parent schema must have all required keywords: "+ge.join(","));if((ge=pe.definition.validateSchema)&&!ge(Te)){if(ge="keyword schema is invalid: "+g.errorsText(ge.errors),"log"!=g._opts.validateSchema)throw new Error(ge);g.logger.error(ge)}}var se,ge,G=pe.definition.inline,W=pe.definition.macro;if(ge=pe.definition.compile)se=ge.call(g,Te,U,re);else if(W)se=W.call(g,Te,U,re),!1!==y.validateSchema&&g.validateSchema(se,!0);else if(G)se=G.call(g,re,pe.keyword,Te,U);else if(!(se=pe.definition.validate))return;if(void 0===se)throw new Error('custom keyword "'+pe.keyword+'"failed to compile');return{code:"customRule"+(ge=F.length),validate:F[ge]=se}}}},3969:function(me,k,ue){"use strict";var we=ue(7533),V=ue(2303),ne=ue(3724),fe=ue(4293),he=ue(500);function ye(f,m,p){var g,y,h,d=this._refs[p];if("string"==typeof d){if(!this._refs[d])return ye.call(this,f,m,d);d=this._refs[d]}return(d=d||this._schemas[p])instanceof fe?Z(d.schema,this._opts.inlineRefs)?d.schema:d.validate||this._compile(d):((d=oe.call(this,m,p))&&(g=d.schema,m=d.root,h=d.baseId),g instanceof fe?y=g.validate||f.call(this,g.schema,m,void 0,h):void 0!==g&&(y=Z(g,this._opts.inlineRefs)?g:f.call(this,g,m,void 0,h)),y)}function oe(f,m){var p=we.parse(m),g=D(p),y=O(this._getId(f.schema));if(0===Object.keys(f.schema).length||g!==y){g=I(g);var h=this._refs[g];if("string"==typeof h)return function(v,A,E){var T,F;if(A=oe.call(this,v,A))return F=A.baseId,v=A.root,(A=this._getId(T=A.schema))&&(F=C(F,A)),B.call(this,E,F,T,v)}.call(this,f,h,p);if(h instanceof fe)h.validate||this._compile(h);else{if(!((h=this._schemas[g])instanceof fe))return;if(h.validate||this._compile(h),g==I(m))return{schema:h,root:f,baseId:y}}if(!(f=h).schema)return;y=O(this._getId(f.schema))}return B.call(this,p,y,f.schema,f)}(me.exports=ye).normalizeId=I,ye.fullPath=O,ye.url=C,ye.ids=function(f){var m=I(this._getId(f)),p={"":m},g={"":O(m,!1)},y={},h=this;return he(f,{allKeys:!0},function(d,v,A,E,T,F,$){if(""!==v){var j=h._getId(d),te=p[E];if(E=g[E]+"/"+T,void 0!==$&&(E+="/"+("number"==typeof $?$:ne.escapeFragment($))),"string"==typeof j)if(j=te=I(te?we.resolve(te,j):j),(T="string"==typeof(T=h._refs[j])?h._refs[T]:T)&&T.schema){if(!V(d,T.schema))throw new Error('id "'+j+'" resolves to more than one schema')}else if(j!=I(E))if("#"==j[0]){if(y[j]&&!V(d,y[j]))throw new Error('id "'+j+'" resolves to more than one schema');y[j]=d}else h._refs[j]=E;p[v]=te,g[v]=E}}),y},ye.inlineRef=Z,ye.schema=oe;var J=ne.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function B(f,m,p,g){if(f.fragment=f.fragment||"","/"==f.fragment.slice(0,1)){for(var y=f.fragment.split("/"),h=1;h<y.length;h++){var d=y[h];if(d){if(void 0===(p=p[d=ne.unescapeFragment(d)]))break;J[d]||((d=this._getId(p))&&(m=C(m,d)),p.$ref&&(d=C(m,p.$ref),d=oe.call(this,g,d))&&(p=d.schema,g=d.root,m=d.baseId))}}return void 0!==p&&p!==g.schema?{schema:p,root:g,baseId:m}:void 0}}var M=ne.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Z(f,m){return!1!==m&&(void 0===m||!0===m?function p(g){var y;if(Array.isArray(g)){for(var h=0;h<g.length;h++)if("object"==typeof(y=g[h])&&!p(y))return!1}else for(var d in g)if("$ref"==d||"object"==typeof(y=g[d])&&!p(y))return!1;return!0}(f):m?function p(g){var y,h=0;if(Array.isArray(g)){for(var d=0;d<g.length;d++)if("object"==typeof(y=g[d])&&(h+=p(y)),h==1/0)return 1/0}else for(var v in g){if("$ref"==v)return 1/0;if(M[v])h++;else if("object"==typeof(y=g[v])&&(h+=p(y)+1),h==1/0)return 1/0}return h}(f)<=m:void 0)}function O(f,m){return!1!==m&&(f=I(f)),D(we.parse(f))}function D(f){return we.serialize(f).split("#")[0]+"#"}var _=/#\/?$/;function I(f){return f?f.replace(_,""):""}function C(f,m){return m=I(m),we.resolve(f,m)}},742:function(me,k,ue){"use strict";var we=ue(9646),V=ue(3724).toHash;me.exports=function(){var ne=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],fe=["type","$comment"];return ne.all=V(fe),ne.types=V(["number","integer","string","array","object","boolean","null"]),ne.forEach(function(he){he.rules=he.rules.map(function(ye){var oe,J;return"object"==typeof ye&&(J=ye[oe=Object.keys(ye)[0]],ye=oe,J.forEach(function(B){fe.push(B),ne.all[B]=!0})),fe.push(ye),ne.all[ye]={keyword:ye,code:we[ye],implements:J}}),ne.all.$comment={keyword:"$comment",code:we.$comment},he.type&&(ne.types[he.type]=he)}),ne.keywords=V(fe.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),ne.custom={},ne}},4293:function(me,k,ue){"use strict";var we=ue(3724);me.exports=function(V){we.copy(V,this)}},6887:function(me){"use strict";me.exports=function(k){for(var ue,we=0,V=k.length,ne=0;ne<V;)we++,55296<=(ue=k.charCodeAt(ne++))&&ue<=56319&&ne<V&&56320==(64512&k.charCodeAt(ne))&&ne++;return we}},3724:function(me,k,ue){"use strict";function we(_,I,C,f){var m=f?" !== ":" === ",p=f?" || ":" && ",g=f?"!":"",y=f?"":"!";switch(_){case"null":return I+m+"null";case"array":return g+"Array.isArray("+I+")";case"object":return"("+g+I+p+"typeof "+I+m+'"object"'+p+y+"Array.isArray("+I+"))";case"integer":return"(typeof "+I+m+'"number"'+p+y+"("+I+" % 1)"+p+I+m+I+(C?p+g+"isFinite("+I+")":"")+")";case"number":return"(typeof "+I+m+'"'+_+'"'+(C?p+g+"isFinite("+I+")":"")+")";default:return"typeof "+I+m+'"'+_+'"'}}me.exports={copy:function(_,I){for(var C in I=I||{},_)I[C]=_[C];return I},checkDataType:we,checkDataTypes:function(_,I,C){if(1===_.length)return we(_[0],I,C,!0);var f,m="";for(f in(_=ne(_)).array&&_.object&&(m=_.null?"(":"(!"+I+" || ",m+="typeof "+I+' !== "object")',delete _.null,delete _.array,delete _.object),_.number&&delete _.integer,_)m+=(m?" && ":"")+we(f,I,C,!0);return m},coerceToTypes:function(_,I){if(!Array.isArray(I))return V[I]?[I]:"array"===_&&"array"===I?["array"]:void 0;for(var C=[],f=0;f<I.length;f++){var m=I[f];(V[m]||"array"===_&&"array"===m)&&(C[C.length]=m)}return C.length?C:void 0},toHash:ne,getProperty:ye,escapeQuotes:oe,equal:ue(2303),ucs2length:ue(6887),varOccurences:function(_,I){return(_=_.match(new RegExp(I+="[^0-9]","g")))?_.length:0},varReplace:function(_,I,C){return I+="([^0-9])",C=C.replace(/\$/g,"$$$$"),_.replace(new RegExp(I,"g"),C+"$1")},schemaHasRules:function(_,I){if("boolean"==typeof _)return!_;for(var C in _)if(I[C])return!0},schemaHasRulesExcept:function(_,I,C){if("boolean"==typeof _)return!_&&"not"!=C;for(var f in _)if(f!=C&&I[f])return!0},schemaUnknownRules:function(_,I){if("boolean"!=typeof _)for(var C in _)if(!I[C])return C},toQuotedString:J,getPathExpr:function(_,I,C,f){return Z(_,C?"'/' + "+I+(f?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):f?"'[' + "+I+" + ']'":"'[\\'' + "+I+" + '\\']'")},getPath:function(_,I,C){return Z(_,C=J(C?"/"+O(I):ye(I)))},getData:function(_,I,C){var f,m,p;if(""===_)return"rootData";if("/"==_[0]){if(!B.test(_))throw new Error("Invalid JSON-pointer: "+_);f=_,m="rootData"}else{if(!(p=_.match(M)))throw new Error("Invalid JSON-pointer: "+_);if(_=+p[1],"#"==(f=p[2])){if(I<=_)throw new Error("Cannot access property/index "+_+" levels up, current level is "+I);return C[I-_]}if(I<_)throw new Error("Cannot access data "+_+" levels up, current level is "+I);if(m="data"+(I-_||""),!f)return m}for(var g=m,y=f.split("/"),h=0;h<y.length;h++){var d=y[h];d&&(g+=" && "+(m+=ye(D(d))))}return g},unescapeFragment:function(_){return D(decodeURIComponent(_))},unescapeJsonPointer:D,escapeFragment:function(_){return encodeURIComponent(O(_))},escapeJsonPointer:O};var V=ne(["string","number","integer","boolean","null"]);function ne(_){for(var I={},C=0;C<_.length;C++)I[_[C]]=!0;return I}var fe=/^[a-z$_][a-z$_0-9]*$/i,he=/'|\\/g;function ye(_){return"number"==typeof _?"["+_+"]":fe.test(_)?"."+_:"['"+oe(_)+"']"}function oe(_){return _.replace(he,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function J(_){return"'"+oe(_)+"'"}var B=/^\/(?:[^~]|~0|~1)*$/,M=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Z(_,I){return'""'==_?I:(_+" + "+I).replace(/([^\\])' \+ '/g,"$1")}function O(_){return _.replace(/~/g,"~0").replace(/\//g,"~1")}function D(_){return _.replace(/~1/g,"/").replace(/~0/g,"~")}},9394:function(me){"use strict";var k=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];me.exports=function(ue,we){for(var V=0;V<we.length;V++){ue=JSON.parse(JSON.stringify(ue));for(var ne=we[V].split("/"),fe=ue,he=1;he<ne.length;he++)fe=fe[ne[he]];for(he=0;he<k.length;he++){var ye=k[he],oe=fe[ye];oe&&(fe[ye]={anyOf:[oe,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return ue}},5868:function(me,k,ue){"use strict";ue=ue(6680),me.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:ue.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:ue.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},1796:function(me){"use strict";me.exports=function(k,ue,we){var V,ne,fe,he,ye,oe=" ",J=k.level,B=k.dataLevel,M=k.schema[ue],Z=k.schemaPath+k.util.getProperty(ue),O=k.errSchemaPath+"/"+ue,D=!k.opts.allErrors,_="data"+(B||""),I=k.opts.$data&&M&&M.$data,C=I?(oe+=" var schema"+J+" = "+k.util.getData(M.$data,B,k.dataPathArr)+"; ","schema"+J):M,f="maximum"==ue,m=f?"exclusiveMaximum":"exclusiveMinimum",p=k.schema[m],g=k.opts.$data&&p&&p.$data,y=f?"<":">",h=f?">":"<",d=void 0;if(!I&&"number"!=typeof M&&void 0!==M)throw new Error(ue+" must be number");if(!g&&void 0!==p&&"number"!=typeof p&&"boolean"!=typeof p)throw new Error(m+" must be number or boolean");g?(B=k.util.getData(p.$data,B,k.dataPathArr),fe="exclIsNumber"+J,he="' + "+(ye="op"+J)+" + '",d=m,(v=v||[]).push(oe=oe+" var schemaExcl"+J+" = "+B+";  var "+(V="exclusive"+J)+"; var "+(ne="exclType"+J)+" = typeof "+(B="schemaExcl"+J)+"; if ("+ne+" != 'boolean' && "+ne+" != 'undefined' && "+ne+" != 'number') { "),oe="",!1!==k.createErrors?(oe+=" { keyword: '"+(d||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(O)+" , params: {} ",!1!==k.opts.messages&&(oe+=" , message: '"+m+" should be boolean' "),k.opts.verbose&&(oe+=" , schema: validate.schema"+Z+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+_+" "),oe+=" } "):oe+=" {} ",A=oe,oe=v.pop(),oe+=!k.compositeRule&&D?k.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",oe+=" } else if ( ",I&&(oe+=" ("+C+" !== undefined && typeof "+C+" != 'number') || "),oe+=" "+ne+" == 'number' ? ( ("+V+" = "+C+" === undefined || "+B+" "+y+"= "+C+") ? "+_+" "+h+"= "+B+" : "+_+" "+h+" "+C+" ) : ( ("+V+" = "+B+" === true) ? "+_+" "+h+"= "+C+" : "+_+" "+h+" "+C+" ) || "+_+" !== "+_+") { var op"+J+" = "+V+" ? '"+y+"' : '"+y+"='; ",void 0===M&&(O=k.errSchemaPath+"/"+(d=m),C=B,I=g)):(he=y,(fe="number"==typeof p)&&I?(ye="'"+he+"'",oe+=" if ( ",I&&(oe+=" ("+C+" !== undefined && typeof "+C+" != 'number') || "),oe+=" ( "+C+" === undefined || "+p+" "+y+"= "+C+" ? "+_+" "+h+"= "+p+" : "+_+" "+h+" "+C+" ) || "+_+" !== "+_+") { "):(fe&&void 0===M?(V=!0,O=k.errSchemaPath+"/"+(d=m),C=p,h+="="):(fe&&(C=Math[f?"min":"max"](p,M)),p===(!fe||C)?(V=!0,O=k.errSchemaPath+"/"+(d=m),h+="="):(V=!1,he+="=")),ye="'"+he+"'",oe+=" if ( ",I&&(oe+=" ("+C+" !== undefined && typeof "+C+" != 'number') || "),oe+=" "+_+" "+h+" "+C+" || "+_+" !== "+_+") { ")),d=d||ue,(v=v||[]).push(oe),oe="",!1!==k.createErrors?(oe+=" { keyword: '"+(d||"_limit")+"' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(O)+" , params: { comparison: "+ye+", limit: "+C+", exclusive: "+V+" } ",!1!==k.opts.messages&&(oe=oe+" , message: 'should be "+he+" "+(I?"' + "+C:C+"'")),k.opts.verbose&&(oe=(oe+=" , schema:  ")+(I?"validate.schema"+Z:""+M)+"         , parentSchema: validate.schema"+k.schemaPath+" , data: "+_+" "),oe+=" } "):oe+=" {} ";var v,A=oe;return oe=v.pop(),oe+=!k.compositeRule&&D?k.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",oe+=" } ",D&&(oe+=" else { "),oe}},2407:function(me){"use strict";me.exports=function(k,ue,we){var V,ne=" ",fe=k.level,Z=k.dataLevel,he=k.schema[ue],ye=k.schemaPath+k.util.getProperty(ue),oe=k.errSchemaPath+"/"+ue,J=!k.opts.allErrors,B="data"+(Z||""),M=k.opts.$data&&he&&he.$data;if(Z=M?(ne+=" var schema"+fe+" = "+k.util.getData(he.$data,Z,k.dataPathArr)+"; ","schema"+fe):he,M||"number"==typeof he)return ne+="if ( ",M&&(ne+=" ("+Z+" !== undefined && typeof "+Z+" != 'number') || "),(fe=[]).push(ne+=" "+B+".length "+("maxItems"==(V=ue)?">":"<")+" "+Z+") { "),ne="",!1!==k.createErrors?(ne+=" { keyword: '"+(V||"_limitItems")+"' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(oe)+" , params: { limit: "+Z+" } ",!1!==k.opts.messages&&(ne=(ne=(ne+=" , message: 'should NOT have ")+("maxItems"==ue?"more":"fewer")+" than ")+(M?"' + "+Z+" + '":""+he)+" items' "),k.opts.verbose&&(ne=(ne+=" , schema:  ")+(M?"validate.schema"+ye:""+he)+"         , parentSchema: validate.schema"+k.schemaPath+" , data: "+B+" "),ne+=" } "):ne+=" {} ",V=ne,ne=fe.pop(),ne+=!k.compositeRule&&J?k.async?" throw new ValidationError(["+V+"]); ":" validate.errors = ["+V+"]; return false; ":" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",ne+="} ",J&&(ne+=" else { "),ne;throw new Error(ue+" must be number")}},1250:function(me){"use strict";me.exports=function(k,ue,we){var V,ne=" ",fe=k.level,Z=k.dataLevel,he=k.schema[ue],ye=k.schemaPath+k.util.getProperty(ue),oe=k.errSchemaPath+"/"+ue,J=!k.opts.allErrors,B="data"+(Z||""),M=k.opts.$data&&he&&he.$data;if(Z=M?(ne+=" var schema"+fe+" = "+k.util.getData(he.$data,Z,k.dataPathArr)+"; ","schema"+fe):he,M||"number"==typeof he)return ne+="if ( ",M&&(ne+=" ("+Z+" !== undefined && typeof "+Z+" != 'number') || "),ne+=!1===k.opts.unicode?" "+B+".length ":" ucs2length("+B+") ",(fe=[]).push(ne+=" "+("maxLength"==(V=ue)?">":"<")+" "+Z+") { "),ne="",!1!==k.createErrors?(ne+=" { keyword: '"+(V||"_limitLength")+"' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(oe)+" , params: { limit: "+Z+" } ",!1!==k.opts.messages&&(ne=(ne=(ne+=" , message: 'should NOT be ")+("maxLength"==ue?"longer":"shorter")+" than ")+(M?"' + "+Z+" + '":""+he)+" characters' "),k.opts.verbose&&(ne=(ne+=" , schema:  ")+(M?"validate.schema"+ye:""+he)+"         , parentSchema: validate.schema"+k.schemaPath+" , data: "+B+" "),ne+=" } "):ne+=" {} ",V=ne,ne=fe.pop(),ne+=!k.compositeRule&&J?k.async?" throw new ValidationError(["+V+"]); ":" validate.errors = ["+V+"]; return false; ":" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",ne+="} ",J&&(ne+=" else { "),ne;throw new Error(ue+" must be number")}},2596:function(me){"use strict";me.exports=function(k,ue,we){var V,ne=" ",fe=k.level,Z=k.dataLevel,he=k.schema[ue],ye=k.schemaPath+k.util.getProperty(ue),oe=k.errSchemaPath+"/"+ue,J=!k.opts.allErrors,B="data"+(Z||""),M=k.opts.$data&&he&&he.$data;if(Z=M?(ne+=" var schema"+fe+" = "+k.util.getData(he.$data,Z,k.dataPathArr)+"; ","schema"+fe):he,M||"number"==typeof he)return ne+="if ( ",M&&(ne+=" ("+Z+" !== undefined && typeof "+Z+" != 'number') || "),(fe=[]).push(ne+=" Object.keys("+B+").length "+("maxProperties"==(V=ue)?">":"<")+" "+Z+") { "),ne="",!1!==k.createErrors?(ne+=" { keyword: '"+(V||"_limitProperties")+"' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(oe)+" , params: { limit: "+Z+" } ",!1!==k.opts.messages&&(ne=(ne=(ne+=" , message: 'should NOT have ")+("maxProperties"==ue?"more":"fewer")+" than ")+(M?"' + "+Z+" + '":""+he)+" properties' "),k.opts.verbose&&(ne=(ne+=" , schema:  ")+(M?"validate.schema"+ye:""+he)+"         , parentSchema: validate.schema"+k.schemaPath+" , data: "+B+" "),ne+=" } "):ne+=" {} ",V=ne,ne=fe.pop(),ne+=!k.compositeRule&&J?k.async?" throw new ValidationError(["+V+"]); ":" validate.errors = ["+V+"]; return false; ":" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",ne+="} ",J&&(ne+=" else { "),ne;throw new Error(ue+" must be number")}},9486:function(me){"use strict";me.exports=function(k,ue,we){var V=" ",ne=k.schema[ue],fe=k.schemaPath+k.util.getProperty(ue),he=k.errSchemaPath+"/"+ue,ye=!k.opts.allErrors,oe=k.util.copy(k),J="",B=(oe.level++,"valid"+oe.level),M=oe.baseId,Z=!0,O=ne;if(O)for(var D,_=-1,I=O.length-1;_<I;)D=O[_+=1],(k.opts.strictKeywords?"object"==typeof D&&0<Object.keys(D).length||!1===D:k.util.schemaHasRules(D,k.RULES.all))&&(Z=!1,oe.schema=D,oe.schemaPath=fe+"["+_+"]",oe.errSchemaPath=he+"/"+_,V+="  "+k.validate(oe)+" ",oe.baseId=M,ye)&&(V+=" if ("+B+") { ",J+="}");return ye&&(V+=Z?" if (true) { ":" "+J.slice(0,-1)+" "),V}},5347:function(me){"use strict";me.exports=function(k,ye,we){var V=" ",B=k.level,oe=k.dataLevel,ne=k.schema[ye],fe=k.schemaPath+k.util.getProperty(ye),he=k.errSchemaPath+"/"+ye,J=(ye=!k.opts.allErrors,oe="data"+(oe||""),"valid"+B),M=(B="errs__"+B,k.util.copy(k)),Z="",O=(M.level++,"valid"+M.level);if(ne.every(function(p){return k.opts.strictKeywords?"object"==typeof p&&0<Object.keys(p).length||!1===p:k.util.schemaHasRules(p,k.RULES.all)})){var D=M.baseId,_=(V+=" var "+B+" = errors; var "+J+" = false;  ",k.compositeRule),I=(k.compositeRule=M.compositeRule=!0,ne);if(I)for(var C,f=-1,m=I.length-1;f<m;)C=I[f+=1],M.schema=C,M.schemaPath=fe+"["+f+"]",M.errSchemaPath=he+"/"+f,V+="  "+k.validate(M)+" ",M.baseId=D,V+=" "+J+" = "+J+" || "+O+"; if (!"+J+") { ",Z+="}";k.compositeRule=M.compositeRule=_,V+=" "+Z+" if (!"+J+") {   var err =   ",!1!==k.createErrors?(V+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(he)+" , params: {} ",!1!==k.opts.messages&&(V+=" , message: 'should match some schema in anyOf' "),k.opts.verbose&&(V+=" , schema: validate.schema"+fe+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+oe+" "),V+=" } "):V+=" {} ",V+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!k.compositeRule&&ye&&(V+=k.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),V+=" } else {  errors = "+B+"; if (vErrors !== null) { if ("+B+") vErrors.length = "+B+"; else vErrors = null; } ",k.opts.allErrors&&(V+=" } ")}else ye&&(V+=" if (true) { ");return V}},923:function(me){"use strict";me.exports=function(k,ne,we){var V=" ",fe=k.schema[ne];return ne=k.errSchemaPath+"/"+ne,fe=k.util.toQuotedString(fe),!0===k.opts.$comment?V+=" console.log("+fe+");":"function"==typeof k.opts.$comment&&(V+=" self._opts.$comment("+fe+", "+k.util.toQuotedString(ne)+", validate.root.schema);"),V}},2617:function(me){"use strict";me.exports=function(k,fe,we){var Z=" ",V=k.level,M=k.dataLevel,B=k.schema[fe],ne=k.schemaPath+k.util.getProperty(fe),he=(fe=k.errSchemaPath+"/"+fe,!k.opts.allErrors),ye="data"+(M||""),oe="valid"+V,J=k.opts.$data&&B&&B.$data;return(J&&(Z+=" var schema"+V+" = "+k.util.getData(B.$data,M,k.dataPathArr)+"; "),J||(Z+=" var schema"+V+" = validate.schema"+ne+";"),B=[]).push(Z+="var "+oe+" = equal("+ye+", schema"+V+"); if (!"+oe+") {   "),Z="",!1!==k.createErrors?(Z+=" { keyword: 'const' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(fe)+" , params: { allowedValue: schema"+V+" } ",!1!==k.opts.messages&&(Z+=" , message: 'should be equal to constant' "),k.opts.verbose&&(Z+=" , schema: validate.schema"+ne+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+ye+" "),Z+=" } "):Z+=" {} ",M=Z,Z=B.pop(),Z+=!k.compositeRule&&he?k.async?" throw new ValidationError(["+M+"]); ":" validate.errors = ["+M+"]; return false; ":" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",Z+=" }",he&&(Z+=" else { "),Z}},2119:function(me){"use strict";me.exports=function(k,fe,we){var C=" ",_=k.level,ye=k.dataLevel,V=k.schema[fe],ne=k.schemaPath+k.util.getProperty(fe),he=(fe=k.errSchemaPath+"/"+fe,!k.opts.allErrors),oe=(ye="data"+(ye||""),"valid"+_),J="errs__"+_,B=k.util.copy(k),M=(B.level++,"valid"+B.level),Z=(_="i"+_,B.dataLevel=k.dataLevel+1),O="data"+Z,I=k.baseId,D=k.opts.strictKeywords?"object"==typeof V&&0<Object.keys(V).length||!1===V:k.util.schemaHasRules(V,k.RULES.all);return(C+="var "+J+" = errors;var "+oe+";",D?(oe=k.compositeRule,k.compositeRule=B.compositeRule=!0,B.schema=V,B.schemaPath=ne,B.errSchemaPath=fe,C+=" var "+M+" = false; for (var "+_+" = 0; "+_+" < "+ye+".length; "+_+"++) { ",B.errorPath=k.util.getPathExpr(k.errorPath,_,k.opts.jsonPointers,!0),V=ye+"["+_+"]",B.dataPathArr[Z]=_,Z=k.validate(B),B.baseId=I,k.util.varOccurences(Z,O)<2?C+=" "+k.util.varReplace(Z,O,V)+" ":C+=" var "+O+" = "+V+"; "+Z+" ",C+=" if ("+M+") break; }  ",k.compositeRule=B.compositeRule=oe,C+="  if (!"+M+") {"):C+=" if ("+ye+".length == 0) {",_=[]).push(C),C="",!1!==k.createErrors?(C+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(fe)+" , params: {} ",!1!==k.opts.messages&&(C+=" , message: 'should contain a valid item' "),k.opts.verbose&&(C+=" , schema: validate.schema"+ne+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+ye+" "),C+=" } "):C+=" {} ",I=C,C=_.pop(),C+=!k.compositeRule&&he?k.async?" throw new ValidationError(["+I+"]); ":" validate.errors = ["+I+"]; return false; ":" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",C+=" } else { ",D&&(C+="  errors = "+J+"; if (vErrors !== null) { if ("+J+") vErrors.length = "+J+"; else vErrors = null; } "),k.opts.allErrors&&(C+=" } "),C}},1793:function(me){"use strict";me.exports=function(k,E,we){var V,ne,fe,he=" ",ye=k.level,oe=k.dataLevel,T=k.schema[E],J=k.schemaPath+k.util.getProperty(E),B=k.errSchemaPath+"/"+E,M=!k.opts.allErrors,Z="data"+(oe||""),O="valid"+ye,D="errs__"+ye,_=k.opts.$data&&T&&T.$data,I=_?(he+=" var schema"+ye+" = "+k.util.getData(T.$data,oe,k.dataPathArr)+"; ","schema"+ye):T,C="definition"+ye,f=this.definition,m="";if(_&&f.$data){var p="keywordValidate"+ye,g=f.validateSchema;he+=" var "+C+" = RULES.custom['"+E+"'].definition; var "+p+" = "+C+".validate;"}else{if(!(v=k.useCustomRule(this,T,k.schema,k)))return;I="validate.schema"+J,p=v.code,V=f.compile,ne=f.inline,fe=f.macro}E=p+".errors",T="i"+ye;var y,h,d,v,A,F="ruleErr"+ye,$=f.async;if($&&!k.async)throw new Error("async keyword in sync schema");return ne||fe||(he+=E+" = null;"),he+="var "+D+" = errors;var "+O+";",_&&f.$data&&(m+="}",he+=" if ("+I+" === undefined) { "+O+" = true; } else { ",g)&&(m+="}",he+=" "+O+" = "+C+".validateSchema("+I+"); if ("+O+") { "),ne?he+=f.statements?" "+v.validate+" ":" "+O+" = "+v.validate+"; ":fe?(m="",(_=k.util.copy(k)).level++,y="valid"+_.level,_.schema=v.validate,_.schemaPath="",g=k.compositeRule,k.compositeRule=_.compositeRule=!0,C=k.validate(_).replace(/validate\.schema/g,p),k.compositeRule=_.compositeRule=g,he+=" "+C):((A=A||[]).push(he),he="",he+="  "+p+".call( ",he+=k.opts.passContext?"this":"self",he+=V||!1===f.schema?" , "+Z+" ":" , "+I+" , "+Z+" , validate.schema"+k.schemaPath+" ",he+=" , (dataPath || '')",'""'!=k.errorPath&&(he+=" + "+k.errorPath),v=he+=" , "+(h=oe?"data"+(oe-1||""):"parentData")+" , "+(d=oe?k.dataPathArr[oe]:"parentDataProperty")+" , rootData )  ",he=A.pop(),!1===f.errors?(he+=" "+O+" = ",$&&(he+="await "),he+=v+"; "):he+=$?" var "+(E="customErrors"+ye)+" = null; try { "+O+" = await "+v+"; } catch (e) { "+O+" = false; if (e instanceof ValidationError) "+E+" = e.errors; else throw e; } ":" "+E+" = null; "+O+" = "+v+"; "),f.modifying&&(he+=" if ("+h+") "+Z+" = "+h+"["+d+"];"),he+=""+m,f.valid?M&&(he+=" if (true) { "):(he+=" if ( ",void 0===f.valid?he=he+" !"+(fe?""+y:O):he+=" "+!f.valid+" ",_=this.keyword,(A=A||[]).push(he+=") { "),(A=A||[]).push(he=""),he="",!1!==k.createErrors?(he+=" { keyword: '"+(_||"custom")+"' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(B)+" , params: { keyword: '"+this.keyword+"' } ",!1!==k.opts.messages&&(he+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),k.opts.verbose&&(he+=" , schema: validate.schema"+J+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+Z+" "),he+=" } "):he+=" {} ",g=he,he=A.pop(),C=he+=!k.compositeRule&&M?k.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",he=A.pop(),ne?f.errors?"full"!=f.errors&&(he+="  for (var "+T+"="+D+"; "+T+"<errors; "+T+"++) { var "+F+" = vErrors["+T+"]; if ("+F+".dataPath === undefined) "+F+".dataPath = (dataPath || '') + "+k.errorPath+"; if ("+F+".schemaPath === undefined) { "+F+'.schemaPath = "'+B+'"; } ',k.opts.verbose&&(he+=" "+F+".schema = "+I+"; "+F+".data = "+Z+"; "),he+=" } "):!1===f.errors?he+=" "+C+" ":(he+=" if ("+D+" == errors) { "+C+" } else {  for (var "+T+"="+D+"; "+T+"<errors; "+T+"++) { var "+F+" = vErrors["+T+"]; if ("+F+".dataPath === undefined) "+F+".dataPath = (dataPath || '') + "+k.errorPath+"; if ("+F+".schemaPath === undefined) { "+F+'.schemaPath = "'+B+'"; } ',k.opts.verbose&&(he+=" "+F+".schema = "+I+"; "+F+".data = "+Z+"; "),he+=" } } "):fe?(he+="   var err =   ",!1!==k.createErrors?(he+=" { keyword: '"+(_||"custom")+"' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(B)+" , params: { keyword: '"+this.keyword+"' } ",!1!==k.opts.messages&&(he+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),k.opts.verbose&&(he+=" , schema: validate.schema"+J+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+Z+" "),he+=" } "):he+=" {} ",he+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!k.compositeRule&&M&&(he+=k.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):!1===f.errors?he+=" "+C+" ":(he+=" if (Array.isArray("+E+")) { if (vErrors === null) vErrors = "+E+"; else vErrors = vErrors.concat("+E+"); errors = vErrors.length;  for (var "+T+"="+D+"; "+T+"<errors; "+T+"++) { var "+F+" = vErrors["+T+"]; if ("+F+".dataPath === undefined) "+F+".dataPath = (dataPath || '') + "+k.errorPath+";  "+F+'.schemaPath = "'+B+'";  ',k.opts.verbose&&(he+=" "+F+".schema = "+I+"; "+F+".data = "+Z+"; "),he+=" } } else { "+C+" } "),he+=" } ",M&&(he+=" else { ")),he}},9115:function(me){"use strict";me.exports=function(k,Z,we){var V,ne=" ",fe=k.level,he=k.dataLevel,ye=k.schema[Z],oe=k.schemaPath+k.util.getProperty(Z),J=k.errSchemaPath+"/"+Z,B=!k.opts.allErrors,M="data"+(he||""),O=(Z="errs__"+fe,k.util.copy(k)),D="",_=(O.level++,"valid"+O.level),I={},C={},f=k.opts.ownProperties;for(te in ye)"__proto__"!=te&&(ae=ye[te],(V=Array.isArray(ae)?C:I)[te]=ae);var m=k.errorPath;for(te in ne=ne+"var "+Z+" = errors;var missing"+fe+";",C)if((V=C[te]).length){if(ne+=" if ( "+M+k.util.getProperty(te)+" !== undefined ",f&&(ne+=" && Object.prototype.hasOwnProperty.call("+M+", '"+k.util.escapeQuotes(te)+"') "),B){ne+=" && ( ";var p=V;if(p)for(var g=-1,y=p.length-1;g<y;)E=p[g+=1],g&&(ne+=" || "),ne+=" ( ( "+(j=M+($=k.util.getProperty(E)))+" === undefined ",f&&(ne+=" || ! Object.prototype.hasOwnProperty.call("+M+", '"+k.util.escapeQuotes(E)+"') "),ne+=") && (missing"+fe+" = "+k.util.toQuotedString(k.opts.jsonPointers?E:$)+") ) ";ne+=")) {  ";var h="' + "+(v="missing"+fe)+" + '",d=(k.opts._errorDataPathProperty&&(k.errorPath=k.opts.jsonPointers?k.util.getPathExpr(m,v,!0):m+" + "+v),d||[]),v=(d.push(ne),ne="",!1!==k.createErrors?(ne+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(J)+" , params: { property: '"+k.util.escapeQuotes(te)+"', missingProperty: '"+h+"', depsCount: "+V.length+", deps: '"+k.util.escapeQuotes(1==V.length?V[0]:V.join(", "))+"' } ",!1!==k.opts.messages&&(ne+=" , message: 'should have ",ne+=1==V.length?"property "+k.util.escapeQuotes(V[0]):"properties "+k.util.escapeQuotes(V.join(", ")),ne+=" when property "+k.util.escapeQuotes(te)+" is present' "),k.opts.verbose&&(ne+=" , schema: validate.schema"+oe+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+M+" "),ne+=" } "):ne+=" {} ",ne);ne=d.pop(),ne+=!k.compositeRule&&B?k.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{ne+=" ) { ";var A=V;if(A)for(var E,T=-1,F=A.length-1;T<F;){E=A[T+=1];var $=k.util.getProperty(E),j=(h=k.util.escapeQuotes(E),M+$);k.opts._errorDataPathProperty&&(k.errorPath=k.util.getPath(m,E,k.opts.jsonPointers)),ne+=" if ( "+j+" === undefined ",f&&(ne+=" || ! Object.prototype.hasOwnProperty.call("+M+", '"+k.util.escapeQuotes(E)+"') "),ne+=") {  var err =   ",!1!==k.createErrors?(ne+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(J)+" , params: { property: '"+k.util.escapeQuotes(te)+"', missingProperty: '"+h+"', depsCount: "+V.length+", deps: '"+k.util.escapeQuotes(1==V.length?V[0]:V.join(", "))+"' } ",!1!==k.opts.messages&&(ne+=" , message: 'should have ",ne+=1==V.length?"property "+k.util.escapeQuotes(V[0]):"properties "+k.util.escapeQuotes(V.join(", ")),ne+=" when property "+k.util.escapeQuotes(te)+" is present' "),k.opts.verbose&&(ne+=" , schema: validate.schema"+oe+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+M+" "),ne+=" } "):ne+=" {} ",ne+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}ne+=" }   ",B&&(D+="}",ne+=" else { ")}k.errorPath=m;var te,Y=O.baseId;for(te in I){var ae=I[te];(k.opts.strictKeywords?"object"==typeof ae&&0<Object.keys(ae).length||!1===ae:k.util.schemaHasRules(ae,k.RULES.all))&&(ne+=" "+_+" = true; if ( "+M+k.util.getProperty(te)+" !== undefined ",f&&(ne+=" && Object.prototype.hasOwnProperty.call("+M+", '"+k.util.escapeQuotes(te)+"') "),ne+=") { ",O.schema=ae,O.schemaPath=oe+k.util.getProperty(te),O.errSchemaPath=J+"/"+k.util.escapeFragment(te),ne+="  "+k.validate(O)+" ",O.baseId=Y,ne+=" }  ",B)&&(ne+=" if ("+_+") { ",D+="}")}return B&&(ne+="   "+D+" if ("+Z+" == errors) {"),ne}},9317:function(me){"use strict";me.exports=function(k,fe,we){var Z=" ",V=k.level,B=k.dataLevel,M=k.schema[fe],ne=k.schemaPath+k.util.getProperty(fe),he=(fe=k.errSchemaPath+"/"+fe,!k.opts.allErrors),ye="data"+(B||""),oe="valid"+V,J=k.opts.$data&&M&&M.$data;return J&&(Z+=" var schema"+V+" = "+k.util.getData(M.$data,B,k.dataPathArr)+"; "),B="schema"+V,(J||(Z+=" var "+B+" = validate.schema"+ne+";"),Z+="var "+oe+";",J&&(Z+=" if (schema"+V+" === undefined) "+oe+" = true; else if (!Array.isArray(schema"+V+")) "+oe+" = false; else {"),Z+=oe+" = false;for (var "+(M="i"+V)+"=0; "+M+"<"+B+".length; "+M+"++) if (equal("+ye+", "+B+"["+M+"])) { "+oe+" = true; break; }",J&&(Z+="  }  "),B=[]).push(Z+=" if (!"+oe+") {   "),Z="",!1!==k.createErrors?(Z+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(fe)+" , params: { allowedValues: schema"+V+" } ",!1!==k.opts.messages&&(Z+=" , message: 'should be equal to one of the allowed values' "),k.opts.verbose&&(Z+=" , schema: validate.schema"+ne+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+ye+" "),Z+=" } "):Z+=" {} ",M=Z,Z=B.pop(),Z+=!k.compositeRule&&he?k.async?" throw new ValidationError(["+M+"]); ":" validate.errors = ["+M+"]; return false; ":" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",Z+=" }",he&&(Z+=" else { "),Z}},8327:function(me){"use strict";me.exports=function(k,oe,we){var V=" ",ne=k.level,fe=k.dataLevel,he=k.schema[oe],ye=k.schemaPath+k.util.getProperty(oe),J=(oe=k.errSchemaPath+"/"+oe,!k.opts.allErrors),B="data"+(fe||"");if(!1===k.opts.format)J&&(V+=" if (true) { ");else{var M,Z=k.opts.$data&&he&&he.$data,O=(fe=Z?(V+=" var schema"+ne+" = "+k.util.getData(he.$data,fe,k.dataPathArr)+"; ","schema"+ne):he,k.opts.unknownFormats),D=Array.isArray(O);if(Z)V+=" var "+(M="format"+ne)+" = formats["+fe+"]; var "+(_="isObject"+ne)+" = typeof "+M+" == 'object' && !("+M+" instanceof RegExp) && "+M+".validate; var "+(C="formatType"+ne)+" = "+_+" && "+M+".type || 'string'; if ("+_+") { ",k.async&&(V+=" var async"+ne+" = "+M+".async; "),V+=" "+M+" = "+M+".validate; } if (  ",Z&&(V+=" ("+fe+" !== undefined && typeof "+fe+" != 'string') || "),V+=" (","ignore"!=O&&(V+=" ("+fe+" && !"+M+" ",D&&(V+=" && self._opts.unknownFormats.indexOf("+fe+") == -1 "),V+=") || "),V+=" ("+M+" && "+C+" == '"+we+"' && !(typeof "+M+" == 'function' ? ",V+=k.async?" (async"+ne+" ? await "+M+"("+B+") : "+M+"("+B+")) ":" "+M+"("+B+") ",V+=" : "+M+".test("+B+"))))) {";else{if(!(M=k.formats[he])){if("ignore"==O)return k.logger.warn('unknown format "'+he+'" ignored in schema at path "'+k.errSchemaPath+'"'),J&&(V+=" if (true) { "),V;if(D&&0<=O.indexOf(he))return J&&(V+=" if (true) { "),V;throw new Error('unknown format "'+he+'" is used in schema at path "'+k.errSchemaPath+'"')}var _,I,C=(_="object"==typeof M&&!(M instanceof RegExp)&&M.validate)&&M.type||"string";if(_&&(I=!0===M.async,M=M.validate),C!=we)return J&&(V+=" if (true) { "),V;if(I){if(!k.async)throw new Error("async format in sync schema");V+=" if (!(await "+(f="formats"+k.util.getProperty(he)+".validate")+"("+B+"))) { "}else{V+=" if (! ";var f="formats"+k.util.getProperty(he);_&&(f+=".validate"),V=V+("function"==typeof M?" "+f+"("+B+") ":" "+f+".test("+B+") ")+") { "}}(ne=[]).push(V),V="",!1!==k.createErrors?(V=(V+=" { keyword: 'format' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(oe)+" , params: { format:  ")+(Z?""+fe:""+k.util.toQuotedString(he))+"  } ",!1!==k.opts.messages&&(V=(V+=" , message: 'should match format \"")+(Z?"' + "+fe+" + '":""+k.util.escapeQuotes(he))+"\"' "),k.opts.verbose&&(V=(V=(V+=" , schema:  ")+(Z?"validate.schema"+ye:""+k.util.toQuotedString(he)))+"         , parentSchema: validate.schema"+k.schemaPath+" , data: "+B+" "),V+=" } "):V+=" {} ",D=V,V=ne.pop(),V+=!k.compositeRule&&J?k.async?" throw new ValidationError(["+D+"]); ":" validate.errors = ["+D+"]; return false; ":" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",V+=" } ",J&&(V+=" else { ")}return V}},5926:function(me){"use strict";me.exports=function(k,oe,we){var V,ne=" ",fe=k.level,B=k.dataLevel,he=k.schema[oe],ye=k.schemaPath+k.util.getProperty(oe),J=(oe=k.errSchemaPath+"/"+oe,!k.opts.allErrors),M=(B="data"+(B||""),"valid"+fe),Z="errs__"+fe,O=k.util.copy(k),D=(O.level++,"valid"+O.level),I=k.schema.else,_=void 0!==(_=k.schema.then)&&(k.opts.strictKeywords?"object"==typeof _&&0<Object.keys(_).length||!1===_:k.util.schemaHasRules(_,k.RULES.all)),C=(I=void 0!==I&&(k.opts.strictKeywords?"object"==typeof I&&0<Object.keys(I).length||!1===I:k.util.schemaHasRules(I,k.RULES.all)),O.baseId);return _||I?(O.createErrors=!1,O.schema=he,O.schemaPath=ye,O.errSchemaPath=oe,ne+=" var "+Z+" = errors; var "+M+" = true;  ",he=k.compositeRule,k.compositeRule=O.compositeRule=!0,ne+="  "+k.validate(O)+" ",O.baseId=C,O.createErrors=!0,ne+="  errors = "+Z+"; if (vErrors !== null) { if ("+Z+") vErrors.length = "+Z+"; else vErrors = null; }  ",k.compositeRule=O.compositeRule=he,_?(ne+=" if ("+D+") {  ",O.schema=k.schema.then,O.schemaPath=k.schemaPath+".then",O.errSchemaPath=k.errSchemaPath+"/then",ne+="  "+k.validate(O)+" ",O.baseId=C,ne+=" "+M+" = "+D+"; ",_&&I?ne+=" var "+(V="ifClause"+fe)+" = 'then'; ":V="'then'",ne+=" } ",I&&(ne+=" else { ")):ne+=" if (!"+D+") { ",I&&(O.schema=k.schema.else,O.schemaPath=k.schemaPath+".else",O.errSchemaPath=k.errSchemaPath+"/else",ne+="  "+k.validate(O)+" ",O.baseId=C,ne+=" "+M+" = "+D+"; ",_&&I?ne+=" var "+(V="ifClause"+fe)+" = 'else'; ":V="'else'",ne+=" } "),ne+=" if (!"+M+") {   var err =   ",!1!==k.createErrors?(ne+=" { keyword: 'if' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(oe)+" , params: { failingKeyword: "+V+" } ",!1!==k.opts.messages&&(ne+=" , message: 'should match \"' + "+V+" + '\" schema' "),k.opts.verbose&&(ne+=" , schema: validate.schema"+ye+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+B+" "),ne+=" } "):ne+=" {} ",ne+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!k.compositeRule&&J&&(ne+=k.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),ne+=" }   ",J&&(ne+=" else { ")):J&&(ne+=" if (true) { "),ne}},9646:function(me,k,ue){"use strict";me.exports={$ref:ue(2331),allOf:ue(9486),anyOf:ue(5347),$comment:ue(923),const:ue(2617),contains:ue(2119),dependencies:ue(9115),enum:ue(9317),format:ue(8327),if:ue(5926),items:ue(392),maximum:ue(1796),minimum:ue(1796),maxItems:ue(2407),minItems:ue(2407),maxLength:ue(1250),minLength:ue(1250),maxProperties:ue(2596),minProperties:ue(2596),multipleOf:ue(6039),not:ue(7946),oneOf:ue(9344),pattern:ue(9737),properties:ue(2537),propertyNames:ue(2127),required:ue(1204),uniqueItems:ue(1985),validate:ue(1869)}},392:function(me){"use strict";me.exports=function(k,J,we){var V=" ",D=k.level,B=k.dataLevel,ne=k.schema[J],fe=k.schemaPath+k.util.getProperty(J),he=k.errSchemaPath+"/"+J,ye=!k.opts.allErrors,oe="data"+(B||""),M=(J="valid"+D,B="errs__"+D,k.util.copy(k)),Z="",O=(M.level++,"valid"+M.level),_=(D="i"+D,M.dataLevel=k.dataLevel+1),I="data"+_,C=k.baseId;if(V+="var "+B+" = errors;var "+J+";",Array.isArray(ne)){var f,m,p=k.schema.additionalItems,g=(!1===p&&(V+=" "+J+" = "+oe+".length <= "+ne.length+"; ",f=he,he=k.errSchemaPath+"/additionalItems",(m=m||[]).push(V+="  if (!"+J+") {   "),V="",!1!==k.createErrors?(V+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(he)+" , params: { limit: "+ne.length+" } ",!1!==k.opts.messages&&(V+=" , message: 'should NOT have more than "+ne.length+" items' "),k.opts.verbose&&(V+=" , schema: false , parentSchema: validate.schema"+k.schemaPath+" , data: "+oe+" "),V+=" } "):V+=" {} ",J=V,V=m.pop(),V+=!k.compositeRule&&ye?k.async?" throw new ValidationError(["+J+"]); ":" validate.errors = ["+J+"]; return false; ":" var err = "+J+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",V+=" } ",he=f,ye)&&(Z+="}",V+=" else { "),ne);if(g)for(var y=-1,h=g.length-1;y<h;){var d,v,A=g[y+=1];(k.opts.strictKeywords?"object"==typeof A&&0<Object.keys(A).length||!1===A:k.util.schemaHasRules(A,k.RULES.all))&&(V+=" "+O+" = true; if ("+oe+".length > "+y+") { ",d=oe+"["+y+"]",M.schema=A,M.schemaPath=fe+"["+y+"]",M.errSchemaPath=he+"/"+y,M.errorPath=k.util.getPathExpr(k.errorPath,y,k.opts.jsonPointers,!0),M.dataPathArr[_]=y,v=k.validate(M),M.baseId=C,k.util.varOccurences(v,I)<2?V+=" "+k.util.varReplace(v,I,d)+" ":V+=" var "+I+" = "+d+"; "+v+" ",V+=" }  ",ye)&&(V+=" if ("+O+") { ",Z+="}")}"object"==typeof p&&(k.opts.strictKeywords?"object"==typeof p&&0<Object.keys(p).length||!1===p:k.util.schemaHasRules(p,k.RULES.all))&&(M.schema=p,M.schemaPath=k.schemaPath+".additionalItems",M.errSchemaPath=k.errSchemaPath+"/additionalItems",V+=" "+O+" = true; if ("+oe+".length > "+ne.length+") {  for (var "+D+" = "+ne.length+"; "+D+" < "+oe+".length; "+D+"++) { ",M.errorPath=k.util.getPathExpr(k.errorPath,D,k.opts.jsonPointers,!0),d=oe+"["+D+"]",M.dataPathArr[_]=D,v=k.validate(M),M.baseId=C,k.util.varOccurences(v,I)<2?V+=" "+k.util.varReplace(v,I,d)+" ":V+=" var "+I+" = "+d+"; "+v+" ",ye&&(V+=" if (!"+O+") break; "),V+=" } }  ",ye)&&(V+=" if ("+O+") { ",Z+="}")}else(k.opts.strictKeywords?"object"==typeof ne&&0<Object.keys(ne).length||!1===ne:k.util.schemaHasRules(ne,k.RULES.all))&&(M.schema=ne,M.schemaPath=fe,M.errSchemaPath=he,V+="  for (var "+D+" = 0; "+D+" < "+oe+".length; "+D+"++) { ",M.errorPath=k.util.getPathExpr(k.errorPath,D,k.opts.jsonPointers,!0),d=oe+"["+D+"]",M.dataPathArr[_]=D,v=k.validate(M),M.baseId=C,k.util.varOccurences(v,I)<2?V+=" "+k.util.varReplace(v,I,d)+" ":V+=" var "+I+" = "+d+"; "+v+" ",ye&&(V+=" if (!"+O+") break; "),V+=" }");return ye&&(V+=" "+Z+" if ("+B+" == errors) {"),V}},6039:function(me){"use strict";me.exports=function(k,ue,we){var V=" ",ne=k.level,M=k.dataLevel,fe=k.schema[ue],he=k.schemaPath+k.util.getProperty(ue),ye=k.errSchemaPath+"/"+ue,oe=!k.opts.allErrors,J="data"+(M||""),B=k.opts.$data&&fe&&fe.$data;if(M=B?(V+=" var schema"+ne+" = "+k.util.getData(fe.$data,M,k.dataPathArr)+"; ","schema"+ne):fe,!B&&"number"!=typeof fe)throw new Error(ue+" must be number");return V+="var division"+ne+";if (",B&&(V+=" "+M+" !== undefined && ( typeof "+M+" != 'number' || "),V+=" (division"+ne+" = "+J+" / "+M+", ",V+=k.opts.multipleOfPrecision?" Math.abs(Math.round(division"+ne+") - division"+ne+") > 1e-"+k.opts.multipleOfPrecision+" ":" division"+ne+" !== parseInt(division"+ne+") ",V+=" ) ",B&&(V+="  )  "),(ue=[]).push(V+=" ) {   "),V="",!1!==k.createErrors?(V+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(ye)+" , params: { multipleOf: "+M+" } ",!1!==k.opts.messages&&(V=V+" , message: 'should be multiple of "+(B?"' + "+M:M+"'")),k.opts.verbose&&(V=(V+=" , schema:  ")+(B?"validate.schema"+he:""+fe)+"         , parentSchema: validate.schema"+k.schemaPath+" , data: "+J+" "),V+=" } "):V+=" {} ",ne=V,V=ue.pop(),V+=!k.compositeRule&&oe?k.async?" throw new ValidationError(["+ne+"]); ":" validate.errors = ["+ne+"]; return false; ":" var err = "+ne+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",V+="} ",oe&&(V+=" else { "),V}},7946:function(me){"use strict";me.exports=function(k,oe,we){var V,ne,fe=" ",M=k.level,B=k.dataLevel,he=k.schema[oe],ye=k.schemaPath+k.util.getProperty(oe),J=(oe=k.errSchemaPath+"/"+oe,!k.opts.allErrors),Z=(B="data"+(B||""),M="errs__"+M,k.util.copy(k)),O=(Z.level++,"valid"+Z.level);return(k.opts.strictKeywords?"object"==typeof he&&0<Object.keys(he).length||!1===he:k.util.schemaHasRules(he,k.RULES.all))?(Z.schema=he,Z.schemaPath=ye,Z.errSchemaPath=oe,fe+=" var "+M+" = errors;  ",he=k.compositeRule,k.compositeRule=Z.compositeRule=!0,Z.createErrors=!1,Z.opts.allErrors&&(ne=Z.opts.allErrors,Z.opts.allErrors=!1),fe+=" "+k.validate(Z)+" ",Z.createErrors=!0,ne&&(Z.opts.allErrors=ne),k.compositeRule=Z.compositeRule=he,(V=V||[]).push(fe+=" if ("+O+") {   "),fe="",!1!==k.createErrors?(fe+=" { keyword: 'not' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(oe)+" , params: {} ",!1!==k.opts.messages&&(fe+=" , message: 'should NOT be valid' "),k.opts.verbose&&(fe+=" , schema: validate.schema"+ye+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+B+" "),fe+=" } "):fe+=" {} ",ne=fe,fe=V.pop(),fe+=!k.compositeRule&&J?k.async?" throw new ValidationError(["+ne+"]); ":" validate.errors = ["+ne+"]; return false; ":" var err = "+ne+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",fe+=" } else {  errors = "+M+"; if (vErrors !== null) { if ("+M+") vErrors.length = "+M+"; else vErrors = null; } ",k.opts.allErrors&&(fe+=" } ")):(fe+="  var err =   ",!1!==k.createErrors?(fe+=" { keyword: 'not' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(oe)+" , params: {} ",!1!==k.opts.messages&&(fe+=" , message: 'should NOT be valid' "),k.opts.verbose&&(fe+=" , schema: validate.schema"+ye+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+B+" "),fe+=" } "):fe+=" {} ",fe+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",J&&(fe+=" if (false) { ")),fe}},9344:function(me){"use strict";me.exports=function(k,ye,we){var V=" ",C=k.level,oe=k.dataLevel,ne=k.schema[ye],fe=k.schemaPath+k.util.getProperty(ye),he=k.errSchemaPath+"/"+ye,J=(ye=!k.opts.allErrors,oe="data"+(oe||""),"valid"+C),B="errs__"+C,M=k.util.copy(k),Z="",O=(M.level++,"valid"+M.level),D=M.baseId,_="prevValid"+C,I="passingSchemas"+C,f=(V+="var "+B+" = errors , "+_+" = false , "+J+" = false , "+I+" = null; ",C=k.compositeRule,k.compositeRule=M.compositeRule=!0,ne);if(f)for(var m,p=-1,g=f.length-1;p<g;)m=f[p+=1],(k.opts.strictKeywords?"object"==typeof m&&0<Object.keys(m).length||!1===m:k.util.schemaHasRules(m,k.RULES.all))?(M.schema=m,M.schemaPath=fe+"["+p+"]",M.errSchemaPath=he+"/"+p,V+="  "+k.validate(M)+" ",M.baseId=D):V+=" var "+O+" = true; ",p&&(V+=" if ("+O+" && "+_+") { "+J+" = false; "+I+" = ["+I+", "+p+"]; } else { ",Z+="}"),V+=" if ("+O+") { "+J+" = "+_+" = true; "+I+" = "+p+"; }";return k.compositeRule=M.compositeRule=C,V+=Z+"if (!"+J+") {   var err =   ",!1!==k.createErrors?(V+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(he)+" , params: { passingSchemas: "+I+" } ",!1!==k.opts.messages&&(V+=" , message: 'should match exactly one schema in oneOf' "),k.opts.verbose&&(V+=" , schema: validate.schema"+fe+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+oe+" "),V+=" } "):V+=" {} ",V+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!k.compositeRule&&ye&&(V+=k.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),V+="} else {  errors = "+B+"; if (vErrors !== null) { if ("+B+") vErrors.length = "+B+"; else vErrors = null; }",k.opts.allErrors&&(V+=" } "),V}},9737:function(me){"use strict";me.exports=function(k,fe,we){var Z=" ",M=k.level,J=k.dataLevel,V=k.schema[fe],ne=k.schemaPath+k.util.getProperty(fe),he=(fe=k.errSchemaPath+"/"+fe,!k.opts.allErrors),ye="data"+(J||""),oe=k.opts.$data&&V&&V.$data,B=(J=oe?(Z+=" var schema"+M+" = "+k.util.getData(V.$data,J,k.dataPathArr)+"; ","schema"+M):V,M=oe?"(new RegExp("+J+"))":k.usePattern(V),Z+="if ( ",oe&&(Z+=" ("+J+" !== undefined && typeof "+J+" != 'string') || "),[]);return B.push(Z+=" !"+M+".test("+ye+") ) {   "),Z="",!1!==k.createErrors?(Z=(Z+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(fe)+" , params: { pattern:  ")+(oe?""+J:""+k.util.toQuotedString(V))+"  } ",!1!==k.opts.messages&&(Z=(Z+=" , message: 'should match pattern \"")+(oe?"' + "+J+" + '":""+k.util.escapeQuotes(V))+"\"' "),k.opts.verbose&&(Z=(Z=(Z+=" , schema:  ")+(oe?"validate.schema"+ne:""+k.util.toQuotedString(V)))+"         , parentSchema: validate.schema"+k.schemaPath+" , data: "+ye+" "),Z+=" } "):Z+=" {} ",M=Z,Z=B.pop(),Z+=!k.compositeRule&&he?k.async?" throw new ValidationError(["+M+"]); ":" validate.errors = ["+M+"]; return false; ":" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",Z+="} ",he&&(Z+=" else { "),Z}},2537:function(me){"use strict";me.exports=function(k,M,we){var V,ne=" ",fe=k.level,p=k.dataLevel,he=k.schema[M],ye=k.schemaPath+k.util.getProperty(M),oe=k.errSchemaPath+"/"+M,J=!k.opts.allErrors,B="data"+(p||""),Z=(M="errs__"+fe,k.util.copy(k)),O="",D=(Z.level++,"valid"+Z.level),_="key"+fe,I="idx"+fe,C=Z.dataLevel=k.dataLevel+1,f="data"+C,m="dataProperties"+fe,g=(p=Object.keys(he||{}).filter(te),k.schema.patternProperties||{}),y=Object.keys(g).filter(te),h=k.schema.additionalProperties,d=p.length||y.length,v=!1===h,A="object"==typeof h&&Object.keys(h).length,E=k.opts.removeAdditional,T=v||A||E,F=k.opts.ownProperties,$=k.baseId,j=k.schema.required;function te(bt){return"__proto__"!==bt}if(j&&(!k.opts.$data||!j.$data)&&j.length<k.opts.loopRequired&&(V=k.util.toHash(j)),ne+="var "+M+" = errors;var "+D+" = true;",F&&(ne+=" var "+m+" = undefined;"),T){if(ne+=F?" "+m+" = "+m+" || Object.keys("+B+"); for (var "+I+"=0; "+I+"<"+m+".length; "+I+"++) { var "+_+" = "+m+"["+I+"]; ":" for (var "+_+" in "+B+") { ",d){if(ne+=" var isAdditional"+fe+" = !(false ",p.length)if(8<p.length)ne+=" || validate.schema"+ye+".hasOwnProperty("+_+") ";else{var Y=p;if(Y)for(var ae=-1,S=Y.length-1;ae<S;)Q=Y[ae+=1],ne+=" || "+_+" == "+k.util.toQuotedString(Q)+" "}if(y.length){var R=y;if(R)for(var X=-1,N=R.length-1;X<N;)ce=R[X+=1],ne+=" || "+k.usePattern(ce)+".test("+_+") "}ne+=" ); if (isAdditional"+fe+") { "}"all"==E?ne+=" delete "+B+"["+_+"]; ":(U=k.errorPath,j="' + "+_+" + '",k.opts._errorDataPathProperty&&(k.errorPath=k.util.getPathExpr(k.errorPath,_,k.opts.jsonPointers)),v?E?ne+=" delete "+B+"["+_+"]; ":(re=oe,oe=k.errSchemaPath+"/additionalProperties",(ge=ge||[]).push(ne+=" "+D+" = false; "),ne="",!1!==k.createErrors?(ne+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(oe)+" , params: { additionalProperty: '"+j+"' } ",!1!==k.opts.messages&&(ne+=" , message: '",ne+=k.opts._errorDataPathProperty?"is an invalid additional property":"should NOT have additional properties",ne+="' "),k.opts.verbose&&(ne+=" , schema: false , parentSchema: validate.schema"+k.schemaPath+" , data: "+B+" "),ne+=" } "):ne+=" {} ",G=ne,ne=ge.pop(),ne+=!k.compositeRule&&J?k.async?" throw new ValidationError(["+G+"]); ":" validate.errors = ["+G+"]; return false; ":" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",oe=re,J&&(ne+=" break; ")):A&&("failing"==E?(ne+=" var "+M+" = errors;  ",T=k.compositeRule,k.compositeRule=Z.compositeRule=!0,Z.schema=h,Z.schemaPath=k.schemaPath+".additionalProperties",Z.errSchemaPath=k.errSchemaPath+"/additionalProperties",Z.errorPath=k.opts._errorDataPathProperty?k.errorPath:k.util.getPathExpr(k.errorPath,_,k.opts.jsonPointers),nt=B+"["+_+"]",Z.dataPathArr[C]=_,rt=k.validate(Z),Z.baseId=$,k.util.varOccurences(rt,f)<2?ne+=" "+k.util.varReplace(rt,f,nt)+" ":ne+=" var "+f+" = "+nt+"; "+rt+" ",ne+=" if (!"+D+") { errors = "+M+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+B+"["+_+"]; }  ",k.compositeRule=Z.compositeRule=T):(Z.schema=h,Z.schemaPath=k.schemaPath+".additionalProperties",Z.errSchemaPath=k.errSchemaPath+"/additionalProperties",Z.errorPath=k.opts._errorDataPathProperty?k.errorPath:k.util.getPathExpr(k.errorPath,_,k.opts.jsonPointers),nt=B+"["+_+"]",Z.dataPathArr[C]=_,rt=k.validate(Z),Z.baseId=$,k.util.varOccurences(rt,f)<2?ne+=" "+k.util.varReplace(rt,f,nt)+" ":ne+=" var "+f+" = "+nt+"; "+rt+" ",J&&(ne+=" if (!"+D+") break; "))),k.errorPath=U),d&&(ne+=" } "),ne+=" }  ",J&&(ne+=" if ("+D+") { ",O+="}")}var K=k.opts.useDefaults&&!k.compositeRule;if(p.length){var ie=p;if(ie)for(var Q,be=-1,Ie=ie.length-1;be<Ie;){var pe,Te,U,re,se,ge,G,W=he[Q=ie[be+=1]];(k.opts.strictKeywords?"object"==typeof W&&0<Object.keys(W).length||!1===W:k.util.schemaHasRules(W,k.RULES.all))&&(nt=B+(se=k.util.getProperty(Q)),pe=K&&void 0!==W.default,Z.schema=W,Z.schemaPath=ye+se,Z.errSchemaPath=oe+"/"+k.util.escapeFragment(Q),Z.errorPath=k.util.getPath(k.errorPath,Q,k.opts.jsonPointers),Z.dataPathArr[C]=k.util.toQuotedString(Q),rt=k.validate(Z),Z.baseId=$,k.util.varOccurences(rt,f)<2?(rt=k.util.varReplace(rt,f,nt),Te=nt):ne+=" var "+(Te=f)+" = "+nt+"; ",pe?ne+=" "+rt+" ":(V&&V[Q]?(ne+=" if ( "+Te+" === undefined ",F&&(ne+=" || ! Object.prototype.hasOwnProperty.call("+B+", '"+k.util.escapeQuotes(Q)+"') "),ne+=") { "+D+" = false; ",U=k.errorPath,re=oe,se=k.util.escapeQuotes(Q),k.opts._errorDataPathProperty&&(k.errorPath=k.util.getPath(U,Q,k.opts.jsonPointers)),oe=k.errSchemaPath+"/required",(ge=ge||[]).push(ne),ne="",!1!==k.createErrors?(ne+=" { keyword: 'required' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(oe)+" , params: { missingProperty: '"+se+"' } ",!1!==k.opts.messages&&(ne+=" , message: '",ne+=k.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+se+"\\'",ne+="' "),k.opts.verbose&&(ne+=" , schema: validate.schema"+ye+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+B+" "),ne+=" } "):ne+=" {} ",G=ne,ne=ge.pop(),ne+=!k.compositeRule&&J?k.async?" throw new ValidationError(["+G+"]); ":" validate.errors = ["+G+"]; return false; ":" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",oe=re,k.errorPath=U,ne+=" } else { "):J?(ne+=" if ( "+Te+" === undefined ",F&&(ne+=" || ! Object.prototype.hasOwnProperty.call("+B+", '"+k.util.escapeQuotes(Q)+"') "),ne+=") { "+D+" = true; } else { "):(ne+=" if ("+Te+" !== undefined ",F&&(ne+=" &&   Object.prototype.hasOwnProperty.call("+B+", '"+k.util.escapeQuotes(Q)+"') "),ne+=" ) { "),ne+=" "+rt+" } ")),J&&(ne+=" if ("+D+") { ",O+="}")}}if(y.length){var q=y;if(q)for(var ce,Ae=-1,Ve=q.length-1;Ae<Ve;){var nt,rt;W=g[ce=q[Ae+=1]],(k.opts.strictKeywords?"object"==typeof W&&0<Object.keys(W).length||!1===W:k.util.schemaHasRules(W,k.RULES.all))&&(Z.schema=W,Z.schemaPath=k.schemaPath+".patternProperties"+k.util.getProperty(ce),Z.errSchemaPath=k.errSchemaPath+"/patternProperties/"+k.util.escapeFragment(ce),ne=(ne+=F?" "+m+" = "+m+" || Object.keys("+B+"); for (var "+I+"=0; "+I+"<"+m+".length; "+I+"++) { var "+_+" = "+m+"["+I+"]; ":" for (var "+_+" in "+B+") { ")+" if ("+k.usePattern(ce)+".test("+_+")) { ",Z.errorPath=k.util.getPathExpr(k.errorPath,_,k.opts.jsonPointers),nt=B+"["+_+"]",Z.dataPathArr[C]=_,rt=k.validate(Z),Z.baseId=$,k.util.varOccurences(rt,f)<2?ne+=" "+k.util.varReplace(rt,f,nt)+" ":ne+=" var "+f+" = "+nt+"; "+rt+" ",J&&(ne+=" if (!"+D+") break; "),ne+=" } ",J&&(ne+=" else "+D+" = true; "),ne+=" }  ",J)&&(ne+=" if ("+D+") { ",O+="}")}}return J&&(ne+=" "+O+" if ("+M+" == errors) {"),ne}},2127:function(me){"use strict";me.exports=function(k,D,we){var V,ne,fe,he,ye,oe,J,B=" ",M=k.level,I=k.dataLevel,Z=k.schema[D],O=k.schemaPath+k.util.getProperty(D),_=(D=k.errSchemaPath+"/"+D,!k.opts.allErrors),C=(I="data"+(I||""),"errs__"+M),f=k.util.copy(k),m=(f.level++,"valid"+f.level);return B+="var "+C+" = errors;",(k.opts.strictKeywords?"object"==typeof Z&&0<Object.keys(Z).length||!1===Z:k.util.schemaHasRules(Z,k.RULES.all))&&(f.schema=Z,f.schemaPath=O,f.errSchemaPath=D,Z="idx"+M,ne="i"+M,fe="' + "+(V="key"+M)+" + '",he="data"+(f.dataLevel=k.dataLevel+1),J="dataProperties"+M,ye=k.baseId,(oe=k.opts.ownProperties)&&(B+=" var "+J+" = undefined; "),B=B+(oe?" "+J+" = "+J+" || Object.keys("+I+"); for (var "+Z+"=0; "+Z+"<"+J+".length; "+Z+"++) { var "+V+" = "+J+"["+Z+"]; ":" for (var "+V+" in "+I+") { ")+" var startErrs"+M+" = errors; ",oe=V,J=k.compositeRule,k.compositeRule=f.compositeRule=!0,Z=k.validate(f),f.baseId=ye,k.util.varOccurences(Z,he)<2?B+=" "+k.util.varReplace(Z,he,oe)+" ":B+=" var "+he+" = "+oe+"; "+Z+" ",k.compositeRule=f.compositeRule=J,B+=" if (!"+m+") { for (var "+ne+"=startErrs"+M+"; "+ne+"<errors; "+ne+"++) { vErrors["+ne+"].propertyName = "+V+"; }   var err =   ",!1!==k.createErrors?(B+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(D)+" , params: { propertyName: '"+fe+"' } ",!1!==k.opts.messages&&(B+=" , message: 'property name \\'"+fe+"\\' is invalid' "),k.opts.verbose&&(B+=" , schema: validate.schema"+O+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+I+" "),B+=" } "):B+=" {} ",B+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!k.compositeRule&&_&&(B+=k.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),_&&(B+=" break; "),B+=" } }"),_&&(B+="  if ("+C+" == errors) {"),B}},2331:function(me){"use strict";me.exports=function(k,oe,we){var V,ne,D,fe=" ",he=k.dataLevel,ye=k.schema[oe],J=(oe=k.errSchemaPath+"/"+oe,!k.opts.allErrors),B="data"+(he||""),M="valid"+(M=k.level);if("#"==ye||"#/"==ye)ne=k.isRoot?(V=k.async,"validate"):(V=!0===k.root.schema.$async,"root.refVal[0]");else{var Z=k.resolveRef(k.baseId,ye,k.isRoot);if(void 0===Z){var O=k.MissingRefError.message(k.baseId,ye);if("fail"==k.opts.missingRefs)k.logger.error(O),(D=D||[]).push(fe),fe="",!1!==k.createErrors?(fe+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(oe)+" , params: { ref: '"+k.util.escapeQuotes(ye)+"' } ",!1!==k.opts.messages&&(fe+=" , message: 'can\\'t resolve reference "+k.util.escapeQuotes(ye)+"' "),k.opts.verbose&&(fe+=" , schema: "+k.util.toQuotedString(ye)+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+B+" "),fe+=" } "):fe+=" {} ",oe=fe,fe=D.pop(),fe+=!k.compositeRule&&J?k.async?" throw new ValidationError(["+oe+"]); ":" validate.errors = ["+oe+"]; return false; ":" var err = "+oe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",J&&(fe+=" if (false) { ");else{if("ignore"!=k.opts.missingRefs)throw new k.MissingRefError(k.baseId,ye,O);k.logger.warn(O),J&&(fe+=" if (true) { ")}}else Z.inline?((oe=k.util.copy(k)).level++,O="valid"+oe.level,oe.schema=Z.schema,oe.schemaPath="",oe.errSchemaPath=ye,fe+=" "+k.validate(oe).replace(/validate\.schema/g,Z.code)+" ",J&&(fe+=" if ("+O+") { ")):(V=!0===Z.$async||k.async&&!1!==Z.$async,ne=Z.code)}if(ne)if((D=D||[]).push(fe),fe="",fe+=k.opts.passContext?" "+ne+".call(this, ":" "+ne+"( ",fe+=" "+B+", (dataPath || '')",'""'!=k.errorPath&&(fe+=" + "+k.errorPath),oe=fe+=" , "+(ye=he?"data"+(he-1||""):"parentData")+" , "+(he?k.dataPathArr[he]:"parentDataProperty")+", rootData)  ",fe=D.pop(),V){if(!k.async)throw new Error("async schema referenced by sync schema");J&&(fe+=" var "+M+"; "),fe+=" try { await "+oe+"; ",J&&(fe+=" "+M+" = true; "),fe+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",J&&(fe+=" "+M+" = false; "),fe+=" } ",J&&(fe+=" if ("+M+") { ")}else fe+=" if (!"+oe+") { if (vErrors === null) vErrors = "+ne+".errors; else vErrors = vErrors.concat("+ne+".errors); errors = vErrors.length; } ",J&&(fe+=" else { ");return fe}},1204:function(me){"use strict";me.exports=function(k,oe,we){var V=" ",ne=k.level,Z=k.dataLevel,fe=k.schema[oe],he=k.schemaPath+k.util.getProperty(oe),ye=k.errSchemaPath+"/"+oe,J=(oe=!k.opts.allErrors,"data"+(Z||"")),B="valid"+ne,M=k.opts.$data&&fe&&fe.$data;if(M&&(V+=" var schema"+ne+" = "+k.util.getData(fe.$data,Z,k.dataPathArr)+"; "),Z="schema"+ne,!M)if(fe.length<k.opts.loopRequired&&k.schema.properties&&Object.keys(k.schema.properties).length){var O=[],D=fe;if(D)for(var _=-1,I=D.length-1;_<I;){var C=D[_+=1],f=k.schema.properties[C];f&&(k.opts.strictKeywords?"object"==typeof f&&0<Object.keys(f).length||!1===f:k.util.schemaHasRules(f,k.RULES.all))||(O[O.length]=C)}}else O=fe;if(M||O.length){var m=k.errorPath,p=(fe=M||O.length>=k.opts.loopRequired,k.opts.ownProperties);if(oe){if(V+=" var missing"+ne+"; ",fe){M||(V+=" var "+Z+" = validate.schema"+he+"; ");var g="' + "+(E="schema"+ne+"["+(d="i"+ne)+"]")+" + '";k.opts._errorDataPathProperty&&(k.errorPath=k.util.getPathExpr(m,E,k.opts.jsonPointers)),V+=" var "+B+" = true; ",M&&(V+=" if (schema"+ne+" === undefined) "+B+" = true; else if (!Array.isArray(schema"+ne+")) "+B+" = false; else {"),V+=" for (var "+d+" = 0; "+d+" < "+Z+".length; "+d+"++) { "+B+" = "+J+"["+Z+"["+d+"]] !== undefined ",p&&(V+=" &&   Object.prototype.hasOwnProperty.call("+J+", "+Z+"["+d+"]) "),V+="; if (!"+B+") break; } ",M&&(V+="  }  "),(A=A||[]).push(V+="  if (!"+B+") {   "),V="",!1!==k.createErrors?(V+=" { keyword: 'required' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(ye)+" , params: { missingProperty: '"+g+"' } ",!1!==k.opts.messages&&(V+=" , message: '",V+=k.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+g+"\\'",V+="' "),k.opts.verbose&&(V+=" , schema: validate.schema"+he+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+J+" "),V+=" } "):V+=" {} ";var y=V;V=A.pop()}else{V+=" if ( ";var A,h=O;if(h)for(var d=-1,v=h.length-1;d<v;)F=h[d+=1],d&&(V+=" || "),V+=" ( ( "+(Y=J+(te=k.util.getProperty(F)))+" === undefined ",p&&(V+=" || ! Object.prototype.hasOwnProperty.call("+J+", '"+k.util.escapeQuotes(F)+"') "),V+=") && (missing"+ne+" = "+k.util.toQuotedString(k.opts.jsonPointers?F:te)+") ) ";V+=") {  ",g="' + "+(E="missing"+ne)+" + '",k.opts._errorDataPathProperty&&(k.errorPath=k.opts.jsonPointers?k.util.getPathExpr(m,E,!0):m+" + "+E),(A=A||[]).push(V),V="",!1!==k.createErrors?(V+=" { keyword: 'required' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(ye)+" , params: { missingProperty: '"+g+"' } ",!1!==k.opts.messages&&(V+=" , message: '",V+=k.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+g+"\\'",V+="' "),k.opts.verbose&&(V+=" , schema: validate.schema"+he+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+J+" "),V+=" } "):V+=" {} ",y=V,V=A.pop()}V+=!k.compositeRule&&oe?k.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",V+=" } else { "}else if(fe){var E;M||(V+=" var "+Z+" = validate.schema"+he+"; "),g="' + "+(E="schema"+ne+"["+(d="i"+ne)+"]")+" + '",k.opts._errorDataPathProperty&&(k.errorPath=k.util.getPathExpr(m,E,k.opts.jsonPointers)),M&&(V+=" if ("+Z+" && !Array.isArray("+Z+")) {  var err =   ",!1!==k.createErrors?(V+=" { keyword: 'required' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(ye)+" , params: { missingProperty: '"+g+"' } ",!1!==k.opts.messages&&(V+=" , message: '",V+=k.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+g+"\\'",V+="' "),k.opts.verbose&&(V+=" , schema: validate.schema"+he+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+J+" "),V+=" } "):V+=" {} ",V+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+Z+" !== undefined) { "),V+=" for (var "+d+" = 0; "+d+" < "+Z+".length; "+d+"++) { if ("+J+"["+Z+"["+d+"]] === undefined ",p&&(V+=" || ! Object.prototype.hasOwnProperty.call("+J+", "+Z+"["+d+"]) "),V+=") {  var err =   ",!1!==k.createErrors?(V+=" { keyword: 'required' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(ye)+" , params: { missingProperty: '"+g+"' } ",!1!==k.opts.messages&&(V+=" , message: '",V+=k.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+g+"\\'",V+="' "),k.opts.verbose&&(V+=" , schema: validate.schema"+he+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+J+" "),V+=" } "):V+=" {} ",V+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",M&&(V+="  }  ")}else{var T=O;if(T)for(var F,$=-1,j=T.length-1;$<j;){F=T[$+=1];var te=k.util.getProperty(F),Y=(g=k.util.escapeQuotes(F),J+te);k.opts._errorDataPathProperty&&(k.errorPath=k.util.getPath(m,F,k.opts.jsonPointers)),V+=" if ( "+Y+" === undefined ",p&&(V+=" || ! Object.prototype.hasOwnProperty.call("+J+", '"+k.util.escapeQuotes(F)+"') "),V+=") {  var err =   ",!1!==k.createErrors?(V+=" { keyword: 'required' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(ye)+" , params: { missingProperty: '"+g+"' } ",!1!==k.opts.messages&&(V+=" , message: '",V+=k.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+g+"\\'",V+="' "),k.opts.verbose&&(V+=" , schema: validate.schema"+he+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+J+" "),V+=" } "):V+=" {} ",V+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}k.errorPath=m}else oe&&(V+=" if (true) {");return V}},1985:function(me){"use strict";me.exports=function(k,oe,we){var V,ne=" ",fe=k.level,O=k.dataLevel,he=k.schema[oe],ye=k.schemaPath+k.util.getProperty(oe),J=(oe=k.errSchemaPath+"/"+oe,!k.opts.allErrors),B="data"+(O||""),M="valid"+fe,Z=k.opts.$data&&he&&he.$data;return O=Z?(ne+=" var schema"+fe+" = "+k.util.getData(he.$data,O,k.dataPathArr)+"; ","schema"+fe):he,(he||Z)&&!1!==k.opts.uniqueItems?(Z&&(ne+=" var "+M+"; if ("+O+" === false || "+O+" === undefined) "+M+" = true; else if (typeof "+O+" != 'boolean') "+M+" = false; else { "),ne+=" var i = "+B+".length , "+M+" = true , j; if (i > 1) { ",fe=k.schema.items&&k.schema.items.type,O=Array.isArray(fe),!fe||"object"==fe||"array"==fe||O&&(0<=fe.indexOf("object")||0<=fe.indexOf("array"))?ne+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+B+"[i], "+B+"[j])) { "+M+" = false; break outer; } } } ":(ne=(ne+=" var itemIndices = {}, item; for (;i--;) { var item = "+B+"[i]; ")+" if ("+k.util["checkDataType"+(O?"s":"")](fe,"item",k.opts.strictNumbers,!0)+") continue; ",O&&(ne+=" if (typeof item == 'string') item = '\"' + item; "),ne+=" if (typeof itemIndices[item] == 'number') { "+M+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),ne+=" } ",Z&&(ne+="  }  "),(V=V||[]).push(ne+=" if (!"+M+") {   "),ne="",!1!==k.createErrors?(ne+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(oe)+" , params: { i: i, j: j } ",!1!==k.opts.messages&&(ne+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),k.opts.verbose&&(ne=(ne+=" , schema:  ")+(Z?"validate.schema"+ye:""+he)+"         , parentSchema: validate.schema"+k.schemaPath+" , data: "+B+" "),ne+=" } "):ne+=" {} ",fe=ne,ne=V.pop(),ne+=!k.compositeRule&&J?k.async?" throw new ValidationError(["+fe+"]); ":" validate.errors = ["+fe+"]; return false; ":" var err = "+fe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",ne+=" } ",J&&(ne+=" else { ")):J&&(ne+=" if (true) { "),ne}},1869:function(me){"use strict";me.exports=function(k,ue,we){var V="",ne=!0===k.schema.$async,fe=k.util.schemaHasRulesExcept(k.schema,k.RULES.all,"$ref"),he=k.self._getId(k.schema);if(k.opts.strictKeywords&&(ye=k.util.schemaUnknownRules(k.schema,k.RULES.keywords))){if(ye="unknown keyword: "+ye,"log"!==k.opts.strictKeywords)throw new Error(ye);k.logger.warn(ye)}if(k.isTop&&(V+=" var validate = ",ne&&(k.async=!0,V+="async "),V+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",he)&&(k.opts.sourceCode||k.opts.processCode)&&(V+=" /*# sourceURL="+he+" */ "),"boolean"==typeof k.schema||!fe&&!k.schema.$ref)J=k.level,B=k.dataLevel,Y=k.schema[ue="false schema"],g=k.schemaPath+k.util.getProperty(ue),y=k.errSchemaPath+"/"+ue,D=!k.opts.allErrors,M="data"+(B||""),O="valid"+J,!1===k.schema?(k.isTop?D=!0:V+=" var "+O+" = false; ",(be=be||[]).push(V),V="",!1!==k.createErrors?(V+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(y)+" , params: {} ",!1!==k.opts.messages&&(V+=" , message: 'boolean schema is false' "),k.opts.verbose&&(V+=" , schema: false , parentSchema: validate.schema"+k.schemaPath+" , data: "+M+" "),V+=" } "):V+=" {} ",F=V,V=be.pop(),V+=!k.compositeRule&&D?k.async?" throw new ValidationError(["+F+"]); ":" validate.errors = ["+F+"]; return false; ":" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "):V+=k.isTop?ne?" return data; ":" validate.errors = null; return true; ":" var "+O+" = true; ",k.isTop&&(V+=" }; return validate; ");else{if(k.isTop){var oe=k.isTop,J=k.level=0,B=k.dataLevel=0,M="data";if(k.rootId=k.resolve.fullPath(k.self._getId(k.root.schema)),k.baseId=k.baseId||k.rootId,delete k.isTop,k.dataPathArr=[""],void 0!==k.schema.default&&k.opts.useDefaults&&k.opts.strictDefaults){var Z="default is ignored in the schema root";if("log"!==k.opts.strictDefaults)throw new Error(Z);k.logger.warn(Z)}V=(V+=" var vErrors = null; ")+" var errors = 0;      if (rootData === undefined) rootData = data; "}else{if(J=k.level,M="data"+((B=k.dataLevel)||""),he&&(k.baseId=k.resolve.url(k.baseId,he)),ne&&!k.async)throw new Error("async schema in sync schema");V+=" var errs_"+J+" = errors;"}var O="valid"+J,D=!k.opts.allErrors,_="",I="",C=k.schema.type,f=Array.isArray(C);if(C&&k.opts.nullable&&!0===k.schema.nullable&&(f?-1==C.indexOf("null")&&(C=C.concat("null")):"null"!=C&&(C=[C,"null"],f=!0)),f&&1==C.length&&(C=C[0],f=!1),k.schema.$ref&&fe){if("fail"==k.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+k.errSchemaPath+'" (see option extendRefs)');!0!==k.opts.extendRefs&&(fe=!1,k.logger.warn('$ref: keywords ignored in schema at path "'+k.errSchemaPath+'"'))}if(k.schema.$comment&&k.opts.$comment&&(V+=" "+k.RULES.all.$comment.code(k,"$comment")),C){k.opts.coerceTypes&&(m=k.util.coerceToTypes(k.opts.coerceTypes,C));var m,p=k.RULES.types[C];if(m||f||!0===p||p&&!re(p)){var g=k.schemaPath+".type",y=k.errSchemaPath+"/type";if(g=k.schemaPath+".type",y=k.errSchemaPath+"/type",V+=" if ("+k.util[f?"checkDataTypes":"checkDataType"](C,M,k.opts.strictNumbers,!0)+") { ",m){var h="dataType"+J,d="coerced"+J,v=(V+=" var "+h+" = typeof "+M+"; var "+d+" = undefined; ","array"==k.opts.coerceTypes&&(V+=" if ("+h+" == 'object' && Array.isArray("+M+") && "+M+".length == 1) { "+M+" = "+M+"[0]; "+h+" = typeof "+M+"; if ("+k.util.checkDataType(k.schema.type,M,k.opts.strictNumbers)+") "+d+" = "+M+"; } "),V+=" if ("+d+" !== undefined) ; ",m);if(v)for(var A,E=-1,T=v.length-1;E<T;)"string"==(A=v[E+=1])?V+=" else if ("+h+" == 'number' || "+h+" == 'boolean') "+d+" = '' + "+M+"; else if ("+M+" === null) "+d+" = ''; ":"number"==A||"integer"==A?(V+=" else if ("+h+" == 'boolean' || "+M+" === null || ("+h+" == 'string' && "+M+" && "+M+" == +"+M+" ","integer"==A&&(V+=" && !("+M+" % 1)"),V+=")) "+d+" = +"+M+"; "):"boolean"==A?V+=" else if ("+M+" === 'false' || "+M+" === 0 || "+M+" === null) "+d+" = false; else if ("+M+" === 'true' || "+M+" === 1) "+d+" = true; ":"null"==A?V+=" else if ("+M+" === '' || "+M+" === 0 || "+M+" === false) "+d+" = null; ":"array"==k.opts.coerceTypes&&"array"==A&&(V+=" else if ("+h+" == 'string' || "+h+" == 'number' || "+h+" == 'boolean' || "+M+" == null) "+d+" = ["+M+"]; ");(be=be||[]).push(V+=" else {   "),V="",!1!==k.createErrors?(V=(V+=" { keyword: 'type' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(y)+" , params: { type: '")+(f?""+C.join(","):""+C)+"' } ",!1!==k.opts.messages&&(V=(V+=" , message: 'should be ")+(f?""+C.join(","):""+C)+"' "),k.opts.verbose&&(V+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+M+" "),V+=" } "):V+=" {} ";var F=V,ye=(V=be.pop(),V+=!k.compositeRule&&D?k.async?" throw new ValidationError(["+F+"]); ":" validate.errors = ["+F+"]; return false; ":" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",B?"data"+(B-1||""):"parentData");V=V+" } if ("+d+" !== undefined) {   "+M+" = "+d+"; ",B||(V+="if ("+ye+" !== undefined)"),V+=" "+ye+"["+(B?k.dataPathArr[B]:"parentDataProperty")+"] = "+d+"; } "}else(be=be||[]).push(V),V="",!1!==k.createErrors?(V=(V+=" { keyword: 'type' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(y)+" , params: { type: '")+(f?""+C.join(","):""+C)+"' } ",!1!==k.opts.messages&&(V=(V+=" , message: 'should be ")+(f?""+C.join(","):""+C)+"' "),k.opts.verbose&&(V+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+M+" "),V+=" } "):V+=" {} ",F=V,V=be.pop(),V+=!k.compositeRule&&D?k.async?" throw new ValidationError(["+F+"]); ":" validate.errors = ["+F+"]; return false; ":" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";V+=" } "}}if(k.schema.$ref&&!fe)V+=" "+k.RULES.all.$ref.code(k,"$ref")+" ",D&&(V=(V+=" } if (errors === ")+(oe?"0":"errs_"+J)+") { ",I+="}");else{var $=k.RULES;if($)for(var j=-1,te=$.length-1;j<te;)if(re(p=$[j+=1])){if(p.type&&(V+=" if ("+k.util.checkDataType(p.type,M,k.opts.strictNumbers)+") { "),k.opts.useDefaults)if("object"==p.type&&k.schema.properties){var Y=k.schema.properties,ae=Object.keys(Y);if(ae)for(var S,R=-1,X=ae.length-1;R<X;)if(void 0!==(ie=Y[S=ae[R+=1]]).default){var N=M+k.util.getProperty(S);if(k.compositeRule){if(k.opts.strictDefaults){if(Z="default is ignored for: "+N,"log"!==k.opts.strictDefaults)throw new Error(Z);k.logger.warn(Z)}}else V+=" if ("+N+" === undefined ","empty"==k.opts.useDefaults&&(V+=" || "+N+" === null || "+N+" === '' "),V+=" ) "+N+" = ",V+="shared"==k.opts.useDefaults?" "+k.useDefault(ie.default)+" ":" "+JSON.stringify(ie.default)+" ",V+="; "}}else if("array"==p.type&&Array.isArray(k.schema.items)){var K=k.schema.items;if(K){E=-1;for(var ie,Q=K.length-1;E<Q;)if(void 0!==(ie=K[E+=1]).default)if(N=M+"["+E+"]",k.compositeRule){if(k.opts.strictDefaults){if(Z="default is ignored for: "+N,"log"!==k.opts.strictDefaults)throw new Error(Z);k.logger.warn(Z)}}else V+=" if ("+N+" === undefined ","empty"==k.opts.useDefaults&&(V+=" || "+N+" === null || "+N+" === '' "),V+=" ) "+N+" = ",V+="shared"==k.opts.useDefaults?" "+k.useDefault(ie.default)+" ":" "+JSON.stringify(ie.default)+" ",V+="; "}}var be,Ie=p.rules;if(Ie)for(var pe,Te=-1,U=Ie.length-1;Te<U;)se(pe=Ie[Te+=1])&&(pe=pe.code(k,pe.keyword,p.type))&&(V+=" "+pe+" ",D)&&(_+="}");D&&(V+=" "+_+" ",_=""),p.type&&(V+=" } ",C)&&C===p.type&&!m&&(g=k.schemaPath+".type",y=k.errSchemaPath+"/type",(be=be||[]).push(V+=" else { "),V="",!1!==k.createErrors?(V=(V+=" { keyword: 'type' , dataPath: (dataPath || '') + "+k.errorPath+" , schemaPath: "+k.util.toQuotedString(y)+" , params: { type: '")+(f?""+C.join(","):""+C)+"' } ",!1!==k.opts.messages&&(V=(V+=" , message: 'should be ")+(f?""+C.join(","):""+C)+"' "),k.opts.verbose&&(V+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+k.schemaPath+" , data: "+M+" "),V+=" } "):V+=" {} ",F=V,V=be.pop(),V+=!k.compositeRule&&D?k.async?" throw new ValidationError(["+F+"]); ":" validate.errors = ["+F+"]; return false; ":" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",V+=" } "),D&&(V=(V+=" if (errors === ")+(oe?"0":"errs_"+J)+") { ",I+="}")}}D&&(V+=" "+I+" "),oe?V=V+(ne?" if (errors === 0) return data;            else throw new ValidationError(vErrors); ":" validate.errors = vErrors;  return errors === 0;       ")+" }; return validate;":V+=" var "+O+" = errors === errs_"+J+";"}return V;function re(ge){for(var G=ge.rules,W=0;W<G.length;W++)if(se(G[W]))return 1}function se(ge){return void 0!==k.schema[ge.keyword]||ge.implements&&function(G){for(var W=G.implements,q=0;q<W.length;q++)if(void 0!==k.schema[W[q]])return 1}(ge)}}},7931:function(me,k,ue){"use strict";var we=/^[a-z_$][a-z0-9_$-]*$/i,V=ue(1793),ne=ue(5868);me.exports={add:function(he,ye){var oe=this.RULES;if(oe.keywords[he])throw new Error("Keyword "+he+" is already defined");if(!we.test(he))throw new Error("Keyword "+he+" is not a valid identifier");if(ye){this.validateKeyword(ye,!0);var J=ye.type;if(Array.isArray(J))for(var B=0;B<J.length;B++)Z(he,J[B],ye);else Z(he,J,ye);var M=ye.metaSchema;M&&(ye.$data&&this._opts.$data&&(M={anyOf:[M,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),ye.validateSchema=this.compile(M,!0))}function Z(O,D,_){for(var I,C=0;C<oe.length;C++){var f=oe[C];if(f.type==D){I=f;break}}I||oe.push(I={type:D,rules:[]}),I.rules.push(_={keyword:O,definition:_,custom:!0,code:V,implements:_.implements}),oe.custom[O]=_}return oe.keywords[he]=oe.all[he]=!0,this},get:function(he){var ye=this.RULES.custom[he];return ye?ye.definition:this.RULES.keywords[he]||!1},remove:function(he){var ye=this.RULES;delete ye.keywords[he],delete ye.all[he],delete ye.custom[he];for(var oe=0;oe<ye.length;oe++)for(var J=ye[oe].rules,B=0;B<J.length;B++)if(J[B].keyword==he){J.splice(B,1);break}return this},validate:function fe(he,ye){fe.errors=null;var oe=this._validateKeyword=this._validateKeyword||this.compile(ne,!0);if(oe(he))return!0;if(fe.errors=oe.errors,ye)throw new Error("custom keyword definition is invalid: "+this.errorsText(oe.errors));return!1}}},2303:function(me){"use strict";me.exports=function k(ue,we){if(ue===we)return!0;if(ue&&we&&"object"==typeof ue&&"object"==typeof we){if(ue.constructor!==we.constructor)return!1;var V,ne,fe;if(Array.isArray(ue)){if((V=ue.length)!=we.length)return!1;for(ne=V;0!=ne--;)if(!k(ue[ne],we[ne]))return!1}else{if(ue.constructor===RegExp)return ue.source===we.source&&ue.flags===we.flags;if(ue.valueOf!==Object.prototype.valueOf)return ue.valueOf()===we.valueOf();if(ue.toString!==Object.prototype.toString)return ue.toString()===we.toString();if((V=(fe=Object.keys(ue)).length)!==Object.keys(we).length)return!1;for(ne=V;0!=ne--;)if(!Object.prototype.hasOwnProperty.call(we,fe[ne]))return!1;for(ne=V;0!=ne--;){var he=fe[ne];if(!k(ue[he],we[he]))return!1}}return!0}return ue!=ue&&we!=we}},3508:function(me){"use strict";me.exports=function(k,ue){var we,V="boolean"==typeof(ue="function"==typeof(ue=ue||{})?{cmp:ue}:ue).cycles&&ue.cycles,ne=ue.cmp&&(we=ue.cmp,function(he){return function(ye,oe){return we(ye={key:ye,value:he[ye]},oe={key:oe,value:he[oe]})}}),fe=[];return function he(ye){if(void 0!==(ye=ye&&ye.toJSON&&"function"==typeof ye.toJSON?ye.toJSON():ye)){if("number"==typeof ye)return isFinite(ye)?""+ye:"null";if("object"!=typeof ye)return JSON.stringify(ye);if(Array.isArray(ye)){for(B="[",M=0;M<ye.length;M++)M&&(B+=","),B+=he(ye[M])||"null";return B+"]"}if(null===ye)return"null";if(-1!==fe.indexOf(ye)){if(V)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}for(var oe=fe.push(ye)-1,J=Object.keys(ye).sort(ne&&ne(ye)),B="",M=0;M<J.length;M++){var Z=J[M],O=he(ye[Z]);O&&(B&&(B+=","),B+=JSON.stringify(Z)+":"+O)}return fe.splice(oe,1),"{"+B+"}"}}(k)}},233:function(me){me.exports=function k(J,B){"use strict";function V(C){return k.insensitive&&(""+C).toLowerCase()||""+C}var ne,fe,D=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,O=/(^[ ]*|[ ]*$)/g,he=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,ye=/^0x[0-9a-f]+$/i,oe=/^0/,M=(J=V(J).replace(O,"")||"",B=V(B).replace(O,"")||"",J.replace(D,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0")),Z=B.replace(D,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0");if(O=parseInt(J.match(ye),16)||1!==M.length&&J.match(he)&&Date.parse(J),D=parseInt(B.match(ye),16)||O&&B.match(he)&&Date.parse(B)||null){if(O<D)return-1;if(D<O)return 1}for(var _=0,I=Math.max(M.length,Z.length);_<I;_++){if(ne=!(M[_]||"").match(oe)&&parseFloat(M[_])||M[_]||0,fe=!(Z[_]||"").match(oe)&&parseFloat(Z[_])||Z[_]||0,isNaN(ne)!==isNaN(fe))return isNaN(ne)?1:-1;if(typeof ne!=typeof fe&&(ne+="",fe+=""),ne<fe)return-1;if(fe<ne)return 1}return 0}},5156:function(me,k){!function(ue){"use strict";function we(S){return null!==S&&"[object Array]"===Object.prototype.toString.call(S)}function V(S){return null!==S&&"[object Object]"===Object.prototype.toString.call(S)}function ne(S,R){if(S!==R){if(Object.prototype.toString.call(S)!==Object.prototype.toString.call(R))return!1;if(!0===we(S)){if(S.length!==R.length)return!1;for(var X=0;X<S.length;X++)if(!1===ne(S[X],R[X]))return!1}else{if(!0!==V(S))return!1;var N,K,ie={};for(N in S)if(hasOwnProperty.call(S,N)){if(!1===ne(S[N],R[N]))return!1;ie[N]=!0}for(K in R)if(hasOwnProperty.call(R,K)&&!0!==ie[K])return!1}}return!0}function fe(S){if(""===S||!1===S||null===S||we(S)&&0===S.length)return!0;if(V(S)){for(var R in S)if(S.hasOwnProperty(R))return!1;return!0}return!1}var he="function"==typeof String.prototype.trimLeft?function(S){return S.trimLeft()}:function(S){return S.match(/^\s*(.*)/)[1]},ye={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},oe="UnquotedIdentifier",J="QuotedIdentifier",B="Rbracket",M="Rparen",Z="Comma",O="Colon",D="Rbrace",_="Number",I="Current",C="Expref",f="Pipe",m="Flatten",p="Star",g="Filter",y="Lbrace",h="Lbracket",d="Lparen",v="Literal",A={".":"Dot","*":p,",":Z,":":O,"{":y,"}":D,"]":B,"(":d,")":M,"@":I},E={"<":!0,">":!0,"=":!0,"!":!0},T={" ":!0,"\t":!0,"\n":!0};function F(S){return"0"<=S&&S<="9"||"-"===S}function $(){}$.prototype={tokenize:function(S){var R,X,N=[];for(this._current=0;this._current<S.length;)if("a"<=(ie=S[this._current])&&ie<="z"||"A"<=ie&&ie<="Z"||"_"===ie)K=this._current,R=this._consumeUnquotedIdentifier(S),N.push({type:oe,value:R,start:K});else if(void 0!==A[S[this._current]])N.push({type:A[S[this._current]],value:S[this._current],start:this._current}),this._current++;else if(F(S[this._current]))X=this._consumeNumber(S),N.push(X);else if("["===S[this._current])X=this._consumeLBracket(S),N.push(X);else if('"'===S[this._current])K=this._current,R=this._consumeQuotedIdentifier(S),N.push({type:J,value:R,start:K});else if("'"===S[this._current])K=this._current,R=this._consumeRawStringLiteral(S),N.push({type:v,value:R,start:K});else if("`"===S[this._current]){var K=this._current,ie=this._consumeLiteral(S);N.push({type:v,value:ie,start:K})}else if(void 0!==E[S[this._current]])N.push(this._consumeOperator(S));else if(void 0!==T[S[this._current]])this._current++;else if("&"===S[this._current])K=this._current,this._current++,"&"===S[this._current]?(this._current++,N.push({type:"And",value:"&&",start:K})):N.push({type:C,value:"&",start:K});else{if("|"!==S[this._current])throw(ie=new Error("Unknown character:"+S[this._current])).name="LexerError",ie;K=this._current,this._current++,"|"===S[this._current]?(this._current++,N.push({type:"Or",value:"||",start:K})):N.push({type:f,value:"|",start:K})}return N},_consumeUnquotedIdentifier:function(S){var R,X=this._current;for(this._current++;this._current<S.length&&("a"<=(R=S[this._current])&&R<="z"||"A"<=R&&R<="Z"||"0"<=R&&R<="9"||"_"===R);)this._current++;return S.slice(X,this._current)},_consumeQuotedIdentifier:function(S){for(var R=this._current,X=(this._current++,S.length);'"'!==S[this._current]&&this._current<X;){var N=this._current;"\\"!==S[N]||"\\"!==S[N+1]&&'"'!==S[N+1]?N++:N+=2,this._current=N}return this._current++,JSON.parse(S.slice(R,this._current))},_consumeRawStringLiteral:function(S){for(var R=this._current,X=(this._current++,S.length);"'"!==S[this._current]&&this._current<X;){var N=this._current;"\\"!==S[N]||"\\"!==S[N+1]&&"'"!==S[N+1]?N++:N+=2,this._current=N}return this._current++,S.slice(R+1,this._current-1).replace("\\'","'")},_consumeNumber:function(S){for(var R=this._current,X=(this._current++,S.length);F(S[this._current])&&this._current<X;)this._current++;var N=parseInt(S.slice(R,this._current));return{type:_,value:N,start:R}},_consumeLBracket:function(S){var R=this._current;return this._current++,"?"===S[this._current]?(this._current++,{type:g,value:"[?",start:R}):"]"===S[this._current]?(this._current++,{type:m,value:"[]",start:R}):{type:h,value:"[",start:R}},_consumeOperator:function(S){var R=this._current,X=S[R];return this._current++,"!"===X?"="===S[this._current]?(this._current++,{type:"NE",value:"!=",start:R}):{type:"Not",value:"!",start:R}:"<"===X?"="===S[this._current]?(this._current++,{type:"LTE",value:"<=",start:R}):{type:"LT",value:"<",start:R}:">"===X?"="===S[this._current]?(this._current++,{type:"GTE",value:">=",start:R}):{type:"GT",value:">",start:R}:"="===X&&"="===S[this._current]?(this._current++,{type:"EQ",value:"==",start:R}):void 0},_consumeLiteral:function(S){this._current++;for(var R=this._current,X=S.length;"`"!==S[this._current]&&this._current<X;){var N=this._current;"\\"!==S[N]||"\\"!==S[N+1]&&"`"!==S[N+1]?N++:N+=2,this._current=N}return R=(R=he(S.slice(R,this._current))).replace("\\`","`"),R=this._looksLikeJSON(R)?JSON.parse(R):JSON.parse('"'+R+'"'),this._current++,R},_looksLikeJSON:function(S){if(""===S)return!1;if(0<='[{"'.indexOf(S[0])||0<=["true","false","null"].indexOf(S))return!0;if(!(0<="-0123456789".indexOf(S[0])))return!1;try{return JSON.parse(S),!0}catch{return!1}}};var j={};function te(){}function Y(S){this.runtime=S}function ae(S){this._interpreter=S,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[0]}]},avg:{_func:this._functionAvg,_signature:[{types:[8]}]},ceil:{_func:this._functionCeil,_signature:[{types:[0]}]},contains:{_func:this._functionContains,_signature:[{types:[2,3]},{types:[1]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[2]},{types:[2]}]},floor:{_func:this._functionFloor,_signature:[{types:[0]}]},length:{_func:this._functionLength,_signature:[{types:[2,3,4]}]},map:{_func:this._functionMap,_signature:[{types:[6]},{types:[3]}]},max:{_func:this._functionMax,_signature:[{types:[8,9]}]},merge:{_func:this._functionMerge,_signature:[{types:[4],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[3]},{types:[6]}]},sum:{_func:this._functionSum,_signature:[{types:[8]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[2]},{types:[2]}]},min:{_func:this._functionMin,_signature:[{types:[8,9]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[3]},{types:[6]}]},type:{_func:this._functionType,_signature:[{types:[1]}]},keys:{_func:this._functionKeys,_signature:[{types:[4]}]},values:{_func:this._functionValues,_signature:[{types:[4]}]},sort:{_func:this._functionSort,_signature:[{types:[9,8]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[3]},{types:[6]}]},join:{_func:this._functionJoin,_signature:[{types:[2]},{types:[9]}]},reverse:{_func:this._functionReverse,_signature:[{types:[2,3]}]},to_array:{_func:this._functionToArray,_signature:[{types:[1]}]},to_string:{_func:this._functionToString,_signature:[{types:[1]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[1]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[1],variadic:!0}]}}}j.EOF=0,j[oe]=0,j[J]=0,j[B]=0,j[M]=0,j[Z]=0,j[D]=0,j[_]=0,j[I]=0,j[C]=0,j.Pipe=1,j.Or=2,j.And=3,j.EQ=5,j.GT=5,j.LT=5,j.GTE=5,j.LTE=5,j.NE=5,j[m]=9,j.Star=20,j[g]=21,j.Dot=40,j.Not=45,j[y]=50,j[h]=55,j[d]=60,te.prototype={parse:function(X){var R;if(this._loadTokens(X),this.index=0,X=this.expression(0),"EOF"!==this._lookahead(0))throw R=this._lookaheadToken(0),(R=new Error("Unexpected token type: "+R.type+", value: "+R.value)).name="ParserError",R;return X},_loadTokens:function(S){var R=(new $).tokenize(S);R.push({type:"EOF",value:"",start:S.length}),this.tokens=R},expression:function(S){for(var R=this._lookaheadToken(0),X=(this._advance(),this.nud(R)),N=this._lookahead(0);S<j[N];)this._advance(),X=this.led(N,X),N=this._lookahead(0);return X},_lookahead:function(S){return this.tokens[this.index+S].type},_lookaheadToken:function(S){return this.tokens[this.index+S]},_advance:function(){this.index++},nud:function(S){var R,X;switch(S.type){case v:return{type:"Literal",value:S.value};case oe:return{type:"Field",name:S.value};case J:var N={type:"Field",name:S.value};if(this._lookahead(0)===d)throw new Error("Quoted identifier not allowed for function names.");return N;case"Not":return{type:"NotExpression",children:[R=this.expression(j.Not)]};case p:return R=null,{type:"ValueProjection",children:[{type:"Identity"},R=this._lookahead(0)===B?{type:"Identity"}:this._parseProjectionRHS(j.Star)]};case g:return this.led(S.type,{type:"Identity"});case y:return this._parseMultiselectHash();case m:return{type:"Projection",children:[{type:m,children:[{type:"Identity"}]},R=this._parseProjectionRHS(j.Flatten)]};case h:return this._lookahead(0)===_||this._lookahead(0)===O?(R=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},R)):this._lookahead(0)===p&&this._lookahead(1)===B?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},R=this._parseProjectionRHS(j.Star)]}):this._parseMultiselectList();case I:return{type:I};case C:return{type:"ExpressionReference",children:[X=this.expression(j.Expref)]};case d:for(var K=[];this._lookahead(0)!==M;)this._lookahead(0)===I?(X={type:I},this._advance()):X=this.expression(0),K.push(X);return this._match(M),K[0];default:this._errorToken(S)}},led:function(S,R){var X;switch(S){case"Dot":var N=j.Dot;return this._lookahead(0)!==p?{type:"Subexpression",children:[R,X=this._parseDotRHS(N)]}:(this._advance(),{type:"ValueProjection",children:[R,X=this._parseProjectionRHS(N)]});case f:return X=this.expression(j.Pipe),{type:f,children:[R,X]};case"Or":return{type:"OrExpression",children:[R,X=this.expression(j.Or)]};case"And":return{type:"AndExpression",children:[R,X=this.expression(j.And)]};case d:N=R.name;for(var K,ie=[];this._lookahead(0)!==M;)this._lookahead(0)===I?(K={type:I},this._advance()):K=this.expression(0),this._lookahead(0)===Z&&this._match(Z),ie.push(K);return this._match(M),{type:"Function",name:N,children:ie};case g:return N=this.expression(0),this._match(B),{type:"FilterProjection",children:[R,X=this._lookahead(0)===m?{type:"Identity"}:this._parseProjectionRHS(j.Filter),N]};case m:return{type:"Projection",children:[{type:m,children:[R]},this._parseProjectionRHS(j.Flatten)]};case"EQ":case"NE":case"GT":case"GTE":case"LT":case"LTE":return this._parseComparator(R,S);case h:return(N=this._lookaheadToken(0)).type===_||N.type===O?(X=this._parseIndexExpression(),this._projectIfSlice(R,X)):(this._match(p),this._match(B),{type:"Projection",children:[R,X=this._parseProjectionRHS(j.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(S){var R;if(this._lookahead(0)!==S)throw R=this._lookaheadToken(0),(S=new Error("Expected "+S+", got: "+R.type)).name="ParserError",S;this._advance()},_errorToken:function(S){throw(S=new Error("Invalid token ("+S.type+'): "'+S.value+'"')).name="ParserError",S},_parseIndexExpression:function(){var S;return this._lookahead(0)===O||this._lookahead(1)===O?this._parseSliceExpression():(S={type:"Index",value:this._lookaheadToken(0).value},this._advance(),this._match(B),S)},_projectIfSlice:function(S,R){return S={type:"IndexExpression",children:[S,R]},"Slice"===R.type?{type:"Projection",children:[S,this._parseProjectionRHS(j.Star)]}:S},_parseSliceExpression:function(){for(var S,R=[null,null,null],X=0,N=this._lookahead(0);N!==B&&X<3;){if(N===O)X++;else{if(N!==_)throw S=this._lookahead(0),(S=new Error("Syntax error, unexpected token: "+S.value+"("+S.type+")")).name="Parsererror",S;R[X]=this._lookaheadToken(0).value}this._advance(),N=this._lookahead(0)}return this._match(B),{type:"Slice",children:R}},_parseComparator:function(S,R){return{type:"Comparator",name:R,children:[S,this.expression(j[R])]}},_parseDotRHS:function(S){var R=this._lookahead(0);return 0<=[oe,J,p].indexOf(R)?this.expression(S):R===h?(this._match(h),this._parseMultiselectList()):R===y?(this._match(y),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(S){var R,X;if(j[this._lookahead(0)]<10)R={type:"Identity"};else if(this._lookahead(0)===h)R=this.expression(S);else if(this._lookahead(0)===g)R=this.expression(S);else{if("Dot"!==this._lookahead(0))throw X=this._lookaheadToken(0),(X=new Error("Sytanx error, unexpected token: "+X.value+"("+X.type+")")).name="ParserError",X;this._match("Dot"),R=this._parseDotRHS(S)}return R},_parseMultiselectList:function(){for(var S=[];this._lookahead(0)!==B;){var R=this.expression(0);if(S.push(R),this._lookahead(0)===Z&&(this._match(Z),this._lookahead(0)===B))throw new Error("Unexpected token Rbracket")}return this._match(B),{type:"MultiSelectList",children:S}},_parseMultiselectHash:function(){for(var S,R,X=[],N=[oe,J];;){if(S=this._lookaheadToken(0),N.indexOf(S.type)<0)throw new Error("Expecting an identifier token, got: "+S.type);if(S=S.value,this._advance(),this._match(O),R=this.expression(0),X.push({type:"KeyValuePair",name:S,value:R}),this._lookahead(0)===Z)this._match(Z);else if(this._lookahead(0)===D){this._match(D);break}}return{type:"MultiSelectHash",children:X}}},Y.prototype={search:function(S,R){return this.visit(S,R)},visit:function(S,R){var X,N,K,ie,Q,be;switch(S.type){case"Field":return null!==R&&V(R)?void 0===(Ie=R[S.name])?null:Ie:null;case"Subexpression":for(re=this.visit(S.children[0],R),W=1;W<S.children.length;W++)if(null===(re=this.visit(S.children[1],re)))return null;return re;case"IndexExpression":return Q=this.visit(S.children[0],R),this.visit(S.children[1],Q);case"Index":return we(R)?void 0===(re=R[Ie=(Ie=S.value)<0?R.length+Ie:Ie])?null:re:null;case"Slice":if(!we(R))return null;var Ie=S.children.slice(0),pe=(Ie=this.computeSliceParams(R.length,Ie))[0],Te=Ie[1],U=Ie[2],re=[];if(0<U)for(W=pe;W<Te;W+=U)re.push(R[W]);else for(W=pe;Te<W;W+=U)re.push(R[W]);return re;case"Projection":var se=this.visit(S.children[0],R);if(!we(se))return null;for(ge=[],W=0;W<se.length;W++)null!==(N=this.visit(S.children[1],se[W]))&&ge.push(N);return ge;case"ValueProjection":if(!V(se=this.visit(S.children[0],R)))return null;for(var ge=[],G=function(bt){for(var Ct=Object.keys(bt),Ot=[],At=0;At<Ct.length;At++)Ot.push(bt[Ct[At]]);return Ot}(se),W=0;W<G.length;W++)null!==(N=this.visit(S.children[1],G[W]))&&ge.push(N);return ge;case"FilterProjection":if(!we(se=this.visit(S.children[0],R)))return null;var q=[],ce=[];for(W=0;W<se.length;W++)fe(X=this.visit(S.children[2],se[W]))||q.push(se[W]);for(var Ae=0;Ae<q.length;Ae++)null!==(N=this.visit(S.children[1],q[Ae]))&&ce.push(N);return ce;case"Comparator":switch(K=this.visit(S.children[0],R),ie=this.visit(S.children[1],R),S.name){case"EQ":re=ne(K,ie);break;case"NE":re=!ne(K,ie);break;case"GT":re=ie<K;break;case"GTE":re=ie<=K;break;case"LT":re=K<ie;break;case"LTE":re=K<=ie;break;default:throw new Error("Unknown comparator: "+S.name)}return re;case m:var Ve=this.visit(S.children[0],R);if(!we(Ve))return null;var nt=[];for(W=0;W<Ve.length;W++)we(N=Ve[W])?nt.push.apply(nt,N):nt.push(N);return nt;case"Identity":return R;case"MultiSelectList":if(null===R)return null;for(ge=[],W=0;W<S.children.length;W++)ge.push(this.visit(S.children[W],R));return ge;case"MultiSelectHash":if(null===R)return null;for(ge={},W=0;W<S.children.length;W++)ge[(be=S.children[W]).name]=this.visit(be.value,R);return ge;case"OrExpression":return fe(X=this.visit(S.children[0],R))?this.visit(S.children[1],R):X;case"AndExpression":return!0===fe(K=this.visit(S.children[0],R))?K:this.visit(S.children[1],R);case"NotExpression":return fe(K=this.visit(S.children[0],R));case"Literal":return S.value;case f:return Q=this.visit(S.children[0],R),this.visit(S.children[1],Q);case I:return R;case"Function":var rt=[];for(W=0;W<S.children.length;W++)rt.push(this.visit(S.children[W],R));return this.runtime.callFunction(S.name,rt);case"ExpressionReference":return(Ie=S.children[0]).jmespathType=C,Ie;default:throw new Error("Unknown node type: "+S.type)}},computeSliceParams:function(S,X){var ie=X[0],Q=X[1],N=[null,null,null];if(null===(X=X[2]))X=1;else if(0===X)throw(K=new Error("Invalid slice, step cannot be 0")).name="RuntimeError",K;var K=X<0;return ie=null===ie?K?S-1:0:this.capSliceRange(S,ie,X),Q=null===Q?K?-1:S:this.capSliceRange(S,Q,X),N[0]=ie,N[1]=Q,N[2]=X,N},capSliceRange:function(S,R,X){return R<0?(R+=S)<0&&(R=X<0?-1:0):S<=R&&(R=X<0?S-1:S),R}},ae.prototype={callFunction:function(S,R){var X=this.functionTable[S];if(void 0===X)throw new Error("Unknown function: "+S+"()");return this._validateArgs(S,R,X._signature),X._func.call(this,R)},_validateArgs:function(S,R,X){var N;if(X[X.length-1].variadic){if(R.length<X.length)throw N=1===X.length?" argument":" arguments",new Error("ArgumentError: "+S+"() takes at least"+X.length+N+" but received "+R.length)}else if(R.length!==X.length)throw N=1===X.length?" argument":" arguments",new Error("ArgumentError: "+S+"() takes "+X.length+N+" but received "+R.length);for(var K=0;K<X.length;K++){for(var ie,Q=!1,be=X[K].types,Ie=this._getTypeName(R[K]),pe=0;pe<be.length;pe++)if(this._typeMatches(Ie,be[pe],R[K])){Q=!0;break}if(!Q)throw ie=be.map(function(Te){return ye[Te]}).join(","),new Error("TypeError: "+S+"() expected argument "+(K+1)+" to be type "+ie+" but received type "+ye[Ie]+" instead.")}},_typeMatches:function(S,R,X){if(1===R)return!0;if(9!==R&&8!==R&&3!==R)return S===R;if(3===R)return 3===S;if(3===S){var N;8===R?N=0:9===R&&(N=2);for(var K=0;K<X.length;K++)if(!this._typeMatches(this._getTypeName(X[K]),N,X[K]))return!1;return!0}},_getTypeName:function(S){switch(Object.prototype.toString.call(S)){case"[object String]":return 2;case"[object Number]":return 0;case"[object Array]":return 3;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return S.jmespathType===C?6:4}},_functionStartsWith:function(S){return 0===S[0].lastIndexOf(S[1])},_functionEndsWith:function(X){var R=X[0];return-1!==R.indexOf(X=X[1],R.length-X.length)},_functionReverse:function(S){var R;if(2!==this._getTypeName(S[0]))return(R=S[0].slice(0)).reverse(),R;for(var X=S[0],N="",K=X.length-1;0<=K;K--)N+=X[K];return N},_functionAbs:function(S){return Math.abs(S[0])},_functionCeil:function(S){return Math.ceil(S[0])},_functionAvg:function(S){for(var R=0,X=S[0],N=0;N<X.length;N++)R+=X[N];return R/X.length},_functionContains:function(S){return 0<=S[0].indexOf(S[1])},_functionFloor:function(S){return Math.floor(S[0])},_functionLength:function(S){return(V(S[0])?Object.keys(S[0]):S[0]).length},_functionMap:function(S){for(var R=[],X=this._interpreter,N=S[0],K=S[1],ie=0;ie<K.length;ie++)R.push(X.visit(N,K[ie]));return R},_functionMerge:function(S){for(var R={},X=0;X<S.length;X++){var N,K=S[X];for(N in K)R[N]=K[N]}return R},_functionMax:function(S){if(0<S[0].length){if(0===this._getTypeName(S[0][0]))return Math.max.apply(Math,S[0]);for(var R=S[0],X=R[0],N=1;N<R.length;N++)X.localeCompare(R[N])<0&&(X=R[N]);return X}return null},_functionMin:function(S){if(0<S[0].length){if(0===this._getTypeName(S[0][0]))return Math.min.apply(Math,S[0]);for(var R=S[0],X=R[0],N=1;N<R.length;N++)R[N].localeCompare(X)<0&&(X=R[N]);return X}return null},_functionSum:function(S){for(var R=0,X=S[0],N=0;N<X.length;N++)R+=X[N];return R},_functionType:function(S){switch(this._getTypeName(S[0])){case 0:return"number";case 2:return"string";case 3:return"array";case 4:return"object";case 5:return"boolean";case 6:return"expref";case 7:return"null"}},_functionKeys:function(S){return Object.keys(S[0])},_functionValues:function(S){for(var R=S[0],X=Object.keys(R),N=[],K=0;K<X.length;K++)N.push(R[X[K]]);return N},_functionJoin:function(S){return S[1].join(S[0])},_functionToArray:function(S){return 3===this._getTypeName(S[0])?S[0]:[S[0]]},_functionToString:function(S){return 2===this._getTypeName(S[0])?S[0]:JSON.stringify(S[0])},_functionToNumber:function(S){var R=this._getTypeName(S[0]);return 0===R?S[0]:2!==R||(R=+S[0],isNaN(R))?null:R},_functionNotNull:function(S){for(var R=0;R<S.length;R++)if(7!==this._getTypeName(S[R]))return S[R];return null},_functionSort:function(S){return(S=S[0].slice(0)).sort(),S},_functionSortBy:function(S){var R=S[0].slice(0);if(0!==R.length){var X=this._interpreter,N=S[1],K=this._getTypeName(X.visit(N,R[0]));if([0,2].indexOf(K)<0)throw new Error("TypeError");for(var ie=this,Q=[],be=0;be<R.length;be++)Q.push([be,R[be]]);Q.sort(function(pe,Te){var U=X.visit(N,pe[1]),re=X.visit(N,Te[1]);if(ie._getTypeName(U)!==K)throw new Error("TypeError: expected "+K+", received "+ie._getTypeName(U));if(ie._getTypeName(re)!==K)throw new Error("TypeError: expected "+K+", received "+ie._getTypeName(re));return re<U?1:U<re?-1:pe[0]-Te[0]});for(var Ie=0;Ie<Q.length;Ie++)R[Ie]=Q[Ie][1]}return R},_functionMaxBy:function(S){for(var R,X,K=S[0],ie=this.createKeyFunction(S[1],[0,2]),Q=-1/0,be=0;be<K.length;be++)Q<(X=ie(K[be]))&&(Q=X,R=K[be]);return R},_functionMinBy:function(S){for(var R,X,K=S[0],ie=this.createKeyFunction(S[1],[0,2]),Q=1/0,be=0;be<K.length;be++)(X=ie(K[be]))<Q&&(Q=X,R=K[be]);return R},createKeyFunction:function(S,R){var X=this,N=this._interpreter;return function(Q){var ie;if(Q=N.visit(S,Q),R.indexOf(X._getTypeName(Q))<0)throw ie="TypeError: expected one of "+R+", received "+X._getTypeName(Q),new Error(ie);return Q}}},ue.tokenize=function(S){return(new $).tokenize(S)},ue.compile=function(S){return(new te).parse(S)},ue.search=function(S,R){var X=new te,N=new Y(K=new ae),K=(K._interpreter=N,X.parse(R));return N.search(K,S)},ue.strictDeepEqual=ne}(k)},500:function(me){"use strict";var k=me.exports=function(we,V,ne){"function"==typeof V&&(ne=V,V={}),function fe(he,ye,oe,J,B,M,Z,O,D,_){if(J&&"object"==typeof J&&!Array.isArray(J)){for(var I in ye(J,B,M,Z,O,D,_),J){var C=J[I];if(Array.isArray(C)){if(I in k.arrayKeywords)for(var f=0;f<C.length;f++)fe(he,ye,oe,C[f],B+"/"+I+"/"+f,M,B,I,J,f)}else if(I in k.propsKeywords){if(C&&"object"==typeof C)for(var m in C)fe(he,ye,oe,C[m],B+"/"+I+"/"+ue(m),M,B,I,J,m)}else(I in k.keywords||he.allKeys&&!(I in k.skipKeywords))&&fe(he,ye,oe,C,B+"/"+I,M,B,I,J)}oe(J,B,M,Z,O,D,_)}}(V,"function"==typeof(ne=V.cb||ne)?ne:ne.pre||function(){},ne.post||function(){},we,"",we)};function ue(we){return we.replace(/~/g,"~0").replace(/\//g,"~1")}k.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},k.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},k.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},k.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},7026:function(me,k){"use strict";var ue={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},we="a".charCodeAt(),V=(k.parse=function(_,I,C){var f={},m=0,p=0,g=0,y=C&&C.bigint&&typeof BigInt<"u";return{data:function h(R,X){d(),$(R,"value");var N,K=E();switch(K){case"t":A("rue"),N=!0;break;case"f":A("alse"),N=!1;break;case"n":A("ull"),N=null;break;case'"':N=v();break;case"[":N=function(ie){d();var Q=[],be=0;if("]"!=E())for(T();;){Q.push(h(ie+"/"+be)),d();var Ie=E();if("]"==Ie)break;","!=Ie&&ae(),d(),be++}return Q}(R);break;case"{":N=function(ie){d();var Q={};if("}"!=E())for(T();;){var pe=te(),be=('"'!=E()&&ae(),v()),Ie=ie+"/"+D(be);if("}"==(j(Ie,"key",pe),$(Ie,"keyEnd"),d(),":"!=E()&&ae(),d(),Q[be]=h(Ie),d(),pe=E()))break;","!=pe&&ae(),d()}return Q}(R);break;default:T(),0<="-0123456789".indexOf(K)?N=function(){var ie="",Q=!0;"-"==_[g]&&(ie+=E()),ie+=("0"==_[g]?E:F)(),"."==_[g]&&(ie+=E()+F(),Q=!1),"e"!=_[g]&&"E"!=_[g]||(ie+=E(),"+"!=_[g]&&"-"!=_[g]||(ie+=E()),ie+=F(),Q=!1);var be=+ie;return y&&Q&&(be>Number.MAX_SAFE_INTEGER||be<Number.MIN_SAFE_INTEGER)?BigInt(ie):be}():Y()}return $(R,"valueEnd"),d(),X&&g<_.length&&Y(),N}("",!0),pointers:f};function d(){e:for(;g<_.length;){switch(_[g]){case" ":p++;break;case"\t":p+=4;break;case"\r":p=0;break;case"\n":p=0,m++;break;default:break e}g++}}function v(){for(var R,X="";'"'!=(R=E());)"\\"==R?(R=E())in ue?X+=ue[R]:"u"==R?X+=function(){for(var N=4,K=0;N--;){K<<=4;var ie=E().toLowerCase();"a"<=ie&&ie<="f"?K+=ie.charCodeAt()-we+10:"0"<=ie&&ie<="9"?K+=+ie:ae()}return String.fromCharCode(K)}():ae():X+=R;return X}function A(R){for(var X=0;X<R.length;X++)E()!==R[X]&&ae()}function E(){S();var R=_[g];return g++,p++,R}function T(){g--,p--}function F(){for(var R="";"0"<=_[g]&&_[g]<="9";)R+=E();if(R.length)return R;S(),Y()}function $(R,X){j(R,X,te())}function j(R,X,N){f[R]=f[R]||{},f[R][X]=N}function te(){return{line:m,column:p,pos:g}}function Y(){throw new SyntaxError("Unexpected token "+_[g]+" in JSON at position "+g)}function ae(){T(),Y()}function S(){if(g>=_.length)throw new SyntaxError("Unexpected end of JSON input")}},k.stringify=function(_,I,C){if(ne(_)){var f=0;switch(typeof(p="object"==typeof C?C.space:C)){case"number":var m=10<p?10:p<0?0:Math.floor(p),p=m&&Y(m," "),g=m,y=m;break;case"string":p=p.slice(0,10);for(var h=y=g=0;h<p.length;h++){switch(p[h]){case" ":y++;break;case"\t":y+=4;break;case"\r":y=0;break;case"\n":y=0,f++;break;default:throw new Error("whitespace characters not allowed in JSON")}g++}break;default:p=void 0}var d="",v={},A=0,E=0,T=0,F=C&&C.es6&&"function"==typeof Map;return function ae(S,R,X){switch(te(X,"value"),typeof S){case"number":case"bigint":case"boolean":$(""+S);break;case"string":$(M(S));break;case"object":null===S?$("null"):"function"==typeof S.toJSON?$(M(S.toJSON())):Array.isArray(S)?N():F?S.constructor.BYTES_PER_ELEMENT?N():S instanceof Map?ie():S instanceof Set?ie(!0):K():K()}function N(){if(S.length){$("[");for(var Q=R+1,be=0;be<S.length;be++){be&&$(","),j(Q);var Ie=ne(S[be])?S[be]:null;ae(Ie,Q,X+"/"+be)}j(R),$("]")}else $("[]")}function K(){var Q=Object.keys(S);if(Q.length){$("{");for(var be=R+1,Ie=0;Ie<Q.length;Ie++){var pe,Te=Q[Ie],U=S[Te];ne(U)&&(Ie&&$(","),pe=X+"/"+D(Te),j(be),te(pe,"key"),$(M(Te)),te(pe,"keyEnd"),$(":"),p&&$(" "),ae(U,be,pe))}j(R),$("}")}else $("{}")}function ie(Q){if(S.size){$("{");for(var be=R+1,Ie=!0,pe=S.entries(),Te=pe.next();!Te.done;){var U,se,re=(se=Te.value)[0];ne(se=!!Q||se[1])&&(Ie||$(","),Ie=!1,U=X+"/"+D(re),j(be),te(U,"key"),$(M(re)),te(U,"keyEnd"),$(":"),p&&$(" "),ae(se,be,U)),Te=pe.next()}j(R),$("}")}else $("{}")}te(X,"valueEnd")}(_,0,""),{json:d,pointers:v}}function $(ae){E+=ae.length,T+=ae.length,d+=ae}function j(ae){if(p){for(d+="\n"+Y(ae,p),A++,E=0;ae--;)f?(A+=f,E=y):E+=y,T+=g;T+=1}}function te(ae,S){v[ae]=v[ae]||{},v[ae][S]={line:A,column:E,pos:T}}function Y(ae,S){return Array(ae+1).join(S)}},["number","bigint","boolean","string","object"]);function ne(_){return 0<=V.indexOf(typeof _)}var fe=/"|\\/g,he=/[\b]/g,ye=/\f/g,oe=/\n/g,J=/\r/g,B=/\t/g;function M(_){return'"'+(_=_.replace(fe,"\\$&").replace(ye,"\\f").replace(he,"\\b").replace(oe,"\\n").replace(J,"\\r").replace(B,"\\t"))+'"'}var Z=/~/g,O=/\//g;function D(_){return _.replace(Z,"~0").replace(O,"~1")}},483:function(me,k){var ue,we;!function(){"use strict";we=[],void 0!==(we="function"==typeof(ue=function(){function V(C){return"object"==typeof Node?C instanceof Node:C&&"object"==typeof C&&"number"==typeof C.nodeType}function fe(){var C=[];return{watch:C.push.bind(C),trigger:function(f,m){for(var p=!0,g={detail:m,preventDefault:function(){p=!1}},y=0;y<C.length;y++)C[y](f,g);return p}}}function he(C){return"none"===window.getComputedStyle(C).display}function ye(C){this.elem=C}function oe(C,f){return ye.make(C("parent")).clazz("pico-overlay").clazz(C("overlayClass","")).stylize({display:"none",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(C("overlayStyles",{opacity:.5,background:"#000"})).onClick(function(){C("overlayClose",!0)&&f()})}ye.make=function(C,f){"string"==typeof C&&(C=document.querySelector(C));var m=document.createElement(f||"div");return(C||document.body).appendChild(m),new ye(m)},ye.prototype={child:function(C){return ye.make(this.elem,C)},stylize:function(C){for(var f in typeof(C=C||{}).opacity<"u"&&(C.filter="alpha(opacity="+100*C.opacity+")"),C)C.hasOwnProperty(f)&&(this.elem.style[f]=C[f]);return this},clazz:function(C){return this.elem.className+=" "+C,this},html:function(C){return V(C)?this.elem.appendChild(C):this.elem.innerHTML=C,this},onClick:function(C){return this.elem.addEventListener("click",C),this},destroy:function(){this.elem.parentNode.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(C,f){return void 0!==f&&this.elem.setAttribute(C,f),this},anyAncestor:function(C){for(var f=this.elem;f;){if(C(new ye(f)))return!0;f=f.parentNode}return!1},isVisible:function(){return!he(this.elem)}};var J=1;function M(C,f){if(f("closeButton",!0))return C.child("button").html(f("closeHtml","&#xD7;")).clazz("pico-close").clazz(f("closeClass","")).stylize(f("closeStyles",{borderRadius:"2px",border:0,padding:0,cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})).attr("aria-label",f("close-label","Close"))}function Z(C){return function(){return C().elem}}var O=fe(),D=fe();function _(C,f){function m(d,v){return(d.msMatchesSelector||d.webkitMatchesSelector||d.matches).call(d,v)}function p(d){return!(he(d)||m(d,":disabled")||d.hasAttribute("contenteditable"))&&(d.hasAttribute("tabindex")||m(d,"input,select,textarea,button,a[href],area[href],iframe"))}function g(d){for(var v=d.getElementsByTagName("*"),A=0;A<v.length;A++)if(p(v[A]))return v[A]}var h;C.beforeShow(function(){h=document.activeElement}),C.afterShow(function(){if(f()){var v=g(C.modalElem());v&&v.focus()}}),C.afterClose(function(){f()&&h&&h.focus(),h=null}),D.watch(function(v){if(f()&&C.isVisible()){var A=g(C.modalElem()),E=function y(d){for(var v=d.getElementsByTagName("*"),A=v.length;A--;)if(p(v[A]))return v[A]}(C.modalElem());(v.shiftKey?A:E)===document.activeElement&&((v.shiftKey?E:A).focus(),v.preventDefault())}})}return document.documentElement.addEventListener("keydown",function(f){var m=f.which||f.keyCode;27===m?O.trigger():9===m&&D.trigger(f)}),function(f){(function ne(C){return"string"==typeof C}(f)||V(f))&&(f={content:f});var m=fe(),p=fe(),g=fe(),y=fe(),h=fe();function d(ae,S){var R=f[ae];return"function"==typeof R&&(R=R(S)),void 0===R?S:R}var T,te,v=Y.bind(window,"modal"),A=Y.bind(window,"overlay"),E=Y.bind(window,"close");function F(ae){A().hide(),v().hide(),h.trigger(T,ae)}function $(ae){y.trigger(T,ae)&&F(ae)}function j(ae){return function(){return ae.apply(this,arguments),T}}function Y(ae,S){if(!te){var R=function B(C,f){var m=C("width","auto");"number"==typeof m&&(m+="px");var p=C("modalId","pico-"+J++);return ye.make(C("parent")).clazz("pico-content").clazz(C("modalClass","")).stylize({display:"none",position:"fixed",zIndex:10001,left:"50%",top:"38.1966%",maxHeight:"90%",boxSizing:"border-box",width:m,"-ms-transform":"translate(-50%,-38.1966%)","-moz-transform":"translate(-50%,-38.1966%)","-webkit-transform":"translate(-50%,-38.1966%)","-o-transform":"translate(-50%,-38.1966%)",transform:"translate(-50%,-38.1966%)"}).stylize(C("modalStyles",{overflow:"auto",backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(C("content")).attr("id",p).attr("role","dialog").attr("aria-labelledby",C("ariaLabelledBy")).attr("aria-describedby",C("ariaDescribedBy",p)).onClick(function(y){new ye(y.target).anyAncestor(function(d){return/\bpico-close\b/.test(d.elem.className)})&&f()})}(d,$);te={modal:R,overlay:oe(d,$),close:M(R,d)},m.trigger(T,S)}return te[ae]}return _(T={modalElem:Z(v),closeElem:Z(E),overlayElem:Z(A),buildDom:j(Y.bind(null,null)),isVisible:function(){return!!(te&&v&&v().isVisible())},show:function(ae){return p.trigger(T,ae)&&(A().show(),E(),v().show(),g.trigger(T,ae)),this},close:j($),forceClose:j(F),destroy:function(){v().destroy(),A().destroy(),A=v=E=void 0},options:function(ae){Object.keys(ae).map(function(S){f[S]=ae[S]})},afterCreate:j(m.watch),beforeShow:j(p.watch),afterShow:j(g.watch),beforeClose:j(y.watch),afterClose:j(h.watch)},d.bind(null,"focus",!0)),function I(C,f){var m,p=new ye(document.body);C.beforeShow(function(){m=p.elem.style.overflow,f()&&p.stylize({overflow:"hidden"})}),C.afterClose(function(){p.stylize({overflow:m})})}(T,d.bind(null,"bodyOverflow",!0)),O.watch(function(){d("escCloses",!0)&&T.isVisible()&&T.close()}),T}})?ue.apply(k,we):ue)&&(me.exports=we)}()},7533:function(me,k){!function(ue){"use strict";function we(){for(var Re=arguments.length,Ee=Array(Re),Fe=0;Fe<Re;Fe++)Ee[Fe]=arguments[Fe];if(Ee.length>1){Ee[0]=Ee[0].slice(0,-1);for(var Ze=Ee.length-1,Qe=1;Qe<Ze;++Qe)Ee[Qe]=Ee[Qe].slice(1,-1);return Ee[Ze]=Ee[Ze].slice(1),Ee.join("")}return Ee[0]}function V(Re){return"(?:"+Re+")"}function ne(Re){return void 0===Re?"undefined":null===Re?"null":Object.prototype.toString.call(Re).split(" ").pop().split("]").shift().toLowerCase()}function fe(Re){return Re.toUpperCase()}function oe(Re){var Ee="[A-Za-z]",Ze="[0-9]",xt=we(Ze,"[A-Fa-f]"),Nn=V(V("%[EFef]"+xt+"%"+xt+xt+"%"+xt+xt)+"|"+V("%[89A-Fa-f]"+xt+"%"+xt+xt)+"|"+V("%"+xt+xt)),Bn="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Dr=we("[\\:\\/\\?\\#\\[\\]\\@]",Bn),fr=Re?"[\\uE000-\\uF8FF]":"[]",An=we(Ee,Ze,"[\\-\\.\\_\\~]",Re?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),cr=V(Ee+we(Ee,Ze,"[\\+\\-\\.]")+"*"),nr=V(V(Nn+"|"+we(An,Bn,"[\\:]"))+"*"),Pi=(V(V("25[0-5]")+"|"+V("2[0-4]"+Ze)+"|"+V("1"+Ze+Ze)+"|"+V("[1-9]"+Ze)+"|"+Ze),V(V("25[0-5]")+"|"+V("2[0-4]"+Ze)+"|"+V("1"+Ze+Ze)+"|"+V("0?[1-9]"+Ze)+"|0?0?"+Ze)),po=V(Pi+"\\."+Pi+"\\."+Pi+"\\."+Pi),rr=V(xt+"{1,4}"),go=V(V(rr+"\\:"+rr)+"|"+po),Mo=V(V(rr+"\\:")+"{6}"+go),es=V("\\:\\:"+V(rr+"\\:")+"{5}"+go),Ba=V(V(rr)+"?\\:\\:"+V(rr+"\\:")+"{4}"+go),xs=V(V(V(rr+"\\:")+"{0,1}"+rr)+"?\\:\\:"+V(rr+"\\:")+"{3}"+go),Cr=V(V(V(rr+"\\:")+"{0,2}"+rr)+"?\\:\\:"+V(rr+"\\:")+"{2}"+go),Il=V(V(V(rr+"\\:")+"{0,3}"+rr)+"?\\:\\:"+rr+"\\:"+go),_l=V(V(V(rr+"\\:")+"{0,4}"+rr)+"?\\:\\:"+go),da=V(V(V(rr+"\\:")+"{0,5}"+rr)+"?\\:\\:"+rr),$n=V(V(V(rr+"\\:")+"{0,6}"+rr)+"?\\:\\:"),Yi=V([Mo,es,Ba,xs,Cr,Il,_l,da,$n].join("|")),Hn=V(V(An+"|"+Nn)+"+"),ha=(V(Yi+"\\%25"+Hn),V(Yi+V("\\%25|\\%(?!"+xt+"{2})")+Hn)),yn=V("[vV]"+xt+"+\\."+we(An,Bn,"[\\:]")+"+"),rn=V("\\["+V(ha+"|"+Yi+"|"+yn)+"\\]"),Iu=V(V(Nn+"|"+we(An,Bn))+"*"),mc=V(rn+"|"+po+"(?!"+Iu+")|"+Iu),yt=V(Ze+"*"),$a=V(V(nr+"@")+"?"+mc+V("\\:"+yt)+"?"),Yt=V(Nn+"|"+we(An,Bn,"[\\:\\@]")),Vn=V(Yt+"*"),kd=V(Yt+"+"),lb=V(V(Nn+"|"+we(An,Bn,"[\\@]"))+"+"),Ts=V(V("\\/"+Vn)+"*"),Es=V("\\/"+V(kd+Ts)+"?"),xi=V(lb+Ts),_u=V(kd+Ts),Al="(?!"+Yt+")",Ji=(V(Ts+"|"+Es+"|"+xi+"|"+_u+"|"+Al),V(V(Yt+"|"+we("[\\/\\?]",fr))+"*")),vc=V(V(Yt+"|[\\/\\?]")+"*"),Rg=V(V("\\/\\/"+$a+Ts)+"|"+Es+"|"+_u+"|"+Al),cb=V(cr+"\\:"+Rg+V("\\?"+Ji)+"?"+V("\\#"+vc)+"?"),ub=V(V("\\/\\/"+$a+Ts)+"|"+Es+"|"+xi+"|"+Al),Og=V(ub+V("\\?"+Ji)+"?"+V("\\#"+vc)+"?");return V(cb+"|"+Og),V(cr+"\\:"+Rg+V("\\?"+Ji)+"?"),V(V("\\/\\/("+V("("+nr+")@")+"?("+mc+")"+V("\\:("+yt+")")+"?)")+"?("+Ts+"|"+Es+"|"+_u+"|"+Al+")"),V("\\?("+Ji+")"),V("\\#("+vc+")"),V(V("\\/\\/("+V("("+nr+")@")+"?("+mc+")"+V("\\:("+yt+")")+"?)")+"?("+Ts+"|"+Es+"|"+xi+"|"+Al+")"),V("\\?("+Ji+")"),V("\\#("+vc+")"),V(V("\\/\\/("+V("("+nr+")@")+"?("+mc+")"+V("\\:("+yt+")")+"?)")+"?("+Ts+"|"+Es+"|"+_u+"|"+Al+")"),V("\\?("+Ji+")"),V("\\#("+vc+")"),V("("+nr+")@"),V("\\:("+yt+")"),{NOT_SCHEME:new RegExp(we("[^]",Ee,Ze,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(we("[^\\%\\:]",An,Bn),"g"),NOT_HOST:new RegExp(we("[^\\%\\[\\]\\:]",An,Bn),"g"),NOT_PATH:new RegExp(we("[^\\%\\/\\:\\@]",An,Bn),"g"),NOT_PATH_NOSCHEME:new RegExp(we("[^\\%\\/\\@]",An,Bn),"g"),NOT_QUERY:new RegExp(we("[^\\%]",An,Bn,"[\\:\\@\\/\\?]",fr),"g"),NOT_FRAGMENT:new RegExp(we("[^\\%]",An,Bn,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(we("[^]",An,Bn),"g"),UNRESERVED:new RegExp(An,"g"),OTHER_CHARS:new RegExp(we("[^\\%]",An,Dr),"g"),PCT_ENCODED:new RegExp(Nn,"g"),IPV4ADDRESS:new RegExp("^("+po+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Yi+")"+V(V("\\%25|\\%(?!"+xt+"{2})")+"("+Hn+")")+"?\\]?$")}}var J=oe(!1),B=oe(!0),M=function(Ee,Fe){if(Array.isArray(Ee))return Ee;if(Symbol.iterator in Object(Ee))return function Re(Ee,Fe){var Ze=[],Qe=!0,xt=!1,vn=void 0;try{for(var Nn,tn=Ee[Symbol.iterator]();!(Qe=(Nn=tn.next()).done)&&(Ze.push(Nn.value),!Fe||Ze.length!==Fe);Qe=!0);}catch(Kn){xt=!0,vn=Kn}finally{try{!Qe&&tn.return&&tn.return()}finally{if(xt)throw vn}}return Ze}(Ee,Fe);throw new TypeError("Invalid attempt to destructure non-iterable instance")},O=2147483647,D=36,y=/^xn--/,h=/[^\0-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=Math.floor,T=String.fromCharCode;function F(Re){throw new RangeError(v[Re])}function j(Re,Ee){var Fe=Re.split("@"),Ze="";return Fe.length>1&&(Ze=Fe[0]+"@",Re=Fe[1]),Ze+function $(Re,Ee){for(var Fe=[],Ze=Re.length;Ze--;)Fe[Ze]=Ee(Re[Ze]);return Fe}((Re=Re.replace(d,".")).split("."),Ee).join(".")}function te(Re){for(var Ee=[],Fe=0,Ze=Re.length;Fe<Ze;){var Qe=Re.charCodeAt(Fe++);if(Qe>=55296&&Qe<=56319&&Fe<Ze){var xt=Re.charCodeAt(Fe++);56320==(64512&xt)?Ee.push(((1023&Qe)<<10)+(1023&xt)+65536):(Ee.push(Qe),Fe--)}else Ee.push(Qe)}return Ee}var ae=function(Ee){return Ee-48<10?Ee-22:Ee-65<26?Ee-65:Ee-97<26?Ee-97:D},S=function(Ee,Fe){return Ee+22+75*(Ee<26)-((0!=Fe)<<5)},R=function(Ee,Fe,Ze){var Qe=0;for(Ee=Ze?E(Ee/700):Ee>>1,Ee+=E(Ee/Fe);Ee>455;Qe+=D)Ee=E(Ee/35);return E(Qe+36*Ee/(Ee+38))},X=function(Ee){var Fe=[],Ze=Ee.length,Qe=0,xt=128,vn=72,tn=Ee.lastIndexOf("-");tn<0&&(tn=0);for(var Nn=0;Nn<tn;++Nn)Ee.charCodeAt(Nn)>=128&&F("not-basic"),Fe.push(Ee.charCodeAt(Nn));for(var Kn=tn>0?tn+1:0;Kn<Ze;){for(var Bn=Qe,Dr=1,xr=D;;xr+=D){Kn>=Ze&&F("invalid-input");var fr=ae(Ee.charCodeAt(Kn++));(fr>=D||fr>E((O-Qe)/Dr))&&F("overflow"),Qe+=fr*Dr;var An=xr<=vn?1:xr>=vn+26?26:xr-vn;if(fr<An)break;var cr=D-An;Dr>E(O/cr)&&F("overflow"),Dr*=cr}var nr=Fe.length+1;vn=R(Qe-Bn,nr,0==Bn),E(Qe/nr)>O-xt&&F("overflow"),xt+=E(Qe/nr),Qe%=nr,Fe.splice(Qe++,0,xt)}return String.fromCodePoint.apply(String,Fe)},N=function(Ee){var Fe=[],Ze=(Ee=te(Ee)).length,Qe=128,xt=0,vn=72,tn=!0,Nn=!1,Kn=void 0;try{for(var Dr,Bn=Ee[Symbol.iterator]();!(tn=(Dr=Bn.next()).done);tn=!0){var xr=Dr.value;xr<128&&Fe.push(T(xr))}}catch(ha){Nn=!0,Kn=ha}finally{try{!tn&&Bn.return&&Bn.return()}finally{if(Nn)throw Kn}}var fr=Fe.length,An=fr;for(fr&&Fe.push("-");An<Ze;){var cr=O,nr=!0,ua=!1,Pi=void 0;try{for(var rr,po=Ee[Symbol.iterator]();!(nr=(rr=po.next()).done);nr=!0){var go=rr.value;go>=Qe&&go<cr&&(cr=go)}}catch(ha){ua=!0,Pi=ha}finally{try{!nr&&po.return&&po.return()}finally{if(ua)throw Pi}}var Mo=An+1;cr-Qe>E((O-xt)/Mo)&&F("overflow"),xt+=(cr-Qe)*Mo,Qe=cr;var es=!0,Ba=!1,xs=void 0;try{for(var Il,Cr=Ee[Symbol.iterator]();!(es=(Il=Cr.next()).done);es=!0){var _l=Il.value;if(_l<Qe&&++xt>O&&F("overflow"),_l==Qe){for(var da=xt,$n=D;;$n+=D){var Yi=$n<=vn?1:$n>=vn+26?26:$n-vn;if(da<Yi)break;var Hn=da-Yi,gc=D-Yi;Fe.push(T(S(Yi+Hn%gc,0))),da=E(Hn/gc)}Fe.push(T(S(da,0))),vn=R(xt,Mo,An==fr),xt=0,++An}}}catch(ha){Ba=!0,xs=ha}finally{try{!es&&Cr.return&&Cr.return()}finally{if(Ba)throw xs}}++xt,++Qe}return Fe.join("")},Q_toASCII=function(Ee){return j(Ee,function(Fe){return h.test(Fe)?"xn--"+N(Fe):Fe})},Q_toUnicode=function(Ee){return j(Ee,function(Fe){return y.test(Fe)?X(Fe.slice(4).toLowerCase()):Fe})},be={};function Ie(Re){var Ee=Re.charCodeAt(0);return Ee<16?"%0"+Ee.toString(16).toUpperCase():Ee<128?"%"+Ee.toString(16).toUpperCase():Ee<2048?"%"+(Ee>>6|192).toString(16).toUpperCase()+"%"+(63&Ee|128).toString(16).toUpperCase():"%"+(Ee>>12|224).toString(16).toUpperCase()+"%"+(Ee>>6&63|128).toString(16).toUpperCase()+"%"+(63&Ee|128).toString(16).toUpperCase()}function pe(Re){for(var Ee="",Fe=0,Ze=Re.length;Fe<Ze;){var Qe=parseInt(Re.substr(Fe+1,2),16);if(Qe<128)Ee+=String.fromCharCode(Qe),Fe+=3;else if(Qe>=194&&Qe<224){if(Ze-Fe>=6){var xt=parseInt(Re.substr(Fe+4,2),16);Ee+=String.fromCharCode((31&Qe)<<6|63&xt)}else Ee+=Re.substr(Fe,6);Fe+=6}else if(Qe>=224){if(Ze-Fe>=9){var vn=parseInt(Re.substr(Fe+4,2),16),tn=parseInt(Re.substr(Fe+7,2),16);Ee+=String.fromCharCode((15&Qe)<<12|(63&vn)<<6|63&tn)}else Ee+=Re.substr(Fe,9);Fe+=9}else Ee+=Re.substr(Fe,3),Fe+=3}return Ee}function Te(Re,Ee){function Fe(Ze){var Qe=pe(Ze);return Qe.match(Ee.UNRESERVED)?Qe:Ze}return Re.scheme&&(Re.scheme=String(Re.scheme).replace(Ee.PCT_ENCODED,Fe).toLowerCase().replace(Ee.NOT_SCHEME,"")),void 0!==Re.userinfo&&(Re.userinfo=String(Re.userinfo).replace(Ee.PCT_ENCODED,Fe).replace(Ee.NOT_USERINFO,Ie).replace(Ee.PCT_ENCODED,fe)),void 0!==Re.host&&(Re.host=String(Re.host).replace(Ee.PCT_ENCODED,Fe).toLowerCase().replace(Ee.NOT_HOST,Ie).replace(Ee.PCT_ENCODED,fe)),void 0!==Re.path&&(Re.path=String(Re.path).replace(Ee.PCT_ENCODED,Fe).replace(Re.scheme?Ee.NOT_PATH:Ee.NOT_PATH_NOSCHEME,Ie).replace(Ee.PCT_ENCODED,fe)),void 0!==Re.query&&(Re.query=String(Re.query).replace(Ee.PCT_ENCODED,Fe).replace(Ee.NOT_QUERY,Ie).replace(Ee.PCT_ENCODED,fe)),void 0!==Re.fragment&&(Re.fragment=String(Re.fragment).replace(Ee.PCT_ENCODED,Fe).replace(Ee.NOT_FRAGMENT,Ie).replace(Ee.PCT_ENCODED,fe)),Re}function U(Re){return Re.replace(/^0*(.*)/,"$1")||"0"}function re(Re,Ee){var Fe=Re.match(Ee.IPV4ADDRESS)||[],Qe=M(Fe,2)[1];return Qe?Qe.split(".").map(U).join("."):Re}function se(Re,Ee){var Fe=Re.match(Ee.IPV6ADDRESS)||[],Ze=M(Fe,3),Qe=Ze[1],xt=Ze[2];if(Qe){for(var vn=Qe.toLowerCase().split("::").reverse(),tn=M(vn,2),Nn=tn[0],Kn=tn[1],Bn=Kn?Kn.split(":").map(U):[],Dr=Nn.split(":").map(U),xr=Ee.IPV4ADDRESS.test(Dr[Dr.length-1]),fr=xr?7:8,An=Dr.length-fr,cr=Array(fr),nr=0;nr<fr;++nr)cr[nr]=Bn[nr]||Dr[An+nr]||"";xr&&(cr[fr-1]=re(cr[fr-1],Ee));var Pi=cr.reduce(function(Mo,es,Ba){if(!es||"0"===es){var xs=Mo[Mo.length-1];xs&&xs.index+xs.length===Ba?xs.length++:Mo.push({index:Ba,length:1})}return Mo},[]).sort(function(Mo,es){return es.length-Mo.length})[0],po=void 0;if(Pi&&Pi.length>1){var rr=cr.slice(0,Pi.index),go=cr.slice(Pi.index+Pi.length);po=rr.join(":")+"::"+go.join(":")}else po=cr.join(":");return xt&&(po+="%"+xt),po}return Re}var ge=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,G=void 0==="".match(/(){0}/)[1];function W(Re){var Ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Fe={},Ze=!1!==Ee.iri?B:J;"suffix"===Ee.reference&&(Re=(Ee.scheme?Ee.scheme+":":"")+"//"+Re);var Qe=Re.match(ge);if(Qe){G?(Fe.scheme=Qe[1],Fe.userinfo=Qe[3],Fe.host=Qe[4],Fe.port=parseInt(Qe[5],10),Fe.path=Qe[6]||"",Fe.query=Qe[7],Fe.fragment=Qe[8],isNaN(Fe.port)&&(Fe.port=Qe[5])):(Fe.scheme=Qe[1]||void 0,Fe.userinfo=-1!==Re.indexOf("@")?Qe[3]:void 0,Fe.host=-1!==Re.indexOf("//")?Qe[4]:void 0,Fe.port=parseInt(Qe[5],10),Fe.path=Qe[6]||"",Fe.query=-1!==Re.indexOf("?")?Qe[7]:void 0,Fe.fragment=-1!==Re.indexOf("#")?Qe[8]:void 0,isNaN(Fe.port)&&(Fe.port=Re.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Qe[4]:void 0)),Fe.host&&(Fe.host=se(re(Fe.host,Ze),Ze)),Fe.reference=void 0!==Fe.scheme||void 0!==Fe.userinfo||void 0!==Fe.host||void 0!==Fe.port||Fe.path||void 0!==Fe.query?void 0===Fe.scheme?"relative":void 0===Fe.fragment?"absolute":"uri":"same-document",Ee.reference&&"suffix"!==Ee.reference&&Ee.reference!==Fe.reference&&(Fe.error=Fe.error||"URI is not a "+Ee.reference+" reference.");var xt=be[(Ee.scheme||Fe.scheme||"").toLowerCase()];if(Ee.unicodeSupport||xt&&xt.unicodeSupport)Te(Fe,Ze);else{if(Fe.host&&(Ee.domainHost||xt&&xt.domainHost))try{Fe.host=Q_toASCII(Fe.host.replace(Ze.PCT_ENCODED,pe).toLowerCase())}catch(vn){Fe.error=Fe.error||"Host's domain name can not be converted to ASCII via punycode: "+vn}Te(Fe,J)}xt&&xt.parse&&xt.parse(Fe,Ee)}else Fe.error=Fe.error||"URI can not be parsed.";return Fe}function q(Re,Ee){var Fe=!1!==Ee.iri?B:J,Ze=[];return void 0!==Re.userinfo&&(Ze.push(Re.userinfo),Ze.push("@")),void 0!==Re.host&&Ze.push(se(re(String(Re.host),Fe),Fe).replace(Fe.IPV6ADDRESS,function(Qe,xt,vn){return"["+xt+(vn?"%25"+vn:"")+"]"})),("number"==typeof Re.port||"string"==typeof Re.port)&&(Ze.push(":"),Ze.push(String(Re.port))),Ze.length?Ze.join(""):void 0}var ce=/^\.\.?\//,Ae=/^\/\.(\/|$)/,Ve=/^\/\.\.(\/|$)/,nt=/^\/?(?:.|\n)*?(?=\/|$)/;function rt(Re){for(var Ee=[];Re.length;)if(Re.match(ce))Re=Re.replace(ce,"");else if(Re.match(Ae))Re=Re.replace(Ae,"/");else if(Re.match(Ve))Re=Re.replace(Ve,"/"),Ee.pop();else if("."===Re||".."===Re)Re="";else{var Fe=Re.match(nt);if(!Fe)throw new Error("Unexpected dot segment condition");var Ze=Fe[0];Re=Re.slice(Ze.length),Ee.push(Ze)}return Ee.join("")}function bt(Re){var Ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Fe=Ee.iri?B:J,Ze=[],Qe=be[(Ee.scheme||Re.scheme||"").toLowerCase()];if(Qe&&Qe.serialize&&Qe.serialize(Re,Ee),Re.host&&!Fe.IPV6ADDRESS.test(Re.host)&&(Ee.domainHost||Qe&&Qe.domainHost))try{Re.host=Ee.iri?Q_toUnicode(Re.host):Q_toASCII(Re.host.replace(Fe.PCT_ENCODED,pe).toLowerCase())}catch(tn){Re.error=Re.error||"Host's domain name can not be converted to "+(Ee.iri?"Unicode":"ASCII")+" via punycode: "+tn}Te(Re,Fe),"suffix"!==Ee.reference&&Re.scheme&&(Ze.push(Re.scheme),Ze.push(":"));var xt=q(Re,Ee);if(void 0!==xt&&("suffix"!==Ee.reference&&Ze.push("//"),Ze.push(xt),Re.path&&"/"!==Re.path.charAt(0)&&Ze.push("/")),void 0!==Re.path){var vn=Re.path;!Ee.absolutePath&&(!Qe||!Qe.absolutePath)&&(vn=rt(vn)),void 0===xt&&(vn=vn.replace(/^\/\//,"/%2F")),Ze.push(vn)}return void 0!==Re.query&&(Ze.push("?"),Ze.push(Re.query)),void 0!==Re.fragment&&(Ze.push("#"),Ze.push(Re.fragment)),Ze.join("")}function Ct(Re,Ee){var Fe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Qe={};return arguments[3]||(Re=W(bt(Re,Fe),Fe),Ee=W(bt(Ee,Fe),Fe)),!(Fe=Fe||{}).tolerant&&Ee.scheme?(Qe.scheme=Ee.scheme,Qe.userinfo=Ee.userinfo,Qe.host=Ee.host,Qe.port=Ee.port,Qe.path=rt(Ee.path||""),Qe.query=Ee.query):(void 0!==Ee.userinfo||void 0!==Ee.host||void 0!==Ee.port?(Qe.userinfo=Ee.userinfo,Qe.host=Ee.host,Qe.port=Ee.port,Qe.path=rt(Ee.path||""),Qe.query=Ee.query):(Ee.path?("/"===Ee.path.charAt(0)?Qe.path=rt(Ee.path):(Qe.path=void 0===Re.userinfo&&void 0===Re.host&&void 0===Re.port||Re.path?Re.path?Re.path.slice(0,Re.path.lastIndexOf("/")+1)+Ee.path:Ee.path:"/"+Ee.path,Qe.path=rt(Qe.path)),Qe.query=Ee.query):(Qe.path=Re.path,Qe.query=void 0!==Ee.query?Ee.query:Re.query),Qe.userinfo=Re.userinfo,Qe.host=Re.host,Qe.port=Re.port),Qe.scheme=Re.scheme),Qe.fragment=Ee.fragment,Qe}function Ne(Re,Ee){return Re&&Re.toString().replace(Ee&&Ee.iri?B.PCT_ENCODED:J.PCT_ENCODED,pe)}var Je={scheme:"http",domainHost:!0,parse:function(Ee,Fe){return Ee.host||(Ee.error=Ee.error||"HTTP URIs must have a host."),Ee},serialize:function(Ee,Fe){var Ze="https"===String(Ee.scheme).toLowerCase();return(Ee.port===(Ze?443:80)||""===Ee.port)&&(Ee.port=void 0),Ee.path||(Ee.path="/"),Ee}},jt={scheme:"https",domainHost:Je.domainHost,parse:Je.parse,serialize:Je.serialize};function Mn(Re){return"boolean"==typeof Re.secure?Re.secure:"wss"===String(Re.scheme).toLowerCase()}var Ue={scheme:"ws",domainHost:!0,parse:function(Ee,Fe){var Ze=Ee;return Ze.secure=Mn(Ze),Ze.resourceName=(Ze.path||"/")+(Ze.query?"?"+Ze.query:""),Ze.path=void 0,Ze.query=void 0,Ze},serialize:function(Ee,Fe){if((Ee.port===(Mn(Ee)?443:80)||""===Ee.port)&&(Ee.port=void 0),"boolean"==typeof Ee.secure&&(Ee.scheme=Ee.secure?"wss":"ws",Ee.secure=void 0),Ee.resourceName){var Ze=Ee.resourceName.split("?"),Qe=M(Ze,2),xt=Qe[0],vn=Qe[1];Ee.path=xt&&"/"!==xt?xt:void 0,Ee.query=vn,Ee.resourceName=void 0}return Ee.fragment=void 0,Ee}},tt={scheme:"wss",domainHost:Ue.domainHost,parse:Ue.parse,serialize:Ue.serialize},ot={},pt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",wt="[0-9A-Fa-f]",nn=V(V("%[EFef]"+wt+"%"+wt+wt+"%"+wt+wt)+"|"+V("%[89A-Fa-f]"+wt+"%"+wt+wt)+"|"+V("%"+wt+wt)),We=we("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),vt=new RegExp(pt,"g"),ft=new RegExp(nn,"g"),Zt=new RegExp(we("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',We),"g"),er=new RegExp(we("[^]",pt,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),tr=er;function kr(Re){var Ee=pe(Re);return Ee.match(vt)?Ee:Re}var Gs={scheme:"mailto",parse:function(Ee,Fe){var Ze=Ee,Qe=Ze.to=Ze.path?Ze.path.split(","):[];if(Ze.path=void 0,Ze.query){for(var xt=!1,vn={},tn=Ze.query.split("&"),Nn=0,Kn=tn.length;Nn<Kn;++Nn){var Bn=tn[Nn].split("=");switch(Bn[0]){case"to":for(var Dr=Bn[1].split(","),xr=0,fr=Dr.length;xr<fr;++xr)Qe.push(Dr[xr]);break;case"subject":Ze.subject=Ne(Bn[1],Fe);break;case"body":Ze.body=Ne(Bn[1],Fe);break;default:xt=!0,vn[Ne(Bn[0],Fe)]=Ne(Bn[1],Fe)}}xt&&(Ze.headers=vn)}Ze.query=void 0;for(var An=0,cr=Qe.length;An<cr;++An){var nr=Qe[An].split("@");if(nr[0]=Ne(nr[0]),Fe.unicodeSupport)nr[1]=Ne(nr[1],Fe).toLowerCase();else try{nr[1]=Q_toASCII(Ne(nr[1],Fe).toLowerCase())}catch(ua){Ze.error=Ze.error||"Email address's domain name can not be converted to ASCII via punycode: "+ua}Qe[An]=nr.join("@")}return Ze},serialize:function(Ee,Fe){var Ze=Ee,Qe=function he(Re){return null!=Re?Re instanceof Array?Re:"number"!=typeof Re.length||Re.split||Re.setInterval||Re.call?[Re]:Array.prototype.slice.call(Re):[]}(Ee.to);if(Qe){for(var xt=0,vn=Qe.length;xt<vn;++xt){var tn=String(Qe[xt]),Nn=tn.lastIndexOf("@"),Kn=tn.slice(0,Nn).replace(ft,kr).replace(ft,fe).replace(Zt,Ie),Bn=tn.slice(Nn+1);try{Bn=Fe.iri?Q_toUnicode(Bn):Q_toASCII(Ne(Bn,Fe).toLowerCase())}catch(An){Ze.error=Ze.error||"Email address's domain name can not be converted to "+(Fe.iri?"Unicode":"ASCII")+" via punycode: "+An}Qe[xt]=Kn+"@"+Bn}Ze.path=Qe.join(",")}var Dr=Ee.headers=Ee.headers||{};Ee.subject&&(Dr.subject=Ee.subject),Ee.body&&(Dr.body=Ee.body);var xr=[];for(var fr in Dr)Dr[fr]!==ot[fr]&&xr.push(fr.replace(ft,kr).replace(ft,fe).replace(er,Ie)+"="+Dr[fr].replace(ft,kr).replace(ft,fe).replace(tr,Ie));return xr.length&&(Ze.query=xr.join("&")),Ze}},Fa=/^([^\:]+)\:(.*)/,Ur={scheme:"urn",parse:function(Ee,Fe){var Ze=Ee.path&&Ee.path.match(Fa),Qe=Ee;if(Ze){var xt=Fe.scheme||Qe.scheme||"urn",vn=Ze[1].toLowerCase(),tn=Ze[2],Kn=be[xt+":"+(Fe.nid||vn)];Qe.nid=vn,Qe.nss=tn,Qe.path=void 0,Kn&&(Qe=Kn.parse(Qe,Fe))}else Qe.error=Qe.error||"URN can not be parsed.";return Qe},serialize:function(Ee,Fe){var Qe=Ee.nid,vn=be[(Fe.scheme||Ee.scheme||"urn")+":"+(Fe.nid||Qe)];vn&&(Ee=vn.serialize(Ee,Fe));var tn=Ee;return tn.path=(Qe||Fe.nid)+":"+Ee.nss,tn}},Ng=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,bf={scheme:"urn:uuid",parse:function(Ee,Fe){var Ze=Ee;return Ze.uuid=Ze.nss,Ze.nss=void 0,!Fe.tolerant&&(!Ze.uuid||!Ze.uuid.match(Ng))&&(Ze.error=Ze.error||"UUID is not valid."),Ze},serialize:function(Ee,Fe){var Ze=Ee;return Ze.nss=(Ee.uuid||"").toLowerCase(),Ze}};be[Je.scheme]=Je,be[jt.scheme]=jt,be[Ue.scheme]=Ue,be[tt.scheme]=tt,be[Gs.scheme]=Gs,be[Ur.scheme]=Ur,be[bf.scheme]=bf,ue.SCHEMES=be,ue.pctEncChar=Ie,ue.pctDecChars=pe,ue.parse=W,ue.removeDotSegments=rt,ue.serialize=bt,ue.resolveComponents=Ct,ue.resolve=function Ot(Re,Ee,Fe){var Ze=function ye(Re,Ee){var Fe=Re;if(Ee)for(var Ze in Ee)Fe[Ze]=Ee[Ze];return Fe}({scheme:"null"},Fe);return bt(Ct(W(Re,Ze),W(Ee,Ze),Ze,!0),Ze)},ue.normalize=function At(Re,Ee){return"string"==typeof Re?Re=bt(W(Re,Ee),Ee):"object"===ne(Re)&&(Re=W(bt(Re,Ee),Ee)),Re},ue.equal=function en(Re,Ee,Fe){return"string"==typeof Re?Re=bt(W(Re,Fe),Fe):"object"===ne(Re)&&(Re=bt(Re,Fe)),"string"==typeof Ee?Ee=bt(W(Ee,Fe),Fe):"object"===ne(Ee)&&(Ee=bt(Ee,Fe)),Re===Ee},ue.escapeComponent=function He(Re,Ee){return Re&&Re.toString().replace(Ee&&Ee.iri?B.ESCAPE:J.ESCAPE,Ie)},ue.unescapeComponent=Ne,Object.defineProperty(ue,"__esModule",{value:!0})}(k)},4049:function(me){me.exports=function(){"use strict";var k=function(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")},ue=function(){function m(p,g){for(var y=0;y<g.length;y++){var h=g[y];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(p,h.key,h)}}return function(p,g,y){return g&&m(p.prototype,g),y&&m(p,y),p}}(),we=function(p,g){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return function m(p,g){var y=[],h=!0,d=!1,v=void 0;try{for(var E,A=p[Symbol.iterator]();!(h=(E=A.next()).done)&&(y.push(E.value),!g||y.length!==g);h=!0);}catch(T){d=!0,v=T}finally{try{!h&&A.return&&A.return()}finally{if(d)throw v}}return y}(p,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")},V=(String.prototype.startsWith=String.prototype.startsWith||function(m){return 0===this.indexOf(m)},String.prototype.padStart=String.prototype.padStart||function(m,p){for(var g=this;g.length<m;)g=p+g;return g},{cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"});function ne(m){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(p>0?m.toFixed(p).replace(/0+$/,"").replace(/\.$/,""):m.toString())||"0"}var fe=function(){function m(p,g,y,h){k(this,m);var d=this;if(void 0!==p)if(Array.isArray(p))this.rgba=p;else if(void 0===y){var A=p&&""+p;A&&function v(E){if(E.startsWith("hsl")){var T=E.match(/([\-\d\.e]+)/g).map(Number),F=we(T,4),$=F[0],j=F[1],te=F[2],Y=F[3];void 0===Y&&(Y=1),d.hsla=[$/=360,j/=100,te/=100,Y]}else if(E.startsWith("rgb")){var ae=E.match(/([\-\d\.e]+)/g).map(Number),S=we(ae,4),K=S[3];void 0===K&&(K=1),d.rgba=[S[0],S[1],S[2],K]}else d.rgba=E.startsWith("#")?m.hexToRgb(E):m.nameToRgb(E)||m.hexToRgb(E)}(A.toLowerCase())}else this.rgba=[p,g,y,void 0===h?1:h]}return ue(m,[{key:"printRGB",value:function(g){var h=(g?this.rgba:this.rgba.slice(0,3)).map(function(d,v){return ne(d,3===v?3:0)});return g?"rgba("+h+")":"rgb("+h+")"}},{key:"printHSL",value:function(g){var y=[360,100,100,1],h=["","%","%",""],v=(g?this.hsla:this.hsla.slice(0,3)).map(function(A,E){return ne(A*y[E],3===E?3:1)+h[E]});return g?"hsla("+v+")":"hsl("+v+")"}},{key:"printHex",value:function(g){var y=this.hex;return g?y:y.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=m.hslToRgb(this._hsla)},set:function(g){3===g.length&&(g[3]=1),this._rgba=g,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=m.rgbToHsl(this._rgba)},set:function(g){3===g.length&&(g[3]=1),this._hsla=g,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){return"#"+this.rgba.map(function(h,d){return d<3?h.toString(16):Math.round(255*h).toString(16)}).map(function(h){return h.padStart(2,"0")}).join("")},set:function(g){this.rgba=m.hexToRgb(g)}}],[{key:"hexToRgb",value:function(g){var y=(g.startsWith("#")?g.slice(1):g).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!y.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+g);var h=y.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(d){return parseInt(d,16)});return h[3]=h[3]/255,h}},{key:"nameToRgb",value:function(g){var y=g.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),h=V[y];return void 0===h?h:m.hexToRgb(h.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(g){var y=we(g,4),h=y[0],d=y[1],v=y[2],A=y[3];h/=255,d/=255,v/=255;var E=Math.max(h,d,v),T=Math.min(h,d,v),F=void 0,$=void 0,j=(E+T)/2;if(E===T)F=$=0;else{var te=E-T;switch($=j>.5?te/(2-E-T):te/(E+T),E){case h:F=(d-v)/te+(d<v?6:0);break;case d:F=(v-h)/te+2;break;case v:F=(h-d)/te+4}F/=6}return[F,$,j,A]}},{key:"hslToRgb",value:function(g){var y=we(g,4),h=y[0],d=y[1],v=y[2],A=y[3],E=void 0,T=void 0,F=void 0;if(0===d)E=T=F=v;else{var $=function(S,R,X){return X<0&&(X+=1),X>1&&(X-=1),X<.16666666666666666?S+6*(R-S)*X:X<.5?R:X<.6666666666666666?S+(R-S)*(.6666666666666666-X)*6:S},j=v<.5?v*(1+d):v+d-v*d,te=2*v-j;E=$(te,j,h+1/3),T=$(te,j,h),F=$(te,j,h-1/3)}var Y=[255*E,255*T,255*F].map(Math.round);return Y[3]=A,Y}}]),m}(),he=function(){function m(){k(this,m),this._events=[]}return ue(m,[{key:"add",value:function(g,y,h){g.addEventListener(y,h,!1),this._events.push({target:g,type:y,handler:h})}},{key:"remove",value:function(g,y,h){this._events=this._events.filter(function(d){var v=!0;return g&&g!==d.target&&(v=!1),y&&y!==d.type&&(v=!1),h&&h!==d.handler&&(v=!1),v&&m._doRemove(d.target,d.type,d.handler),!v})}},{key:"destroy",value:function(){this._events.forEach(function(g){return m._doRemove(g.target,g.type,g.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(g,y,h){g.removeEventListener(y,h,!1)}}]),m}();function oe(m,p,g){var y=!1;function h(E,T,F){return Math.max(T,Math.min(E,F))}function d(E,T,F){if(F&&(y=!0),y){E.preventDefault();var $=p.getBoundingClientRect(),j=$.width,te=$.height,ae=T.clientY,S=h(T.clientX-$.left,0,j),R=h(ae-$.top,0,te);g(S/j,R/te)}}function v(E,T){1===(void 0===E.buttons?E.which:E.buttons)?d(E,E,T):y=!1}function A(E,T){1===E.touches.length?d(E,E.touches[0],T):y=!1}m.add(p,"mousedown",function(E){v(E,!0)}),m.add(p,"touchstart",function(E){A(E,!0)}),m.add(window,"mousemove",v),m.add(p,"touchmove",A),m.add(window,"mouseup",function(E){y=!1}),m.add(p,"touchend",function(E){y=!1}),m.add(p,"touchcancel",function(E){y=!1})}var M="keydown",Z="mousedown",O="focusin";function D(m,p){return(p||document).querySelector(m)}function _(m){m.preventDefault(),m.stopPropagation()}function I(m,p,g,y,h){m.add(p,M,function(d){g.indexOf(d.key)>=0&&(h&&_(d),y(d))})}var C=function(){function m(p){k(this,m),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new he,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(p)}return ue(m,[{key:"setOptions",value:function(g){var y=this;if(g){var h=this.settings;if(g instanceof HTMLElement)h.parent=g;else{h.parent&&g.parent&&h.parent!==g.parent&&(this._events.remove(h.parent),this._popupInited=!1),function d(T,F,$){for(var j in T)$&&$.indexOf(j)>=0||(F[j]=T[j])}(g,h),g.onChange&&(this.onChange=g.onChange),g.onDone&&(this.onDone=g.onDone),g.onOpen&&(this.onOpen=g.onOpen),g.onClose&&(this.onClose=g.onClose);var v=g.color||g.colour;v&&this._setColor(v)}var A=h.parent;if(A&&h.popup&&!this._popupInited){var E=function(F){return y.openHandler(F)};this._events.add(A,"click",E),I(this._events,A,[" ","Spacebar","Enter"],E),this._popupInited=!0}else g.parent&&!h.popup&&this.show()}}},{key:"openHandler",value:function(g){if(this.show()){g&&g.preventDefault(),this.settings.parent.style.pointerEvents="none";var y=g&&g.type===M?this._domEdit:this.domElement;setTimeout(function(){return y.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(g){var y=g&&g.type,h=!1;g?y===Z||y===O?g.timeStamp>(this.__containedEvent||0)+100&&(h=!0):(_(g),h=!0):h=!0,h&&this.hide()&&(this.settings.parent.style.pointerEvents="",y!==Z&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(g,y){this.closeHandler(),this.setOptions(g),y&&this.openHandler()}},{key:"setColor",value:function(g,y){this._setColor(g,{silent:y})}},{key:"_setColor",value:function(g,y){if("string"==typeof g&&(g=g.trim()),g){y=y||{};var h=void 0;try{h=new fe(g)}catch(v){if(y.failSilently)return;throw v}if(!this.settings.alpha){var d=h.hsla;d[3]=1,h.hsla=d}this.colour=this.color=h,this._setHSLA(null,null,null,null,y)}}},{key:"setColour",value:function(g,y){this.setColor(g,y)}},{key:"show",value:function(){if(!this.settings.parent)return!1;if(this.domElement){var y=this._toggleDOM(!0);return this._setPosition(),y}var d=function ye(m){var p=document.createElement("div");return p.innerHTML=m,p.firstElementChild}(this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>');return this.domElement=d,this._domH=D(".picker_hue",d),this._domSL=D(".picker_sl",d),this._domA=D(".picker_alpha",d),this._domEdit=D(".picker_editor input",d),this._domSample=D(".picker_sample",d),this._domOkay=D(".picker_done button",d),this._domCancel=D(".picker_cancel button",d),d.classList.add("layout_"+this.settings.layout),this.settings.alpha||d.classList.add("no_alpha"),this.settings.editor||d.classList.add("no_editor"),this.settings.cancelButton||d.classList.add("no_cancel"),this._ifPopup(function(){return d.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var g=this,y=this,h=this.domElement,d=this._events;function v(T,F,$){d.add(T,F,$)}v(h,"click",function(T){return T.preventDefault()}),oe(d,this._domH,function(T,F){return y._setHSLA(T)}),oe(d,this._domSL,function(T,F){return y._setHSLA(null,T,1-F)}),this.settings.alpha&&oe(d,this._domA,function(T,F){return y._setHSLA(null,null,null,1-F)});var A=this._domEdit;v(A,"input",function(T){y._setColor(this.value,{fromEditor:!0,failSilently:!0})}),v(A,"focus",function(T){var F=this;F.selectionStart===F.selectionEnd&&F.select()}),this._ifPopup(function(){var T=function(j){return g.closeHandler(j)};v(window,Z,T),v(window,O,T),I(d,h,["Esc","Escape"],T);var F=function(j){g.__containedEvent=j.timeStamp};v(h,Z,F),v(h,O,F),v(g._domCancel,"click",T)});var E=function(F){g._ifPopup(function(){return g.closeHandler(F)}),g.onDone&&g.onDone(g.colour)};v(this._domOkay,"click",E),I(d,h,["Enter"],E)}},{key:"_setPosition",value:function(){var g=this.settings.parent,y=this.domElement;g!==y.parentNode&&g.appendChild(y),this._ifPopup(function(h){"static"===getComputedStyle(g).position&&(g.style.position="relative");var d=!0===h?"popup_right":"popup_"+h;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(v){v===d?y.classList.add(v):y.classList.remove(v)}),y.classList.add(d)})}},{key:"_setHSLA",value:function(g,y,h,d,v){v=v||{};var A=this.colour,E=A.hsla;[g,y,h,d].forEach(function(T,F){(T||0===T)&&(E[F]=T)}),A.hsla=E,this._updateUI(v),this.onChange&&!v.silent&&this.onChange(A)}},{key:"_updateUI",value:function(g){if(this.domElement){g=g||{};var y=this.colour,h=y.hsla,d="hsl("+360*h[0]+", 100%, 50%)",v=y.hslString,A=y.hslaString,E=this._domH,T=this._domSL,F=this._domA,$=D(".picker_selector",E),j=D(".picker_selector",T),te=D(".picker_selector",F);Y(0,$,h[0]),this._domSL.style.backgroundColor=this._domH.style.color=d,Y(0,j,h[1]),ae(0,j,1-h[2]),T.style.color=v,ae(0,te,1-h[3]);var S=v,R=S.replace("hsl","hsla").replace(")",", 0)");if(this._domA.style.background="linear-gradient("+[S,R]+"), linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,\n                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em",!g.fromEditor){var K=this.settings.alpha,ie=void 0;switch(this.settings.editorFormat){case"rgb":ie=y.printRGB(K);break;case"hsl":ie=y.printHSL(K);break;default:ie=y.printHex(K)}this._domEdit.value=ie}this._domSample.style.color=A}function Y(Q,be,Ie){be.style.left=100*Ie+"%"}function ae(Q,be,Ie){be.style.top=100*Ie+"%"}}},{key:"_ifPopup",value:function(g,y){this.settings.parent&&this.settings.popup?g&&g(this.settings.popup):y&&y()}},{key:"_toggleDOM",value:function(g){var y=this.domElement;if(!y)return!1;var h=g?"":"none",d=y.style.display!==h;return d&&(y.style.display=h),d}}]),m}(),f=document.createElement("style");return f.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(f),C.StyleElement=f,C}()},1262:function(me,k,ue){"use strict";ue.d(k,{K:function(){return en}});class we extends Error{constructor(Ne,Je){super(Ne+" at position "+Je),this.position=Je}}function re(He){return He>=48&&He<=57||He>=65&&He<=70||He>=97&&He<=102}function se(He){return He>=48&&He<=57}function ge(He){return G.test(He)||He&&Ae(He.charCodeAt(0))}const G=/^[,:[\]{}()\n]$/;function W(He){return q.test(He)||He&&Ae(He.charCodeAt(0))}const q=/^[[{\w-]$/;function ce(He){return 32===He||10===He||9===He||13===He}function Ae(He){return Ve(He)||rt(He)}function Ve(He){return 34===He||8220===He||8221===He}function nt(He){return 34===He}function rt(He){return 39===He||8216===He||8217===He||96===He||180===He}function bt(He,Ne,Je){return Je=2<arguments.length&&void 0!==Je&&Je,-1!==(Ne=He.lastIndexOf(Ne))?He.substring(0,Ne)+(Je?"":He.substring(Ne+1)):He}function Ct(He,Ne){let Je=He.length;if(!ce(He.charCodeAt(Je-1)))return He+Ne;for(;ce(He.charCodeAt(Je-1));)Je--;return He.substring(0,Je)+Ne+He.substring(Je)}const Ot={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},At={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function en(He){let Ne=0,Je="";if(!Mn())throw new we("Unexpected end of json string",He.length);var jt=ot(44);if(jt&&Ue(),W(He[Ne])&&/[,\n][ \t\r]*$/.test(Je)){jt||(Je=Ct(Je,","));{let Xe=!0,vt=!0;for(;vt;)Xe?Xe=!1:ot(44)||(Je=Ct(Je,",")),vt=Mn();vt||(Je=bt(Je,",")),Je="[\n".concat(Je,"\n]")}}else jt&&(Je=bt(Je,","));if(Ne>=He.length)return Je;throw new we("Unexpected character "+JSON.stringify(He[Ne]),Ne);function Mn(){Ue();var Xe=function(){if(123!==He.charCodeAt(Ne))return!1;{Je+="{",Ne++,Ue();let Zt=!0;for(;Ne<He.length&&125!==He.charCodeAt(Ne);){let er;if(Zt?(er=!0,Zt=!1):((er=ot(44))||(Je=Ct(Je,",")),Ue()),!pt()&&!nn()){125===He.charCodeAt(Ne)||123===He.charCodeAt(Ne)||93===He.charCodeAt(Ne)||91===He.charCodeAt(Ne)||void 0===He[Ne]?Je=bt(Je,","):function(){throw new we("Object key expected",Ne)}();break}Ue();var vt=ot(58);vt||(W(He[Ne])?Je=Ct(Je,":"):We()),Mn()||(vt?Je+="null":We())}return 125===He.charCodeAt(Ne)?(Je+="}",Ne++):Je=Ct(Je,"}"),!0}}()||function(){if(91!==He.charCodeAt(Ne))return!1;{Je+="[",Ne++,Ue();let ft=!0;for(;Ne<He.length&&93!==He.charCodeAt(Ne);)if(ft?ft=!1:ot(44)||(Je=Ct(Je,",")),!Mn()){Je=bt(Je,",");break}return 93===He.charCodeAt(Ne)?(Je+="]",Ne++):Je=Ct(Je,"]"),!0}}()||pt()||function(){var ft,vt=Ne;if(45===He.charCodeAt(Ne)&&(Ne++,Le(vt)))return!0;if(48===He.charCodeAt(Ne))!function(ft){if(se(He.charCodeAt(Ne)))throw new we("Invalid number, unexpected leading zero",ft)}(++Ne-1);else if((ft=He.charCodeAt(Ne))>=49&&ft<=57)for(Ne++;se(He.charCodeAt(Ne));)Ne++;if(46===He.charCodeAt(Ne)){if(Ne++,Le(vt))return!0;for(;se(He.charCodeAt(Ne));)Ne++}if(101===He.charCodeAt(Ne)||69===He.charCodeAt(Ne)){if(Ne++,45!==He.charCodeAt(Ne)&&43!==He.charCodeAt(Ne)||Ne++,Le(vt))return!0;for(;se(He.charCodeAt(Ne));)Ne++}return Ne>vt&&(Je+=He.slice(vt,Ne),!0)}()||wt("true","true")||wt("false","false")||wt("null","null")||wt("True","true")||wt("False","false")||wt("None","null")||nn();return Ue(),Xe}function Ue(){let Xe=tt();for(;Xe=(Xe=function(){if(47===He.charCodeAt(Ne)&&42===He.charCodeAt(Ne+1)){for(;Ne<He.length&&("*"!==(vt=He)[ft=Ne]||"/"!==vt[ft+1]);)Ne++;Ne+=2}else{if(47!==He.charCodeAt(Ne)||47!==He.charCodeAt(Ne+1))return!1;for(;Ne<He.length&&10!==He.charCodeAt(Ne);)Ne++}var vt,ft;return!0}())&&tt(););}function tt(){let Xe="";for(var vt,ft;(vt=ce(He.charCodeAt(Ne)))||160===(ft=He.charCodeAt(Ne))||ft>=8192&&ft<=8202||8239===ft||8287===ft||12288===ft;)Xe+=vt?He[Ne]:" ",Ne++;return 0<Xe.length&&(Je+=Xe,!0)}function ot(Xe){return He.charCodeAt(Ne)===Xe&&(Je+=He[Ne],Ne++,!0)}function pt(){let Xe=92===He.charCodeAt(Ne);if(Xe&&(Ne++,Xe=!0),Ae(He.charCodeAt(Ne))){var vt=rt(He.charCodeAt(Ne))?rt:nt(He.charCodeAt(Ne))?nt:Ve;for(Je+='"',Ne++;Ne<He.length&&!vt(He.charCodeAt(Ne))&&10!==He.charCodeAt(Ne);){if(92===He.charCodeAt(Ne)){var ft=He[Ne+1];if(void 0!==At[ft])Je+=He.slice(Ne,Ne+2),Ne+=2;else if("u"===ft){if(!(re(He.charCodeAt(Ne+2))&&re(He.charCodeAt(Ne+3))&&re(He.charCodeAt(Ne+4))&&re(He.charCodeAt(Ne+5)))){Zt=void 0;var Zt=Ne;let kr=Zt+2;for(;/\w/.test(He[kr]);)kr++;throw Zt=He.slice(Zt,kr),new we('Invalid unicode character "'.concat(Zt,'"'),Ne)}Je+=He.slice(Ne,Ne+6),Ne+=6}else Je+=ft,Ne+=2}else{if(Zt=He[Ne],34===(ft=He.charCodeAt(Ne))&&92!==He.charCodeAt(Ne-1))Je+="\\"+Zt;else if(10===(tr=ft)||13===tr||9===tr||8===tr||12===tr)Je+=Ot[Zt];else{if(!(32<=(tr=ft)&&tr<=1114111))throw tr=void 0,tr=Zt,new we("Invalid character "+JSON.stringify(tr),Ne);Je+=Zt}Ne++}Xe&&92===He.charCodeAt(Ne)&&Ne++}if(Ae(He.charCodeAt(Ne)))He.charCodeAt(Ne),Je+='"',Ne++;else{let kr=0;for(;0<Ne&&(ge(He[Ne-1])||ce(He.charCodeAt(Ne-1)));)Ne--,kr++;Je=Je.substring(0,Je.length-kr)+'"'}{let kr=!1;for(Ue();43===He.charCodeAt(Ne);){kr=!0,Ne++,Ue();var er=(Je=bt(Je,'"',!0)).length;pt(),1,Je=(Gs=Je).substring(0,Fa=er)+Gs.substring(Fa+1)}}return!0}var Gs,Fa,tr;return!1}function wt(Xe,vt){return He.slice(Ne,Ne+Xe.length)===Xe&&(Je+=vt,Ne+=Xe.length,!0)}function nn(){for(var Xe=Ne;Ne<He.length&&!ge(He[Ne]);)Ne++;if(Ne>Xe){if(40===He.charCodeAt(Ne))Ne++,Mn(),41===He.charCodeAt(Ne)&&(Ne++,59===He.charCodeAt(Ne))&&Ne++;else{for(;ce(He.charCodeAt(Ne-1))&&0<Ne;)Ne--;Xe=He.slice(Xe,Ne),Je+="undefined"===Xe?"null":JSON.stringify(Xe),34===He.charCodeAt(Ne)&&Ne++}return!0}}function Le(Xe){if(Ne>=He.length)return Je+=He.slice(Xe,Ne)+"0",1;!function xe(Xe){if(!se(He.charCodeAt(Ne)))throw Xe=He.slice(Xe,Ne),new we("Invalid number '".concat(Xe,"', expecting a digit ").concat(He[Ne]?"but got '".concat(He[Ne],"'"):"but reached end of input"),Ne)}(Xe)}function We(){throw new we("Colon expected",Ne)}}},894:function(me){"use strict";me.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},7171:function(me){"use strict";me.exports=JSON.parse('{"id":"http://json-schema.org/draft-04/schema#","$schema":"http://json-schema.org/draft-04/schema#","description":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"positiveInteger":{"type":"integer","minimum":0},"positiveIntegerDefault0":{"allOf":[{"$ref":"#/definitions/positiveInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"type":"object","properties":{"id":{"type":"string"},"$schema":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","minimum":0,"exclusiveMinimum":true},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"boolean","default":false},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"boolean","default":false},"maxLength":{"$ref":"#/definitions/positiveInteger"},"minLength":{"$ref":"#/definitions/positiveIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/positiveInteger"},"minItems":{"$ref":"#/definitions/positiveIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxProperties":{"$ref":"#/definitions/positiveInteger"},"minProperties":{"$ref":"#/definitions/positiveIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"dependencies":{"exclusiveMaximum":["maximum"],"exclusiveMinimum":["minimum"]},"default":{}}')},6273:function(me){"use strict";me.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","$id":"http://json-schema.org/draft-06/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"examples":{"type":"array","items":{}},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":{},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":{}}')},6680:function(me){"use strict";me.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}},kn={},br.amdD=function(){throw new Error("define cannot be used indirect")},br.n=function(me){var k=me&&me.__esModule?function(){return me.default}:function(){return me};return br.d(k,{a:k}),k},br.d=function(me,k){for(var ue in k)br.o(k,ue)&&!br.o(me,ue)&&Object.defineProperty(me,ue,{enumerable:!0,get:k[ue]})},br.o=function(me,k){return Object.prototype.hasOwnProperty.call(me,k)},br.r=function(me){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(me,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(me,"__esModule",{value:!0})},br.nmd=function(me){return me.paths=[],me.children||(me.children=[]),me},br(3161);function br(me){var k=kn[me];return void 0!==k||(k=kn[me]={id:me,loaded:!1,exports:{}},fo[me].call(k.exports,k,k.exports,br),k.loaded=!0),k.exports}var fo,kn}()},489:function(Li,br,fo){var kn;Li=fo.nmd(Li),function(){var me,V="Expected a function",fe="__lodash_hash_undefined__",ye="__lodash_placeholder__",f=32,p=128,$=1/0,j=9007199254740991,Y=NaN,ae=4294967295,X=[["ary",p],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",f],["partialRight",64],["rearg",256]],N="[object Arguments]",K="[object Array]",Q="[object Boolean]",be="[object Date]",pe="[object Error]",Te="[object Function]",U="[object GeneratorFunction]",re="[object Map]",se="[object Number]",G="[object Object]",W="[object Promise]",ce="[object RegExp]",Ae="[object Set]",Ve="[object String]",nt="[object Symbol]",bt="[object WeakMap]",Ot="[object ArrayBuffer]",At="[object DataView]",en="[object Float32Array]",He="[object Float64Array]",Ne="[object Int8Array]",Je="[object Int16Array]",jt="[object Int32Array]",Mn="[object Uint8Array]",Ue="[object Uint8ClampedArray]",tt="[object Uint16Array]",ot="[object Uint32Array]",_t=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,nn=/&(?:amp|lt|gt|quot|#39);/g,xe=/[&<>"']/g,Le=RegExp(nn.source),We=RegExp(xe.source),Xe=/<%-([\s\S]+?)%>/g,vt=/<%([\s\S]+?)%>/g,ft=/<%=([\s\S]+?)%>/g,Zt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,er=/^\w*$/,tr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kr=/[\\^$.*+?()[\]{}|]/g,Gs=RegExp(kr.source),Fa=/^\s+/,Ur=/\s/,Ng=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bf=/\{\n\/\* \[wrapped with (.+)\] \*/,Re=/,? & /,Ee=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fe=/[()=,{}\[\]\/\s]/,Ze=/\\(\\)?/g,Qe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xt=/\w*$/,vn=/^[-+]0x[0-9a-f]+$/i,tn=/^0b[01]+$/i,Nn=/^\[object .+?Constructor\]$/,Kn=/^0o[0-7]+$/i,Bn=/^(?:0|[1-9]\d*)$/,Dr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xr=/($^)/,fr=/['\n\r\u2028\u2029\\]/g,An="\\ud800-\\udfff",Pi="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",po="\\u2700-\\u27bf",rr="a-z\\xdf-\\xf6\\xf8-\\xff",xs="A-Z\\xc0-\\xd6\\xd8-\\xde",Cr="\\ufe0e\\ufe0f",Il="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",da="["+An+"]",$n="["+Il+"]",Yi="["+Pi+"]",Hn="\\d+",gc="["+po+"]",ha="["+rr+"]",yn="[^"+An+Il+Hn+po+rr+xs+"]",rn="\\ud83c[\\udffb-\\udfff]",mc="[^"+An+"]",yt="(?:\\ud83c[\\udde6-\\uddff]){2}",$a="[\\ud800-\\udbff][\\udc00-\\udfff]",Yt="["+xs+"]",kd="(?:"+ha+"|"+yn+")",lb="(?:"+Yt+"|"+yn+")",Ts="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Es="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",xi="(?:"+Yi+"|"+rn+")?",_u="["+Cr+"]?",vc=_u+xi+"(?:\\u200d(?:"+[mc,yt,$a].join("|")+")"+_u+xi+")*",Rg="(?:"+[gc,yt,$a].join("|")+")"+vc,cb="(?:"+[mc+Yi+"?",Yi,yt,$a,da].join("|")+")",ub=RegExp("['\u2019]","g"),Og=RegExp(Yi,"g"),Lg=RegExp(rn+"(?="+rn+")|"+cb+vc,"g"),db=RegExp([Yt+"?"+ha+"+"+Ts+"(?="+[$n,Yt,"$"].join("|")+")",lb+"+"+Es+"(?="+[$n,Yt+kd,"$"].join("|")+")",Yt+"?"+kd+"+"+Ts,Yt+"+"+Es,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Hn,Rg].join("|"),"g"),Y_=RegExp("[\\u200d"+An+Pi+Cr+"]"),No=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],J_=-1,Mr={};Mr[en]=Mr[He]=Mr[Ne]=Mr[Je]=Mr[jt]=Mr[Mn]=Mr[Ue]=Mr[tt]=Mr[ot]=!0,Mr[N]=Mr[K]=Mr[Ot]=Mr[Q]=Mr[At]=Mr[be]=Mr[pe]=Mr[Te]=Mr[re]=Mr[se]=Mr[G]=Mr[ce]=Mr[Ae]=Mr[Ve]=Mr[bt]=!1;var Nr={};Nr[N]=Nr[K]=Nr[Ot]=Nr[At]=Nr[Q]=Nr[be]=Nr[en]=Nr[He]=Nr[Ne]=Nr[Je]=Nr[jt]=Nr[re]=Nr[se]=Nr[G]=Nr[ce]=Nr[Ae]=Nr[Ve]=Nr[nt]=Nr[Mn]=Nr[Ue]=Nr[tt]=Nr[ot]=!0,Nr[pe]=Nr[Te]=Nr[bt]=!1;var Cf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},X_=parseFloat,hb=parseInt,fb="object"==typeof global&&global&&global.Object===Object&&global,q_="object"==typeof self&&self&&self.Object===Object&&self,Ti=fb||q_||Function("return this")(),Dd=br&&!br.nodeType&&br,yc=Dd&&Li&&!Li.nodeType&&Li,Pg=yc&&yc.exports===Dd,Fg=Pg&&fb.process,Gt=function(){try{return yc&&yc.require&&yc.require("util").types||Fg&&Fg.binding&&Fg.binding("util")}catch{}}(),wf=Gt&&Gt.isArrayBuffer,pb=Gt&&Gt.isDate,ts=Gt&&Gt.isMap,Bg=Gt&&Gt.isRegExp,Q_=Gt&&Gt.isSet,Ha=Gt&&Gt.isTypedArray;function Hr($e,qe,Ke){switch(Ke.length){case 0:return $e.call(qe);case 1:return $e.call(qe,Ke[0]);case 2:return $e.call(qe,Ke[0],Ke[1]);case 3:return $e.call(qe,Ke[0],Ke[1],Ke[2])}return $e.apply(qe,Ke)}function mM($e,qe,Ke,Tt){for(var Xt=-1,Zn=null==$e?0:$e.length;++Xt<Zn;){var Zr=$e[Xt];qe(Tt,Zr,Ke(Zr),$e)}return Tt}function Ws($e,qe){for(var Ke=-1,Tt=null==$e?0:$e.length;++Ke<Tt&&!1!==qe($e[Ke],Ke,$e););return $e}function fa($e,qe){for(var Ke=null==$e?0:$e.length;Ke--&&!1!==qe($e[Ke],Ke,$e););return $e}function wr($e,qe){for(var Ke=-1,Tt=null==$e?0:$e.length;++Ke<Tt;)if(!qe($e[Ke],Ke,$e))return!1;return!0}function bc($e,qe){for(var Ke=-1,Tt=null==$e?0:$e.length,Xt=0,Zn=[];++Ke<Tt;){var Zr=$e[Ke];qe(Zr,Ke,$e)&&(Zn[Xt++]=Zr)}return Zn}function $g($e,qe){return!(null==$e||!$e.length)&&Cc($e,qe,0)>-1}function Sl($e,qe,Ke){for(var Tt=-1,Xt=null==$e?0:$e.length;++Tt<Xt;)if(Ke(qe,$e[Tt]))return!0;return!1}function Jt($e,qe){for(var Ke=-1,Tt=null==$e?0:$e.length,Xt=Array(Tt);++Ke<Tt;)Xt[Ke]=qe($e[Ke],Ke,$e);return Xt}function js($e,qe){for(var Ke=-1,Tt=qe.length,Xt=$e.length;++Ke<Tt;)$e[Xt+Ke]=qe[Ke];return $e}function Md($e,qe,Ke,Tt){var Xt=-1,Zn=null==$e?0:$e.length;for(Tt&&Zn&&(Ke=$e[++Xt]);++Xt<Zn;)Ke=qe(Ke,$e[Xt],Xt,$e);return Ke}function Hg($e,qe,Ke,Tt){var Xt=null==$e?0:$e.length;for(Tt&&Xt&&(Ke=$e[--Xt]);Xt--;)Ke=qe(Ke,$e[Xt],Xt,$e);return Ke}function If($e,qe){for(var Ke=-1,Tt=null==$e?0:$e.length;++Ke<Tt;)if(qe($e[Ke],Ke,$e))return!0;return!1}var Va=Af("length");function yi($e,qe,Ke){var Tt;return Ke($e,function(Xt,Zn,Zr){if(qe(Xt,Zn,Zr))return Tt=Zn,!1}),Tt}function _f($e,qe,Ke,Tt){for(var Xt=$e.length,Zn=Ke+(Tt?1:-1);Tt?Zn--:++Zn<Xt;)if(qe($e[Zn],Zn,$e))return Zn;return-1}function Cc($e,qe,Ke){return qe==qe?function Su($e,qe,Ke){for(var Tt=Ke-1,Xt=$e.length;++Tt<Xt;)if($e[Tt]===qe)return Tt;return-1}($e,qe,Ke):_f($e,Wn,Ke)}function gb($e,qe,Ke,Tt){for(var Xt=Ke-1,Zn=$e.length;++Xt<Zn;)if(Tt($e[Xt],qe))return Xt;return-1}function Wn($e){return $e!=$e}function mb($e,qe){var Ke=null==$e?0:$e.length;return Ke?Fi($e,qe)/Ke:Y}function Af($e){return function(qe){return null==qe?me:qe[$e]}}function Dt($e){return function(qe){return null==$e?me:$e[qe]}}function mo($e,qe,Ke,Tt,Xt){return Xt($e,function(Zn,Zr,ir){Ke=Tt?(Tt=!1,Zn):qe(Ke,Zn,Zr,ir)}),Ke}function Fi($e,qe){for(var Ke,Tt=-1,Xt=$e.length;++Tt<Xt;){var Zn=qe($e[Tt]);Zn!==me&&(Ke=Ke===me?Zn:Ke+Zn)}return Ke}function Bi($e,qe){for(var Ke=-1,Tt=Array($e);++Ke<$e;)Tt[Ke]=qe(Ke);return Tt}function Ro($e){return $e&&$e.slice(0,Ir($e)+1).replace(Fa,"")}function Pr($e){return function(qe){return $e(qe)}}function Nt($e,qe){return Jt(qe,function(Ke){return $e[Ke]})}function pn($e,qe){return $e.has(qe)}function Rr($e,qe){for(var Ke=-1,Tt=$e.length;++Ke<Tt&&Cc(qe,$e[Ke],0)>-1;);return Ke}function Oo($e,qe){for(var Ke=$e.length;Ke--&&Cc(qe,$e[Ke],0)>-1;);return Ke}function wc($e,qe){for(var Ke=$e.length,Tt=0;Ke--;)$e[Ke]===qe&&++Tt;return Tt}var Ei=Dt({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Ic=Dt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function zr($e){return"\\"+Cf[$e]}function pa($e){return Y_.test($e)}function xl($e){var qe=-1,Ke=Array($e.size);return $e.forEach(function(Tt,Xt){Ke[++qe]=[Xt,Tt]}),Ke}function xf($e,qe){return function(Ke){return $e(qe(Ke))}}function Lo($e,qe){for(var Ke=-1,Tt=$e.length,Xt=0,Zn=[];++Ke<Tt;){var Zr=$e[Ke];(Zr===qe||Zr===ye)&&($e[Ke]=ye,Zn[Xt++]=Ke)}return Zn}function bi($e){var qe=-1,Ke=Array($e.size);return $e.forEach(function(Tt){Ke[++qe]=Tt}),Ke}function zs($e){return pa($e)?function n1($e){for(var qe=Lg.lastIndex=0;Lg.test($e);)++qe;return qe}($e):Va($e)}function ks($e){return pa($e)?function Tf($e){return $e.match(Lg)||[]}($e):function Nd($e){return $e.split("")}($e)}function Ir($e){for(var qe=$e.length;qe--&&Ur.test($e.charAt(qe)););return qe}var t1=Dt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),_c=function $e(qe){var u,Ke=(qe=null==qe?Ti:_c.defaults(Ti.Object(),qe,_c.pick(Ti,Yn))).Array,Tt=qe.Date,Xt=qe.Error,Zn=qe.Function,Zr=qe.Math,ir=qe.Object,ns=qe.RegExp,r1=qe.String,Zs=qe.TypeError,Ef=Ke.prototype,Pd=ir.prototype,Gg=qe["__core-js_shared__"],Wg=Zn.prototype.toString,pr=Pd.hasOwnProperty,vM=0,o1=(u=/[^.]+$/.exec(Gg&&Gg.keys&&Gg.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",jg=Pd.toString,yM=Wg.call(ir),bM=Ti._,CM=ns("^"+Wg.call(pr).replace(kr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ug=Pg?qe.Buffer:me,Ac=qe.Symbol,zg=qe.Uint8Array,s1=Ug?Ug.allocUnsafe:me,Fd=xf(ir.getPrototypeOf,ir),kf=ir.create,a1=Pd.propertyIsEnumerable,Zg=Ef.splice,l1=Ac?Ac.isConcatSpreadable:me,Ks=Ac?Ac.iterator:me,Sc=Ac?Ac.toStringTag:me,ui=function(){try{var u=Hc(ir,"defineProperty");return u({},"",{}),u}catch{}}(),vb=qe.clearTimeout!==Ti.clearTimeout&&qe.clearTimeout,c1=Tt&&Tt.now!==Ti.Date.now&&Tt.now,u1=qe.setTimeout!==Ti.setTimeout&&qe.setTimeout,Bd=Zr.ceil,$d=Zr.floor,Kg=ir.getOwnPropertySymbols,Yg=Ug?Ug.isBuffer:me,yb=qe.isFinite,Ds=Ef.join,Jg=xf(ir.keys,ir),Ci=Zr.max,ki=Zr.min,d1=Tt.now,wM=qe.parseInt,ti=Zr.random,h1=Ef.reverse,bb=Hc(qe,"DataView"),Tl=Hc(qe,"Map"),vo=Hc(qe,"Promise"),xu=Hc(qe,"Set"),xc=Hc(qe,"WeakMap"),ga=Hc(ir,"create"),Xi=xc&&new xc,Tu={},Df=Ll(bb),f1=Ll(Tl),El=Ll(vo),Cb=Ll(xu),Xg=Ll(xc),hn=Ac?Ac.prototype:me,Eu=hn?hn.valueOf:me,p1=hn?hn.toString:me;function _e(u){if(jr(u)&&!gn(u)&&!(u instanceof On)){if(u instanceof rs)return u;if(pr.call(u,"__wrapped__"))return aC(u)}return new rs(u)}var ku=function(){function u(){}return function(w){if(!Wr(w))return{};if(kf)return kf(w);u.prototype=w;var P=new u;return u.prototype=me,P}}();function Mf(){}function rs(u,w){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!w,this.__index__=0,this.__values__=me}function On(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ae,this.__views__=[]}function Vr(u){var w=-1,P=null==u?0:u.length;for(this.clear();++w<P;){var ee=u[w];this.set(ee[0],ee[1])}}function Ys(u){var w=-1,P=null==u?0:u.length;for(this.clear();++w<P;){var ee=u[w];this.set(ee[0],ee[1])}}function Gr(u){var w=-1,P=null==u?0:u.length;for(this.clear();++w<P;){var ee=u[w];this.set(ee[0],ee[1])}}function kl(u){var w=-1,P=null==u?0:u.length;for(this.__data__=new Gr;++w<P;)this.add(u[w])}function is(u){var w=this.__data__=new Ys(u);this.size=w.size}function Nf(u,w){var P=gn(u),ee=!P&&Tr(u),ve=!P&&!ee&&$l(u),Se=!P&&!ee&&!ve&&ls(u),Me=P||ee||ve||Se,Oe=Me?Bi(u.length,r1):[],Ge=Oe.length;for(var st in u)(w||pr.call(u,st))&&(!Me||!("length"==st||ve&&("offset"==st||"parent"==st)||Se&&("buffer"==st||"byteLength"==st||"byteOffset"==st)||Ua(st,Ge)))&&Oe.push(st);return Oe}function tm(u){var w=u.length;return w?u[lm(0,w-1)]:me}function xb(u,w){return Xf(yo(u),Ec(w,0,u.length))}function Tb(u){return Xf(yo(u))}function Rf(u,w,P){(P!==me&&!qs(u[w],P)||P===me&&!(w in u))&&Jn(u,w,P)}function Tc(u,w,P){var ee=u[w];(!pr.call(u,w)||!qs(ee,P)||P===me&&!(w in u))&&Jn(u,w,P)}function Of(u,w){for(var P=u.length;P--;)if(qs(u[P][0],w))return P;return-1}function w1(u,w,P,ee){return Js(u,function(ve,Se,Me){w(ee,ve,P(ve),Me)}),ee}function qi(u,w){return u&&Kr(w,Di(w),u)}function Jn(u,w,P){"__proto__"==w&&ui?ui(u,w,{configurable:!0,enumerable:!0,value:P,writable:!0}):u[w]=P}function nm(u,w){for(var P=-1,ee=w.length,ve=Ke(ee),Se=null==u;++P<ee;)ve[P]=Se?me:gh(u,w[P]);return ve}function Ec(u,w,P){return u==u&&(P!==me&&(u=u<=P?u:P),w!==me&&(u=u>=w?u:w)),u}function Ms(u,w,P,ee,ve,Se){var Me,Oe=1&w,Ge=2&w,st=4&w;if(P&&(Me=ve?P(u,ee,ve,Se):P(u)),Me!==me)return Me;if(!Wr(u))return u;var lt=gn(u);if(lt){if(Me=function H1(u){var w=u.length,P=new u.constructor(w);return w&&"string"==typeof u[0]&&pr.call(u,"index")&&(P.index=u.index,P.input=u.input),P}(u),!Oe)return yo(u,Me)}else{var dt=bo(u),Lt=dt==Te||dt==U;if($l(u))return $o(u,Oe);if(dt==G||dt==N||Lt&&!ve){if(Me=Ge||Lt?{}:tC(u),!Oe)return Ge?function Pu(u,w){return Kr(u,Qb(u),w)}(u,function Dl(u,w){return u&&Kr(w,Ho(w),u)}(Me,u)):function fm(u,w){return Kr(u,Vc(u),w)}(u,qi(Me,u))}else{if(!Nr[dt])return ve?u:{};Me=function V1(u,w,P){var ee=u.constructor;switch(w){case Ot:return Xs(u);case Q:case be:return new ee(+u);case At:return function Zb(u,w){var P=w?Xs(u.buffer):u.buffer;return new u.constructor(P,u.byteOffset,u.byteLength)}(u,P);case en:case He:case Ne:case Je:case jt:case Mn:case Ue:case tt:case ot:return hm(u,P);case re:return new ee;case se:case Ve:return new ee(u);case ce:return function Gf(u){var w=new u.constructor(u.source,xt.exec(u));return w.lastIndex=u.lastIndex,w}(u);case Ae:return new ee;case nt:return function Xd(u){return Eu?ir(Eu.call(u)):{}}(u)}}(u,dt,Oe)}}Se||(Se=new is);var Ut=Se.get(u);if(Ut)return Ut;Se.set(u,Me),ZC(u)?u.forEach(function(cn){Me.add(Ms(cn,w,P,cn,u,Se))}):qm(u)&&u.forEach(function(cn,Ln){Me.set(Ln,Ms(cn,w,P,Ln,u,Se))});var Tn=lt?me:(st?Ge?$c:zf:Ge?Ho:Di)(u);return Ws(Tn||u,function(cn,Ln){Tn&&(cn=u[Ln=cn]),Tc(Me,Ln,Ms(cn,w,P,Ln,u,Se))}),Me}function Eb(u,w,P){var ee=P.length;if(null==u)return!ee;for(u=ir(u);ee--;){var ve=P[ee],Me=u[ve];if(Me===me&&!(ve in u)||!(0,w[ve])(Me))return!1}return!0}function kb(u,w,P){if("function"!=typeof u)throw new Zs(V);return Hu(function(){u.apply(me,P)},w)}function Ml(u,w,P,ee){var ve=-1,Se=$g,Me=!0,Oe=u.length,Ge=[],st=w.length;if(!Oe)return Ge;P&&(w=Jt(w,Pr(P))),ee?(Se=Sl,Me=!1):w.length>=200&&(Se=pn,Me=!1,w=new kl(w));e:for(;++ve<Oe;){var lt=u[ve],dt=null==P?lt:P(lt);if(lt=ee||0!==lt?lt:0,Me&&dt==dt){for(var Lt=st;Lt--;)if(w[Lt]===dt)continue e;Ge.push(lt)}else Se(w,dt,ee)||Ge.push(lt)}return Ge}_e.templateSettings={escape:Xe,evaluate:vt,interpolate:ft,variable:"",imports:{_:_e}},(_e.prototype=Mf.prototype).constructor=_e,(rs.prototype=ku(Mf.prototype)).constructor=rs,(On.prototype=ku(Mf.prototype)).constructor=On,Vr.prototype.clear=function $i(){this.__data__=ga?ga(null):{},this.size=0},Vr.prototype.delete=function wi(u){var w=this.has(u)&&delete this.__data__[u];return this.size-=w?1:0,w},Vr.prototype.get=function wb(u){var w=this.__data__;if(ga){var P=w[u];return P===fe?me:P}return pr.call(w,u)?w[u]:me},Vr.prototype.has=function Hd(u){var w=this.__data__;return ga?w[u]!==me:pr.call(w,u)},Vr.prototype.set=function ma(u,w){var P=this.__data__;return this.size+=this.has(u)?0:1,P[u]=ga&&w===me?fe:w,this},Ys.prototype.clear=function qg(){this.__data__=[],this.size=0},Ys.prototype.delete=function IM(u){var w=this.__data__,P=Of(w,u);return!(P<0||(P==w.length-1?w.pop():Zg.call(w,P,1),--this.size,0))},Ys.prototype.get=function m1(u){var w=this.__data__,P=Of(w,u);return P<0?me:w[P][1]},Ys.prototype.has=function _M(u){return Of(this.__data__,u)>-1},Ys.prototype.set=function Ib(u,w){var P=this.__data__,ee=Of(P,u);return ee<0?(++this.size,P.push([u,w])):P[ee][1]=w,this},Gr.prototype.clear=function Ga(){this.size=0,this.__data__={hash:new Vr,map:new(Tl||Ys),string:new Vr}},Gr.prototype.delete=function _b(u){var w=th(this,u).delete(u);return this.size-=w?1:0,w},Gr.prototype.get=function Du(u){return th(this,u).get(u)},Gr.prototype.has=function Wa(u){return th(this,u).has(u)},Gr.prototype.set=function v1(u,w){var P=th(this,u),ee=P.size;return P.set(u,w),this.size+=P.size==ee?0:1,this},kl.prototype.add=kl.prototype.push=function y1(u){return this.__data__.set(u,fe),this},kl.prototype.has=function b1(u){return this.__data__.has(u)},is.prototype.clear=function Qg(){this.__data__=new Ys,this.size=0},is.prototype.delete=function Ab(u){var w=this.__data__,P=w.delete(u);return this.size=w.size,P},is.prototype.get=function em(u){return this.__data__.get(u)},is.prototype.has=function C1(u){return this.__data__.has(u)},is.prototype.set=function Sb(u,w){var P=this.__data__;if(P instanceof Ys){var ee=P.__data__;if(!Tl||ee.length<199)return ee.push([u,w]),this.size=++P.size,this;P=this.__data__=new Gr(ee)}return P.set(u,w),this.size=P.size,this};var Js=Yb(Po),Vd=Yb(Wd,!0);function rm(u,w){var P=!0;return Js(u,function(ee,ve,Se){return P=!!w(ee,ve,Se)}),P}function Gd(u,w,P){for(var ee=-1,ve=u.length;++ee<ve;){var Se=u[ee],Me=w(Se);if(null!=Me&&(Oe===me?Me==Me&&!no(Me):P(Me,Oe)))var Oe=Me,Ge=Se}return Ge}function ja(u,w){var P=[];return Js(u,function(ee,ve,Se){w(ee,ve,Se)&&P.push(ee)}),P}function ni(u,w,P,ee,ve){var Se=-1,Me=u.length;for(P||(P=nC),ve||(ve=[]);++Se<Me;){var Oe=u[Se];w>0&&P(Oe)?w>1?ni(Oe,w-1,P,ee,ve):js(ve,Oe):ee||(ve[ve.length]=Oe)}return ve}var im=Jb(),Db=Jb(!0);function Po(u,w){return u&&im(u,w,Di)}function Wd(u,w){return u&&Db(u,w,Di)}function Lf(u,w){return bc(w,function(P){return _a(u[P])})}function kc(u,w){for(var P=0,ee=(w=Ca(w,u)).length;null!=u&&P<ee;)u=u[Ia(w[P++])];return P&&P==ee?u:me}function A1(u,w,P){var ee=w(u);return gn(u)?ee:js(ee,P(u))}function Fo(u){return null==u?u===me?"[object Undefined]":"[object Null]":Sc&&Sc in ir(u)?function $u(u){var w=pr.call(u,Sc),P=u[Sc];try{u[Sc]=me;var ee=!0}catch{}var ve=jg.call(u);return ee&&(w?u[Sc]=P:delete u[Sc]),ve}(u):function TM(u){return jg.call(u)}(u)}function Mu(u,w){return u>w}function Mb(u,w){return null!=u&&pr.call(u,w)}function Nb(u,w){return null!=u&&w in ir(u)}function Ff(u,w,P){for(var ee=P?Sl:$g,ve=u[0].length,Se=u.length,Me=Se,Oe=Ke(Se),Ge=1/0,st=[];Me--;){var lt=u[Me];Me&&w&&(lt=Jt(lt,Pr(w))),Ge=ki(lt.length,Ge),Oe[Me]=!P&&(w||ve>=120&&lt.length>=120)?new kl(Me&&lt):me}lt=u[0];var dt=-1,Lt=Oe[0];e:for(;++dt<ve&&st.length<Ge;){var Ut=lt[dt],ln=w?w(Ut):Ut;if(Ut=P||0!==Ut?Ut:0,!(Lt?pn(Lt,ln):ee(st,ln,P))){for(Me=Se;--Me;){var Tn=Oe[Me];if(!(Tn?pn(Tn,ln):ee(u[Me],ln,P)))continue e}Lt&&Lt.push(ln),st.push(Ut)}}return st}function va(u,w,P){var ee=null==(u=Z1(u,w=Ca(w,u)))?u:u[Ia(as(w))];return null==ee?me:Hr(ee,u,P)}function Ob(u){return jr(u)&&Fo(u)==N}function Nl(u,w,P,ee,ve){return u===w||(null==u||null==w||!jr(u)&&!jr(w)?u!=u&&w!=w:function AM(u,w,P,ee,ve,Se){var Me=gn(u),Oe=gn(w),Ge=Me?K:bo(u),st=Oe?K:bo(w),lt=(Ge=Ge==N?G:Ge)==G,dt=(st=st==N?G:st)==G,Lt=Ge==st;if(Lt&&$l(u)){if(!$l(w))return!1;Me=!0,lt=!1}if(Lt&&!lt)return Se||(Se=new is),Me||ls(u)?qb(u,w,P,ee,ve,Se):function F1(u,w,P,ee,ve,Se,Me){switch(P){case At:if(u.byteLength!=w.byteLength||u.byteOffset!=w.byteOffset)return!1;u=u.buffer,w=w.buffer;case Ot:return!(u.byteLength!=w.byteLength||!Se(new zg(u),new zg(w)));case Q:case be:case se:return qs(+u,+w);case pe:return u.name==w.name&&u.message==w.message;case ce:case Ve:return u==w+"";case re:var Oe=xl;case Ae:if(Oe||(Oe=bi),u.size!=w.size&&!(1&ee))return!1;var st=Me.get(u);if(st)return st==w;ee|=2,Me.set(u,w);var lt=qb(Oe(u),Oe(w),ee,ve,Se,Me);return Me.delete(u),lt;case nt:if(Eu)return Eu.call(u)==Eu.call(w)}return!1}(u,w,Ge,P,ee,ve,Se);if(!(1&P)){var Ut=lt&&pr.call(u,"__wrapped__"),ln=dt&&pr.call(w,"__wrapped__");if(Ut||ln){var Tn=Ut?u.value():u,cn=ln?w.value():w;return Se||(Se=new is),ve(Tn,cn,P,ee,Se)}}return!!Lt&&(Se||(Se=new is),function Cm(u,w,P,ee,ve,Se){var Me=1&P,Oe=zf(u),Ge=Oe.length;if(Ge!=zf(w).length&&!Me)return!1;for(var dt=Ge;dt--;){var Lt=Oe[dt];if(!(Me?Lt in w:pr.call(w,Lt)))return!1}var Ut=Se.get(u),ln=Se.get(w);if(Ut&&ln)return Ut==w&&ln==u;var Tn=!0;Se.set(u,w),Se.set(w,u);for(var cn=Me;++dt<Ge;){var Ln=u[Lt=Oe[dt]],Un=w[Lt];if(ee)var hi=Me?ee(Un,Ln,Lt,w,u,Se):ee(Ln,Un,Lt,u,w,Se);if(!(hi===me?Ln===Un||ve(Ln,Un,P,ee,Se):hi)){Tn=!1;break}cn||(cn="constructor"==Lt)}if(Tn&&!cn){var Hi=u.constructor,us=w.constructor;Hi!=us&&"constructor"in u&&"constructor"in w&&!("function"==typeof Hi&&Hi instanceof Hi&&"function"==typeof us&&us instanceof us)&&(Tn=!1)}return Se.delete(u),Se.delete(w),Tn}(u,w,P,ee,ve,Se))}(u,w,P,ee,Nl,ve))}function Bf(u,w,P,ee){var ve=P.length,Se=ve,Me=!ee;if(null==u)return!Se;for(u=ir(u);ve--;){var Oe=P[ve];if(Me&&Oe[2]?Oe[1]!==u[Oe[0]]:!(Oe[0]in u))return!1}for(;++ve<Se;){var Ge=(Oe=P[ve])[0],st=u[Ge],lt=Oe[1];if(Me&&Oe[2]){if(st===me&&!(Ge in u))return!1}else{var dt=new is;if(ee)var Lt=ee(st,lt,Ge,u,w,dt);if(!(Lt===me?Nl(lt,st,3,ee,dt):Lt))return!1}}return!0}function Pb(u){return!(!Wr(u)||function G1(u){return!!o1&&o1 in u}(u))&&(_a(u)?CM:Nn).test(Ll(u))}function $f(u){return"function"==typeof u?u:null==u?Vo:"object"==typeof u?gn(u)?am(u[0],u[1]):sm(u):cp(u)}function Ud(u){if(!Gc(u))return Jg(u);var w=[];for(var P in ir(u))pr.call(u,P)&&"constructor"!=P&&w.push(P);return w}function Ru(u,w){return u<w}function Fb(u,w){var P=-1,ee=to(u)?Ke(u.length):[];return Js(u,function(ve,Se,Me){ee[++P]=w(ve,Se,Me)}),ee}function sm(u){var w=Im(u);return 1==w.length&&w[0][2]?U1(w[0][0],w[0][1]):function(P){return P===u||Bf(P,u,w)}}function am(u,w){return rC(u)&&j1(w)?U1(Ia(u),w):function(P){var ee=gh(P,u);return ee===me&&ee===w?sv(P,u):Nl(w,ee,3)}}function zd(u,w,P,ee,ve){u!==w&&im(w,function(Se,Me){if(ve||(ve=new is),Wr(Se))!function Bb(u,w,P,ee,ve,Se,Me){var Oe=Kf(u,P),Ge=Kf(w,P),st=Me.get(Ge);if(st)Rf(u,P,st);else{var lt=Se?Se(Oe,Ge,P+"",u,w,Me):me,dt=lt===me;if(dt){var Lt=gn(Ge),Ut=!Lt&&$l(Ge),ln=!Lt&&!Ut&&ls(Ge);lt=Ge,Lt||Ut||ln?gn(Oe)?lt=Oe:Yr(Oe)?lt=yo(Oe):Ut?(dt=!1,lt=$o(Ge,!0)):ln?(dt=!1,lt=hm(Ge,!0)):lt=[]:dh(Ge)||Tr(Ge)?(lt=Oe,Tr(Oe)?lt=sp(Oe):(!Wr(Oe)||_a(Oe))&&(lt=tC(Ge))):dt=!1}dt&&(Me.set(Ge,lt),ve(lt,Ge,ee,Se,Me),Me.delete(Ge)),Rf(u,P,lt)}}(u,w,Me,P,zd,ee,ve);else{var Oe=ee?ee(Kf(u,Me),Se,Me+"",u,w,ve):me;Oe===me&&(Oe=Se),Rf(u,Me,Oe)}},Ho)}function $b(u,w){var P=u.length;if(P)return Ua(w+=w<0?P:0,P)?u[w]:me}function Zd(u,w,P){w=w.length?Jt(w,function(Se){return gn(Se)?function(Me){return kc(Me,1===Se.length?Se[0]:Se)}:Se}):[Vo];var ee=-1;return w=Jt(w,Pr(qt())),function ur($e,qe){var Ke=$e.length;for($e.sort(qe);Ke--;)$e[Ke]=$e[Ke].value;return $e}(Fb(u,function(Se,Me,Oe){return{criteria:Jt(w,function(st){return st(Se)}),index:++ee,value:Se}}),function(Se,Me){return function D1(u,w,P){for(var ee=-1,ve=u.criteria,Se=w.criteria,Me=ve.length,Oe=P.length;++ee<Me;){var Ge=Kb(ve[ee],Se[ee]);if(Ge)return ee>=Oe?Ge:Ge*("desc"==P[ee]?-1:1)}return u.index-w.index}(Se,Me,P)})}function Hb(u,w,P){for(var ee=-1,ve=w.length,Se={};++ee<ve;){var Me=w[ee],Oe=kc(u,Me);P(Oe,Me)&&ba(Se,Ca(Me,u),Oe)}return Se}function Vf(u,w,P,ee){var ve=ee?gb:Cc,Se=-1,Me=w.length,Oe=u;for(u===w&&(w=yo(w)),P&&(Oe=Jt(u,Pr(P)));++Se<Me;)for(var Ge=0,st=w[Se],lt=P?P(st):st;(Ge=ve(Oe,lt,Ge,ee))>-1;)Oe!==u&&Zg.call(Oe,Ge,1),Zg.call(u,Ge,1);return u}function Dc(u,w){for(var P=u?w.length:0,ee=P-1;P--;){var ve=w[P];if(P==ee||ve!==Se){var Se=ve;Ua(ve)?Zg.call(u,ve,1):jb(u,ve)}}return u}function lm(u,w){return u+$d(ti()*(w-u+1))}function Yd(u,w){var P="";if(!u||w<1||w>j)return P;do{w%2&&(P+=u),(w=$d(w/2))&&(u+=u)}while(w);return P}function xn(u,w){return Jf(z1(u,w,Vo),u+"")}function Gb(u){return tm(Uu(u))}function Mc(u,w){var P=Uu(u);return Xf(P,Ec(w,0,P.length))}function ba(u,w,P,ee){if(!Wr(u))return u;for(var ve=-1,Se=(w=Ca(w,u)).length,Me=Se-1,Oe=u;null!=Oe&&++ve<Se;){var Ge=Ia(w[ve]),st=P;if("__proto__"===Ge||"constructor"===Ge||"prototype"===Ge)return u;if(ve!=Me){var lt=Oe[Ge];(st=ee?ee(lt,Ge,Oe):me)===me&&(st=Wr(lt)?lt:Ua(w[ve+1])?[]:{})}Tc(Oe,Ge,st),Oe=Oe[Ge]}return u}var Nc=Xi?function(u,w){return Xi.set(u,w),u}:Vo,Ou=ui?function(u,w){return ui(u,"toString",{configurable:!0,enumerable:!1,value:Vl(w),writable:!0})}:Vo;function Wb(u){return Xf(Uu(u))}function Bo(u,w,P){var ee=-1,ve=u.length;w<0&&(w=-w>ve?0:ve+w),(P=P>ve?ve:P)<0&&(P+=ve),ve=w>P?0:P-w>>>0,w>>>=0;for(var Se=Ke(ve);++ee<ve;)Se[ee]=u[ee+w];return Se}function Lu(u,w){var P;return Js(u,function(ee,ve,Se){return!(P=w(ee,ve,Se))}),!!P}function cm(u,w,P){var ee=0,ve=null==u?ee:u.length;if("number"==typeof w&&w==w&&ve<=2147483647){for(;ee<ve;){var Se=ee+ve>>>1,Me=u[Se];null!==Me&&!no(Me)&&(P?Me<=w:Me<w)?ee=Se+1:ve=Se}return ve}return um(u,w,Vo,P)}function um(u,w,P,ee){var ve=0,Se=null==u?0:u.length;if(0===Se)return 0;for(var Me=(w=P(w))!=w,Oe=null===w,Ge=no(w),st=w===me;ve<Se;){var lt=$d((ve+Se)/2),dt=P(u[lt]),Lt=dt!==me,Ut=null===dt,ln=dt==dt,Tn=no(dt);if(Me)var cn=ee||ln;else cn=st?ln&&(ee||Lt):Oe?ln&&Lt&&(ee||!Ut):Ge?ln&&Lt&&!Ut&&(ee||!Tn):!Ut&&!Tn&&(ee?dt<=w:dt<w);cn?ve=lt+1:Se=lt}return ki(Se,4294967294)}function zt(u,w){for(var P=-1,ee=u.length,ve=0,Se=[];++P<ee;){var Me=u[P],Oe=w?w(Me):Me;if(!P||!qs(Oe,Ge)){var Ge=Oe;Se[ve++]=0===Me?0:Me}}return Se}function x1(u){return"number"==typeof u?u:no(u)?Y:+u}function Ns(u){if("string"==typeof u)return u;if(gn(u))return Jt(u,Ns)+"";if(no(u))return p1?p1.call(u):"";var w=u+"";return"0"==w&&1/u==-$?"-0":w}function Rc(u,w,P){var ee=-1,ve=$g,Se=u.length,Me=!0,Oe=[],Ge=Oe;if(P)Me=!1,ve=Sl;else if(Se>=200){var st=w?null:Et(u);if(st)return bi(st);Me=!1,ve=pn,Ge=new kl}else Ge=w?[]:Oe;e:for(;++ee<Se;){var lt=u[ee],dt=w?w(lt):lt;if(lt=P||0!==lt?lt:0,Me&&dt==dt){for(var Lt=Ge.length;Lt--;)if(Ge[Lt]===dt)continue e;w&&Ge.push(dt),Oe.push(lt)}else ve(Ge,dt,P)||(Ge!==Oe&&Ge.push(dt),Oe.push(lt))}return Oe}function jb(u,w){return null==(u=Z1(u,w=Ca(w,u)))||delete u[Ia(as(w))]}function T1(u,w,P,ee){return ba(u,w,P(kc(u,w)),ee)}function dm(u,w,P,ee){for(var ve=u.length,Se=ee?ve:-1;(ee?Se--:++Se<ve)&&w(u[Se],Se,u););return P?Bo(u,ee?0:Se,ee?Se+1:ve):Bo(u,ee?Se+1:0,ee?ve:Se)}function E1(u,w){var P=u;return P instanceof On&&(P=P.value()),Md(w,function(ee,ve){return ve.func.apply(ve.thisArg,js([ee],ve.args))},P)}function Oc(u,w,P){var ee=u.length;if(ee<2)return ee?Rc(u[0]):[];for(var ve=-1,Se=Ke(ee);++ve<ee;)for(var Me=u[ve],Oe=-1;++Oe<ee;)Oe!=ve&&(Se[ve]=Ml(Se[ve]||Me,u[Oe],w,P));return Rc(ni(Se,1),w,P)}function k1(u,w,P){for(var ee=-1,ve=u.length,Se=w.length,Me={};++ee<ve;)P(Me,u[ee],ee<Se?w[ee]:me);return Me}function Ub(u){return Yr(u)?u:[]}function ri(u){return"function"==typeof u?u:Vo}function Ca(u,w){return gn(u)?u:rC(u,w)?[u]:sC(Xn(u))}var Jd=xn;function Lc(u,w,P){var ee=u.length;return P=P===me?ee:P,!w&&P>=ee?u:Bo(u,w,P)}var zb=vb||function(u){return Ti.clearTimeout(u)};function $o(u,w){if(w)return u.slice();var P=u.length,ee=s1?s1(P):new u.constructor(P);return u.copy(ee),ee}function Xs(u){var w=new u.constructor(u.byteLength);return new zg(w).set(new zg(u)),w}function hm(u,w){var P=w?Xs(u.buffer):u.buffer;return new u.constructor(P,u.byteOffset,u.length)}function Kb(u,w){if(u!==w){var P=u!==me,ee=null===u,ve=u==u,Se=no(u),Me=w!==me,Oe=null===w,Ge=w==w,st=no(w);if(!Oe&&!st&&!Se&&u>w||Se&&Me&&Ge&&!Oe&&!st||ee&&Me&&Ge||!P&&Ge||!ve)return 1;if(!ee&&!Se&&!st&&u<w||st&&P&&ve&&!ee&&!Se||Oe&&P&&ve||!Me&&ve||!Ge)return-1}return 0}function M1(u,w,P,ee){for(var ve=-1,Se=u.length,Me=P.length,Oe=-1,Ge=w.length,st=Ci(Se-Me,0),lt=Ke(Ge+st),dt=!ee;++Oe<Ge;)lt[Oe]=w[Oe];for(;++ve<Me;)(dt||ve<Se)&&(lt[P[ve]]=u[ve]);for(;st--;)lt[Oe++]=u[ve++];return lt}function N1(u,w,P,ee){for(var ve=-1,Se=u.length,Me=-1,Oe=P.length,Ge=-1,st=w.length,lt=Ci(Se-Oe,0),dt=Ke(lt+st),Lt=!ee;++ve<lt;)dt[ve]=u[ve];for(var Ut=ve;++Ge<st;)dt[Ut+Ge]=w[Ge];for(;++Me<Oe;)(Lt||ve<Se)&&(dt[Ut+P[Me]]=u[ve++]);return dt}function yo(u,w){var P=-1,ee=u.length;for(w||(w=Ke(ee));++P<ee;)w[P]=u[P];return w}function Kr(u,w,P,ee){var ve=!P;P||(P={});for(var Se=-1,Me=w.length;++Se<Me;){var Oe=w[Se],Ge=ee?ee(P[Oe],u[Oe],Oe,P,u):me;Ge===me&&(Ge=u[Oe]),ve?Jn(P,Oe,Ge):Tc(P,Oe,Ge)}return P}function pm(u,w){return function(P,ee){var ve=gn(P)?mM:w1,Se=w?w():{};return ve(P,u,qt(ee,2),Se)}}function Pc(u){return xn(function(w,P){var ee=-1,ve=P.length,Se=ve>1?P[ve-1]:me,Me=ve>2?P[2]:me;for(Se=u.length>3&&"function"==typeof Se?(ve--,Se):me,Me&&Qi(P[0],P[1],Me)&&(Se=ve<3?me:Se,ve=1),w=ir(w);++ee<ve;){var Oe=P[ee];Oe&&u(w,Oe,ee,Se)}return w})}function Yb(u,w){return function(P,ee){if(null==P)return P;if(!to(P))return u(P,ee);for(var ve=P.length,Se=w?ve:-1,Me=ir(P);(w?Se--:++Se<ve)&&!1!==ee(Me[Se],Se,Me););return P}}function Jb(u){return function(w,P,ee){for(var ve=-1,Se=ir(w),Me=ee(w),Oe=Me.length;Oe--;){var Ge=Me[u?Oe:++ve];if(!1===P(Se[Ge],Ge,Se))break}return w}}function Xb(u){return function(w){var P=pa(w=Xn(w))?ks(w):me,ee=P?P[0]:w.charAt(0),ve=P?Lc(P,1).join(""):w.slice(1);return ee[u]()+ve}}function Fu(u){return function(w){return Md(bS(o0(w).replace(ub,"")),u,"")}}function qd(u){return function(){var w=arguments;switch(w.length){case 0:return new u;case 1:return new u(w[0]);case 2:return new u(w[0],w[1]);case 3:return new u(w[0],w[1],w[2]);case 4:return new u(w[0],w[1],w[2],w[3]);case 5:return new u(w[0],w[1],w[2],w[3],w[4]);case 6:return new u(w[0],w[1],w[2],w[3],w[4],w[5]);case 7:return new u(w[0],w[1],w[2],w[3],w[4],w[5],w[6])}var P=ku(u.prototype),ee=u.apply(P,w);return Wr(ee)?ee:P}}function Qd(u){return function(w,P,ee){var ve=ir(w);if(!to(w)){var Se=qt(P,3);w=Di(w),P=function(Oe){return Se(ve[Oe],Oe,ve)}}var Me=u(w,P,ee);return Me>-1?ve[Se?w[Me]:Me]:me}}function O1(u){return ss(function(w){var P=w.length,ee=P,ve=rs.prototype.thru;for(u&&w.reverse();ee--;){var Se=w[ee];if("function"!=typeof Se)throw new Zs(V);if(ve&&!Me&&"wrapper"==eh(Se))var Me=new rs([],!0)}for(ee=Me?ee:P;++ee<P;){var Oe=eh(Se=w[ee]),Ge="wrapper"==Oe?wm(Se):me;Me=Ge&&oC(Ge[0])&&424==Ge[1]&&!Ge[4].length&&1==Ge[9]?Me[eh(Ge[0])].apply(Me,Ge[3]):1==Se.length&&oC(Se)?Me[Oe]():Me.thru(Se)}return function(){var st=arguments,lt=st[0];if(Me&&1==st.length&&gn(lt))return Me.plant(lt).value();for(var dt=0,Lt=P?w[dt].apply(this,st):lt;++dt<P;)Lt=w[dt].call(this,Lt);return Lt}})}function Rl(u,w,P,ee,ve,Se,Me,Oe,Ge,st){var lt=w&p,dt=1&w,Lt=2&w,Ut=24&w,ln=512&w,Tn=Lt?me:qd(u);return function cn(){for(var Ln=arguments.length,Un=Ke(Ln),hi=Ln;hi--;)Un[hi]=arguments[hi];if(Ut)var Hi=wa(cn),us=wc(Un,Hi);if(ee&&(Un=M1(Un,ee,ve,Ut)),Se&&(Un=N1(Un,Se,Me,Ut)),Ln-=us,Ut&&Ln<st){var Jr=Lo(Un,Hi);return Bc(u,w,Rl,cn.placeholder,P,Un,Jr,Oe,Ge,st-Ln)}var ds=dt?P:this,Aa=Lt?ds[u]:u;return Ln=Un.length,Oe?Un=K1(Un,Oe):ln&&Ln>1&&Un.reverse(),lt&&Ge<Ln&&(Un.length=Ge),this&&this!==Ti&&this instanceof cn&&(Aa=Tn||qd(Aa)),Aa.apply(ds,Un)}}function Wf(u,w){return function(P,ee){return function Rb(u,w,P,ee){return Po(u,function(ve,Se,Me){w(ee,P(ve),Se,Me)}),ee}(P,u,w(ee),{})}}function Fc(u,w){return function(P,ee){var ve;if(P===me&&ee===me)return w;if(P!==me&&(ve=P),ee!==me){if(ve===me)return ee;"string"==typeof P||"string"==typeof ee?(P=Ns(P),ee=Ns(ee)):(P=x1(P),ee=x1(ee)),ve=u(P,ee)}return ve}}function mm(u){return ss(function(w){return w=Jt(w,Pr(qt())),xn(function(P){var ee=this;return u(w,function(ve){return Hr(ve,ee,P)})})})}function jf(u,w){var P=(w=w===me?" ":Ns(w)).length;if(P<2)return P?Yd(w,u):w;var ee=Yd(w,Bd(u/zs(w)));return pa(w)?Lc(ks(ee),0,u).join(""):ee.slice(0,u)}function vm(u){return function(w,P,ee){return ee&&"number"!=typeof ee&&Qi(w,P,ee)&&(P=ee=me),w=Za(w),P===me?(P=w,w=0):P=Za(P),function di(u,w,P,ee){for(var ve=-1,Se=Ci(Bd((w-u)/(P||1)),0),Me=Ke(Se);Se--;)Me[ee?Se:++ve]=u,u+=P;return Me}(w,P,ee=ee===me?w<P?1:-1:Za(ee),u)}}function Ol(u){return function(w,P){return"string"==typeof w&&"string"==typeof P||(w=Rs(w),P=Rs(P)),u(w,P)}}function Bc(u,w,P,ee,ve,Se,Me,Oe,Ge,st){var lt=8&w;w|=lt?f:64,4&(w&=~(lt?64:f))||(w&=-4);var Tn=[u,w,ve,lt?Se:me,lt?Me:me,lt?me:Se,lt?me:Me,Oe,Ge,st],cn=P.apply(me,Tn);return oC(u)&&Yf(cn,Tn),cn.placeholder=ee,Am(cn,u,w)}function ym(u){var w=Zr[u];return function(P,ee){if(P=Rs(P),(ee=null==ee?0:ki(Cn(ee),292))&&yb(P)){var ve=(Xn(P)+"e").split("e");return+((ve=(Xn(w(ve[0]+"e"+(+ve[1]+ee)))+"e").split("e"))[0]+"e"+(+ve[1]-ee))}return w(P)}}var Et=xu&&1/bi(new xu([,-0]))[1]==$?function(u){return new xu(u)}:hv;function bm(u){return function(w){var P=bo(w);return P==re?xl(w):P==Ae?function Od($e){var qe=-1,Ke=Array($e.size);return $e.forEach(function(Tt){Ke[++qe]=[Tt,Tt]}),Ke}(w):function Au($e,qe){return Jt(qe,function(Ke){return[Ke,$e[Ke]]})}(w,u(w))}}function dr(u,w,P,ee,ve,Se,Me,Oe){var Ge=2&w;if(!Ge&&"function"!=typeof u)throw new Zs(V);var st=ee?ee.length:0;if(st||(w&=-97,ee=ve=me),Me=Me===me?Me:Ci(Cn(Me),0),Oe=Oe===me?Oe:Cn(Oe),st-=ve?ve.length:0,64&w){var lt=ee,dt=ve;ee=ve=me}var Lt=Ge?me:wm(u),Ut=[u,w,P,ee,ve,lt,dt,Se,Me,Oe];if(Lt&&function SM(u,w){var P=u[1],ee=w[1],ve=P|ee;if(!(ve<131||(ee==p&&8==P||ee==p&&256==P&&u[7].length<=w[8]||384==ee&&w[7].length<=w[8]&&8==P)))return u;1&ee&&(u[2]=w[2],ve|=1&P?0:4);var Oe=w[3];if(Oe){var Ge=u[3];u[3]=Ge?M1(Ge,Oe,w[4]):Oe,u[4]=Ge?Lo(u[3],ye):w[4]}(Oe=w[5])&&(u[5]=(Ge=u[5])?N1(Ge,Oe,w[6]):Oe,u[6]=Ge?Lo(u[5],ye):w[6]),(Oe=w[7])&&(u[7]=Oe),ee&p&&(u[8]=null==u[8]?w[8]:ki(u[8],w[8])),null==u[9]&&(u[9]=w[9]),u[0]=w[0],u[1]=ve}(Ut,Lt),u=Ut[0],w=Ut[1],P=Ut[2],ee=Ut[3],ve=Ut[4],!(Oe=Ut[9]=Ut[9]===me?Ge?0:u.length:Ci(Ut[9]-st,0))&&24&w&&(w&=-25),w&&1!=w)ln=8==w||16==w?function gm(u,w,P){var ee=qd(u);return function ve(){for(var Se=arguments.length,Me=Ke(Se),Oe=Se,Ge=wa(ve);Oe--;)Me[Oe]=arguments[Oe];var st=Se<3&&Me[0]!==Ge&&Me[Se-1]!==Ge?[]:Lo(Me,Ge);return(Se-=st.length)<P?Bc(u,w,Rl,ve.placeholder,me,Me,st,me,me,P-Se):Hr(this&&this!==Ti&&this instanceof ve?ee:u,this,Me)}}(u,w,Oe):w!=f&&33!=w||ve.length?Rl.apply(me,Ut):function L1(u,w,P,ee){var ve=1&w,Se=qd(u);return function Me(){for(var Oe=-1,Ge=arguments.length,st=-1,lt=ee.length,dt=Ke(lt+Ge),Lt=this&&this!==Ti&&this instanceof Me?Se:u;++st<lt;)dt[st]=ee[st];for(;Ge--;)dt[st++]=arguments[++Oe];return Hr(Lt,ve?P:this,dt)}}(u,w,P,ee);else var ln=function R1(u,w,P){var ee=1&w,ve=qd(u);return function Se(){return(this&&this!==Ti&&this instanceof Se?ve:u).apply(ee?P:this,arguments)}}(u,w,P);return Am((Lt?Nc:Yf)(ln,Ut),u,w)}function Uf(u,w,P,ee){return u===me||qs(u,Pd[P])&&!pr.call(ee,P)?w:u}function Bu(u,w,P,ee,ve,Se){return Wr(u)&&Wr(w)&&(Se.set(w,u),zd(u,w,me,Bu,Se),Se.delete(w)),u}function P1(u){return dh(u)?me:u}function qb(u,w,P,ee,ve,Se){var Me=1&P,Oe=u.length,Ge=w.length;if(Oe!=Ge&&!(Me&&Ge>Oe))return!1;var st=Se.get(u),lt=Se.get(w);if(st&&lt)return st==w&&lt==u;var dt=-1,Lt=!0,Ut=2&P?new kl:me;for(Se.set(u,w),Se.set(w,u);++dt<Oe;){var ln=u[dt],Tn=w[dt];if(ee)var cn=Me?ee(Tn,ln,dt,w,u,Se):ee(ln,Tn,dt,u,w,Se);if(cn!==me){if(cn)continue;Lt=!1;break}if(Ut){if(!If(w,function(Ln,Un){if(!pn(Ut,Un)&&(ln===Ln||ve(ln,Ln,P,ee,Se)))return Ut.push(Un)})){Lt=!1;break}}else if(ln!==Tn&&!ve(ln,Tn,P,ee,Se)){Lt=!1;break}}return Se.delete(u),Se.delete(w),Lt}function ss(u){return Jf(z1(u,me,dC),u+"")}function zf(u){return A1(u,Di,Vc)}function $c(u){return A1(u,Ho,Qb)}var wm=Xi?function(u){return Xi.get(u)}:hv;function eh(u){for(var w=u.name+"",P=Tu[w],ee=pr.call(Tu,w)?P.length:0;ee--;){var ve=P[ee],Se=ve.func;if(null==Se||Se==u)return ve.name}return w}function wa(u){return(pr.call(_e,"placeholder")?_e:u).placeholder}function qt(){var u=_e.iteratee||lp;return u=u===lp?$f:u,arguments.length?u(arguments[0],arguments[1]):u}function th(u,w){var P=u.__data__;return function iC(u){var w=typeof u;return"string"==w||"number"==w||"symbol"==w||"boolean"==w?"__proto__"!==u:null===u}(w)?P["string"==typeof w?"string":"hash"]:P.map}function Im(u){for(var w=Di(u),P=w.length;P--;){var ee=w[P],ve=u[ee];w[P]=[ee,ve,j1(ve)]}return w}function Hc(u,w){var P=function Rd($e,qe){return null==$e?me:$e[qe]}(u,w);return Pb(P)?P:me}var Vc=Kg?function(u){return null==u?[]:(u=ir(u),bc(Kg(u),function(w){return a1.call(u,w)}))}:mh,Qb=Kg?function(u){for(var w=[];u;)js(w,Vc(u)),u=Fd(u);return w}:mh,bo=Fo;function $1(u,w,P){for(var ee=-1,ve=(w=Ca(w,u)).length,Se=!1;++ee<ve;){var Me=Ia(w[ee]);if(!(Se=null!=u&&P(u,Me)))break;u=u[Me]}return Se||++ee!=ve?Se:!!(ve=null==u?0:u.length)&&uh(ve)&&Ua(Me,ve)&&(gn(u)||Tr(u))}function tC(u){return"function"!=typeof u.constructor||Gc(u)?{}:ku(Fd(u))}function nC(u){return gn(u)||Tr(u)||!!(l1&&u&&u[l1])}function Ua(u,w){var P=typeof u;return!!(w=w??j)&&("number"==P||"symbol"!=P&&Bn.test(u))&&u>-1&&u%1==0&&u<w}function Qi(u,w,P){if(!Wr(P))return!1;var ee=typeof w;return!!("number"==ee?to(P)&&Ua(w,P.length):"string"==ee&&w in P)&&qs(P[w],u)}function rC(u,w){if(gn(u))return!1;var P=typeof u;return!("number"!=P&&"symbol"!=P&&"boolean"!=P&&null!=u&&!no(u))||er.test(u)||!Zt.test(u)||null!=w&&u in ir(w)}function oC(u){var w=eh(u),P=_e[w];if("function"!=typeof P||!(w in On.prototype))return!1;if(u===P)return!0;var ee=wm(P);return!!ee&&u===ee[0]}(bb&&bo(new bb(new ArrayBuffer(1)))!=At||Tl&&bo(new Tl)!=re||vo&&bo(vo.resolve())!=W||xu&&bo(new xu)!=Ae||xc&&bo(new xc)!=bt)&&(bo=function(u){var w=Fo(u),P=w==G?u.constructor:me,ee=P?Ll(P):"";if(ee)switch(ee){case Df:return At;case f1:return re;case El:return W;case Cb:return Ae;case Xg:return bt}return w});var W1=Gg?_a:up;function Gc(u){var w=u&&u.constructor;return u===("function"==typeof w&&w.prototype||Pd)}function j1(u){return u==u&&!Wr(u)}function U1(u,w){return function(P){return null!=P&&P[u]===w&&(w!==me||u in ir(P))}}function z1(u,w,P){return w=Ci(w===me?u.length-1:w,0),function(){for(var ee=arguments,ve=-1,Se=Ci(ee.length-w,0),Me=Ke(Se);++ve<Se;)Me[ve]=ee[w+ve];ve=-1;for(var Oe=Ke(w+1);++ve<w;)Oe[ve]=ee[ve];return Oe[w]=P(Me),Hr(u,this,Oe)}}function Z1(u,w){return w.length<2?u:kc(u,Bo(w,0,-1))}function K1(u,w){for(var P=u.length,ee=ki(w.length,P),ve=yo(u);ee--;){var Se=w[ee];u[ee]=Ua(Se,P)?ve[Se]:me}return u}function Kf(u,w){if(("constructor"!==w||"function"!=typeof u[w])&&"__proto__"!=w)return u[w]}var Yf=Co(Nc),Hu=u1||function(u,w){return Ti.setTimeout(u,w)},Jf=Co(Ou);function Am(u,w,P){var ee=w+"";return Jf(u,function Zf(u,w){var P=w.length;if(!P)return u;var ee=P-1;return w[ee]=(P>1?"& ":"")+w[ee],w=w.join(P>2?", ":" "),u.replace(Ng,"{\n/* [wrapped with "+w+"] */\n")}(ee,function Sm(u,w){return Ws(X,function(P){var ee="_."+P[0];w&P[1]&&!$g(u,ee)&&u.push(ee)}),u.sort()}(function B1(u){var w=u.match(bf);return w?w[1].split(Re):[]}(ee),P)))}function Co(u){var w=0,P=0;return function(){var ee=d1(),ve=16-(ee-P);if(P=ee,ve>0){if(++w>=800)return arguments[0]}else w=0;return u.apply(me,arguments)}}function Xf(u,w){var P=-1,ee=u.length,ve=ee-1;for(w=w===me?ee:w;++P<w;){var Se=lm(P,ve),Me=u[Se];u[Se]=u[P],u[P]=Me}return u.length=w,u}var sC=function _m(u){var w=Bl(u,function(ee){return 500===P.size&&P.clear(),ee}),P=w.cache;return w}(function(u){var w=[];return 46===u.charCodeAt(0)&&w.push(""),u.replace(tr,function(P,ee,ve,Se){w.push(ve?Se.replace(Ze,"$1"):ee||P)}),w});function Ia(u){if("string"==typeof u||no(u))return u;var w=u+"";return"0"==w&&1/u==-$?"-0":w}function Ll(u){if(null!=u){try{return Wg.call(u)}catch{}try{return u+""}catch{}}return""}function aC(u){if(u instanceof On)return u.clone();var w=new rs(u.__wrapped__,u.__chain__);return w.__actions__=yo(u.__actions__),w.__index__=u.__index__,w.__values__=u.__values__,w}var X1=xn(function(u,w){return Yr(u)?Ml(u,ni(w,1,Yr,!0)):[]}),q1=xn(function(u,w){var P=as(w);return Yr(P)&&(P=me),Yr(u)?Ml(u,ni(w,1,Yr,!0),qt(P,2)):[]}),wo=xn(function(u,w){var P=as(w);return Yr(P)&&(P=me),Yr(u)?Ml(u,ni(w,1,Yr,!0),me,P):[]});function Em(u,w,P){var ee=null==u?0:u.length;if(!ee)return-1;var ve=null==P?0:Cn(P);return ve<0&&(ve=Ci(ee+ve,0)),_f(u,qt(w,3),ve)}function uC(u,w,P){var ee=null==u?0:u.length;if(!ee)return-1;var ve=ee-1;return P!==me&&(ve=Cn(P),ve=P<0?Ci(ee+ve,0):ki(ve,ee-1)),_f(u,qt(w,3),ve,!0)}function dC(u){return null!=u&&u.length?ni(u,1):[]}function pC(u){return u&&u.length?u[0]:me}var tA=xn(function(u){var w=Jt(u,Ub);return w.length&&w[0]===u[0]?Ff(w):[]}),km=xn(function(u){var w=as(u),P=Jt(u,Ub);return w===as(P)?w=me:P.pop(),P.length&&P[0]===u[0]?Ff(P,qt(w,2)):[]}),Dm=xn(function(u){var w=as(u),P=Jt(u,Ub);return(w="function"==typeof w?w:me)&&P.pop(),P.length&&P[0]===u[0]?Ff(P,me,w):[]});function as(u){var w=null==u?0:u.length;return w?u[w-1]:me}var iA=xn(mC);function mC(u,w){return u&&u.length&&w&&w.length?Vf(u,w):u}var vC=ss(function(u,w){var P=null==u?0:u.length,ee=nm(u,w);return Dc(u,Jt(w,function(ve){return Ua(ve,P)?+ve:ve}).sort(Kb)),ee});function Pl(u){return null==u?u:h1.call(u)}var hA=xn(function(u){return Rc(ni(u,1,Yr,!0))}),fA=xn(function(u){var w=as(u);return Yr(w)&&(w=me),Rc(ni(u,1,Yr,!0),qt(w,2))}),wC=xn(function(u){var w=as(u);return w="function"==typeof w?w:me,Rc(ni(u,1,Yr,!0),me,w)});function qf(u){if(!u||!u.length)return[];var w=0;return u=bc(u,function(P){if(Yr(P))return w=Ci(P.length,w),!0}),Bi(w,function(P){return Jt(u,Af(P))})}function AC(u,w){if(!u||!u.length)return[];var P=qf(u);return null==w?P:Jt(P,function(ee){return Hr(w,me,ee)})}var kM=xn(function(u,w){return Yr(u)?Ml(u,w):[]}),Qf=xn(function(u){return Oc(bc(u,Yr))}),pA=xn(function(u){var w=as(u);return Yr(w)&&(w=me),Oc(bc(u,Yr),qt(w,2))}),SC=xn(function(u){var w=as(u);return w="function"==typeof w?w:me,Oc(bc(u,Yr),me,w)}),xC=xn(qf),EC=xn(function(u){var w=u.length,P=w>1?u[w-1]:me;return P="function"==typeof P?(u.pop(),P):me,AC(u,P)});function ih(u){var w=_e(u);return w.__chain__=!0,w}function oh(u,w){return w(u)}var Bm=ss(function(u){var w=u.length,P=w?u[0]:0,ee=this.__wrapped__,ve=function(Se){return nm(Se,u)};return!(w>1||this.__actions__.length)&&ee instanceof On&&Ua(P)?((ee=ee.slice(P,+P+(w?1:0))).__actions__.push({func:oh,args:[ve],thisArg:me}),new rs(ee,this.__chain__).thru(function(Se){return w&&!Se.length&&Se.push(me),Se})):this.thru(ve)}),DC=pm(function(u,w,P){pr.call(u,P)?++u[P]:Jn(u,P,1)}),Gm=Qd(Em),jc=Qd(uC);function MC(u,w){return(gn(u)?Ws:Js)(u,qt(w,3))}function np(u,w){return(gn(u)?fa:Vd)(u,qt(w,3))}var CA=pm(function(u,w,P){pr.call(u,P)?u[P].push(w):Jn(u,P,[w])}),rp=xn(function(u,w,P){var ee=-1,ve="function"==typeof w,Se=to(u)?Ke(u.length):[];return Js(u,function(Me){Se[++ee]=ve?Hr(w,Me,P):va(Me,w,P)}),Se}),Wm=pm(function(u,w,P){Jn(u,P,w)});function ah(u,w){return(gn(u)?Jt:Fb)(u,qt(w,3))}var OC=pm(function(u,w,P){u[P?0:1].push(w)},function(){return[[],[]]}),xA=xn(function(u,w){if(null==u)return[];var P=w.length;return P>1&&Qi(u,w[0],w[1])?w=[]:P>2&&Qi(w[0],w[1],w[2])&&(w=[w[0]]),Zd(u,ni(w,1),[])}),jm=c1||function(){return Ti.Date.now()};function TA(u,w,P){return w=P?me:w,dr(u,p,me,me,me,me,w=u&&null==w?u.length:w)}function EA(u,w){var P;if("function"!=typeof w)throw new Zs(V);return u=Cn(u),function(){return--u>0&&(P=w.apply(this,arguments)),u<=1&&(w=me),P}}var PC=xn(function(u,w,P){var ee=1;if(P.length){var ve=Lo(P,wa(PC));ee|=f}return dr(u,ee,w,P,ve)}),Um=xn(function(u,w,P){var ee=3;if(P.length){var ve=Lo(P,wa(Um));ee|=f}return dr(w,ee,u,P,ve)});function $C(u,w,P){var ee,ve,Se,Me,Oe,Ge,st=0,lt=!1,dt=!1,Lt=!0;if("function"!=typeof u)throw new Zs(V);function Ut(Jr){var ds=ee,Aa=ve;return ee=ve=me,st=Jr,Me=u.apply(Aa,ds)}function ln(Jr){return st=Jr,Oe=Hu(Ln,w),lt?Ut(Jr):Me}function cn(Jr){var ds=Jr-Ge;return Ge===me||ds>=w||ds<0||dt&&Jr-st>=Se}function Ln(){var Jr=jm();if(cn(Jr))return Un(Jr);Oe=Hu(Ln,function Tn(Jr){var pp=w-(Jr-Ge);return dt?ki(pp,Se-(Jr-st)):pp}(Jr))}function Un(Jr){return Oe=me,Lt&&ee?Ut(Jr):(ee=ve=me,Me)}function us(){var Jr=jm(),ds=cn(Jr);if(ee=arguments,ve=this,Ge=Jr,ds){if(Oe===me)return ln(Ge);if(dt)return zb(Oe),Oe=Hu(Ln,w),Ut(Ge)}return Oe===me&&(Oe=Hu(Ln,w)),Me}return w=Rs(w)||0,Wr(P)&&(lt=!!P.leading,Se=(dt="maxWait"in P)?Ci(Rs(P.maxWait)||0,w):Se,Lt="trailing"in P?!!P.trailing:Lt),us.cancel=function hi(){Oe!==me&&zb(Oe),st=0,ee=Ge=ve=Oe=me},us.flush=function Hi(){return Oe===me?Me:Un(jm())},us}var kA=xn(function(u,w){return kb(u,1,w)}),zm=xn(function(u,w,P){return kb(u,Rs(w)||0,P)});function Bl(u,w){if("function"!=typeof u||null!=w&&"function"!=typeof w)throw new Zs(V);var P=function(){var ee=arguments,ve=w?w.apply(this,ee):ee[0],Se=P.cache;if(Se.has(ve))return Se.get(ve);var Me=u.apply(this,ee);return P.cache=Se.set(ve,Me)||Se,Me};return P.cache=new(Bl.Cache||Gr),P}function ch(u){if("function"!=typeof u)throw new Zs(V);return function(){var w=arguments;switch(w.length){case 0:return!u.call(this);case 1:return!u.call(this,w[0]);case 2:return!u.call(this,w[0],w[1]);case 3:return!u.call(this,w[0],w[1],w[2])}return!u.apply(this,w)}}Bl.Cache=Gr;var VC=Jd(function(u,w){var P=(w=1==w.length&&gn(w[0])?Jt(w[0],Pr(qt())):Jt(ni(w,1),Pr(qt()))).length;return xn(function(ee){for(var ve=-1,Se=ki(ee.length,P);++ve<Se;)ee[ve]=w[ve].call(this,ee[ve]);return Hr(u,this,ee)})}),GC=xn(function(u,w){var P=Lo(w,wa(GC));return dr(u,f,me,w,P)}),DA=xn(function(u,w){var P=Lo(w,wa(DA));return dr(u,64,me,w,P)}),NM=ss(function(u,w){return dr(u,256,me,me,me,w)});function qs(u,w){return u===w||u!=u&&w!=w}var Ym=Ol(Mu),LA=Ol(function(u,w){return u>=w}),Tr=Ob(function(){return arguments}())?Ob:function(u){return jr(u)&&pr.call(u,"callee")&&!a1.call(u,"callee")},gn=Ke.isArray,PA=wf?Pr(wf):function Nu(u){return jr(u)&&Fo(u)==Ot};function to(u){return null!=u&&uh(u.length)&&!_a(u)}function Yr(u){return jr(u)&&to(u)}var $l=Yg||up,BA=pb?Pr(pb):function om(u){return jr(u)&&Fo(u)==be};function Uc(u){if(!jr(u))return!1;var w=Fo(u);return w==pe||"[object DOMException]"==w||"string"==typeof u.message&&"string"==typeof u.name&&!dh(u)}function _a(u){if(!Wr(u))return!1;var w=Fo(u);return w==Te||w==U||"[object AsyncFunction]"==w||"[object Proxy]"==w}function Xm(u){return"number"==typeof u&&u==Cn(u)}function uh(u){return"number"==typeof u&&u>-1&&u%1==0&&u<=j}function Wr(u){var w=typeof u;return null!=u&&("object"==w||"function"==w)}function jr(u){return null!=u&&"object"==typeof u}var qm=ts?Pr(ts):function Lb(u){return jr(u)&&bo(u)==re};function Hl(u){return"number"==typeof u||jr(u)&&Fo(u)==se}function dh(u){if(!jr(u)||Fo(u)!=G)return!1;var w=Fd(u);if(null===w)return!0;var P=pr.call(w,"constructor")&&w.constructor;return"function"==typeof P&&P instanceof P&&Wg.call(P)==yM}var hh=Bg?Pr(Bg):function ya(u){return jr(u)&&Fo(u)==ce},ZC=Q_?Pr(Q_):function S1(u){return jr(u)&&bo(u)==Ae};function Vu(u){return"string"==typeof u||!gn(u)&&jr(u)&&Fo(u)==Ve}function no(u){return"symbol"==typeof u||jr(u)&&Fo(u)==nt}var ls=Ha?Pr(Ha):function jd(u){return jr(u)&&uh(u.length)&&!!Mr[Fo(u)]},WA=Ol(Ru),YC=Ol(function(u,w){return u<=w});function zc(u){if(!u)return[];if(to(u))return Vu(u)?ks(u):yo(u);if(Ks&&u[Ks])return function Sf($e){for(var qe,Ke=[];!(qe=$e.next()).done;)Ke.push(qe.value);return Ke}(u[Ks]());var w=bo(u);return(w==re?xl:w==Ae?bi:Uu)(u)}function Za(u){return u?(u=Rs(u))===$||u===-$?17976931348623157e292*(u<0?-1:1):u==u?u:0:0===u?u:0}function Cn(u){var w=Za(u),P=w%1;return w==w?P?w-P:w:0}function JC(u){return u?Ec(Cn(u),0,ae):0}function Rs(u){if("number"==typeof u)return u;if(no(u))return Y;if(Wr(u)){var w="function"==typeof u.valueOf?u.valueOf():u;u=Wr(w)?w+"":w}if("string"!=typeof u)return 0===u?u:+u;u=Ro(u);var P=tn.test(u);return P||Kn.test(u)?hb(u.slice(2),P?2:8):vn.test(u)?Y:+u}function sp(u){return Kr(u,Ho(u))}function Xn(u){return null==u?"":Ns(u)}var UA=Pc(function(u,w){if(Gc(w)||to(w))Kr(w,Di(w),u);else for(var P in w)pr.call(w,P)&&Tc(u,P,w[P])}),nv=Pc(function(u,w){Kr(w,Ho(w),u)}),rv=Pc(function(u,w,P,ee){Kr(w,Ho(w),u,ee)}),zA=Pc(function(u,w,P,ee){Kr(w,Di(w),u,ee)}),fh=ss(nm),Gu=xn(function(u,w){u=ir(u);var P=-1,ee=w.length,ve=ee>2?w[2]:me;for(ve&&Qi(w[0],w[1],ve)&&(ee=1);++P<ee;)for(var Se=w[P],Me=Ho(Se),Oe=-1,Ge=Me.length;++Oe<Ge;){var st=Me[Oe],lt=u[st];(lt===me||qs(lt,Pd[st])&&!pr.call(u,st))&&(u[st]=Se[st])}return u}),or=xn(function(u){return u.push(me,Bu),Hr(XC,me,u)});function gh(u,w,P){var ee=null==u?me:kc(u,w);return ee===me?P:ee}function sv(u,w){return null!=u&&$1(u,w,Nb)}var av=Wf(function(u,w,P){null!=w&&"function"!=typeof w.toString&&(w=jg.call(w)),u[w]=P},Vl(Vo)),Wu=Wf(function(u,w,P){null!=w&&"function"!=typeof w.toString&&(w=jg.call(w)),pr.call(u,w)?u[w].push(P):u[w]=[P]},qt),qA=xn(va);function Di(u){return to(u)?Nf(u):Ud(u)}function Ho(u){return to(u)?Nf(u,!0):function Hf(u){if(!Wr(u))return function xM(u){var w=[];if(null!=u)for(var P in ir(u))w.push(P);return w}(u);var w=Gc(u),P=[];for(var ee in u)"constructor"==ee&&(w||!pr.call(u,ee))||P.push(ee);return P}(u)}var tS=Pc(function(u,w,P){zd(u,w,P)}),XC=Pc(function(u,w,P,ee){zd(u,w,P,ee)}),ju=ss(function(u,w){var P={};if(null==u)return P;var ee=!1;w=Jt(w,function(Se){return Se=Ca(Se,u),ee||(ee=Se.length>1),Se}),Kr(u,$c(u),P),ee&&(P=Ms(P,7,P1));for(var ve=w.length;ve--;)jb(P,w[ve]);return P}),nS=ss(function(u,w){return null==u?{}:function Kd(u,w){return Hb(u,w,function(P,ee){return sv(u,ee)})}(u,w)});function qC(u,w){if(null==u)return{};var P=Jt($c(u),function(ee){return[ee]});return w=qt(w),Hb(u,P,function(ee,ve){return w(ee,ve[0])})}var rS=bm(Di),lv=bm(Ho);function Uu(u){return null==u?[]:Nt(u,Di(u))}var aS=Fu(function(u,w,P){return w=w.toLowerCase(),u+(P?r0(w):w)});function r0(u){return f0(Xn(u).toLowerCase())}function o0(u){return(u=Xn(u))&&u.replace(Dr,Ei).replace(Og,"")}var uS=Fu(function(u,w,P){return u+(P?"-":"")+w.toLowerCase()}),dS=Fu(function(u,w,P){return u+(P?" ":"")+w.toLowerCase()}),mn=Xb("toLowerCase"),pS=Fu(function(u,w,P){return u+(P?"_":"")+w.toLowerCase()}),gS=Fu(function(u,w,P){return u+(P?" ":"")+f0(w)}),WM=Fu(function(u,w,P){return u+(P?" ":"")+w.toUpperCase()}),f0=Xb("toUpperCase");function bS(u,w,P){return u=Xn(u),(w=P?me:w)===me?function bn($e){return No.test($e)}(u)?function Vg($e){return $e.match(db)||[]}(u):function e1($e){return $e.match(Ee)||[]}(u):u.match(w)||[]}var p0=xn(function(u,w){try{return Hr(u,me,w)}catch(P){return Uc(P)?P:new Xt(P)}}),g0=ss(function(u,w){return Ws(w,function(P){P=Ia(P),Jn(u,P,PC(u[P],u))}),u});function Vl(u){return function(){return u}}var m0=O1(),ap=O1(!0);function Vo(u){return u}function lp(u){return $f("function"==typeof u?u:Ms(u,1))}var AS=xn(function(u,w){return function(P){return va(P,u,w)}}),SS=xn(function(u,w){return function(P){return va(u,P,w)}});function dv(u,w,P){var ee=Di(w),ve=Lf(w,ee);null==P&&(!Wr(w)||!ve.length&&ee.length)&&(P=w,w=u,u=this,ve=Lf(w,Di(w)));var Se=!(Wr(P)&&"chain"in P&&!P.chain),Me=_a(u);return Ws(ve,function(Oe){var Ge=w[Oe];u[Oe]=Ge,Me&&(u.prototype[Oe]=function(){var st=this.__chain__;if(Se||st){var lt=u(this.__wrapped__),dt=lt.__actions__=yo(this.__actions__);return dt.push({func:Ge,args:arguments,thisArg:u}),lt.__chain__=st,lt}return Ge.apply(u,js([this.value()],arguments))})}),u}function hv(){}var b0=mm(Jt),fv=mm(wr),UM=mm(If);function cp(u){return rC(u)?Af(Ia(u)):function Vb(u){return function(w){return kc(w,u)}}(u)}var zM=vm(),Be=vm(!0);function mh(){return[]}function up(){return!1}var gv=Fc(function(u,w){return u+w},0),w0=ym("ceil"),mv=Fc(function(u,w){return u/w},1),ZM=ym("floor"),bv=Fc(function(u,w){return u*w},1),YM=ym("round"),ES=Fc(function(u,w){return u-w},0);return _e.after=function MM(u,w){if("function"!=typeof w)throw new Zs(V);return u=Cn(u),function(){if(--u<1)return w.apply(this,arguments)}},_e.ary=TA,_e.assign=UA,_e.assignIn=nv,_e.assignInWith=rv,_e.assignWith=zA,_e.at=fh,_e.before=EA,_e.bind=PC,_e.bindAll=g0,_e.bindKey=Um,_e.castArray=function MA(){if(!arguments.length)return[];var u=arguments[0];return gn(u)?u:[u]},_e.chain=ih,_e.chunk=function Y1(u,w,P){w=(P?Qi(u,w,P):w===me)?1:Ci(Cn(w),0);var ee=null==u?0:u.length;if(!ee||w<1)return[];for(var ve=0,Se=0,Me=Ke(Bd(ee/w));ve<ee;)Me[Se++]=Bo(u,ve,ve+=w);return Me},_e.compact=function J1(u){for(var w=-1,P=null==u?0:u.length,ee=0,ve=[];++w<P;){var Se=u[w];Se&&(ve[ee++]=Se)}return ve},_e.concat=function lC(){var u=arguments.length;if(!u)return[];for(var w=Ke(u-1),P=arguments[0],ee=u;ee--;)w[ee-1]=arguments[ee];return js(gn(P)?yo(P):[P],ni(w,1))},_e.cond=function jM(u){var w=null==u?0:u.length,P=qt();return u=w?Jt(u,function(ee){if("function"!=typeof ee[1])throw new Zs(V);return[P(ee[0]),ee[1]]}):[],xn(function(ee){for(var ve=-1;++ve<w;){var Se=u[ve];if(Hr(Se[0],this,ee))return Hr(Se[1],this,ee)}})},_e.conforms=function CS(u){return function I1(u){var w=Di(u);return function(P){return Eb(P,u,w)}}(Ms(u,1))},_e.constant=Vl,_e.countBy=DC,_e.create=function ZA(u,w){var P=ku(u);return null==w?P:qi(P,w)},_e.curry=function FC(u,w,P){var ee=dr(u,8,me,me,me,me,me,w=P?me:w);return ee.placeholder=FC.placeholder,ee},_e.curryRight=function BC(u,w,P){var ee=dr(u,16,me,me,me,me,me,w=P?me:w);return ee.placeholder=BC.placeholder,ee},_e.debounce=$C,_e.defaults=Gu,_e.defaultsDeep=or,_e.defer=kA,_e.delay=zm,_e.difference=X1,_e.differenceBy=q1,_e.differenceWith=wo,_e.drop=function xm(u,w,P){var ee=null==u?0:u.length;return ee?Bo(u,(w=P||w===me?1:Cn(w))<0?0:w,ee):[]},_e.dropRight=function cC(u,w,P){var ee=null==u?0:u.length;return ee?Bo(u,0,(w=ee-(w=P||w===me?1:Cn(w)))<0?0:w):[]},_e.dropRightWhile=function Tm(u,w){return u&&u.length?dm(u,qt(w,3),!0,!0):[]},_e.dropWhile=function eo(u,w){return u&&u.length?dm(u,qt(w,3),!0):[]},_e.fill=function nh(u,w,P,ee){var ve=null==u?0:u.length;return ve?(P&&"number"!=typeof P&&Qi(u,w,P)&&(P=0,ee=ve),function _1(u,w,P,ee){var ve=u.length;for((P=Cn(P))<0&&(P=-P>ve?0:ve+P),(ee=ee===me||ee>ve?ve:Cn(ee))<0&&(ee+=ve),ee=P>ee?0:JC(ee);P<ee;)u[P++]=w;return u}(u,w,P,ee)):[]},_e.filter=function tp(u,w){return(gn(u)?bc:ja)(u,qt(w,3))},_e.flatMap=function yA(u,w){return ni(ah(u,w),1)},_e.flatMapDeep=function bA(u,w){return ni(ah(u,w),$)},_e.flatMapDepth=function DM(u,w,P){return P=P===me?1:Cn(P),ni(ah(u,w),P)},_e.flatten=dC,_e.flattenDeep=function hC(u){return null!=u&&u.length?ni(u,$):[]},_e.flattenDepth=function Q1(u,w){return null!=u&&u.length?ni(u,w=w===me?1:Cn(w)):[]},_e.flip=function za(u){return dr(u,512)},_e.flow=m0,_e.flowRight=ap,_e.fromPairs=function fC(u){for(var w=-1,P=null==u?0:u.length,ee={};++w<P;){var ve=u[w];ee[ve[0]]=ve[1]}return ee},_e.functions=function ph(u){return null==u?[]:Lf(u,Di(u))},_e.functionsIn=function XA(u){return null==u?[]:Lf(u,Ho(u))},_e.groupBy=CA,_e.initial=function eA(u){return null!=u&&u.length?Bo(u,0,-1):[]},_e.intersection=tA,_e.intersectionBy=km,_e.intersectionWith=Dm,_e.invert=av,_e.invertBy=Wu,_e.invokeMap=rp,_e.iteratee=lp,_e.keyBy=Wm,_e.keys=Di,_e.keysIn=Ho,_e.map=ah,_e.mapKeys=function QA(u,w){var P={};return w=qt(w,3),Po(u,function(ee,ve,Se){Jn(P,w(ee,ve,Se),ee)}),P},_e.mapValues=function eS(u,w){var P={};return w=qt(w,3),Po(u,function(ee,ve,Se){Jn(P,ve,w(ee,ve,Se))}),P},_e.matches=function IS(u){return sm(Ms(u,1))},_e.matchesProperty=function _S(u,w){return am(u,Ms(w,1))},_e.memoize=Bl,_e.merge=tS,_e.mergeWith=XC,_e.method=AS,_e.methodOf=SS,_e.mixin=dv,_e.negate=ch,_e.nthArg=function y0(u){return u=Cn(u),xn(function(w){return $b(w,u)})},_e.omit=ju,_e.omitBy=function Ka(u,w){return qC(u,ch(qt(w)))},_e.once=function HC(u){return EA(2,u)},_e.orderBy=function RC(u,w,P,ee){return null==u?[]:(gn(w)||(w=null==w?[]:[w]),gn(P=ee?me:P)||(P=null==P?[]:[P]),Zd(u,w,P))},_e.over=b0,_e.overArgs=VC,_e.overEvery=fv,_e.overSome=UM,_e.partial=GC,_e.partialRight=DA,_e.partition=OC,_e.pick=nS,_e.pickBy=qC,_e.property=cp,_e.propertyOf=function xS(u){return function(w){return null==u?me:kc(u,w)}},_e.pull=iA,_e.pullAll=mC,_e.pullAllBy=function Mm(u,w,P){return u&&u.length&&w&&w.length?Vf(u,w,qt(P,2)):u},_e.pullAllWith=function Nm(u,w,P){return u&&u.length&&w&&w.length?Vf(u,w,me,P):u},_e.pullAt=vC,_e.range=zM,_e.rangeRight=Be,_e.rearg=NM,_e.reject=function IA(u,w){return(gn(u)?bc:ja)(u,ch(qt(w,3)))},_e.remove=function EM(u,w){var P=[];if(!u||!u.length)return P;var ee=-1,ve=[],Se=u.length;for(w=qt(w,3);++ee<Se;){var Me=u[ee];w(Me,ee,u)&&(P.push(Me),ve.push(ee))}return Dc(u,ve),P},_e.rest=function Zm(u,w){if("function"!=typeof u)throw new Zs(V);return xn(u,w=w===me?w:Cn(w))},_e.reverse=Pl,_e.sampleSize=function AA(u,w,P){return w=(P?Qi(u,w,P):w===me)?1:Cn(w),(gn(u)?xb:Mc)(u,w)},_e.set=function HM(u,w,P){return null==u?u:ba(u,w,P)},_e.setWith=function QC(u,w,P,ee){return ee="function"==typeof ee?ee:me,null==u?u:ba(u,w,P,ee)},_e.shuffle=function SA(u){return(gn(u)?Tb:Wb)(u)},_e.slice=function Rm(u,w,P){var ee=null==u?0:u.length;return ee?(P&&"number"!=typeof P&&Qi(u,w,P)?(w=0,P=ee):(w=null==w?0:Cn(w),P=P===me?ee:Cn(P)),Bo(u,w,P)):[]},_e.sortBy=xA,_e.sortedUniq=function cA(u){return u&&u.length?zt(u):[]},_e.sortedUniqBy=function uA(u,w){return u&&u.length?zt(u,qt(w,2)):[]},_e.split=function u0(u,w,P){return P&&"number"!=typeof P&&Qi(u,w,P)&&(w=P=me),(P=P===me?ae:P>>>0)?(u=Xn(u))&&("string"==typeof w||null!=w&&!hh(w))&&!(w=Ns(w))&&pa(u)?Lc(ks(u),0,P):u.split(w,P):[]},_e.spread=function Km(u,w){if("function"!=typeof u)throw new Zs(V);return w=null==w?0:Ci(Cn(w),0),xn(function(P){var ee=P[w],ve=Lc(P,0,w);return ee&&js(ve,ee),Hr(u,this,ve)})},_e.tail=function dA(u){var w=null==u?0:u.length;return w?Bo(u,1,w):[]},_e.take=function bC(u,w,P){return u&&u.length?Bo(u,0,(w=P||w===me?1:Cn(w))<0?0:w):[]},_e.takeRight=function Lm(u,w,P){var ee=null==u?0:u.length;return ee?Bo(u,(w=ee-(w=P||w===me?1:Cn(w)))<0?0:w,ee):[]},_e.takeRightWhile=function CC(u,w){return u&&u.length?dm(u,qt(w,3),!1,!0):[]},_e.takeWhile=function Pm(u,w){return u&&u.length?dm(u,qt(w,3)):[]},_e.tap=function ep(u,w){return w(u),u},_e.throttle=function RM(u,w,P){var ee=!0,ve=!0;if("function"!=typeof u)throw new Zs(V);return Wr(P)&&(ee="leading"in P?!!P.leading:ee,ve="trailing"in P?!!P.trailing:ve),$C(u,w,{leading:ee,maxWait:w,trailing:ve})},_e.thru=oh,_e.toArray=zc,_e.toPairs=rS,_e.toPairsIn=lv,_e.toPath=function pv(u){return gn(u)?Jt(u,Ia):no(u)?[u]:yo(sC(Xn(u)))},_e.toPlainObject=sp,_e.transform=function VM(u,w,P){var ee=gn(u),ve=ee||$l(u)||ls(u);if(w=qt(w,4),null==P){var Se=u&&u.constructor;P=ve?ee?new Se:[]:Wr(u)&&_a(Se)?ku(Fd(u)):{}}return(ve?Ws:Po)(u,function(Me,Oe,Ge){return w(P,Me,Oe,Ge)}),P},_e.unary=function OM(u){return TA(u,1)},_e.union=hA,_e.unionBy=fA,_e.unionWith=wC,_e.uniq=function IC(u){return u&&u.length?Rc(u):[]},_e.uniqBy=function Wc(u,w){return u&&u.length?Rc(u,qt(w,2)):[]},_e.uniqWith=function _C(u,w){return w="function"==typeof w?w:me,u&&u.length?Rc(u,me,w):[]},_e.unset=function e0(u,w){return null==u||jb(u,w)},_e.unzip=qf,_e.unzipWith=AC,_e.update=function iS(u,w,P){return null==u?u:T1(u,w,ri(P))},_e.updateWith=function t0(u,w,P,ee){return ee="function"==typeof ee?ee:me,null==u?u:T1(u,w,ri(P),ee)},_e.values=Uu,_e.valuesIn=function oS(u){return null==u?[]:Nt(u,Ho(u))},_e.without=kM,_e.words=bS,_e.wrap=function WC(u,w){return GC(ri(w),u)},_e.xor=Qf,_e.xorBy=pA,_e.xorWith=SC,_e.zip=xC,_e.zipObject=function TC(u,w){return k1(u||[],w||[],Tc)},_e.zipObjectDeep=function Fm(u,w){return k1(u||[],w||[],ba)},_e.zipWith=EC,_e.entries=rS,_e.entriesIn=lv,_e.extend=nv,_e.extendWith=rv,dv(_e,_e),_e.add=gv,_e.attempt=p0,_e.camelCase=aS,_e.capitalize=r0,_e.ceil=w0,_e.clamp=function Qs(u,w,P){return P===me&&(P=w,w=me),P!==me&&(P=(P=Rs(P))==P?P:0),w!==me&&(w=(w=Rs(w))==w?w:0),Ec(Rs(u),w,P)},_e.clone=function NA(u){return Ms(u,4)},_e.cloneDeep=function OA(u){return Ms(u,5)},_e.cloneDeepWith=function jC(u,w){return Ms(u,5,w="function"==typeof w?w:me)},_e.cloneWith=function RA(u,w){return Ms(u,4,w="function"==typeof w?w:me)},_e.conformsTo=function ip(u,w){return null==w||Eb(u,w,Di(w))},_e.deburr=o0,_e.defaultTo=function wS(u,w){return null==u||u!=u?w:u},_e.divide=mv,_e.endsWith=function lS(u,w,P){u=Xn(u),w=Ns(w);var ee=u.length,ve=P=P===me?ee:Ec(Cn(P),0,ee);return(P-=w.length)>=0&&u.slice(P,ve)==w},_e.eq=qs,_e.escape=function s0(u){return(u=Xn(u))&&We.test(u)?u.replace(xe,Ic):u},_e.escapeRegExp=function cS(u){return(u=Xn(u))&&Gs.test(u)?u.replace(kr,"\\$&"):u},_e.every=function Vm(u,w,P){var ee=gn(u)?wr:rm;return P&&Qi(u,w,P)&&(w=me),ee(u,qt(w,3))},_e.find=Gm,_e.findIndex=Em,_e.findKey=function KA(u,w){return yi(u,qt(w,3),Po)},_e.findLast=jc,_e.findLastIndex=uC,_e.findLastKey=function BM(u,w){return yi(u,qt(w,3),Wd)},_e.floor=ZM,_e.forEach=MC,_e.forEachRight=np,_e.forIn=function iv(u,w){return null==u?u:im(u,qt(w,3),Ho)},_e.forInRight=function cs(u,w){return null==u?u:Db(u,qt(w,3),Ho)},_e.forOwn=function YA(u,w){return u&&Po(u,qt(w,3))},_e.forOwnRight=function JA(u,w){return u&&Wd(u,qt(w,3))},_e.get=gh,_e.gt=Ym,_e.gte=LA,_e.has=function ov(u,w){return null!=u&&$1(u,w,Mb)},_e.hasIn=sv,_e.head=pC,_e.identity=Vo,_e.includes=function NC(u,w,P,ee){u=to(u)?u:Uu(u),P=P&&!ee?Cn(P):0;var ve=u.length;return P<0&&(P=Ci(ve+P,0)),Vu(u)?P<=ve&&u.indexOf(w,P)>-1:!!ve&&Cc(u,w,P)>-1},_e.indexOf=function gC(u,w,P){var ee=null==u?0:u.length;if(!ee)return-1;var ve=null==P?0:Cn(P);return ve<0&&(ve=Ci(ee+ve,0)),Cc(u,w,ve)},_e.inRange=function sS(u,w,P){return w=Za(w),P===me?(P=w,w=0):P=Za(P),function Pf(u,w,P){return u>=ki(w,P)&&u<Ci(w,P)}(u=Rs(u),w,P)},_e.invoke=qA,_e.isArguments=Tr,_e.isArray=gn,_e.isArrayBuffer=PA,_e.isArrayLike=to,_e.isArrayLikeObject=Yr,_e.isBoolean=function FA(u){return!0===u||!1===u||jr(u)&&Fo(u)==Q},_e.isBuffer=$l,_e.isDate=BA,_e.isElement=function $A(u){return jr(u)&&1===u.nodeType&&!dh(u)},_e.isEmpty=function HA(u){if(null==u)return!0;if(to(u)&&(gn(u)||"string"==typeof u||"function"==typeof u.splice||$l(u)||ls(u)||Tr(u)))return!u.length;var w=bo(u);if(w==re||w==Ae)return!u.size;if(Gc(u))return!Ud(u).length;for(var P in u)if(pr.call(u,P))return!1;return!0},_e.isEqual=function LM(u,w){return Nl(u,w)},_e.isEqualWith=function PM(u,w,P){var ee=(P="function"==typeof P?P:me)?P(u,w):me;return ee===me?Nl(u,w,me,P):!!ee},_e.isError=Uc,_e.isFinite=function Jm(u){return"number"==typeof u&&yb(u)},_e.isFunction=_a,_e.isInteger=Xm,_e.isLength=uh,_e.isMap=qm,_e.isMatch=function Qm(u,w){return u===w||Bf(u,w,Im(w))},_e.isMatchWith=function FM(u,w,P){return P="function"==typeof P?P:me,Bf(u,w,Im(w),P)},_e.isNaN=function VA(u){return Hl(u)&&u!=+u},_e.isNative=function ev(u){if(W1(u))throw new Xt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Pb(u)},_e.isNil=function zC(u){return null==u},_e.isNull=function UC(u){return null===u},_e.isNumber=Hl,_e.isObject=Wr,_e.isObjectLike=jr,_e.isPlainObject=dh,_e.isRegExp=hh,_e.isSafeInteger=function op(u){return Xm(u)&&u>=-j&&u<=j},_e.isSet=ZC,_e.isString=Vu,_e.isSymbol=no,_e.isTypedArray=ls,_e.isUndefined=function KC(u){return u===me},_e.isWeakMap=function tv(u){return jr(u)&&bo(u)==bt},_e.isWeakSet=function GA(u){return jr(u)&&"[object WeakSet]"==Fo(u)},_e.join=function nA(u,w){return null==u?"":Ds.call(u,w)},_e.kebabCase=uS,_e.last=as,_e.lastIndexOf=function rA(u,w,P){var ee=null==u?0:u.length;if(!ee)return-1;var ve=ee;return P!==me&&(ve=(ve=Cn(P))<0?Ci(ee+ve,0):ki(ve,ee-1)),w==w?function Us($e,qe,Ke){for(var Tt=Ke+1;Tt--;)if($e[Tt]===qe)return Tt;return Tt}(u,w,ve):_f(u,Wn,ve,!0)},_e.lowerCase=dS,_e.lowerFirst=mn,_e.lt=WA,_e.lte=YC,_e.max=function I0(u){return u&&u.length?Gd(u,Vo,Mu):me},_e.maxBy=function KM(u,w){return u&&u.length?Gd(u,qt(w,2),Mu):me},_e.mean=function hp(u){return mb(u,Vo)},_e.meanBy=function fp(u,w){return mb(u,qt(w,2))},_e.min=function vv(u){return u&&u.length?Gd(u,Vo,Ru):me},_e.minBy=function yv(u,w){return u&&u.length?Gd(u,qt(w,2),Ru):me},_e.stubArray=mh,_e.stubFalse=up,_e.stubObject=function dp(){return{}},_e.stubString=function ea(){return""},_e.stubTrue=function C0(){return!0},_e.multiply=bv,_e.nth=function rh(u,w){return u&&u.length?$b(u,Cn(w)):me},_e.noConflict=function v0(){return Ti._===this&&(Ti._=bM),this},_e.noop=hv,_e.now=jm,_e.pad=function ut(u,w,P){u=Xn(u);var ee=(w=Cn(w))?zs(u):0;if(!w||ee>=w)return u;var ve=(w-ee)/2;return jf($d(ve),P)+u+jf(Bd(ve),P)},_e.padEnd=function a0(u,w,P){u=Xn(u);var ee=(w=Cn(w))?zs(u):0;return w&&ee<w?u+jf(w-ee,P):u},_e.padStart=function l0(u,w,P){u=Xn(u);var ee=(w=Cn(w))?zs(u):0;return w&&ee<w?jf(w-ee,P)+u:u},_e.parseInt=function hS(u,w,P){return P||null==w?w=0:w&&(w=+w),wM(Xn(u).replace(Fa,""),w||0)},_e.random=function n0(u,w,P){if(P&&"boolean"!=typeof P&&Qi(u,w,P)&&(w=P=me),P===me&&("boolean"==typeof w?(P=w,w=me):"boolean"==typeof u&&(P=u,u=me)),u===me&&w===me?(u=0,w=1):(u=Za(u),w===me?(w=u,u=0):w=Za(w)),u>w){var ee=u;u=w,w=ee}if(P||u%1||w%1){var ve=ti();return ki(u+ve*(w-u+X_("1e-"+((ve+"").length-1))),w)}return lm(u,w)},_e.reduce=function LC(u,w,P){var ee=gn(u)?Md:mo,ve=arguments.length<3;return ee(u,qt(w,4),P,ve,Js)},_e.reduceRight=function wA(u,w,P){var ee=gn(u)?Hg:mo,ve=arguments.length<3;return ee(u,qt(w,4),P,ve,Vd)},_e.repeat=function fS(u,w,P){return w=(P?Qi(u,w,P):w===me)?1:Cn(w),Yd(Xn(u),w)},_e.replace=function c0(){var u=arguments,w=Xn(u[0]);return u.length<3?w:w.replace(u[1],u[2])},_e.result=function $M(u,w,P){var ee=-1,ve=(w=Ca(w,u)).length;for(ve||(ve=1,u=me);++ee<ve;){var Se=null==u?me:u[Ia(w[ee])];Se===me&&(ee=ve,Se=P),u=_a(Se)?Se.call(u):Se}return u},_e.round=YM,_e.runInContext=$e,_e.sample=function _A(u){return(gn(u)?tm:Gb)(u)},_e.size=function Fl(u){if(null==u)return 0;if(to(u))return Vu(u)?zs(u):u.length;var w=bo(u);return w==re||w==Ae?u.size:Ud(u).length},_e.snakeCase=pS,_e.some=function lh(u,w,P){var ee=gn(u)?If:Lu;return P&&Qi(u,w,P)&&(w=me),ee(u,qt(w,3))},_e.sortedIndex=function yC(u,w){return cm(u,w)},_e.sortedIndexBy=function oA(u,w,P){return um(u,w,qt(P,2))},_e.sortedIndexOf=function Om(u,w){var P=null==u?0:u.length;if(P){var ee=cm(u,w);if(ee<P&&qs(u[ee],w))return ee}return-1},_e.sortedLastIndex=function sA(u,w){return cm(u,w,!0)},_e.sortedLastIndexBy=function aA(u,w,P){return um(u,w,qt(P,2),!0)},_e.sortedLastIndexOf=function lA(u,w){if(null!=u&&u.length){var ee=cm(u,w,!0)-1;if(qs(u[ee],w))return ee}return-1},_e.startCase=gS,_e.startsWith=function mS(u,w,P){return u=Xn(u),P=null==P?0:Ec(Cn(P),0,u.length),w=Ns(w),u.slice(P,P+w.length)==w},_e.subtract=ES,_e.sum=function kS(u){return u&&u.length?Fi(u,Vo):0},_e.sumBy=function DS(u,w){return u&&u.length?Fi(u,qt(w,2)):0},_e.template=function GM(u,w,P){var ee=_e.templateSettings;P&&Qi(u,w,P)&&(w=me),u=Xn(u),w=rv({},w,ee,Uf);var Oe,Ge,ve=rv({},w.imports,ee.imports,Uf),Se=Di(ve),Me=Nt(ve,Se),st=0,lt=w.interpolate||xr,dt="__p += '",Lt=ns((w.escape||xr).source+"|"+lt.source+"|"+(lt===ft?Qe:xr).source+"|"+(w.evaluate||xr).source+"|$","g"),Ut="//# sourceURL="+(pr.call(w,"sourceURL")?(w.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++J_+"]")+"\n";u.replace(Lt,function(cn,Ln,Un,hi,Hi,us){return Un||(Un=hi),dt+=u.slice(st,us).replace(fr,zr),Ln&&(Oe=!0,dt+="' +\n__e("+Ln+") +\n'"),Hi&&(Ge=!0,dt+="';\n"+Hi+";\n__p += '"),Un&&(dt+="' +\n((__t = ("+Un+")) == null ? '' : __t) +\n'"),st=us+cn.length,cn}),dt+="';\n";var ln=pr.call(w,"variable")&&w.variable;if(ln){if(Fe.test(ln))throw new Xt("Invalid `variable` option passed into `_.template`")}else dt="with (obj) {\n"+dt+"\n}\n";dt=(Ge?dt.replace(_t,""):dt).replace(pt,"$1").replace(wt,"$1;"),dt="function("+(ln||"obj")+") {\n"+(ln?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Oe?", __e = _.escape":"")+(Ge?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+dt+"return __p\n}";var Tn=p0(function(){return Zn(Se,Ut+"return "+dt).apply(me,Me)});if(Tn.source=dt,Uc(Tn))throw Tn;return Tn},_e.times=function TS(u,w){if((u=Cn(u))<1||u>j)return[];var P=ae,ee=ki(u,ae);w=qt(w),u-=ae;for(var ve=Bi(ee,w);++P<u;)w(P);return ve},_e.toFinite=Za,_e.toInteger=Cn,_e.toLength=JC,_e.toLower=function d0(u){return Xn(u).toLowerCase()},_e.toNumber=Rs,_e.toSafeInteger=function jA(u){return u?Ec(Cn(u),-j,j):0===u?u:0},_e.toString=Xn,_e.toUpper=function h0(u){return Xn(u).toUpperCase()},_e.trim=function ro(u,w,P){if((u=Xn(u))&&(P||w===me))return Ro(u);if(!u||!(w=Ns(w)))return u;var ee=ks(u),ve=ks(w);return Lc(ee,Rr(ee,ve),Oo(ee,ve)+1).join("")},_e.trimEnd=function vS(u,w,P){if((u=Xn(u))&&(P||w===me))return u.slice(0,Ir(u)+1);if(!u||!(w=Ns(w)))return u;var ee=ks(u);return Lc(ee,0,Oo(ee,ks(w))+1).join("")},_e.trimStart=function cv(u,w,P){if((u=Xn(u))&&(P||w===me))return u.replace(Fa,"");if(!u||!(w=Ns(w)))return u;var ee=ks(u);return Lc(ee,Rr(ee,ks(w))).join("")},_e.truncate=function uv(u,w){var P=30,ee="...";if(Wr(w)){var ve="separator"in w?w.separator:ve;P="length"in w?Cn(w.length):P,ee="omission"in w?Ns(w.omission):ee}var Se=(u=Xn(u)).length;if(pa(u)){var Me=ks(u);Se=Me.length}if(P>=Se)return u;var Oe=P-zs(ee);if(Oe<1)return ee;var Ge=Me?Lc(Me,0,Oe).join(""):u.slice(0,Oe);if(ve===me)return Ge+ee;if(Me&&(Oe+=Ge.length-Oe),hh(ve)){if(u.slice(Oe).search(ve)){var st,lt=Ge;for(ve.global||(ve=ns(ve.source,Xn(xt.exec(ve))+"g")),ve.lastIndex=0;st=ve.exec(lt);)var dt=st.index;Ge=Ge.slice(0,dt===me?Oe:dt)}}else if(u.indexOf(Ns(ve),Oe)!=Oe){var Lt=Ge.lastIndexOf(ve);Lt>-1&&(Ge=Ge.slice(0,Lt))}return Ge+ee},_e.unescape=function yS(u){return(u=Xn(u))&&Le.test(u)?u.replace(nn,t1):u},_e.uniqueId=function Ya(u){var w=++vM;return Xn(u)+w},_e.upperCase=WM,_e.upperFirst=f0,_e.each=MC,_e.eachRight=np,_e.first=pC,dv(_e,function(){var u={};return Po(_e,function(w,P){pr.call(_e.prototype,P)||(u[P]=w)}),u}(),{chain:!1}),_e.VERSION="4.17.21",Ws(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){_e[u].placeholder=_e}),Ws(["drop","take"],function(u,w){On.prototype[u]=function(P){P=P===me?1:Ci(Cn(P),0);var ee=this.__filtered__&&!w?new On(this):this.clone();return ee.__filtered__?ee.__takeCount__=ki(P,ee.__takeCount__):ee.__views__.push({size:ki(P,ae),type:u+(ee.__dir__<0?"Right":"")}),ee},On.prototype[u+"Right"]=function(P){return this.reverse()[u](P).reverse()}}),Ws(["filter","map","takeWhile"],function(u,w){var P=w+1,ee=1==P||3==P;On.prototype[u]=function(ve){var Se=this.clone();return Se.__iteratees__.push({iteratee:qt(ve,3),type:P}),Se.__filtered__=Se.__filtered__||ee,Se}}),Ws(["head","last"],function(u,w){var P="take"+(w?"Right":"");On.prototype[u]=function(){return this[P](1).value()[0]}}),Ws(["initial","tail"],function(u,w){var P="drop"+(w?"":"Right");On.prototype[u]=function(){return this.__filtered__?new On(this):this[P](1)}}),On.prototype.compact=function(){return this.filter(Vo)},On.prototype.find=function(u){return this.filter(u).head()},On.prototype.findLast=function(u){return this.reverse().find(u)},On.prototype.invokeMap=xn(function(u,w){return"function"==typeof u?new On(this):this.map(function(P){return va(P,u,w)})}),On.prototype.reject=function(u){return this.filter(ch(qt(u)))},On.prototype.slice=function(u,w){u=Cn(u);var P=this;return P.__filtered__&&(u>0||w<0)?new On(P):(u<0?P=P.takeRight(-u):u&&(P=P.drop(u)),w!==me&&(P=(w=Cn(w))<0?P.dropRight(-w):P.take(w-u)),P)},On.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},On.prototype.toArray=function(){return this.take(ae)},Po(On.prototype,function(u,w){var P=/^(?:filter|find|map|reject)|While$/.test(w),ee=/^(?:head|last)$/.test(w),ve=_e[ee?"take"+("last"==w?"Right":""):w],Se=ee||/^find/.test(w);!ve||(_e.prototype[w]=function(){var Me=this.__wrapped__,Oe=ee?[1]:arguments,Ge=Me instanceof On,st=Oe[0],lt=Ge||gn(Me),dt=function(Ln){var Un=ve.apply(_e,js([Ln],Oe));return ee&&Lt?Un[0]:Un};lt&&P&&"function"==typeof st&&1!=st.length&&(Ge=lt=!1);var Lt=this.__chain__,Ut=!!this.__actions__.length,ln=Se&&!Lt,Tn=Ge&&!Ut;if(!Se&&lt){Me=Tn?Me:new On(this);var cn=u.apply(Me,Oe);return cn.__actions__.push({func:oh,args:[dt],thisArg:me}),new rs(cn,Lt)}return ln&&Tn?u.apply(this,Oe):(cn=this.thru(dt),ln?ee?cn.value()[0]:cn.value():cn)})}),Ws(["pop","push","shift","sort","splice","unshift"],function(u){var w=Ef[u],P=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",ee=/^(?:pop|shift)$/.test(u);_e.prototype[u]=function(){var ve=arguments;if(ee&&!this.__chain__){var Se=this.value();return w.apply(gn(Se)?Se:[],ve)}return this[P](function(Me){return w.apply(gn(Me)?Me:[],ve)})}}),Po(On.prototype,function(u,w){var P=_e[w];if(P){var ee=P.name+"";pr.call(Tu,ee)||(Tu[ee]=[]),Tu[ee].push({name:w,func:P})}}),Tu[Rl(me,2).name]=[{name:"wrapper",func:me}],On.prototype.clone=function g1(){var u=new On(this.__wrapped__);return u.__actions__=yo(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=yo(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=yo(this.__views__),u},On.prototype.reverse=function ct(){if(this.__filtered__){var u=new On(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},On.prototype.value=function jn(){var u=this.__wrapped__.value(),w=this.__dir__,P=gn(u),ee=w<0,ve=P?u.length:0,Se=function eC(u,w,P){for(var ee=-1,ve=P.length;++ee<ve;){var Se=P[ee],Me=Se.size;switch(Se.type){case"drop":u+=Me;break;case"dropRight":w-=Me;break;case"take":w=ki(w,u+Me);break;case"takeRight":u=Ci(u,w-Me)}}return{start:u,end:w}}(0,ve,this.__views__),Me=Se.start,Oe=Se.end,Ge=Oe-Me,st=ee?Oe:Me-1,lt=this.__iteratees__,dt=lt.length,Lt=0,Ut=ki(Ge,this.__takeCount__);if(!P||!ee&&ve==Ge&&Ut==Ge)return E1(u,this.__actions__);var ln=[];e:for(;Ge--&&Lt<Ut;){for(var Tn=-1,cn=u[st+=w];++Tn<dt;){var Ln=lt[Tn],hi=Ln.type,Hi=(0,Ln.iteratee)(cn);if(2==hi)cn=Hi;else if(!Hi){if(1==hi)continue e;break e}}ln[Lt++]=cn}return ln},_e.prototype.at=Bm,_e.prototype.chain=function $m(){return ih(this)},_e.prototype.commit=function Hm(){return new rs(this.value(),this.__chain__)},_e.prototype.next=function sh(){this.__values__===me&&(this.__values__=zc(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?me:this.__values__[this.__index__++]}},_e.prototype.plant=function kC(u){for(var w,P=this;P instanceof Mf;){var ee=aC(P);ee.__index__=0,ee.__values__=me,w?ve.__wrapped__=ee:w=ee;var ve=ee;P=P.__wrapped__}return ve.__wrapped__=u,w},_e.prototype.reverse=function mA(){var u=this.__wrapped__;if(u instanceof On){var w=u;return this.__actions__.length&&(w=new On(this)),(w=w.reverse()).__actions__.push({func:oh,args:[Pl],thisArg:me}),new rs(w,this.__chain__)}return this.thru(Pl)},_e.prototype.toJSON=_e.prototype.valueOf=_e.prototype.value=function vA(){return E1(this.__wrapped__,this.__actions__)},_e.prototype.first=_e.prototype.head,Ks&&(_e.prototype[Ks]=function gA(){return this}),_e}();Ti._=_c,(kn=function(){return _c}.call(br,fo,br,Li))!==me&&(Li.exports=kn)}.call(this)}},Li=>{Li(Li.s=575)}]);